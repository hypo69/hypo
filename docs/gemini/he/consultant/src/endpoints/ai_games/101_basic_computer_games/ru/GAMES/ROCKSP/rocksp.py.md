# Анализ кода модуля rocksp.py

**Качество кода**

-  **Соответствие требованиям к формату кода (1-10)**:
    -   **Преимущества**:
        -   Код игры в целом логичен и выполняет поставленную задачу.
        -   Есть подробные комментарии, объясняющие логику работы кода.
        -   Используется конструкция `try-except` для обработки ошибок ввода пользователя.
        -   Присутствует блок `if __name__ == "__main__":`, что является хорошей практикой для запуска скрипта.
        -   Игра завершается после каждого раунда.
    -   **Недостатки**:
        -   Отсутствует docstring у модуля и функции `play_rock_paper_scissors`.
        -   Не используются f-строки для форматирования строк, что снижает читаемость.
        -   Нет импорта логгера для записи ошибок.
        -   Обработка ошибок ввода пользователя не записывается в лог.
        -   Не используется `j_loads` или `j_loads_ns` для чтения файлов (хотя в данном коде нет чтения файлов).
        -   Используются комментарии `#` вместо `reStructuredText`.
        -   Сравнения побед и поражений можно упростить.

**Рекомендации по улучшению**

1.  Добавить docstring для модуля и функции `play_rock_paper_scissors` в формате reStructuredText.
2.  Использовать f-строки для форматирования выводимых сообщений.
3.  Добавить импорт и использование логгера `from src.logger.logger import logger` для записи ошибок ввода.
4.  Использовать `logger.error` для записи ошибок ввода вместо `print`.
5.  Упростить логику определения победителя, используя более компактные сравнения.
6.  Удалить лишние комментарии, которые повторяют код, и переписать их в стиле RST.
7.  Заменить все комментарии `#` на reStructuredText комментарии в формате `:param:`, `:return:`, `:raises:`.

**Улучшенный код**

```python
"""
Модуль для игры "Камень, ножницы, бумага".
=========================================================================================

Этот модуль предоставляет реализацию классической игры "Камень, ножницы, бумага"
для двух игроков (пользователь и компьютер).

Правила игры:
1. Игрок и компьютер делают выбор из трех вариантов: 1 - камень, 2 - ножницы, 3 - бумага.
2. Компьютер делает выбор случайным образом.
3. Победитель определяется по следующим правилам:
    * Камень (1) побеждает ножницы (2).
    * Ножницы (2) побеждают бумагу (3).
    * Бумага (3) побеждает камень (1).
4. Если оба выбирают один и тот же вариант, то это ничья.
5. Результат каждого раунда выводится на экран.
6. Игра заканчивается после каждого раунда.

Пример использования
--------------------

.. code-block:: python

    if __name__ == "__main__":
        play_rock_paper_scissors()
"""
import random
from src.logger.logger import logger  # Добавлен импорт логгера


def play_rock_paper_scissors() -> None:
    """
    Запускает игру "Камень, ножницы, бумага".

    :return: None
    """
    while True:
        # Запрашиваем выбор пользователя
        try:
            user_choice = int(input("Введите ваш выбор (1 - Камень, 2 - Ножницы, 3 - Бумага): "))
        except ValueError as ex:
            logger.error('Неверный ввод пользователя', exc_info=True)  # Запись ошибки в лог
            print("Неверный ввод. Пожалуйста, введите число 1, 2 или 3.")
            continue

        # Проверяем корректность ввода
        if user_choice not in [1, 2, 3]:
            logger.error(f'Некорректный ввод: {user_choice}')  # Запись ошибки в лог
            print("Неверный ввод. Пожалуйста, введите число 1, 2 или 3.")
            continue

        # Генерируем случайный выбор для компьютера
        computer_choice = random.randint(1, 3)

        # Выводим выбор игрока и компьютера
        print(f"Ваш выбор: {user_choice}") # Используем f-строки
        print(f"Выбор компьютера: {computer_choice}") # Используем f-строки

        # Определяем победителя
        if user_choice == computer_choice:
            print("Ничья!")
        elif (user_choice == 1 and computer_choice == 2) or \
             (user_choice == 2 and computer_choice == 3) or \
             (user_choice == 3 and computer_choice == 1):
            print("Вы выиграли!")
        else:
            print("Вы проиграли!")
        break


# Запускаем игру
if __name__ == "__main__":
    play_rock_paper_scissors()

```