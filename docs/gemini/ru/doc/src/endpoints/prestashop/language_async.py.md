# Модуль `src.endpoints.prestashop.language_async`

## Обзор

Модуль `src.endpoints.prestashop.language_async` предназначен для асинхронного управления языками в магазине PrestaShop. Он предоставляет функциональность для получения информации о языках, такую как получение имени языка по его индексу. Модуль использует асинхронные вызовы для взаимодействия с API PrestaShop, что позволяет более эффективно выполнять операции, связанные с языками.

## Подробней

Этот модуль является частью подсистемы для интеграции с PrestaShop и предоставляет асинхронные инструменты для управления языковыми настройками. Он использует класс `PrestaLanguageAync`, который наследуется от `PrestaShopAsync`, для выполнения запросов к API PrestaShop. Модуль предназначен для упрощения задач, связанных с получением информации о языках в PrestaShop.

## Классы

### `PrestaLanguageAync`

**Описание**: Класс `PrestaLanguageAync` предоставляет интерфейс для взаимодействия с языками в PrestaShop. Он позволяет получать информацию о языках, такую как имя языка по его индексу.

**Как работает класс**:
Класс `PrestaLanguageAync` наследуется от класса `PrestaShopAsync`, который предоставляет общую функциональность для взаимодействия с API PrestaShop. Конструктор класса не выполняет никаких действий, кроме инициализации родительского класса.

**Методы**:

- `__init__(self, *args, **kwards)`:
    - **Описание**: Конструктор класса `PrestaLanguageAync`.
    - **Как работает функция**: Не выполняет никаких действий, кроме инициализации родительского класса `PrestaShopAsync`.
    - **Параметры**:
        - `*args`: Произвольные позиционные аргументы.
        - `**kwards`: Произвольные именованные аргументы.
    
- `get_lang_name_by_index(self, lang_index: int | str) -> str`
    - **Описание**: Асинхронно возвращает имя языка ISO по его индексу в таблице PrestaShop.
    - **Как работает функция**:
        Функция принимает индекс языка и использует метод `get` родительского класса `PrestaShopAsync` для выполнения запроса к API PrestaShop. В случае успеха возвращается имя языка. Если происходит ошибка, она логируется и возвращается пустая строка.
        Внутри функции происходят следующие действия и преобразования:
        A: Вызов `super().get()` для получения данных о языке.
        |
        B: Обработка исключений с помощью `try...except`.
        |
        C: Логирование ошибки в случае исключения.
    - **Параметры**:
        - `lang_index` (int | str): Индекс языка в таблице PrestaShop.
    - **Возвращает**:
        - `str`: Имя языка ISO или пустая строка в случае ошибки.
    - **Вызывает исключения**:
        - `Exception`: Логируется в случае ошибки при получении данных о языке.
    - **Примеры**:
      ```python
      lang_class = PrestaLanguageAync()
      lang_name = await lang_class.get_lang_name_by_index(1)
      print(lang_name)
      ```

- `get_languages_schema(self) -> dict`
    - **Описание**: Асинхронно получает схему языков.
    - **Как работает функция**:
        Функция вызывает метод `get_languages_schema` родительского класса `PrestaShopAsync` для получения схемы языков. Полученная схема выводится в консоль с помощью функции `print`.
    - **Параметры**:
        - Нет
    - **Возвращает**:
        - `dict`: схема языков.
    - **Вызывает исключения**:
        - Нет
    - **Примеры**:
      ```python
      lang_class = PrestaLanguageAync()
      languagas_schema = await lang_class.get_languages_schema()
      print(languagas_schema)
      ```

## Функции

### `main()`

```python
async def main():
    """"""
    ...
    lang_class = PrestaLanguageAync()
    languagas_schema = await  lang_class.get_languages_schema()
    print(languagas_schema)
```

**Описание**: Асинхронная функция `main`, демонстрирующая пример использования класса `PrestaLanguageAync`.

**Как работает функция**:
Функция создает экземпляр класса `PrestaLanguageAync` и вызывает метод `get_languages_schema` для получения схемы языков. Полученная схема выводится в консоль с помощью функции `print`.

Внутри функции происходят следующие действия и преобразования:
A: Создание экземпляра класса `PrestaLanguageAync`.
|
B: Вызов `get_languages_schema` для получения схемы языков.
|
C: Вывод схемы языков в консоль.

**Параметры**:
- Нет

**Возвращает**:
- Нет

**Вызывает исключения**:
- Нет

**Примеры**:
```python
asyncio.run(main())
```
```python
if __name__ == '__main__':
    asyncio.run(main())