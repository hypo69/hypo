# Модуль `wallashop.graber`

## Обзор

Модуль `wallashop.graber` представляет собой класс, предназначенный для сбора данных о товарах с сайта `wallashop.co.il`. Он наследует функциональность сбора данных от родительского класса `Graber`, расширяя её для специфических особенностей сайта `wallashop.co.il`. 
    
Основная задача класса — извлечение значений полей со страницы товара. Для этого предусмотрены функции обработки каждого поля. Если требуется нестандартная обработка поля, можно переопределить соответствующую функцию в этом классе.

Перед выполнением запроса к веб-драйверу можно выполнить предварительные действия, используя декоратор. По умолчанию декоратор находится в родительском классе. Чтобы декоратор сработал, необходимо передать значение в `Context.locator`. Для реализации собственного декоратора, раскомментируйте соответствующие строки и переопределите его поведение.

## Содержание

1. [Обзор](#обзор)
2. [Константы](#константы)
3. [Классы](#классы)
    - [`Graber`](#graber)
    -   [Методы класса `Graber`](#методы-класса-graber)
        -   [`__init__`](#__init__)
4. [Функции](#функции)
    -   [`close_pop_up`](#close_pop_up)

## Константы

### `MODE`

```python

```
    
-   Режим работы модуля (разработка).

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `wallashop.co.il`. Он наследует функциональность сбора данных от родительского класса `Graber`, расширяя её для специфических особенностей сайта `wallashop.co.il`.

#### Методы класса `Graber`

##### `__init__`

```python
def __init__(self, driver: Driver):
    """Инициализация класса сбора полей товара."""
    self.supplier_prefix = 'wallashop'
    super().__init__(supplier_prefix=self.supplier_prefix, driver=driver)
    # Устанавливаем глобальные настройки через Context
    
    Context.locator_for_decorator = None # <- если будет уастановлено значение - то оно выполнится в декораторе `@close_pop_up`
```
**Описание**: Инициализирует экземпляр класса `Graber`.

**Параметры**:
- `driver` (`Driver`): Экземпляр веб-драйвера для работы с браузером.

**Возвращает**:
- `None`

## Функции

### `close_pop_up`
```python
# def close_pop_up(value: Any = None) -> Callable:
#     """Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

#     Args:
#         value (Any): Дополнительное значение для декоратора.

#     Returns:
#         Callable: Декоратор, оборачивающий функцию.
#     """
#     def decorator(func: Callable) -> Callable:
#         @wraps(func)
#         async def wrapper(*args, **kwargs):
#             try:
#                 # await Context.driver.execute_locator(Context.locator.close_pop_up)  # Await async pop-up close  
#                 ... 
#             except ExecuteLocatorException as ex:
#                 logger.debug(f'Ошибка выполнения локатора: {ex}')
#             return await func(*args, **kwargs)  # Await the main function
#         return wrapper
#     return decorator
```

**Описание**: Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

**Параметры**:
    - `value` (`Any`, optional): Дополнительное значение для декоратора. По умолчанию `None`.

**Возвращает**:
    - `Callable`: Декоратор, оборачивающий функцию.

**Вызывает исключения**:
- `ExecuteLocatorException`:  Описание ситуации, в которой возникает исключение `ExecuteLocatorException`