# Модуль `cursor_spinner`

## Обзор

Модуль `cursor_spinner` предоставляет утилиту для отображения вращающегося курсора в консоли, чтобы имитировать процесс загрузки или ожидания.

## Подробней

Этот модуль полезен для визуальной индикации пользователю о том, что программа выполняет какую-то операцию в фоновом режиме и необходимо подождать. Он содержит функции для генерации символов вращающегося курсора и отображения его в консоли в течение заданного времени.

## Функции

### `spinning_cursor`

```python
def spinning_cursor():
    """ Генератор для вращающегося курсора, который циклически перебирает символы |, /, -, \\.
    
    Yields:
        str: Следующий символ в последовательности курсора.
    
    Example:
        >>> cursor = spinning_cursor()
        >>> next(cursor)  # '|'
        >>> next(cursor)  # '/'
        >>> next(cursor)  # '-'
        >>> next(cursor)  # '\\'
    """
```

**Назначение**: Генератор, который циклически возвращает символы для отображения вращающегося курсора.

**Как работает функция**:

1.  Функция входит в бесконечный цикл `while True`.
2.  Внутри цикла перебирает символы `'|/-\\'`.
3.  С помощью `yield` возвращает текущий символ курсора. При каждом вызове `next()` возвращается следующий символ из последовательности.

```
Бесконечный цикл
│
└──► Перебор символов '|/-\\'
    │
    └──► Возврат символа (yield)
```

**Примеры**:

```python
>>> cursor = spinning_cursor()
>>> next(cursor)
'|'
>>> next(cursor)
'/'
>>> next(cursor)
'-'
>>> next(cursor)
'\\'
```

### `show_spinner`

```python
def show_spinner(duration: float = 5.0, delay: float = 0.1):
    """ Отображает вращающийся курсор в консоли в течение указанного времени.
    
    Args:
        duration (float): Как долго должен работать спиннер (в секундах). По умолчанию 5.0.
        delay (float): Задержка между каждым вращением (в секундах). По умолчанию 0.1.
    
    Example:
        >>> show_spinner(duration=3.0, delay=0.2)  # Отображает спиннер в течение 3 секунд
    """
```

**Назначение**: Отображает вращающийся курсор в консоли на заданное время.

**Параметры**:

*   `duration` (float): Продолжительность отображения курсора в секундах. По умолчанию 5.0.
*   `delay` (float): Задержка между сменой символов курсора в секундах. По умолчанию 0.1.

**Как работает функция**:

1.  Инициализирует генератор `spinning_cursor()`.
2.  Вычисляет время окончания работы спиннера (`end_time`).
3.  В цикле `while`, пока текущее время меньше `end_time`:
    *   Выводит текущий символ курсора в консоль.
    *   Очищает буфер вывода (`sys.stdout.flush()`), чтобы символ сразу отобразился.
    *   Приостанавливает выполнение на время `delay`.
    *   Стирает предыдущий символ курсора с помощью `\b` (backspace).

```
Инициализация спиннера и времени окончания
│
└──► Цикл: пока текущее время < время окончания
    │
    ├──► Вывод символа спиннера
    │
    ├──► Очистка буфера вывода
    │
    ├──► Пауза на время задержки
    │
    └──► Стирание предыдущего символа
```

**Примеры**:

```python
>>> show_spinner(duration=3.0, delay=0.2)  # Отображает спиннер в течение 3 секунд