# פונקציות בפייתון

## סקירה כללית

פונקציות בשפת פייתון הן בלוקי קוד בעלי שם שמבצעים משימה מסוימת. הן מאפשרות לארגן את הקוד, להפוך אותו למובנה יותר ולנוח לשימוש חוזר.

## תוכן עניינים

1. [הצהרת פונקציה](#הצהרת-פונקציה)
2. [פרמטרים של פונקציה](#פרמטרים-של-פונקציה)
   - [סוגי פרמטרים](#סוגי-פרמטרים)
3. [החזרת ערך](#החזרת-ערך)
4. [משתנים מקומיים וגלובליים](#משתנים-מקומיים-וגלובליים)
5. [פונקציות מקוננות](#פונקציות-מקוננות)
6. [רקורסיה](#רקורסיה)
7. [טיפול בחריגות באמצעות `try` ו-`except`](#טיפול-בחריגות-באמצעות-try-ו-except)
8. [דוגמה לשימוש בפונקציות](#דוגמה-לשימוש-בפונקציות)

## הצהרת פונקציה

פונקציה מוצהרת באמצעות מילת המפתח `def`, ולאחריה שם הפונקציה, רשימת פרמטרים בתוך סוגריים עגולים ונקודתיים. גוף הפונקציה נכתב עם הזחה.

```python
def שם_הפונקציה(פרמטרים):
    # פעולות
    return תוצאה
```

### דוגמה:
```python
def חיבור(a: int, b: int) -> int:
    """מחזירה את סכום שני המספרים."""
    return a + b
```

כאן:
- `a: int` ו-`b: int` — פרמטרים של הפונקציה עם הערות טיפוסים.
- `-> int` — הערת טיפוס של הערך המוחזר.

## פרמטרים של פונקציה

פונקציות יכולות לקבל פרמטרים, שהם נתוני קלט. הם מצוינים בסוגריים לאחר שם הפונקציה.

דוגמה עם פרמטר אחד:
```python
def ברכה(שם: str) -> str:
    """מברכת את המשתמש בשמו."""
    return f"שלום, {שם}!"
```

### סוגי פרמטרים:
1. **פרמטרים חובה** — יש להעביר אותם בעת קריאה לפונקציה.
2. **פרמטרים אופציונליים** — יכולים לקבל ערכי ברירת מחדל.
   ```python
   def ברכה(שם: str, גיל: int = 18) -> str:
       return f"שלום, {שם}! אתה בן {גיל}."
   ```

## החזרת ערך

פונקציה יכולה להחזיר ערך באמצעות מילת המפתח `return`. אם לא נעשה שימוש ב-`return`, הפונקציה תחזיר `None` כברירת מחדל.

דוגמה:
```python
def כפל(a: int, b: int) -> int:
    """מחזירה את המכפלה של שני המספרים."""
    return a * b
```

## משתנים מקומיים וגלובליים

- **משתנה מקומי** — זה משתנה שקיים רק בתוך הפונקציה. הוא נוצר ומושמד בכל קריאה לפונקציה.
- **משתנה גלובלי** — זה משתנה שזמין בכל הקוד, כולל בתוך הפונקציות.

דוגמה לשימוש במשתנה גלובלי:
```python
x = 10  # משתנה גלובלי

def הצג_x() -> int:
    return x  # פניה למשתנה גלובלי
```

אם בתוך פונקציה יש צורך לשנות משתנה גלובלי, יש להשתמש במילת המפתח `global`:
```python
x = 10  # משתנה גלובלי

def שנה_x() -> None:
    global x
    x = 20
```

## פונקציות מקוננות

בפייתון פונקציות יכולות להיות מקוננות, כלומר פונקציה אחת יכולה להיות מוגדרת בתוך פונקציה אחרת. הפונקציה המקוננת יכולה לגשת למשתנים של הפונקציה החיצונית.

דוגמה:
```python
def חיצוני(a: int, b: int) -> int:
    """פונקציה שמשתמשת בפונקציה מקוננת כדי לחשב את ההפרש."""
    
    def מקונן(x: int, y: int) -> int:
        """פונקציה מקוננת שמחזירה את ההפרש."""
        return x - y
    
    return מקונן(a, b)
```

## רקורסיה

רקורסיה היא מצב בו פונקציה קוראת לעצמה. זה שימושי למשימות שאפשר לחלק אותן למשימות דומות קטנות יותר (לדוגמה, פקטוריאל).

דוגמה לרקורסיה:
```python
def פקטוריאל(n: int) -> int:
    """מחשבת את הפקטוריאל של מספר באמצעות רקורסיה."""
    if n == 0:
        return 1  # מקרה בסיסי
    return n * פקטוריאל(n - 1)  # קריאה רקורסיבית
```

## טיפול בחריגות באמצעות `try` ו-`except`

פייתון מספקת מנגנון טיפול בשגיאות באמצעות בלוקים `try` ו-`except`. קוד שעלול לגרום לשגיאה מוצב בתוך בלוק `try`, ושגיאות מטופלות בבלוק `except`.

דוגמה לטיפול בשגיאות:
```python
def חלוקה(a: int, b: int) -> float:
    """מחלקת מספר אחד במספר אחר, ומטפלת בשגיאות אפשריות."""
    try:
        result = a / b
    except ZeroDivisionError:
        return "שגיאה: חלוקה באפס"
    except Exception as ex:
        return f"אירעה שגיאה: {ex}"
    return result
```

כאן:
- בלוק `try` מנסה לבצע את פעולת החילוק.
- בלוק `except ZeroDivisionError` תופס את שגיאת החלוקה באפס.
- בלוק `except Exception as ex` תופס חריגות אחרות ומציג הודעת שגיאה.

## דוגמה לשימוש בפונקציות

```python
# חיבור שני מספרים
print(חיבור(5, 3))  # 8

# פונקציה מקוננת
print(חיצוני(10, 4))  # 6

# רקורסיה לחישוב פקטוריאל
print(פקטוריאל(5))  # 120

# טיפול בחריגות בחלוקה
print(חלוקה(10, 2))  # 5.0
print(חלוקה(10, 0))  # שגיאה: חלוקה באפס
```
---

  [לתוכן העניינים](https://github.com/hypo69/101_python_computer_games_ru/blob/master/cheet_sheets#readme)