# Модуль `facebook_groups_widgets`

## Обзор

Модуль `facebook_groups_widgets` предназначен для создания и отображения интерактивного выпадающего списка групп Facebook. Он использует библиотеку `ipywidgets` для создания виджета и загружает данные о группах из JSON-файла.

## Подробней

Этот модуль предоставляет класс `FacebookGroupsWidget`, который упрощает выбор URL групп Facebook для использования в рекламных кампаниях. Он загружает данные о группах из JSON-файла, создает выпадающий список с названиями групп и позволяет пользователю выбрать нужную группу.

## Классы

### `FacebookGroupsWidget`

**Описание**: Класс для создания и отображения выпадающего списка групп Facebook.

**Как работает класс**:
1.  При инициализации класса (`__init__`) загружает данные о группах из JSON-файла, используя функцию `j_loads_ns` из модуля `src.utils.jjson`.
2.  Создает выпадающий список, вызывая метод `create_dropdown`.
3.  Предоставляет метод `display_widget` для отображения виджета выпадающего списка.

**Методы**:

*   `__init__`: Инициализирует виджет с выпадающим списком для групп Facebook.
*   `create_dropdown`: Создает и возвращает виджет выпадающего списка на основе данных групп.
*   `display_widget`: Отображает виджет выпадающего списка.

#### `__init__`

```python
def __init__(self, json_file_path: Path):
    """
    Инициализация виджета с выпадающим списком для групп Facebook.

    Args:
        json_file_path (Path): Путь к JSON-файлу, содержащему информацию о группах Facebook.
    """
```

**Описание**: Инициализирует экземпляр класса `FacebookGroupsWidget`.

**Как работает функция**:

1.  Принимает путь к JSON-файлу `json_file_path`, содержащему данные о группах Facebook.
2.  Загружает данные из JSON-файла в атрибут `groups_data` как пространство имен (`SimpleNamespace`) с использованием функции `j_loads_ns`. Это позволяет обращаться к URL групп как к атрибутам объекта.
3.  Создает выпадающий список, вызывая метод `self.create_dropdown()`, и сохраняет его в атрибуте `self.dropdown`.

**Параметры**:

*   `json_file_path` (Path): Путь к JSON-файлу, содержащему информацию о группах Facebook.

**Примеры**:

```python
from pathlib import Path
json_file = Path('groups.json')
widget = FacebookGroupsWidget(json_file)
```

#### `create_dropdown`

```python
def create_dropdown(self) -> Dropdown:
    """ Создает и возвращает виджет выпадающего списка на основе данных групп.

    Returns:
        Dropdown: Виджет выпадающего списка с URL групп Facebook.
    """
```

**Описание**: Создает и возвращает виджет выпадающего списка на основе данных групп.

**Как работает функция**:

1.  Извлекает ключи (названия групп) из атрибута `self.groups_data.__dict__` и преобразует их в список `group_urls`.
2.  Создает экземпляр класса `Dropdown` из библиотеки `ipywidgets`.
3.  Устанавливает параметры виджета:
    *   `options`: Список названий групп, отображаемых в выпадающем списке.
    *   `description`: Текст, отображаемый перед выпадающим списком ("Facebook Groups:").
    *   `disabled`: Устанавливается в `False`, чтобы сделать виджет активным и доступным для выбора.
4.  Возвращает созданный виджет `Dropdown`.

**Параметры**:

*   Нет параметров.

**Возвращает**:

*   `Dropdown`: Виджет выпадающего списка с URL групп Facebook.

**Примеры**:

```python
from pathlib import Path
json_file = Path('groups.json')
widget = FacebookGroupsWidget(json_file)
dropdown = widget.create_dropdown()
```

#### `display_widget`

```python
def display_widget(self):
    """ Отображает виджет выпадающего списка."""
```

**Описание**: Отображает виджет выпадающего списка.

**Как работает функция**:

1.  Использует функцию `display` из модуля `IPython.display` для отображения виджета `self.dropdown`.

**Параметры**:

*   Нет параметров.

**Примеры**:

```python
from pathlib import Path
json_file = Path('groups.json')
widget = FacebookGroupsWidget(json_file)
widget.display_widget()
```