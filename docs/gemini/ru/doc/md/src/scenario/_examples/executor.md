# Модуль `executor`

## Обзор

Этот модуль предоставляет функции для выполнения сценариев, обработки файлов сценариев, работы с продуктами и взаимодействия с API PrestaShop. Примеры демонстрируют использование функций для запуска сценариев, обработки файлов сценариев, работы с продуктами и взаимодействия с PrestaShop API.

## Оглавление

* [Модуль `executor`](#модуль-executor)
* [Функции](#функции)
    * [`run_scenario_files`](#run_scenario_files)
    * [`run_scenario_file`](#run_scenario_file)
    * [`run_scenarios`](#run_scenarios)
    * [`run_scenario`](#run_scenario)
    * [`insert_grabbed_data`](#insert_grabbed_data)
    * [`execute_PrestaShop_insert`](#execute_prestashop_insert)
    * [`execute_PrestaShop_insert_async`](#execute_prestashop_insert_async)
    * [`add_coupon`](#add_coupon)
* [Примеры использования](#примеры-использования)
    * [Пример 1: `run_scenario_files`](#пример-1-run_scenario_files)
    * [Пример 2: `run_scenario_file`](#пример-2-run_scenario_file)
    * [Пример 3: `run_scenario`](#пример-3-run_scenario)
    * [Пример 4: `insert_grabbed_data`](#пример-4-insert_grabbed_data)
    * [Пример 5: `add_coupon`](#пример-5-add_coupon)
    * [Пример 6: `execute_PrestaShop_insert_async`](#пример-6-execute_prestashop_insert_async)
    * [Пример 7: `execute_PrestaShop_insert`](#пример-7-execute_prestashop_insert)


## Функции

### `run_scenario_files`

**Описание**: Запускает список файлов сценариев и выполняет их по порядку.

**Параметры**:
- `supplier` (объект): Объект, содержащий информацию о поставщике и настройках.
- `scenario_files` (список `Path`): Список путей к файлам сценариев.

**Возвращает**:
- `bool`: `True`, если все сценарии выполнены успешно, иначе `False`.

**Вызывает исключения**:
- Любые исключения, возникающие при выполнении сценариев.


### `run_scenario_file`

**Описание**: Запускает один файл сценария.

**Параметры**:
- `supplier` (объект): Объект, содержащий информацию о поставщике и настройках.
- `scenario_file` (объект `Path`): Путь к файлу сценария.

**Возвращает**:
- `bool`: `True`, если сценарий выполнен успешно, иначе `False`.

**Вызывает исключения**:
- Любые исключения, возникающие при выполнении сценария.


### `run_scenarios`

**Описание**: Запускает список сценариев.

**Параметры**:
- `supplier` (объект): Объект, содержащий информацию о поставщике и настройках.
- `scenarios` (список): Список сценариев.

**Возвращает**:
- `bool`: `True`, если все сценарии выполнены успешно, иначе `False`.

**Вызывает исключения**:
- Любые исключения, возникающие при выполнении сценариев.


### `run_scenario`

**Описание**: Выполняет один сценарий.

**Параметры**:
- `supplier` (объект): Объект, содержащий информацию о поставщике и настройках.
- `scenario` (словарь): Сценарий в формате словаря.

**Возвращает**:
- `bool`: `True`, если сценарий выполнен успешно, иначе `False`.

**Вызывает исключения**:
- Любые исключения, возникающие при выполнении сценария.


### `insert_grabbed_data`

**Описание**: Вставляет данные о продукте в PrestaShop.

**Параметры**:
- `product_fields` (объект `ProductFields`): Объект, содержащий данные о продукте.

**Возвращает**:
- Не используется.

**Вызывает исключения**:
- Любые исключения, возникающие при взаимодействии с PrestaShop API.


### `execute_PrestaShop_insert`

**Описание**: Синхронно выполняет вставку данных о продукте в PrestaShop.

**Параметры**:
- `product_fields` (объект `ProductFields`): Объект, содержащий данные о продукте.

**Возвращает**:
- `bool`: `True`, если вставка выполнена успешно, иначе `False`.

**Вызывает исключения**:
- Любые исключения, возникающие при взаимодействии с PrestaShop API.


### `execute_PrestaShop_insert_async`

**Описание**: Асинхронно выполняет вставку данных о продукте в PrestaShop.

**Параметры**:
- `product_fields` (объект `ProductFields`): Объект, содержащий данные о продукте.

**Возвращает**:
- Не используется.

**Вызывает исключения**:
- Любые исключения, возникающие при взаимодействии с PrestaShop API.


### `add_coupon`

**Описание**: Добавляет купон в базу данных PrestaShop.

**Параметры**:
- `credentials` (словарь): Крединциальные данные для доступа к API.
- `reference` (строка): Идентификатор продукта.
- `coupon_code` (строка): Код купона.
- `start_date` (строка): Дата начала действия купона (в формате YYYY-MM-DD).
- `end_date` (строка): Дата окончания действия купона (в формате YYYY-MM-DD).

**Возвращает**:
- Не используется.

**Вызывает исключения**:
- Любые исключения, возникающие при взаимодействии с PrestaShop API.


## Примеры использования

### Пример 1: `run_scenario_files`

Этот пример демонстрирует запуск списка файлов сценариев.

```
supplier = MockSupplier()
scenario_files = [Path('scenarios/scenario1.json'), Path('scenarios/scenario2.json')]
result = run_scenario_files(supplier, scenario_files)
if result:
    print("Все сценарии выполнены успешно.")
else:
    print("Некоторые сценарии не выполнены.")
```

### Пример 2: `run_scenario_file`

Этот пример демонстрирует запуск одного файла сценария.

```
supplier = MockSupplier()
scenario_file = Path('scenarios/scenario1.json')
result = run_scenario_file(supplier, scenario_file)
if result:
    print("Файл сценария выполнен успешно.")
else:
    print("Не удалось выполнить файл сценария.")
```

... (Другие примеры аналогично)