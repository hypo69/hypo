# Модуль для создания простого Telegram-бота на Pyrogram
=========================================================

Модуль содержит код для создания и запуска простого Telegram-бота с использованием библиотеки Pyrogram. Бот отвечает на команду `/start` приветственным сообщением и эхом повторяет все остальные текстовые сообщения.

## Обзор

Этот модуль предоставляет базовую функциональность для создания Telegram-бота. Он включает в себя обработку команды `/start` и эхо-ответ на все текстовые сообщения. Модуль использует библиотеку Pyrogram для взаимодействия с Telegram API.

## Подробнее

Этот код служит отправной точкой для разработки более сложных Telegram-ботов.  В частности, он демонстрирует, как регистрировать обработчики команд и текстовых сообщений, а также как запускать бота.  `API_ID`, `API_HASH` и `BOT_TOKEN` берутся из переменных окружения.

## Функции

### `start_command`

```python
def start_command(client, message):
    """
    Обработчик команды /start.

    Args:
        client: Экземпляр клиента Pyrogram.
        message: Объект сообщения, содержащий информацию о полученном сообщении.

    Returns:
        None

    Raises:
        None
    """
    ...
```

**Назначение**: Отправляет приветственное сообщение в ответ на команду `/start`.

**Параметры**:
- `client`: Экземпляр клиента Pyrogram, используемый для взаимодействия с Telegram API.
- `message`: Объект сообщения, содержащий информацию о полученном сообщении.

**Возвращает**:
- `None`

**Вызывает исключения**:
- Не вызывает.

**Как работает функция**:

1. Функция `start_command` регистрируется как обработчик команды `/start` с помощью декоратора `@app.on_message(filters.command("start"))`.
2. Когда бот получает сообщение, содержащее команду `/start`, вызывается эта функция.
3. Функция использует метод `reply_text` объекта `message` для отправки приветственного сообщения "Привет! Я простой бот на Pyrogram." в чат, из которого было отправлено сообщение.

```
A[Получено сообщение с командой /start]
|
B[Отправка приветственного сообщения]
```

**Примеры**:

```python
# Пример вызова команды /start
# Пользователь отправляет боту сообщение "/start"
# Бот отвечает сообщением "Привет! Я простой бот на Pyrogram."
```

### `echo_message`

```python
def echo_message(client, message):
    """
    Обработчик всех текстовых сообщений (кроме команд).

    Args:
        client: Экземпляр клиента Pyrogram.
        message: Объект сообщения, содержащий информацию о полученном сообщении.

    Returns:
        None

    Raises:
        None
    """
    ...
```

**Назначение**: Повторяет текст полученного сообщения в качестве ответа.

**Параметры**:
- `client`: Экземпляр клиента Pyrogram, используемый для взаимодействия с Telegram API.
- `message`: Объект сообщения, содержащий информацию о полученном сообщении.

**Возвращает**:
- `None`

**Вызывает исключения**:
- Не вызывает.

**Как работает функция**:

1. Функция `echo_message` регистрируется как обработчик всех текстовых сообщений, которые не являются командами, с помощью декоратора `@app.on_message(filters.text & ~filters.command)`.
2. Когда бот получает текстовое сообщение, которое не начинается с команды, вызывается эта функция.
3. Функция использует метод `reply_text` объекта `message` для отправки сообщения, содержащего текст полученного сообщения, в чат, из которого было отправлено сообщение.

```
A[Получено текстовое сообщение (не команда)]
|
B[Отправка эхо-ответа с текстом сообщения]
```

**Примеры**:

```python
# Пример отправки эхо-сообщения
# Пользователь отправляет боту сообщение "Привет, бот!"
# Бот отвечает сообщением "Привет, бот!"