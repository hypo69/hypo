# Модуль `driver.py`

## Обзор

Модуль `driver.py` предоставляет класс `Driver`, который обеспечивает унифицированный интерфейс для работы с веб-драйверами Selenium. Он упрощает инициализацию драйвера, навигацию по веб-страницам, работу с куки, обработку исключений и другие операции, необходимые для автоматизации веб-скрейпинга и тестирования.

## Классы

### `Driver`

**Описание**: Класс `Driver` предоставляет методы для работы с веб-драйверами Selenium, обеспечивая единый интерфейс для различных браузеров.

**Методы**:

- `__init__(self, webdriver_cls, *args, **kwargs)`
    **Описание**: Инициализирует экземпляр класса `Driver`.
    **Аргументы**:
        - `webdriver_cls` (класс): Класс веб-драйвера (например, `Chrome`, `Firefox`).  Должен поддерживать метод `get`.
        - `*args`, `**kwargs`: Позиционные и ключевые аргументы для инициализации драйвера.
    **Возвращает**: Экземпляр класса `Driver`.
    **Исключения**:
        - `TypeError`: Если `webdriver_cls` не является допустимым классом веб-драйвера.


- `__init_subclass__(cls, *, browser_name=None, **kwargs)`
    **Описание**: Метод, вызываемый при создании подклассов `Driver`.
    **Аргументы**:
        - `browser_name`: Имя браузера.
        - `**kwargs`: Дополнительные аргументы.
    **Возвращает**: Подкласс `Driver`.
    **Исключения**:
        - `ValueError`: Если `browser_name` не указан для подкласса.


- `__getattr__(self, item)`
    **Описание**: Прокси-метод для доступа к атрибутам драйвера.
    **Аргументы**:
        - `item`: Имя атрибута.
    **Возвращает**: Значение атрибута `self.driver`.


- `scroll(self, scrolls: int = 1, frame_size: int = 600, direction: str = 'both', delay: float = 0.3) -> bool`
    **Описание**: Прокручивает страницу в указанном направлении.
    **Аргументы**:
        - `scrolls` (int, опционально): Количество прокруток. По умолчанию 1.
        - `frame_size` (int, опционально): Размер прокрутки в пикселях. По умолчанию 600.
        - `direction` (str, опционально): Направление прокрутки ('both', 'down', 'up'). По умолчанию 'both'.
        - `delay` (float, опционально): Задержка между прокрутками. По умолчанию 0.3.
    **Возвращает**: `True`, если прокрутка выполнена успешно, иначе `False`.
    **Исключения**:
        - Любые исключения, возникающие внутри функции `carousel`.


- `@property locale(self) -> Optional[str]`
    **Описание**: Определяет язык страницы на основе мета-тегов или JavaScript.
    **Возвращает**: Код языка, если найден, иначе `None`.
    **Исключения**:
        - Любые исключения, возникающие при поиске мета-тегов или вызове `get_page_lang`.


- `get_url(self, url: str) -> bool`
    **Описание**: Переходит по указанному URL и сохраняет текущий, предыдущий URL и куки.
    **Аргументы**:
        - `url` (str): URL для перехода.
    **Возвращает**: `True`, если переход успешен, `False` в противном случае.
    **Исключения**:
        - `WebDriverException`
        - `InvalidArgumentException`
        - Любые другие исключения, возникающие при переходе по URL.


- `window_open(self, url: Optional[str] = None) -> None`
    **Описание**: Открывает новую вкладку в текущем окне браузера и переключается на неё.
    **Аргументы**:
        - `url` (str, опционально): URL для открытия в новой вкладке.
    **Возвращает**: `None`


- `wait(self, delay: float = 0.3) -> None`
    **Описание**: Ожидает указанное количество времени.
    **Аргументы**:
        - `delay` (float, опционально): Время задержки в секундах. По умолчанию 0.3.
    **Возвращает**: `None`


- `_save_cookies_localy(self) -> None`
    **Описание**: Сохраняет текущие куки веб-драйвера в локальный файл.
    **Возвращает**: `True`  (помечано как `debug`).  Функция не возвращает значение, потому что не обрабатывает возвращаемое значение.
    **Исключения**: Любые исключения, возникающие при работе с файловой системой.


- `fetch_html(self, url: str) -> Optional[bool]`
    **Описание**: Извлекает HTML-контент из файла или веб-страницы.
    **Аргументы**:
        - `url` (str): Путь к файлу или URL для извлечения.
    **Возвращает**: `True`, если контент успешно получен, иначе `None`.
    **Исключения**:
        - Любые исключения, возникающие при чтении файла или работе с веб-страницей.


## Пример использования

```python
from selenium.webdriver import Chrome
from webdriver import Driver  # Импортируем класс Driver из модуля

driver = Driver(Chrome, executable_path='/path/to/chromedriver')
driver.get_url('https://example.com')
```

## Заключение

Этот модуль предоставляет удобный инструмент для работы с веб-драйверами Selenium.  Он позволяет управлять различными аспектами работы с веб-страницами и обеспечивает более надежную автоматизацию задач.