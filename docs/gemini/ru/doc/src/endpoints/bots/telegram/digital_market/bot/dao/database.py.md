# Модуль database

## Обзор

Модуль `database.py` определяет базовый класс `Base` для моделей SQLAlchemy, а также настраивает асинхронное подключение к базе данных. Этот модуль предоставляет основу для создания моделей данных в рамках проекта.

## Оглавление

1.  [Классы](#классы)
    *   [`Base`](#base)

2.  [Переменные](#переменные)
    *   `engine`
    *   `async_session_maker`

## Классы

### `Base`

**Описание**: Базовый класс для моделей SQLAlchemy, реализующий общие поля `id`, `created_at`, и `updated_at`, а также методы для получения имени таблицы и преобразования объекта в словарь.

**Наследуется от**:
- `AsyncAttrs`
- `DeclarativeBase`

**Атрибуты**:
-   `id` (Mapped[int]): Первичный ключ, автоматически увеличивается.
-   `created_at` (Mapped[datetime]): Дата и время создания записи, по умолчанию текущее время.
-   `updated_at` (Mapped[datetime]): Дата и время последнего обновления записи, автоматически обновляется при изменении.

**Методы**:

#### `__tablename__`

**Описание**: Возвращает имя таблицы, основанное на имени класса в нижнем регистре с добавлением суффикса `s`.

**Возвращает**:
- `str`: Имя таблицы.

#### `to_dict`

**Описание**: Преобразует объект модели в словарь, где ключами являются имена столбцов, а значениями — соответствующие значения атрибутов.

**Возвращает**:
- `dict`: Словарь с данными объекта.

## Переменные

### `engine`

**Описание**: Асинхронный движок SQLAlchemy, используемый для подключения к базе данных.

### `async_session_maker`

**Описание**: Фабрика асинхронных сессий SQLAlchemy, используемая для создания сессий для работы с базой данных.