# Класс Supplier

## Обзор

Этот класс служит основой для взаимодействия с различными поставщиками данных (например, Amazon, AliExpress, Walmart). Он предоставляет общий интерфейс для работы с поставщиками, включая инициализацию, вход на сайт, выполнение сценариев и парсинг данных.  Этот класс предоставляет гибкость для настройки и адаптации к различным поставщикам.

## Оглавление

* [Класс Supplier](#класс-supplier)
    * [Атрибуты](#атрибуты)
    * [Методы](#методы)
    * [Функциональность](#функциональность)
    * [Пример использования](#пример-использования)
    * [Визуальное представление](#визуальное-представление)

## Атрибуты

Класс `Supplier` имеет следующие атрибуты:

- `supplier_id`: Уникальный идентификатор поставщика.
- `supplier_prefix`: Префикс для поставщика (например, `aliexpress`, `amazon`).
- `supplier_settings`: Настройки для поставщика (загружаются из файла конфигурации).
- `locale`: Код локализации (например, `en` или `ru`).
- `price_rule`: Правило расчета цены (например, добавление НДС или скидки).
- `related_modules`: Модуль, содержащий специфические для поставщика функции.
- `scenario_files`: Список файлов сценариев, которые должны быть выполнены.
- `current_scenario`: Текущий сценарий выполнения.
- `login_data`: Данные для входа на сайт поставщика (если требуется).
- `locators`: Локаторы для веб-элементов на страницах сайта поставщика.
- `driver`: Веб-драйвер для взаимодействия с сайтом поставщика.
- `parsing_method`: Метод парсинга данных (например, `webdriver`, `api`, `xls`, `csv`).


## Методы

- `__init__(self, supplier_prefix: str, locale: str = 'en', webdriver: str | Driver | bool = 'default', *attrs, **kwargs)`: Конструктор класса. Инициализирует атрибуты класса на основе префикса поставщика, локали и веб-драйвера.
- `_payload(self, webdriver: str | Driver | bool, *attrs, **kwargs) -> bool`: Загружает настройки поставщика, конфигурационные файлы и инициализирует веб-драйвер.
- `login(self) -> bool`: Метод для выполнения входа на сайт поставщика (если требуется).
- `run_scenario_files(self, scenario_files: str | List[str] = None) -> bool`: Запускает выполнение файлов сценариев.
- `run_scenarios(self, scenarios: dict | list[dict]) -> bool`: Запускает один или несколько сценариев.


## Функциональность

Класс `Supplier` предназначен для абстрагирования процесса взаимодействия с различными поставщиками данных.  Он позволяет унифицировать инициализацию, логин, запуск сценариев и обработку данных, что способствует масштабируемости и повторному использованию кода.


## Пример использования

```python
# Создаем объект для поставщика 'aliexpress'
supplier = Supplier(supplier_prefix='aliexpress', locale='en', webdriver='chrome')

# Выполняем вход на сайт поставщика
supplier.login()

# Запускаем сценарии из файлов
supplier.run_scenario_files(['example_scenario.json'])

# Или запускаем сценарии по определенным условиям
supplier.run_scenarios([{'action': 'scrape', 'target': 'product_list'}])
```


## Визуальное представление

Класс `Supplier` можно представить как абстрактный класс, от которого будут наследоваться конкретные реализации для каждого поставщика (например, `AmazonSupplier`, `AliExpressSupplier`).  Этот базовый класс предоставляет общие методы и атрибуты, которые могут быть переопределены или дополнены в дочерних классах для специфических задач.