# ИНСТРУКЦИЯ ПО СОЗДАНИЮ ДОКУМЕНТАЦИИ В ФОРМАТЕ RST

Эта инструкция описывает процесс создания документации для Python-файлов в формате reStructuredText (rst), подходящем для использования с Sphinx.

## Требования к документации

1. **Формат документации:**
   - Используйте стандарт reStructuredText (.rst).
   - Каждый файл должен начинаться с заголовка и краткого описания содержимого.
   - Для всех классов и функций используйте следующий формат комментариев:

     ```python
     def функция(параметр: str, параметр1: Optional[str | dict | str] = None) -> dict | None:
         """
         Args:
             параметр (str): Описание параметра `параметр`.
             параметр1 (Optional[str | dict | str], optional): Описание параметра `параметр1`. По умолчанию `None`.

         Returns:
             dict | None: Описание возвращаемого значения. Возвращает словарь или `None`.

         Raises:
             НекотороеИсключение: Описание ситуации, в которой возникает исключение `НекотороеИсключение`.
         """
     ```
   - Используйте `ex` вместо `e` в блоках обработки исключений.

2. **Структура TOC:**
   - В файле `index.rst` используйте директиву `.. toctree::` для создания оглавления, связывающего все модули документации.  Пример:

     ```rst
     .. toctree::
         :maxdepth: 2
         :caption: Содержание

         модуль1
         модуль2
         модуль3
     ```


3. **Форматирование документации:**
   - Используйте директивы Sphinx для автоматического генерирования документации для классов и функций ( `.. automodule::`, `.. autoclass::`, `.. autofunction::`). Пример:

     ```rst
     .. automodule:: мой_модуль
         :members:
         :undoc-members:
         :show-inheritance:
     ```
   - Используйте правильный синтаксис reStructuredText для всех заголовков, списков и ссылок.

4. **Заголовки разделов:**
   - Используйте заголовки первого уровня (`=`), второго уровня (`-`), третьего уровня (`~`), и четвёртого уровня (`^`).

5. **Пример файла (index.rst):**
   ```rst
   Модуль МоиФункции
   ==================

   .. automodule:: мои_функции
       :members:
       :undoc-members:
       :show-inheritance:

   .. toctree::
       :maxdepth: 2
       :caption: Содержание

       мои_функции

   ```

   Пример файла (`мои_функции.py`):

   ```python
   def моя_функция(параметр: str, параметр1: str = None) -> str:
       """
       Args:
           параметр (str): Описание параметра.
           параметр1 (str, optional): Описание параметра. По умолчанию None.

       Returns:
           str: Описание возвращаемого значения.
       """
       return параметр + " " + параметр1 if параметр1 else параметр

   ```


##  Ключевые моменты:

* **Директивы Sphinx:**  Обязательно используйте директивы Sphinx для автоматической генерации документации классов и функций.
* **`index.rst`:** Центральный файл, организующий оглавление с помощью `.. toctree::`.
* **`automodule`, `autoclass`, `autofunction`:**  С их помощью генерируется документация для каждого Python-модуля.
* **`:members:`:** Показывает все члены модуля (классы, функции).
* **`:undoc-members:`:** Показывает недокументированные члены модуля.
* **`:show-inheritance:`:** Показывает наследование классов.

Следуйте этим инструкциям, чтобы создать профессиональную документацию, готовую для Sphinx.