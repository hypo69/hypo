# Анализ кода модуля e_47.md

**Качество кода**
8
- Плюсы
    -  Код содержит описание задачи Project Euler на русском языке.
    -  Оформление markdown позволяет удобно читать условие задачи.
- Минусы
    -  Отсутствует какой-либо программный код для решения задачи.
    -  Нет явного указания на необходимость реализации решения в виде Python скрипта.
    -  Не хватает docstring для модуля.

**Рекомендации по улучшению**

1.  **Добавить docstring модуля**: Добавить подробное описание модуля в формате reStructuredText (RST) в начало файла.
2.  **Реализовать решение задачи**: Написать Python код, который решает поставленную задачу Project Euler 47.
3.  **Логирование**: Добавить логирование с помощью `from src.logger.logger import logger`, если это необходимо при решении.
4. **Обработка ошибок**:  Использовать `logger.error` для обработки исключений, если они будут в коде.
5.  **Комментарии**:  Добавить пояснительные комментарии к коду в формате RST.
6.  **Улучшение стиля**:  Придерживаться PEP8 при написании кода.
7.  **Тесты**:  По возможности добавить тесты к решению.

**Оптимизированный код**

```python
"""
Модуль для решения задачи 47 Project Euler
=========================================================================================

Задача:
    Найти первое из четырех последовательных чисел, каждое из которых имеет четыре различных простых множителя.

Описание:
    Этот модуль содержит функцию для нахождения первого набора из четырех последовательных чисел,
    каждое из которых имеет ровно четыре различных простых множителя.

Пример использования
--------------------

.. code-block:: python

    from src.utils.jjson import j_loads_ns
    from src.logger.logger import logger
    from typing import List

    def find_consecutive_numbers(consecutive: int = 4, distinct_primes: int = 4) -> int:
        '''
         Находит первое число из последовательности, где каждое число имеет заданное количество простых множителей.

         :param consecutive: Количество последовательных чисел, которые должны удовлетворять условию.
         :param distinct_primes: Количество различных простых множителей, которыми должно обладать каждое число.
         :return: Первое число из найденной последовательности.
        '''
        def prime_factors(n: int) -> List[int]:
            '''
            Находит простые множители числа.

            :param n: Число для поиска простых множителей.
            :return: Список простых множителей.
            '''
            factors = set()
            d = 2
            while d * d <= n:
                while n % d == 0:
                    factors.add(d)
                    n //= d
                d += 1
            if n > 1:
                factors.add(n)
            return list(factors)

        num = 2
        while True:
            try:
                # Проверка для последовательности чисел
                for i in range(consecutive):
                    # Поиск простых множителей для текущего числа
                    if len(prime_factors(num + i)) != distinct_primes:
                        num += i + 1
                        break
                else:
                    # Если все числа в последовательности прошли проверку, код возвращает первое число из последовательности
                    return num
            except Exception as ex:
                 # Логирование ошибки
                logger.error(f'Произошла ошибка при поиске чисел: {ex}')
                return -1
    if __name__ == '__main__':
        # Вызов функции и вывод результата.
        result = find_consecutive_numbers()
        print(f"Первое число в последовательности: {result}")
"""
from src.utils.jjson import j_loads_ns
from src.logger.logger import logger
from typing import List


def find_consecutive_numbers(consecutive: int = 4, distinct_primes: int = 4) -> int:
    """
    Находит первое число из последовательности, где каждое число имеет заданное количество простых множителей.

    :param consecutive: Количество последовательных чисел, которые должны удовлетворять условию.
    :param distinct_primes: Количество различных простых множителей, которыми должно обладать каждое число.
    :return: Первое число из найденной последовательности.
    """
    def prime_factors(n: int) -> List[int]:
        """
        Находит простые множители числа.

        :param n: Число для поиска простых множителей.
        :return: Список простых множителей.
        """
        factors = set()
        d = 2
        while d * d <= n:
            while n % d == 0:
                factors.add(d)
                n //= d
            d += 1
        if n > 1:
            factors.add(n)
        return list(factors)

    num = 2
    while True:
        try:
            # Проверка для последовательности чисел
            for i in range(consecutive):
                # Поиск простых множителей для текущего числа
                if len(prime_factors(num + i)) != distinct_primes:
                    num += i + 1
                    break
            else:
                # Если все числа в последовательности прошли проверку, код возвращает первое число из последовательности
                return num
        except Exception as ex:
            # Логирование ошибки
            logger.error(f'Произошла ошибка при поиске чисел: {ex}')
            return -1


if __name__ == '__main__':
    # Вызов функции и вывод результата.
    result = find_consecutive_numbers()
    print(f"Первое число в последовательности: {result}")
```