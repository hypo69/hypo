# Модуль `hypotez/src/suppliers/aliexpress/utils/extract_product_id.py`

## Обзор

Этот модуль содержит функцию `extract_prod_ids`, предназначенную для извлечения идентификаторов товаров из списка URL-адресов или одного URL-адреса. Функция может принимать как URL-адреса, так и непосредственно идентификаторы товаров.  Она использует регулярные выражения для извлечения идентификаторов из URL-адресов и проверяет формат идентификатора на основе его числового представления.

## Функции

### `extract_prod_ids`

**Описание**: Функция извлекает идентификаторы товаров из списка URL-адресов или одного URL-адреса.

**Параметры**:
- `urls` (str | list[str]): URL-адрес или список URL-адресов, содержащих идентификаторы товаров, либо непосредственно идентификаторы.

**Возвращает**:
- str | list[str] | None:  Список извлеченных идентификаторов товаров, один идентификатор или `None`, если не удалось найти допустимый идентификатор.


**Примеры использования**:
```python
extract_prod_ids("https://www.aliexpress.com/item/123456.html")  # Возвращает '123456'
extract_prod_ids(["https://www.aliexpress.com/item/123456.html", "7891011.html"]) # Возвращает ['123456', '7891011']
extract_prod_ids(["https://www.example.com/item/123456.html", "https://www.example.com/item/abcdef.html"]) # Возвращает ['123456']
extract_prod_ids("7891011") # Возвращает '7891011'
extract_prod_ids("https://www.example.com/item/abcdef.html") # Возвращает None
```

**Подробности реализации**: Функция использует внутреннюю вспомогательную функцию `extract_id` для извлечения идентификатора из одного URL-адреса. Если входное значение `urls` является списком, то функция `extract_id` применяется к каждому элементу списка, а результат собирается в список. В случае, если входным значением является строка, то функция `extract_id` вызывается напрямую.

### `extract_id`

**Описание**: Извлекает идентификатор товара из URL-адреса или проверяет, является ли входное значение корректным идентификатором.

**Параметры**:
- `url` (str): URL-адрес или идентификатор товара.

**Возвращает**:
- str | None: Извлеченный идентификатор товара или исходное значение (если это корректный идентификатор), или `None`, если идентификатор не найден.

**Примеры использования**:
```python
extract_id("https://www.aliexpress.com/item/123456.html") # Возвращает '123456'
extract_id("7891011") # Возвращает '7891011'
extract_id("https://www.example.com/item/abcdef.html") # Возвращает None
```

**Подробности реализации**:
Функция проверяет, является ли входное значение `url` строкой цифр. Если да, то это интерпретируется как идентификатор и возвращается без изменений. В противном случае, используется регулярное выражение для извлечения числового идентификатора из URL-адреса. Если совпадение найдено, извлекается группа 1 и возвращается как результат. Если совпадения не найдено, возвращается `None`.


##  Примечания

Обратите внимание на использование регулярных выражений для надежной обработки различных форматов входных данных.