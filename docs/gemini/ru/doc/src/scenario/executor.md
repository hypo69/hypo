# Модуль `hypotez/src/scenario/executor.py`

## Обзор

Модуль `hypotez/src/scenario/executor.py` предназначен для выполнения сценариев, загружая их из файлов, извлекая информацию о продуктах и вставляя её в базу данных PrestaShop.  Модуль содержит функции для работы со сценариями, файлами и обработкой данных о продуктах.

## Функции

### `dump_journal`

**Описание**: Сохраняет данные журнала в файл JSON.

**Параметры**:
- `s` (объект): экземпляр класса поставщика.
- `journal` (словарь): словарь, содержащий данные журнала.

**Возвращает**:
- Нет.

### `run_scenario_files`

**Описание**: Выполняет список файлов сценариев.

**Параметры**:
- `s` (объект): экземпляр класса поставщика.
- `scenario_files_list` (список или путь к файлу): список путей к файлам сценариев или один путь к файлу.

**Возвращает**:
- `bool`: `True`, если все сценарии были выполнены успешно, `False` в противном случае.

**Возможные исключения**:
- `TypeError`: если `scenario_files_list` не является списком или объектом `Path`.


### `run_scenario_file`

**Описание**: Загружает и выполняет сценарии из файла.

**Параметры**:
- `s` (объект): экземпляр класса поставщика.
- `scenario_file` (объект `Path`): путь к файлу сценария.

**Возвращает**:
- `bool`: `True`, если сценарий был выполнен успешно, `False` в противном случае.

**Возможные исключения**:
- `FileNotFoundError`: если файл сценария не найден.
- `json.JSONDecodeError`: если файл сценария не является валидным JSON.
- Любые другие исключения, возникающие при выполнении сценария.

### `run_scenarios`

**Описание**: Выполняет список сценариев (НЕ ФАЙЛОВ).

**Параметры**:
- `s` (объект): экземпляр класса поставщика.
- `scenarios` (список или словарь): список сценариев или один сценарий в формате словаря.

**Возвращает**:
- список/словарь или `False`: результат выполнения сценариев в виде списка или словаря в зависимости от типа входных данных. Возвращает `False` в случае ошибки.


### `run_scenario`

**Описание**: Выполняет полученный сценарий.

**Параметры**:
- `supplier` (объект): экземпляр класса поставщика.
- `scenario` (словарь): словарь, содержащий детали сценария.
- `scenario_name` (строка): имя сценария.


**Возвращает**:
- список/словарь или `False`: результат выполнения сценария.

**Возможные исключения**:
- Любые исключения, возникающие при выполнении сценария.


### `insert_grabbed_data`

**Описание**: Вставляет полученные данные о продукте в PrestaShop.

**Параметры**:
- `product_fields` (объект `ProductFields`): объект, содержащий информацию о продукте.

**Возвращает**:
- Нет.

**Примечания**:
- Эта функция должна быть перенесена в другой файл (например, в класс `PrestaShop`).


### `execute_PrestaShop_insert_async`

**Описание**: Асинхронная функция для вставки продукта в PrestaShop.

**Параметры**:
- `f` (объект `ProductFields`): объект, содержащий информацию о продукте.
- `coupon_code` (строка, необяз.): купон.
- `start_date` (строка, необяз.): дата начала акции.
- `end_date` (строка, необяз.): дата окончания акции.

**Возвращает**:
- `bool`: `True`, если вставка прошла успешно, `False` в противном случае.

**Примечание**: Использует `asyncio`.


### `execute_PrestaShop_insert`

**Описание**: Вставляет продукт в PrestaShop.

**Параметры**:
- `f` (объект `ProductFields`): объект, содержащий информацию о продукте.
- `coupon_code` (строка, необяз.): купон.
- `start_date` (строка, необяз.): дата начала акции.
- `end_date` (строка, необяз.): дата окончания акции.

**Возвращает**:
- `bool`: `True`, если вставка прошла успешно, `False` в противном случае.

**Возможные исключения**:
- Любые исключения, возникающие при работе с PrestaShop.