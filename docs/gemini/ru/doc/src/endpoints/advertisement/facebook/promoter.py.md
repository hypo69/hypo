# Модуль `src.endpoints.advertisement.facebook.promoter`

## Обзор

Модуль `promoter.py` предназначен для автоматизации процесса продвижения сообщений и событий в группах Facebook. Он обрабатывает кампании и события, размещая их в группах Facebook, и избегает дублирования публикаций.

## Оглавление

1. [Функции](#функции)
    - [`get_event_url`](#get_event_url)
2. [Классы](#классы)
    - [`FacebookPromoter`](#facebookpromoter)
        - [`__init__`](#__init__)
        - [`promote`](#promote)
        - [`log_promotion_error`](#log_promotion_error)
        - [`update_group_promotion_data`](#update_group_promotion_data)
        - [`process_groups`](#process_groups)
        - [`get_category_item`](#get_category_item)
        - [`check_interval`](#check_interval)
        - [`validate_group`](#validate_group)

## Функции

### `get_event_url`

**Описание**: Возвращает модифицированный URL для создания события на Facebook, заменяя `group_id` значением из входного URL.

**Параметры**:
- `group_url` (str): URL группы Facebook, содержащий `group_id`.

**Возвращает**:
- `str`: Модифицированный URL для создания события.

## Классы

### `FacebookPromoter`

**Описание**: Класс для продвижения товаров и событий AliExpress в группах Facebook.

Этот класс автоматизирует размещение рекламных акций в группах Facebook, используя экземпляр WebDriver, обеспечивая продвижение категорий и событий, избегая дублирования.

#### `__init__`

**Описание**: Инициализирует промоутер для групп Facebook.

**Параметры**:
- `d` (Driver): Экземпляр WebDriver для автоматизации браузера.
- `promoter` (str): Имя промоутера.
- `group_file_paths` (Optional[list[str | Path] | str | Path], optional): Список путей к файлам, содержащим данные группы. По умолчанию `None`.
- `no_video` (bool, optional): Флаг для отключения видео в постах. По умолчанию `False`.

#### `promote`

**Описание**: Продвигает категорию или событие в группе Facebook.

**Параметры**:
- `group` (SimpleNamespace): Объект, содержащий данные группы.
- `item` (SimpleNamespace): Объект, содержащий данные о категории или событии.
- `is_event` (bool, optional): Флаг, указывающий, является ли продвигаемый элемент событием. По умолчанию `False`.
- `language` (str, optional): Язык для продвижения. По умолчанию `None`.
- `currency` (str, optional): Валюта для продвижения. По умолчанию `None`.

**Возвращает**:
- `bool`: `True`, если продвижение прошло успешно, иначе `None`.

#### `log_promotion_error`

**Описание**: Записывает ошибку продвижения для категории или события.

**Параметры**:
- `is_event` (bool): Флаг, указывающий, было ли продвигаемое сообщение событием.
- `item_name` (str): Название элемента (категории или события), вызвавшего ошибку.

#### `update_group_promotion_data`

**Описание**: Обновляет данные о продвижении группы с новой акцией.

**Параметры**:
- `group` (SimpleNamespace): Объект, содержащий данные группы.
- `item_name` (str): Название продвигаемого элемента (категории или события).
- `is_event` (bool, optional): Флаг, указывающий, является ли продвигаемый элемент событием. По умолчанию `False`.

#### `process_groups`

**Описание**: Обрабатывает все группы для текущей кампании или продвижения события.

**Параметры**:
- `campaign_name` (str, optional): Название кампании. По умолчанию `None`.
- `events` (list[SimpleNamespace], optional): Список событий для продвижения. По умолчанию `None`.
- `is_event` (bool, optional): Флаг, указывающий, является ли продвижение событием. По умолчанию `False`.
- `group_file_paths` (list[str], optional): Список путей к файлам групп. По умолчанию `None`.
- `group_categories_to_adv` (list[str], optional): Список категорий групп для продвижения. По умолчанию `['sales']`.
- `language` (str, optional): Язык для продвижения. По умолчанию `None`.
- `currency` (str, optional): Валюта для продвижения. По умолчанию `None`.

#### `get_category_item`

**Описание**: Получает элемент категории для продвижения на основе кампании и промоутера.

**Параметры**:
- `campaign_name` (str): Название кампании.
- `group` (SimpleNamespace): Объект, содержащий данные группы.
- `language` (str): Язык для продвижения.
- `currency` (str): Валюта для продвижения.

**Возвращает**:
- `SimpleNamespace`: Объект, представляющий элемент категории для продвижения.

#### `check_interval`

**Описание**: Проверяет, прошло ли достаточно времени для продвижения этой группы.

**Параметры**:
- `group` (SimpleNamespace): Объект, содержащий данные группы.

**Возвращает**:
- `bool`: `True`, если достаточно времени прошло, иначе `False`.

#### `validate_group`

**Описание**: Проверяет, что данные группы корректны.

**Параметры**:
- `group` (SimpleNamespace): Объект, содержащий данные группы.

**Возвращает**:
- `bool`: `True`, если данные группы корректны, иначе `False`.