# `send_data.js`

## Обзор

Этот скрипт предназначен для сбора информации о текущей странице (заголовок, URL и содержимое тела) и отправки этих данных на удаленный сервер посредством HTTP POST запроса. Он предназначен для работы в контексте расширения браузера.

## Оглавление
- [Функции](#Функции)
  - [`onPageLoad`](#onPageLoad)

## Функции

### `onPageLoad`

**Описание**: Функция `onPageLoad` выполняется после полной загрузки страницы. Она собирает заголовок, URL и HTML-содержимое тела страницы и отправляет эти данные на сервер.

**Параметры**:
- Нет параметров

**Возвращает**:
- Нет возвращаемого значения.

**Вызывает исключения**:
- `Error`: Выбрасывается, если сетевой запрос завершается с ошибкой.

**Детали**:

- Функция сначала получает заголовок страницы (`document.title`), URL (`window.location.href`) и HTML-содержимое тела страницы (`document.body.innerHTML`).
- Затем она формирует объект `data`, содержащий собранную информацию.
- Далее функция использует `fetch` для отправки POST-запроса на адрес `'http://127.0.0.1/hypotez.online/api/'` с данными в формате JSON.
- В случае успешного запроса, она выводит ответ сервера в консоль.
- В случае ошибки запроса, она выводит сообщение об ошибке в консоль.

**Пример использования**:

```javascript
// Функция будет вызвана автоматически после загрузки страницы.
```
```javascript
window.addEventListener('load', onPageLoad);
```
```markdown
Этот код добавляет слушатель события `'load'` к объекту `window`. Когда страница полностью загрузится, будет вызвана функция `onPageLoad`.