# Модуль `post_event`

## Обзор

Модуль `post_event.py` предназначен для автоматизации процесса публикации информации о мероприятиях в Facebook. Он считывает данные о мероприятиях из JSON-файлов, расположенных в определенной структуре директорий, и использует класс `FacebookPromoter` для публикации этих мероприятий в группах Facebook.

## Подробней

Данный модуль является частью системы автоматизации маркетинга в Facebook и предназначен для упрощения и ускорения процесса публикации информации о событиях. Он использует данные о мероприятиях, хранящиеся в JSON-файлах, и выполняет следующие шаги:

1.  Определение директорий, содержащих информацию о мероприятиях.
2.  Загрузка данных о мероприятиях из JSON-файлов.
3.  Инициализация объекта `FacebookPromoter` для взаимодействия с Facebook.
4.  Публикация мероприятий в указанных группах Facebook.

Модуль предназначен для работы с данными о мероприятиях, полученными из AliExpress, и публикует их в группах Facebook с целью продвижения.

## Функции

### `post_events`

```python
def post_events():
    """Обрабатывает и отправляет мероприятия на Facebook.

    Функция получает данные о мероприятиях из указанной директории, загружает детали мероприятий из JSON-файлов
    и отправляет их на Facebook. Мероприятия хранятся в структуре директорий под папкой `facebook/events`.

    Raises:
        FileNotFoundError: Если JSON-файл с информацией о мероприятии отсутствует.
    """
```

**Описание**: Обрабатывает и отправляет информацию о мероприятиях в Facebook.

**Как работает функция**:

1.  Инициализирует драйвер Chrome для управления браузером.
2.  Получает список директорий с данными о мероприятиях из директории `aliexpress/events` в Google Drive.
3.  Получает список файлов с информацией о группах Facebook из директории `facebook/groups` в Google Drive.
4.  Создает экземпляр класса `FacebookPromoter`, передавая ему драйвер и пути к файлам с информацией о группах.
5.  Для каждой директории с информацией о мероприятии загружает JSON-файл с данными о мероприятии.
6.  Вызывает метод `process_groups` класса `FacebookPromoter` для публикации мероприятия в группах Facebook.

**Параметры**:

*   Нет

**Возвращает**:

*   Нет

**Вызывает исключения**:

*   `FileNotFoundError`: Если JSON-файл с информацией о мероприятии отсутствует.

**Примеры**:

```python
post_events()
```

### `post_to_my_group`

```python
def post_to_my_group(event):
    """"""
```

**Описание**: Публикует мероприятие в указанной группе Facebook.

**Как работает функция**:

1.  Загружает информацию о группах Facebook из JSON-файла `my_managed_groups.json`, расположенного в директории `facebook/groups` в Google Drive.
2.  Инициализирует драйвер Chrome для управления браузером.
3.  Для каждой группы Facebook, указанной в JSON-файле:
    *   Извлекает URL группы.
    *   Открывает страницу группы в браузере.
    *   Вызывает функцию `post_event` для публикации мероприятия в группе.

**Параметры**:

*   `event` (dict): Информация о мероприятии, которое нужно опубликовать.

**Возвращает**:

*   Нет

**Вызывает исключения**:

*   Нет

**Примеры**:

```python
event = j_loads_ns(gs.path.google_drive / 'aliexpress' / 'events'  / 'sep_11_2024_over60_pricedown' / 'sep_11_2024_over60_pricedown.json')
post_to_my_group(event)
```