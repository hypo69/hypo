Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Функция `post_ad` предназначена для публикации рекламного сообщения в группах Facebook. Она принимает экземпляр драйвера Selenium и объект `SimpleNamespace` с информацией о сообщении (заголовок, описание, изображение). Функция последовательно отправляет заголовок сообщения, загружает изображение (если оно есть), и публикует сообщение.  Функция обрабатывает возможные ошибки при выполнении операций и контролирует количество неудачных попыток.

Шаги выполнения
-------------------------
1. **Проверка отправки заголовка:** Функция вызывает функцию `post_message_title` для отправки заголовка сообщения. Если операция завершается неудачно, функция регистрирует ошибку в логе и увеличивает счётчик неудач (`fails`). Если количество неудач превышает 15, функция прерывает выполнение.


2. **Загрузка изображения (если необходимо):** Если в объекте `message` присутствует поле `image_path` и оно не пустое, функция вызывает функцию `upload_post_media` для загрузки изображения. Если загрузка изображения не удалась, функция возвращает `None`.

3. **Публикация сообщения:** Если загрузка изображения прошла успешно или её не было, функция вызывает функцию `message_publish` для публикации сообщения. Если операция публикации не удалась, функция возвращает `None`.


4. **Сброс счётчика неудач:** Если все операции прошли успешно, функция сбрасывает счётчик неудач (`fails`) и возвращает `True`.

Пример использования
-------------------------
.. code-block:: python

    from src.webdriver import Driver
    from types import SimpleNamespace
    from pathlib import Path

    # ... (код для инициализации драйвера) ...
    driver = Driver(...)

    message = SimpleNamespace(
        description="Рекламное сообщение",
        image_path=str(Path("путь/к/изображению.jpg"))  # Укажите реальный путь
    )

    if post_ad(driver, message):
        print("Сообщение опубликовано успешно.")
    else:
        print("Ошибка публикации сообщения.")

    driver.quit()