# Модуль управления категориями AliExpress

## Обзор

Модуль предоставляет функциональность для управления категориями на AliExpress. Он позволяет извлекать URL-адреса продуктов, обновлять списки категорий и взаимодействовать с платформой AliExpress для синхронизации категорий.

### Ключевые особенности:

- **Извлечение URL-адресов продуктов**: Собирает URL-адреса продуктов со страниц категорий.
- **Синхронизация категорий**: Сравнивает и обновляет категории на сайте с категориями в локальных файлах сценариев.
- **Взаимодействие с базой данных**: Предлагает операции с базой данных для управления категориями.

## Содержание

- [Обзор](#обзор)
  - [Ключевые особенности](#ключевые-особенности)
- [Функции](#функции)
  - [`get_list_products_in_category`](#get_list_products_in_category)
  - [`get_prod_urls_from_pagination`](#get_prod_urls_from_pagination)
  - [`update_categories_in_scenario_file`](#update_categories_in_scenario_file)
  - [`get_list_categories_from_site`](#get_list_categories_from_site)
- [Классы](#классы)
  - [`DBAdaptor`](#dbadaptor)
- [Зависимости](#зависимости)
- [Пример использования](#пример-использования)
- [Лицензия](#лицензия)

## Функции

### `get_list_products_in_category`

**Описание**: Извлекает список URL-адресов продуктов со страницы категории, включая пагинацию.

**Параметры**:
- `s` (`Supplier`): Экземпляр поставщика с драйвером браузера и локаторами.

**Возвращает**:
- `list[str, str]`: Список URL-адресов продуктов со страницы категории.

---

### `get_prod_urls_from_pagination`

**Описание**: Получает URL-адреса продуктов со страниц категорий, обрабатывая пагинацию.

**Параметры**:
- `s` (`Supplier`): Экземпляр поставщика с драйвером браузера и локаторами.

**Возвращает**:
- `list[str]`: Список URL-адресов продуктов.

---

### `update_categories_in_scenario_file`

**Описание**: Сравнивает категории на сайте с категориями в предоставленном файле сценария и обновляет файл при наличии изменений.

**Параметры**:
- `s` (`Supplier`): Экземпляр поставщика с драйвером браузера и локаторами.
- `scenario_filename` (`str`): Имя файла сценария для обновления.

**Возвращает**:
- `bool`: `True`, если категории были успешно обновлены, `False` в противном случае.

---

### `get_list_categories_from_site`

**Описание**: Получает список категорий с сайта AliExpress на основе предоставленного файла сценария.

**Параметры**:
- `s` (`Supplier`): Экземпляр поставщика с драйвером браузера и локаторами.
- `scenario_file` (`str`): Файл сценария, содержащий информацию о категориях.
- `brand` (`str`, optional): Фильтр бренда для категорий.

**Возвращает**:
- `list`: Список категорий с сайта.

---

## Классы

### `DBAdaptor`

**Описание**: Предоставляет методы для взаимодействия с базой данных, позволяя выполнять стандартные операции, такие как `SELECT`, `INSERT`, `UPDATE` и `DELETE` для записей `AliexpressCategory`.

**Методы**:
- `select`: Извлекает записи из таблицы `AliexpressCategory`.
- `insert`: Вставляет новую запись в таблицу `AliexpressCategory`.
- `update`: Обновляет существующую запись в таблице `AliexpressCategory`.
- `delete`: Удаляет запись из таблицы `AliexpressCategory`.

---

## Зависимости

Этот модуль зависит от нескольких других модулей для различных функциональных возможностей:

- `src.db.manager_categories.suppliers_categories`: Для управления категориями в базе данных.
- `src.utils.jjson`: Для работы с данными JSON.
- `src.logger`: Для логирования ошибок и сообщений.
- `requests`: Для выполнения HTTP-запросов для получения данных о категориях с сайта AliExpress.

---

## Пример использования

```python
from src.suppliers.aliexpress.category import get_list_products_in_category, update_categories_in_scenario_file

# Пример использования
supplier_instance = Supplier()
category_urls = get_list_products_in_category(supplier_instance)
update_categories_in_scenario_file(supplier_instance, 'example_scenario.json')
```

---

## Лицензия

Этот модуль распространяется под лицензией MIT.