```markdown
# Файл `hypotez/src/db/manager_translations/product_translations.py`

## Менеджер переводов параметров товара

Данный модуль предоставляет класс `ProductTranslationsManager` для взаимодействия с таблицей `product_translations` в базе данных, хранящей переводы параметров товаров.  Он предоставляет методы для вставки, выбора, обновления и удаления записей, обеспечивая удобный интерфейс для работы с переводом.

### Класс `ProductTranslationsManager`

Этот класс управляет взаимодействием с базой данных для переводов.

#### Инициализация (`__init__`)

```python
def __init__(self, credentials = gs.credentials.presta.translations, *args, **kwargs):
```

Инициализирует соединение с базой данных MySQL, используя данные из `gs.credentials.presta.translations`. Создает `engine` для соединения, `Base` для определения модели и `Session` для работы с сессиями. Определяет модель `ProductTranslation` и создает таблицу в базе данных.

#### Метод `define_model`

Определяет модель `ProductTranslation` SQLAlchemy, описывая структуру таблицы `product_translations`.  Важно отметить все поля и их типы данных.  Комментирование типов данных (например, `comment='Locale - ...'` ) крайне полезно для понимания назначения столбцов.

#### Метод `create_table`

Создает таблицу `product_translations` в базе данных, если она не существует.  Этот метод выполняется один раз при инициализации менеджера.

#### Метод `insert_record`

Вставляет новую запись в таблицу `product_translations`.

*   **Проверка на существование:** Проверяет, существует ли запись с заданными `product_reference` и `locale`.  Если да, то выводит предупреждение (используя `logger`) и не вставляет новую запись.
*   **Обработка ошибок:** Использует блок `try...except`, чтобы перехватывать и обрабатывать потенциальные ошибки при взаимодействии с базой данных.

#### Метод `select_record`

Выбирает записи из таблицы `product_translations` по заданным условиям.  Метод `select_record` гибко обрабатывает условия поиска, используя `kwargs`.

*   **Гибкая фильтрация:** Поддерживает различные виды условий фильтрации, включая сравнения (`==`, `!=`, `>`, `<`, `>=`, `<=`), проверку на вхождение в список (`in`), поиск подстроки (`like`), проверку на `NULL` (`is_null`) и комбинации условий (`or_`). Подробное описание типов операций фильтрации приведено в документации к методу.
*   **Обработка ошибок:**  Обрабатывает исключения, возникающие при взаимодействии с базой данных.

#### Метод `update_record`

Обновляет существующую запись в таблице `product_translations`.

*   **Обработка ошибок:**  Обрабатывает исключения, возникающие при взаимодействии с базой данных и обрабатывает случай, когда запись не найдена.

#### Метод `delete_record`

Удаляет запись из таблицы `product_translations`.

*   **Обработка ошибок:**  Обрабатывает исключения, возникающие при взаимодействии с базой данных и обрабатывает случай, когда запись не найдена.

#### Поддержка контекстного менеджера (`__enter__`, `__exit__`)

Класс `ProductTranslationsManager` реализует протокол контекстного менеджера, что позволяет использовать его в `with`-блоках. Это гарантирует, что при завершении работы с объектом будет освобождено соединение с базой данных.

### Примеры использования

Документация содержит исчерпывающие примеры использования каждого метода класса.  Примеры четко показывают, как передавать данные и какие аргументы использовать для различных операций.

**Важно:**  Улучшите пояснение к `select_record` о важных операциях фильтрации и типом данных. Подробнее опишите, как работают условия, особенно в контексте ORM и SQLAlchemy.


```