# Модуль: Отправка рекламных объявлений в группы Facebook

## Обзор

Модуль предназначен для автоматической отправки рекламных объявлений в группы Facebook. Он включает в себя функции для запуска рекламных кампаний на разных языках и с разными валютами, а также для управления циклом кампаний.

## Подробнее

Этот модуль является частью проекта `hypotez` и предназначен для автоматизации процесса размещения рекламы в группах Facebook. Он использует библиотеку `selenium` для управления браузером и взаимодействия с сайтом Facebook. Модуль поддерживает запуск рекламных кампаний на разных языках и с разными валютами, а также позволяет настраивать параметры кампаний, такие как категории групп для размещения объявлений.

## Функции

### `run_campaign`

```python
def run_campaign(d: Driver, promoter_name: str, campaigns: list | str, group_file_paths: list, language: str, currency: str):
    """Запуск рекламной кампании.

    Args:
        d (Driver): Экземпляр драйвера.
        promoter_name (str): Имя рекламодателя.
        campaigns (list): Список кампаний.
        group_file_paths (list): Пути к файлам с группами.
        language (str): Язык рекламной кампании.
        currency (str): Валюта рекламной кампании.
    """
    ...
```

**Назначение**: Запускает рекламную кампанию в Facebook.

**Как работает функция**:
1.  Создает экземпляр класса `FacebookPromoter` для управления рекламной кампанией.
2.  Вызывает метод `run_campaigns` у экземпляра `FacebookPromoter` для запуска кампании с заданными параметрами.

**Параметры**:
-   `d` (Driver): Экземпляр драйвера, используемый для управления браузером.
-   `promoter_name` (str): Имя рекламодателя.
-   `campaigns` (list | str): Список кампаний для запуска.
-   `group_file_paths` (list): Список путей к файлам, содержащим информацию о группах Facebook.
-   `language` (str): Язык, на котором будет проводиться рекламная кампания.
-   `currency` (str): Валюта, в которой будет проводиться рекламная кампания.

**Возвращает**:
-   `None`

**Вызывает исключения**:
-   Может вызывать исключения, если не удается запустить рекламную кампанию.

### `campaign_cycle`

```python
def campaign_cycle(d: Driver):
    """Цикл для управления запуском кампаний.

    Args:
        d (Driver): Экземпляр драйвера.
        aliexpress_adv (bool): Флаг для определения рекламодателя.
    """
    ...
```

**Назначение**: Управляет циклом запуска рекламных кампаний для разных языков и валют.

**Как работает функция**:

1.  Создает копии списков путей к файлам с группами и рекламными объявлениями для русского и иврита.
2.  Определяет список словарей с парами "язык-валюта".
3.  Перебирает пары "язык-валюта" и запускает рекламные кампании для каждого языка и валюты.
4.  Определяет список кампаний в зависимости от языка.
5.  Запускает рекламную кампанию с помощью функции `run_campaign` для каждой кампании.

**Параметры**:
-   `d` (Driver): Экземпляр драйвера, используемый для управления браузером.

**Возвращает**:
-   `bool`: Возвращает `True` после завершения цикла кампаний.

**Вызывает исключения**:
-   Не вызывает исключений напрямую, но может вызывать исключения при вызове функции `run_campaign`.

### `main`

```python
def main():
    """Основная функция для запуска рекламных кампаний."""
    ...
```

**Назначение**: Основная функция для запуска рекламных кампаний.

**Как работает функция**:

1.  Создает экземпляр драйвера Chrome.
2.  Открывает страницу Facebook в браузере.
3.  Запускает бесконечный цикл, в котором:
    *   Проверяет, не наступило ли время ночного перерыва с помощью функции `interval()`.
    *   Запускает цикл рекламных кампаний с помощью функции `campaign_cycle(d)`.
    *   Логирует время засыпания и засыпает на случайное время от 30 до 360 секунд.
4.  Перехватывает исключение `KeyboardInterrupt` и логирует сообщение о прерывании продвижения кампании.

**Параметры**:
-   `None`

**Возвращает**:
-   `None`

**Вызывает исключения**:
-   `KeyboardInterrupt`: Вызывается при прерывании программы пользователем.

### Вспомогательные переменные:

*   `group_file_paths_ru` (list[str]): Список путей к файлам с информацией о группах Facebook на русском языке.
*   `adv_file_paths_ru` (list[str]): Список путей к файлам с рекламными объявлениями на русском языке.
*   `group_file_paths_he` (list[str]): Список путей к файлам с информацией о группах Facebook на иврите.
*   `adv_file_paths_he` (list[str]): Список путей к файлам с рекламными объявлениями на иврите.
*   `group_categories_to_adv` (list[str]): Список категорий групп, в которых будет размещаться реклама.