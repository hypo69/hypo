# Модуль `login`

## Обзор

Модуль `login` предназначен для автоматизации процесса входа в учетную запись на сайте AliExpress с использованием веб-драйвера. Он содержит функцию `login`, которая принимает объект поставщика `Supplier` с настроенным веб-драйвером и локаторами элементов страницы входа.

## Подробнее

Этот модуль является частью системы автоматизации для работы с поставщиками на платформе AliExpress. Он использует веб-драйвер для эмуляции действий пользователя, таких как ввод email, пароля и нажатие кнопки входа.

## Функции

### `login`

```python
def login(s) -> bool:
    """
    Выполняет вход в AliExpress с использованием веб-драйвера.

    Args:
        s (Supplier): Класс поставщика с запущенным веб-драйвером и локаторами.

    Returns:
        bool: Всегда возвращает `True` (в текущей реализации).

    """
```

**Назначение**: Функция `login` автоматизирует процесс входа пользователя в систему AliExpress, используя предоставленные локаторы элементов веб-страницы.

**Параметры**:
- `s` (Supplier): Объект класса `Supplier`, который содержит настроенный веб-драйвер (`driver`) и локаторы элементов страницы входа (`locators['login']`).

**Возвращает**:
- `bool`: В текущей реализации всегда возвращает `True` (используется для отладки).

**Как работает функция**:
1. **Инициализация**: Получает веб-драйвер (`_d`) и локаторы элементов входа (`_l`) из объекта поставщика `s`.
2. **Переход на страницу AliExpress**: Открывает главную страницу AliExpress (`https://www.aliexpress.com`) с помощью `_d.get_url()`.
3. **Принятие cookies**: Выполняет нажатие на кнопку принятия cookies, используя локатор `_l['cookies_accept']`.
4. **Открытие формы входа**: Кликает на элемент, открывающий форму входа, используя локатор `_l['open_login']`.
5. **Ввод email и пароля**: Вводит email и пароль, используя локаторы `_l['email_locator']` и `_l['password_locator']` соответственно.
6. **Нажатие кнопки входа**: Нажимает кнопку входа, используя локатор `_l['loginbutton_locator']`.
7. **TODO**: Присутствуют закомментированные участки кода и TODO-комментарии, указывающие на необходимость реализации логики обработки ошибок и установки языка/валюты/страны доставки.

**ASCII flowchart**:

```
Начало
  ↓
Получение веб-драйвера и локаторов из объекта поставщика (s)
  ↓
Открытие главной страницы AliExpress
  ↓
Принятие cookies
  ↓
Открытие формы входа
  ↓
Ввод email
  ↓
Ввод пароля
  ↓
Нажатие кнопки входа
  ↓
Конец
```

**Примеры**:

Поскольку функция принимает объект класса `Supplier`, примеры её вызова зависят от структуры и инициализации этого класса. Вот пример, как может выглядеть вызов, предполагая, что `Supplier` содержит необходимые атрибуты:

```python
# Предполагаемый пример создания и использования объекта Supplier
class Supplier:
    def __init__(self, driver, locators):
        self.driver = driver
        self.locators = locators

# Пример локаторов (нужно адаптировать под реальные значения)
login_locators = {
    'login': {
        'cookies_accept': {'by': 'XPATH', 'selector': '//button[@id="accept-cookies"]'},
        'open_login': {'by': 'XPATH', 'selector': '//a[@class="login-button"]'},
        'email_locator': {'by': 'ID', 'selector': 'email'},
        'password_locator': {'by': 'ID', 'selector': 'password'},
        'loginbutton_locator': {'by': 'XPATH', 'selector': '//button[@type="submit"]'}
    }
}

# Инициализация веб-драйвера (пример с Firefox)
from selenium import webdriver
driver = webdriver.Firefox()

# Создание объекта Supplier
supplier = Supplier(driver, login_locators)

# Вызов функции login
result = login(supplier)
print(f"Login successful: {result}")
```

Этот пример демонстрирует, как можно создать объект `Supplier` с необходимыми атрибутами и передать его в функцию `login`.