# Анализ кода модуля e_11.md

**Качество кода**
10
- Плюсы
    - Код написан в формате markdown.
    - Присутствует описание задачи и условия.
- Минусы
    - Отсутствует код для решения задачи, только описание.

**Рекомендации по улучшению**
1. Добавить реализацию решения задачи на Python с использованием функций и соответствующих библиотек.
2. Добавить подробные комментарии в формате RST к функциям и переменным.
3. Внедрить логирование ошибок с помощью `logger.error` вместо общих `try-except` блоков.
4. Предоставить пример использования с подробным описанием.

**Оптимизированный код**
```python
"""
Модуль для решения задачи Project Euler #11.
=========================================================================================

Находит наибольшее произведение из четырех смежных чисел в сетке 20x20.

Пример использования
--------------------

.. code-block:: python

    from src.utils.jjson import j_loads_ns
    from src.logger.logger import logger
    
    file_path = 'hypotez/src/endpoints/ai_games/projecteuler/ru/problems/e_11.md'
    grid_data = '''08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 17 12 94
    13 49 49 58 40 07 08 16 96 30 36 68 42 57 06 39 70 83 51 54
    24 75 37 29 33 90 69 94 04 71 23 67 10 04 39 21 50 31 95 96
    49 18 77 20 91 60 08 60 68 97 26 67 56 40 49 61 78 14 98 92
    31 49 31 73 56 71 44 65 25 43 91 52 97 51 14 70 11 33 28 77
    94 45 95 26 12 39 49 16 08 88 96 10 71 61 28 89 92 71 16 85
    16 98 59 53 40 28 25 51 96 12 53 95 14 39 69 61 92 14 71 87
    43 67 15 43 82 59 48 57 24 06 37 99 71 62 76 95 83 30 25 78
    14 39 67 53 53 49 55 96 57 17 28 39 72 83 17 88 79 98 76 56
    04 98 90 80 90 49 91 72 85 16 70 47 12 19 19 68 03 60 40 54
    30 14 64 31 27 49 11 98 20 87 29 99 95 08 52 32 43 69 72 26
    16 98 53 42 67 14 92 19 46 91 16 92 51 31 09 53 10 61 16 59
    54 70 34 96 56 16 45 64 81 92 39 97 86 29 17 71 58 51 71 77
    60 20 78 46 97 69 40 65 31 48 95 40 56 79 45 41 81 77 35 99
    70 81 85 54 27 98 88 36 77 87 15 77 78 48 98 25 39 65 03 18
    67 16 36 51 00 88 80 95 18 35 59 78 41 47 85 36 10 92 98 72
    93 37 15 00 60 94 17 20 78 93 67 08 87 57 48 26 02 98 86 27
    69 75 34 96 67 87 63 64 87 17 06 98 99 76 31 27 97 92 29 51
    85 88 60 64 52 81 97 96 44 85 60 98 88 15 77 40 99 84 59 75
    12 49 77 29 60 78 87 76 65 84 76 83 81 89 98 83 79 99 76 07'''

    grid = j_loads_ns(grid_data)
    result = find_largest_product(grid)
    print(f"Наибольшее произведение: {result}")
"""
from src.utils.jjson import j_loads_ns
from src.logger.logger import logger

def find_largest_product(grid: list[list[int]]) -> int:
    """
    Находит наибольшее произведение четырех смежных чисел в сетке.

    :param grid: Двумерный список целых чисел, представляющий сетку.
    :return: Наибольшее произведение четырех смежных чисел.
    """
    rows = len(grid)
    cols = len(grid[0])
    max_product = 0

    # Проверка произведения по горизонтали
    for r in range(rows):
        for c in range(cols - 3):
            try:
                product = grid[r][c] * grid[r][c+1] * grid[r][c+2] * grid[r][c+3]
                max_product = max(max_product, product)
            except Exception as e:
                logger.error(f'Ошибка при проверке по горизонтали: {e}')
                

    # Проверка произведения по вертикали
    for r in range(rows - 3):
        for c in range(cols):
            try:
                product = grid[r][c] * grid[r+1][c] * grid[r+2][c] * grid[r+3][c]
                max_product = max(max_product, product)
            except Exception as e:
                logger.error(f'Ошибка при проверке по вертикали: {e}')

    # Проверка произведения по диагонали (слева направо, сверху вниз)
    for r in range(rows - 3):
        for c in range(cols - 3):
            try:
                product = grid[r][c] * grid[r+1][c+1] * grid[r+2][c+2] * grid[r+3][c+3]
                max_product = max(max_product, product)
            except Exception as e:
                 logger.error(f'Ошибка при проверке по диагонали (слева направо, сверху вниз): {e}')
                

    # Проверка произведения по диагонали (справа налево, сверху вниз)
    for r in range(rows - 3):
        for c in range(3, cols):
            try:
                product = grid[r][c] * grid[r+1][c-1] * grid[r+2][c-2] * grid[r+3][c-3]
                max_product = max(max_product, product)
            except Exception as e:
                logger.error(f'Ошибка при проверке по диагонали (справа налево, сверху вниз): {e}')

    return max_product

if __name__ == '__main__':
    # Исходные данные сетки, представленные в виде строки
    grid_data = '''08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 17 12 94
    13 49 49 58 40 07 08 16 96 30 36 68 42 57 06 39 70 83 51 54
    24 75 37 29 33 90 69 94 04 71 23 67 10 04 39 21 50 31 95 96
    49 18 77 20 91 60 08 60 68 97 26 67 56 40 49 61 78 14 98 92
    31 49 31 73 56 71 44 65 25 43 91 52 97 51 14 70 11 33 28 77
    94 45 95 26 12 39 49 16 08 88 96 10 71 61 28 89 92 71 16 85
    16 98 59 53 40 28 25 51 96 12 53 95 14 39 69 61 92 14 71 87
    43 67 15 43 82 59 48 57 24 06 37 99 71 62 76 95 83 30 25 78
    14 39 67 53 53 49 55 96 57 17 28 39 72 83 17 88 79 98 76 56
    04 98 90 80 90 49 91 72 85 16 70 47 12 19 19 68 03 60 40 54
    30 14 64 31 27 49 11 98 20 87 29 99 95 08 52 32 43 69 72 26
    16 98 53 42 67 14 92 19 46 91 16 92 51 31 09 53 10 61 16 59
    54 70 34 96 56 16 45 64 81 92 39 97 86 29 17 71 58 51 71 77
    60 20 78 46 97 69 40 65 31 48 95 40 56 79 45 41 81 77 35 99
    70 81 85 54 27 98 88 36 77 87 15 77 78 48 98 25 39 65 03 18
    67 16 36 51 00 88 80 95 18 35 59 78 41 47 85 36 10 92 98 72
    93 37 15 00 60 94 17 20 78 93 67 08 87 57 48 26 02 98 86 27
    69 75 34 96 67 87 63 64 87 17 06 98 99 76 31 27 97 92 29 51
    85 88 60 64 52 81 97 96 44 85 60 98 88 15 77 40 99 84 59 75
    12 49 77 29 60 78 87 76 65 84 76 83 81 89 98 83 79 99 76 07'''
    
    # Код преобразует строковые данные в список списков целых чисел
    grid = j_loads_ns(grid_data)
    # Код находит и выводит наибольшее произведение в сетке
    result = find_largest_product(grid)
    print(f"Наибольшее произведение: {result}")
```