Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код представляет собой базовый класс `DriverBase` для работы с веб-драйверами, который инкапсулирует общие методы и атрибуты, используемые различными веб-драйверами (например, Chrome, Firefox, Edge).  Код включает импорты необходимых библиотек, метакласс `DriverMeta` для создания новых классов драйверов, а также класс `Driver`, который позволяет динамически создавать веб-драйверы для разных браузеров, на основе `DriverBase` и конкретного типа браузера.  Он предоставляет методы для взаимодействия со страницей, выполнения JavaScript-кода, управления куки, перехода по URL, прокрутки страницы, определения языка страницы, обновления страницы, сохранения куки и др.

Шаги выполнения
-------------------------
1. **Импортирует необходимые библиотеки:** Код импортирует модули из `selenium`, `typing`, `pathlib` и другие, необходимые для работы с веб-драйверами, обработкой исключений, и выполнения дополнительных задач.
2. **Определяет базовый класс `DriverBase`:** Этот класс содержит общие атрибуты (например, `previous_url`, `referrer`, `page_lang`) и методы (например, `get_url`, `scroll`, `locale`) для работы с веб-страницей.
3. **Создает метакласс `DriverMeta`:**  Этот метакласс динамически создает новые классы драйверов, наследуя от `DriverBase` и указанного класса веб-драйвера (например, `Chrome`, `Firefox`).
4. **Создает класс `Driver`:**  Этот класс использует метакласс `DriverMeta` для создания экземпляров драйверов,  обеспечивая единый интерфейс для работы с различными типами браузеров.


Пример использования
-------------------------
.. code-block:: python

    from src.webdriver import Driver, Chrome

    # Создаем объект драйвера Chrome
    driver = Driver(Chrome)

    # Переходим на страницу
    driver.get_url("https://www.example.com")

    # Прокручиваем страницу вниз
    driver.scroll(scrolls=3, frame_size=500, direction='forward', delay=0.5)

    # Получаем язык страницы
    page_language = driver.locale()

    # Сохраняем куки в файл
    driver._save_cookies_locally('cookies.pkl')

    # Обновляем страницу
    driver.page_refresh()

    # Закрываем драйвер (важно!)
    driver.quit()