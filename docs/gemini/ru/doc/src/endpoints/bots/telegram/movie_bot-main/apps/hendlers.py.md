# Документация модуля `hendlers.py`

## Обзор

Модуль `hendlers.py` содержит обработчики сообщений и callback-запросов для Telegram-бота, предназначенного для поиска фильмов и сериалов. Он использует библиотеку `aiogram` для управления состоянием бота и взаимодействия с пользователем.

## Оглавление

1. [Классы](#классы)
    - [Params](#params)
2. [Функции](#функции)
    - [`command_start_handler`](#command_start_handler)
    - [`movie_handler`](#movie_handler)
    - [`series_handler`](#series_handler)
    - [`film_handler`](#film_handler)
    - [`name_handler`](#name_handler)

## Классы

### `Params`

**Описание**: Класс `Params` представляет собой группу состояний для конечного автомата, используемого при поиске фильмов или сериалов.

**Состояния**:
- `type_movie`: Состояние для выбора типа фильма (фильм или сериал).
- `name`: Состояние для ввода названия фильма или сериала.

## Функции

### `command_start_handler`

**Описание**: Обработчик команды `/start`. Отправляет приветственное сообщение пользователю и предлагает начать поиск фильма.

**Параметры**:
- `message` (Message): Объект сообщения от пользователя.

**Возвращает**:
- `None`

### `movie_handler`

**Описание**: Обработчик callback-запроса `new_movies`. Устанавливает состояние `Params.type_movie` и предлагает пользователю выбрать тип фильма (фильм или сериал).

**Параметры**:
- `callback` (CallbackQuery): Объект callback-запроса от пользователя.
- `state` (FSMContext): Объект контекста конечного автомата.

**Возвращает**:
- `None`

### `series_handler`

**Описание**: Обработчик callback-запроса `series`. Удаляет предыдущее сообщение, обновляет состояние, устанавливает состояние `Params.name` и запрашивает название сериала.

**Параметры**:
- `callback` (CallbackQuery): Объект callback-запроса от пользователя.
- `state` (FSMContext): Объект контекста конечного автомата.

**Возвращает**:
- `None`

### `film_handler`

**Описание**: Обработчик callback-запроса `film`. Удаляет предыдущее сообщение, обновляет состояние, устанавливает состояние `Params.name` и запрашивает название фильма.

**Параметры**:
- `callback` (CallbackQuery): Объект callback-запроса от пользователя.
- `state` (FSMContext): Объект контекста конечного автомата.

**Возвращает**:
- `None`

### `name_handler`

**Описание**: Обработчик сообщений в состоянии `Params.name`. Сохраняет название фильма, выполняет поиск и отправляет результаты пользователю. Если фильм не найден, отправляет соответствующее сообщение. Завершает диалог и предлагает начать новый поиск.

**Параметры**:
- `message` (Message): Объект сообщения от пользователя.
- `state` (FSMContext): Объект контекста конечного автомата.

**Возвращает**:
- `None`