# Анализ кода модуля `bagles.py`

**Качество кода**
- **Соответствие требованиям к формату кода (1-10):**

    - **Преимущества:**
        - Код хорошо структурирован и легко читается.
        - Функции имеют понятные имена и выполняют определенные задачи.
        - Имеется комментарий к каждой функции и логическому блоку.
        - Логика игры четко разделена на функции.
        - Основной игровой цикл реализован правильно.
        - Проверка валидности ввода пользователя присутствует.
        - Код соответствует правилам игры.
    - **Недостатки:**
        - Отсутствует документация в формате reStructuredText (RST).
        - Нет обработки ошибок с использованием `logger`.
        - Не используется `j_loads` или `j_loads_ns` для чтения данных.
        - Нет явного импорта для `logger`
        - Код не следует всем соглашениям по стилю PEP 8.

**Рекомендации по улучшению**

1. **Документация:**
    - Переписать комментарии и docstring в формате RST.
    - Добавить описание модуля в начале файла.
    - Улучшить описание каждой функции, включая параметры и возвращаемые значения.
2. **Обработка ошибок:**
    - Использовать `from src.logger.logger import logger` для логирования ошибок.
    - Заменить `print` для вывода ошибок на `logger.error`.
3. **Использование `j_loads`:**
    - Хотя в данном коде нет работы с JSON, при необходимости чтения JSON файлов в будущем следует использовать `j_loads` или `j_loads_ns`.
4. **Соглашения по стилю:**
    - Привести код в соответствие со стандартом PEP 8, например, длина строк.
5. **Улучшить сообщения:**
    - Сообщения для пользователя сделать более информативными.

**Улучшенный код**

```python
"""
Модуль для игры "Бейглы"
=========================================================================================

Эта игра представляет собой логическую головоломку, в которой игрок пытается угадать
трехзначное число, составленное из неповторяющихся цифр.

Пример использования
--------------------

.. code-block:: python

    if __name__ == "__main__":
        play_bagels()
"""
import random
from src.logger.logger import logger # Добавлен импорт для логгера

def generate_secret_number() -> str:
    """
    Генерирует случайное трехзначное число с неповторяющимися цифрами.

    :return: Секретное трехзначное число в виде строки.
    :rtype: str
    """
    digits = list(range(10)) # Создаем список цифр от 0 до 9
    random.shuffle(digits) # Перемешиваем цифры случайным образом
    secret_number = str(digits[0]) + str(digits[1]) + str(digits[2]) # Создаем трехзначное число и преобразуем в строку
    return secret_number

def get_clues(secret_number: str, user_guess: str) -> list:
    """
    Генерирует подсказки PICO, FERMI и BAGELS.

    :param secret_number: Секретное трехзначное число.
    :type secret_number: str
    :param user_guess: Предположение пользователя.
    :type user_guess: str
    :return: Список подсказок.
    :rtype: list
    """
    clues = [] # Инициализируем список подсказок
    for i in range(3): # Перебираем по индексам символы чисел
        if user_guess[i] == secret_number[i]: # Проверяем совпадение цифры на той же позиции
            clues.append("PICO") # Если цифра угадана и стоит на своем месте, добавляем "PICO"
        elif user_guess[i] in secret_number: # Проверяем, есть ли цифра в секретном числе
            clues.append("FERMI") # Если цифра угадана, но стоит не на своем месте, добавляем "FERMI"
    if not clues: # Если нет ни одной подсказки
        return ["BAGELS"] # Если не найдено ни одной подсказки, возвращаем "BAGELS"
    return clues

def play_bagels():
    """
    Основная логика игры Бейглы.
    """
    secret_number = generate_secret_number() # Генерируем секретное число
    number_of_guesses = 0 # Инициализируем счетчик попыток

    print("Я загадал трехзначное число, состоящее из неповторяющихся цифр.") # Выводим приветствие
    print("Попробуй угадать его. \nПодсказки:") # Выводим подсказку
    print("PICO - цифра на правильном месте, FERMI - цифра есть, но не на месте, BAGELS - ничего не угадано") # Выводим описание подсказок

    while number_of_guesses < 10: # Основной игровой цикл
        number_of_guesses += 1 # Увеличиваем счетчик попыток

        while True: # Бесконечный цикл для проверки ввода
            user_guess = input(f"Попытка №{number_of_guesses}. Введите трехзначное число: ") # Получаем ввод от пользователя
            if len(user_guess) == 3 and user_guess.isdigit(): # Проверяем, является ли ввод трехзначным числом
                break # Выходим из цикла, если ввод верный
            else:
                print("Пожалуйста, введите трехзначное число!") # Повторяем запрос, если ввод не верный

        if user_guess == secret_number: # Проверяем, угадал ли пользователь число
            print(f"Поздравляю! Вы угадали число за {number_of_guesses} попыток!") # Выводим сообщение о победе
            return # Завершаем игру
        else:
            clues = get_clues(secret_number, user_guess) # Получаем подсказки
            print(" ".join(clues)) # Выводим подсказки

    print(f"Вы проиграли. Загаданное число было: {secret_number}") # Выводим загаданное число, если не угадали за 10 попыток

if __name__ == "__main__":
    play_bagels() # Запускаем игру
```