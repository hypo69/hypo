# Модуль `graber.py`

## Обзор

Модуль `graber.py` является частью проекта `hypotez` и предназначен для сбора значений полей на странице товара веб-сайта `morlevi.co.il`. Он содержит класс `Graber`, который наследует функциональность от родительского класса `Graber` (переименованного как `Grbr` для избежания коллизий имен) и переопределяет методы для нестандартной обработки полей, если это необходимо.

## Подробней

Этот модуль специализируется на извлечении информации о товарах с сайта `morlevi.co.il`. Он использует веб-драйвер для взаимодействия со страницей и выполняет предварительные действия перед отправкой запросов к веб-драйверу через декораторы. Основная задача модуля - обеспечить точный и надежный сбор данных о товарах, адаптированный к специфической структуре веб-сайта `morlevi.co.il`.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для захвата информации о товарах с сайта `morlevi.co.il`. Он наследует базовую функциональность от класса `Graber` (как `Grbr`) и расширяет её, чтобы соответствовать специфическим требованиям сайта `morlevi.co.il`.

**Как работает класс**:

1.  **Инициализация**: При создании экземпляра класса `Graber` происходит инициализация с указанием префикса поставщика (`morlevi`), драйвера веб-браузера и индекса языка.
2.  **Наследование**: Класс наследует методы для обработки полей товара от родительского класса `Grbr`.
3.  **Переопределение методов**: При необходимости, методы родительского класса переопределяются для нестандартной обработки полей, специфичных для сайта `morlevi.co.il`.
4.  **Декораторы**: Используются декораторы для выполнения предварительных действий перед отправкой запросов к веб-драйверу.

**Методы**:

*   `__init__`: Инициализирует класс `Graber`, вызывая конструктор родительского класса и устанавливая значение `Context.locator_for_decorator` для использования декоратора.

**Параметры**:

*   `driver` (Driver): Экземпляр веб-драйвера для управления браузером.
*   `lang_index` (int): Индекс языка, используемый для локализации.

### `__init__`

```python
def __init__(self, driver: Driver, lang_index:int):
    """Инициализация класса сбора полей товара."""
    super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)
    Context.locator_for_decorator = self.locator.close_pop_up
```

**Назначение**: Инициализация экземпляра класса `Graber`.

**Как работает функция**:

1.  Вызывает конструктор родительского класса `Grbr` с передачей префикса поставщика, драйвера и индекса языка.
2.  Устанавливает атрибут `Context.locator_for_decorator` равным локатору закрытия всплывающего окна, чтобы декоратор мог выполнить предварительные действия.

**Параметры**:

*   `driver` (Driver): Экземпляр веб-драйвера, используемый для взаимодействия с веб-страницей.
*   `lang_index` (int): Индекс языка, используемый для локализации содержимого.

**Внутренние действия и преобразования**:

1.  **Вызов конструктора родительского класса**: Инициализирует атрибуты, общие для всех граберов.
2.  **Установка локатора для декоратора**:
    A. `Context.locator_for_decorator = self.locator.close_pop_up` - Устанавливает локатор для закрытия всплывающего окна, чтобы декоратор мог выполнить предварительные действия.

**Примеры**:

```python
from src.webdriver.driver import Driver
from selenium import webdriver

# Пример использования (необходима настройка драйвера)
#driver = Driver(webdriver.Chrome)
#graber = Graber(driver, 0)