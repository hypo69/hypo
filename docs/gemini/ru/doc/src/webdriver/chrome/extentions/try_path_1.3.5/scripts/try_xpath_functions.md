# Модуль try_xpath_functions

## Обзор

Данный модуль предоставляет функции для работы с XPath выражениями и DOM-нодами в JavaScript. Он содержит методы для оценки XPath выражений, работы с результатами, манипулирования атрибутами и классами элементов, поиска элементов по CSS-селекторам, получения информации об элементах, создания и управления таблицами деталей элементов.

## Функции

### `execExpr`

**Описание**: Выполняет XPath выражение или CSS селектор на заданном контексте.

**Параметры**:

- `expr` (string): XPath выражение или CSS селектор для выполнения.
- `method` (string): Метод для выполнения выражения ("evaluate", "querySelector", "querySelectorAll").
- `opts` (object, optional): Опции для выполнения.
    - `context` (object, optional): Контекст для выполнения выражения (документ, элемент).
    - `resolver` (function | string | object, optional): Резольвер для обработки значений (функция, строка JSON).
    - `document` (object, optional): Документ, на котором выполняется выражение.
    - `resultType` (number, optional): Тип результата (xpathResult).

**Возвращает**:

- object: Объект с результатами:
    - `items` (array): Массив результатов выполнения.
    - `method` (string): Используемый метод ("evaluate", "querySelector", "querySelectorAll").
    - `resultType` (number): Тип результата (xpathResult).

**Вызывает исключения**:

- `Error`: Возникает при ошибке выполнения выражения или при несоответствии контекста.


### `resToArr`

**Описание**: Преобразует результат XPath выражения в массив.

**Параметры**:

- `res` (object): Результат вызова `evaluate`.
- `type` (number, optional): Тип результата.

**Возвращает**:

- array: Массив результатов.

**Вызывает исключения**:

- `Error`: Возникает при неверном типе результата.


### `makeResolver`

**Описание**: Создает функцию-резольвер для обработки значений.

**Параметры**:

- `obj` (function | string | object): Резольвер для обработки значений (функция, строка JSON, объект).

**Возвращает**:

- function | null: Функция-резольвер или null, если obj = null.

**Вызывает исключения**:

- `Error`: Возникает при неверном формате резольвера (не функция и не JSON строка).


### `isValidDict`

**Описание**: Проверяет, является ли переданный объект валидным объектом.

**Параметры**:

- `obj` (object): Объект для проверки.

**Возвращает**:

- boolean: `true`, если объект является валидным объектом, иначе `false`.


### `objToMap`

**Описание**: Преобразует объект в Map.

**Параметры**:

- `obj` (object): Объект для преобразования.

**Возвращает**:

- Map: Объект Map.


### `isDocOrElem`

**Описание**: Проверяет, является ли объект элементом или документом.

**Параметры**:

- `obj` (object): Объект для проверки.

**Возвращает**:

- boolean: `true`, если объект является элементом или документом, иначе `false`.


### `listToArr`

**Описание**: Преобразует список в массив.

**Параметры**:

- `list` (array): Список для преобразования.

**Возвращает**:

- array: Массив результатов.


### `getItemDetail`

**Описание**: Возвращает детали об элементе.

**Параметры**:

- `item` (object): Элемент для получения деталей.

**Возвращает**:

- object: Объект с деталями элемента.

**Вызывает исключения**:

- Нет.


### `getItemDetails`

**Описание**: Возвращает детали об массиве элементов.

**Параметры**:

- `items` (array): Массив элементов.

**Возвращает**:

- array: Массив объектов с деталями элементов.


### `getNodeTypeStr`

**Описание**: Преобразует числовой тип узла в строковое представление.

**Параметры**:

- `nodeType` (number): Числовой тип узла.

**Возвращает**:

- string: Строковое представление типа узла.


### `getxpathResultStr`

**Описание**: Преобразует числовой тип результата XPath в строку.

**Параметры**:

- `resultType` (number): Числовой тип результата.

**Возвращает**:

- string: Строковое представление типа результата.

### `getxpathResultNum`

**Описание**: Преобразует строковое представление типа результата XPath в числовой.

**Параметры**:

- `resultTypeStr` (string): Строковое представление типа результата.

**Возвращает**:

- number: Числовое представление типа результата.


### `isAttrItem`

**Описание**: Проверяет, является ли элемент атрибутом.

**Параметры**:

- `item` (object): Элемент.

**Возвращает**:

- boolean: `true`, если элемент является атрибутом, иначе `false`.


### `isNodeItem`

**Описание**: Проверяет, является ли элемент узлом.

**Параметры**:

- `item` (object): Элемент.

**Возвращает**:

- boolean: `true`, если элемент является узлом, иначе `false`.


### `isElementItem`

**Описание**: Проверяет, является ли элемент элементом DOM.

**Параметры**:

- `item` (object): Элемент.

**Возвращает**:

- boolean: `true`, если элемент является элементом DOM, иначе `false`.


### `addClassToItem`

**Описание**: Добавляет класс к элементу.

**Параметры**:

- `clas` (string): Класс для добавления.
- `item` (object): Элемент DOM.


### ... (и так далее для всех функций)