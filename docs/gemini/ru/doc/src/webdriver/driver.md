# Модуль hypotez/src/webdriver/driver.py

## Обзор

Модуль `hypotez/src/webdriver/driver.py` предоставляет класс `Driver` для работы с веб-драйверами Selenium.  Он обеспечивает унифицированный интерфейс для инициализации, навигации, работы с куки и обработки исключений при работе с веб-драйверами.  Поддерживает разные браузеры, такие как Chrome, Firefox и Edge.

## Классы

### `Driver`

**Описание**:  Унифицированный класс для взаимодействия с Selenium WebDriver. Обеспечивает удобный способ работы с различными драйверами, такими как Chrome, Firefox и Edge.

**Атрибуты**:

- `driver` (selenium.webdriver): Экземпляр Selenium WebDriver.

**Методы**:

#### `__init__(self, webdriver_cls, *args, **kwargs)`

**Описание**: Инициализирует экземпляр класса `Driver`.

**Параметры**:

- `webdriver_cls` (type): Класс WebDriver (например, `Chrome`, `Firefox`).
- `*args`: Позиционные аргументы для драйвера.
- `**kwargs`: Ключевые аргументы для драйвера.

**Возвращает**:
- None

**Исключения**:

- `TypeError`: Если `webdriver_cls` не является допустимым классом WebDriver.


#### `__init_subclass__(cls, *, browser_name=None, **kwargs)`

**Описание**: Автоматически вызывается при создании подкласса `Driver`.

**Параметры**:

- `browser_name` (str, необязательно): Имя браузера.
- `**kwargs`: Дополнительные аргументы.

**Возвращает**:
- None

**Исключения**:

- `ValueError`: Если `browser_name` не указан.


#### `__getattr__(self, item)`

**Описание**: Прокси для доступа к атрибутам драйвера.

**Параметры**:

- `item` (str): Имя атрибута.

**Возвращает**:
- Значение атрибута.

**Пример**:

```python
>>> driver.current_url
```


#### `scroll(self, scrolls=1, frame_size=600, direction='both', delay=.3)`

**Описание**: Прокручивает страницу в указанном направлении.

**Параметры**:

- `scrolls` (int, по умолчанию 1): Количество прокруток.
- `frame_size` (int, по умолчанию 600): Размер прокрутки в пикселях.
- `direction` (str, по умолчанию 'both'): Направление ('both', 'down', 'up').
- `delay` (float, по умолчанию 0.3): Задержка между прокрутками.

**Возвращает**:
- `bool`: `True`, если прокрутка успешна, иначе `False`.

**Пример**:

```python
>>> driver.scroll(scrolls=3, direction='down')
```

#### `get_url(self, url: str) -> bool`

**Описание**: Переходит по указанному URL.

**Параметры**:

- `url` (str): URL для перехода.

**Возвращает**:
- `bool`: `True` если переход успешен, `False` иначе.

**Исключения**:

- `WebDriverException`: Если ошибка с WebDriver.
- `InvalidArgumentException`: Если URL некорректен.
- `Exception`: Для любых других ошибок при переходе.

#### `window_open(self, url: Optional[str] = None) -> None`

**Описание**: Открывает новую вкладку и переключается на неё.

**Параметры**:

- `url` (Optional[str], по умолчанию `None`): URL для открытия во вкладке.

**Возвращает**:
- None


#### `wait(self, delay: float = .3) -> None`

**Описание**: Ожидает указанное количество времени.

**Параметры**:

- `delay` (float, по умолчанию 0.3): Время задержки в секундах.

**Возвращает**:
- None


#### `_save_cookies_localy(self) -> None`

**Описание**: Сохраняет текущие куки в локальный файл.

**Возвращает**:
- None

**Исключения**:

- `Exception`: Если ошибка при сохранении куки.

#### `fetch_html(self, url: str) -> Optional[bool]`

**Описание**: Извлекает HTML-контент из файла или веб-страницы.

**Параметры**:

- `url` (str): Путь к файлу или URL.

**Возвращает**:
- `Optional[bool]`: `True`, если контент успешно получен, `None` иначе.

**Исключения**:

- `Exception`: Если возникает ошибка при извлечении контента.


## Функции

(Нет функций в этом модуле)

##  Примечание:

Метод `_save_cookies_localy` возвращает `True`, но не используется как ожидалось, т.к. он должен обрабатывать исключения и логировать ошибки.  Необходимо проверить и исправить.