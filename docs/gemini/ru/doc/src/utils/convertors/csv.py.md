# Модуль `csv.py`

## Обзор

Модуль `csv.py` предоставляет утилиты для конвертации данных между форматами CSV и JSON. Он включает функции для преобразования данных CSV в словари и объекты SimpleNamespace, а также для сохранения данных CSV в файл.

## Оглавление

1. [Функции](#Функции)
    - [`csv2dict`](#csv2dict)
    - [`csv2ns`](#csv2ns)
    - [`csv_to_json`](#csv_to_json)

## Функции

### `csv2dict`

**Описание**: Преобразует данные из CSV файла в словарь.

**Параметры**:
- `csv_file` (str | Path): Путь к CSV файлу для чтения.
- `*args`: Произвольные позиционные аргументы, которые передаются в `read_csv_as_dict`.
- `**kwargs`: Произвольные именованные аргументы, которые передаются в `read_csv_as_dict`.

**Возвращает**:
- `dict | None`: Словарь, содержащий данные из CSV, преобразованные в формат JSON, или `None`, если преобразование не удалось.

**Вызывает исключения**:
- `Exception`: Если не удалось прочитать CSV.

### `csv2ns`

**Описание**: Преобразует данные из CSV файла в объекты `SimpleNamespace`.

**Параметры**:
- `csv_file` (str | Path): Путь к CSV файлу для чтения.
- `*args`: Произвольные позиционные аргументы, которые передаются в `read_csv_as_ns`.
- `**kwargs`: Произвольные именованные аргументы, которые передаются в `read_csv_as_ns`.

**Возвращает**:
- `SimpleNamespace | None`: Объект `SimpleNamespace`, содержащий данные из CSV, или `None`, если преобразование не удалось.

**Вызывает исключения**:
- `Exception`: Если не удалось прочитать CSV.

### `csv_to_json`

**Описание**: Преобразует CSV файл в формат JSON и сохраняет в JSON файл.

**Параметры**:
- `csv_file_path` (str | Path): Путь к CSV файлу для чтения.
- `json_file_path` (str | Path): Путь к JSON файлу для сохранения.
- `exc_info` (bool, optional): Если `True`, включает информацию трассировки в лог. По умолчанию `True`.

**Возвращает**:
- `List[Dict[str, str]] | None`: Данные в формате JSON в виде списка словарей, или `None`, если преобразование не удалось.

**Пример**:
```python
json_data = csv_to_json('dialogue_log.csv', 'dialogue_log.json')
print(json_data)
# Вывод:
# [{'role': 'user', 'content': 'Hello'}, {'role': 'assistant', 'content': 'Hi there!'}]
```

**Вызывает исключения**:
- `Exception`: Если не удалось конвертировать CSV в JSON.