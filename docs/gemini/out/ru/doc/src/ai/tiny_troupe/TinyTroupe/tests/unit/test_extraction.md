# Модуль `test_extraction.py`

## Обзор

Данный модуль содержит тесты для модуля `extraction`, проверяющие корректность экспорта артефактов в различные форматы (JSON, текст, docx) и работу нормализатора.

## Тесты экспорта

### `test_export_json`

**Описание**: Тестирует экспорт данных артефакта в формате JSON.

**Параметры**:
- `exporter` (ArtifactExporter): Экспортер артефактов.

**Возвращает**:
- Без возвращаемого значения.

**Вызывает исключения**:
- AssertionError: Если экспорт выполнен некорректно (файл не создан или данные не совпадают).


### `test_export_text`

**Описание**: Тестирует экспорт данных артефакта в формате текстового файла.

**Параметры**:
- `exporter` (ArtifactExporter): Экспортер артефактов.

**Возвращает**:
- Без возвращаемого значения.

**Вызывает исключения**:
- AssertionError: Если экспорт выполнен некорректно (файл не создан или данные не совпадают).


### `test_export_docx`

**Описание**: Тестирует экспорт данных артефакта в формате docx (с поддержкой Markdown).

**Параметры**:
- `exporter` (ArtifactExporter): Экспортер артефактов.

**Возвращает**:
- Без возвращаемого значения.

**Вызывает исключения**:
- AssertionError: Если экспорт выполнен некорректно (файл не создан или данные не совпадают).
- ImportError: Если отсутствует библиотека `docx`.


## Тесты нормализатора

### `test_normalizer`

**Описание**: Тестирует работу нормализатора (функцию `normalize`).

**Параметры**:
- Без параметров.

**Возвращает**:
- Без возвращаемого значения.

**Вызывает исключения**:
- AssertionError: Если нормализатор не выполняет ожидаемые действия (неверное количество нормализованных элементов, пустая карта нормализации, некорректная длина выходных данных).
- `TypeError`: Если нормализация некорректна и не поддерживает определенные типы.


## Фикстуры

### `exporter`

**Описание**: Фикстура, создающая экземпляр `ArtifactExporter` с заданным каталогом для экспорта.

**Параметры**:
- Без параметров.

**Возвращает**:
- `ArtifactExporter`: Экземпляр экспортера.

**Вызывает исключения**:
- `TypeError`: Если входные данные не соответствуют ожидаемому типу.


## Использование

Для запуска тестов необходимо установить необходимые библиотеки (pytest, docx).  Примеры запуска тестов:

```bash
pip install -r requirements.txt  # Установка зависимостей
pytest -v test_extraction.py
```

**Примечание**: Тесты предполагают наличие файла `testing_utils.py` и модуля `tinytroupe.extraction` с соответствующими классами и функциями.  Также, тесты проверяют существование файлов, созданных при экспорте.  Убедитесь, что у вас создана папка `./test_exports` для временного хранения результатов экспорта.