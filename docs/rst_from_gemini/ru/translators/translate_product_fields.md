```markdown
# translate_product_fields.py

Расположение файла в проекте: `C:\Users\user\Documents\repos\hypotez\src\translators\translate_product_fields.py`
Роль выполнения: `doc_creator` - создание документации.

## Модуль `src.translators`

**Описание:** Модуль управления переводами. Обеспечивает связь между словарем полей товара, таблицей переводов и переводчиками.

**Функции:**

* **`get_translations_from_presta_translations_table(product_reference, credentials, i18n)`:**
    * **Цель:** Получение переводов полей товара из таблицы переводов PrestaShop.
    * **Входные параметры:**
        * `product_reference`: Уникальный идентификатор товара.
        * `credentials`: Словарь с данными для аутентификации и подключения к базе данных переводов PrestaShop.
        * `i18n`: Код языка перевода (например, `en_EN`, `he_HE`, `ru-RU`).  Если `None`, используется язык по умолчанию.
    * **Выходные данные:** Список словарей, где каждый словарь представляет собой перевод одного поля товара.  Возвращает `list` записей.
    * **Описание работы:**
        1. Получает референс товара, данные для подключения к базе переводов PrestaShop и код языка.
        2. Формирует фильтр запроса к базе данных.
        3. Возвращает список результатов запроса.

* **`insert_new_translation_to_presta_translations_table(record, credentials)`:**
    * **Цель:** Добавление новой записи перевода в таблицу переводов PrestaShop.
    * **Входные параметры:**
        * `record`: Словарь, представляющий перевод (формат аналогичен результату `get_translations_from_presta_translations_table`).
        * `credentials`: Словарь с данными для аутентификации и подключения к базе данных переводов PrestaShop.
    * **Выход:**  (Возможно, неявный) - метод может не возвращать значение. Действие выполняется с помощью `ProductTranslationsManager`.

* **`translate_record(record, from_locale, to_locale)`:**
    * **Цель:** Перевод полей товара.
    * **Входные параметры:**
        * `record`: Словарь, представляющий поля товара, которые нужно перевести.
        * `from_locale`: Код исходного языка (например, `en_EN`).
        * `to_locale`: Код целевого языка (например, `ru_RU`).
    * **Выходные данные:** Словарь с переведенными полями товара.
    * **Описание работы:**
        1. Передает `record` и кодировку языка функции перевода из `src.ai`.
        2. Обрабатывает результат и возвращает переведенную запись.  **Необходимо добавить описание обработки результата перевода.** Например: обработка ошибок, валидация, форматирование.

**Примечание:**

* Модуль использует классы `ProductTranslationsManager`, `Prestashop`, `translate` из других модулей проекта.
* Функция `translate_record` вызывает функцию перевода из `src.ai` (необходимо дополнить описание этой функции).
* Требуется реализация парсера для обработки кодов языков `en_EN`, `he_HE`, `ru-RU`.


**TODO:**

* Дописать реализацию обработки результатов перевода в `translate_record`.
* Разработать парсер для кодов языков.
* Подробнее описать `ProductTranslationsManager`, `Prestashop` и `translate`.
* Добавить обработку ошибок при взаимодействии с базой данных и функциями перевода.
* Добавить пример использования функций.


```