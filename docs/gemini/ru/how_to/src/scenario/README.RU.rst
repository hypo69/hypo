Как использовать модуль src.scenario
================================================================================
Описание
-------------------------
Модуль `src.scenario` автоматизирует взаимодействие с поставщиками через сценарии, описанные в JSON-файлах.  Он извлекает и обрабатывает данные о продуктах с веб-сайтов поставщиков и синхронизирует их с базой данных (например, PrestaShop).

Шаги выполнения
-------------------------
1. **Подготовка файлов сценариев**: Создайте JSON-файлы, описывающие сценарии. Каждый файл содержит информацию о продуктах (URL, названия категорий, идентификаторы категорий в базе данных PrestaShop).  Пример содержимого файла:

   .. code-block:: json

       {
           "scenarios": {
               "Категория продукта": {
                   "url": "https://example.com/category",
                   "name": "Категория продукта",
                   "presta_categories": {
                       "default_category": 123,
                       "additional_categories": [456, 789]
                   }
               }
           }
       }


2. **Задайте список файлов**: Создайте список путей к файлам сценариев (например, `scenario_files_list`).

3. **Запустите модуль**: Используйте функцию `run_scenario_files(scenario_files_list)`, чтобы начать обработку сценариев. Функция `run_scenario_files` последовательно обрабатывает каждый файл из списка, вызывая `run_scenario_file` для каждого файла.

4. **Обработка файла**: Функция `run_scenario_file` загружает сценарии из файла и для каждого сценария запускает `run_scenario`.

5. **Обработка сценария**: Функция `run_scenario` обрабатывает отдельный сценарий:
    - Переходит по URL, указанному в сценарии.
    - Извлекает данные о продуктах.
    - Преобразует данные в нужный формат.
    - Сохраняет извлечённые данные в базе данных, используя информацию о категориях.

6. **Ведение журнала**: Функция `dump_journal` сохраняет историю выполнения (журнал) сценариев в файл для последующего анализа.

7. **Окончание работы**: Процесс завершается успешно после обработки всех сценариев.


Пример использования
-------------------------
.. code-block:: python

    import src.scenario as scenario
    import os

    # Пути к файлам сценариев
    scenario_files_list = [
        os.path.join('scenarios', 'scenario1.json'),
        os.path.join('scenarios', 'scenario2.json'),
    ]

    # Запуск модуля для обработки сценариев
    scenario.run_scenario_files(scenario_files_list)