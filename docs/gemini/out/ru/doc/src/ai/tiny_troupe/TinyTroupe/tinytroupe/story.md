# Модуль `tinytroupe.story`

## Обзор

Этот модуль предоставляет инструменты для создания историй на основе симуляций, используемых в TinyTroupe. Он позволяет описывать среду, агентов и цели симуляции, а затем генерировать текст истории, используя LLM (Large Language Model).

## Классы

### `TinyStory`

**Описание**: Класс `TinyStory` представляет собой структуру для хранения и обработки данных, связанных с историей симуляции. Он позволяет задать контекст, цель, агента или среду, а также настроить параметры генерации истории.

**Конструктор `__init__`**:

**Описание**: Инициализирует объект `TinyStory`.

**Параметры**:
- `environment` (TinyWorld, опционально): Объект TinyWorld, представляющий среду симуляции.
- `agent` (TinyPerson, опционально): Объект TinyPerson, представляющий агента в симуляции.
- `purpose` (str, опционально): Цель или описание истории (по умолчанию "Be a realistic simulation.").
- `context` (str, опционально): Текущий контекст истории (по умолчанию пустая строка).
- `first_n` (int, опционально): Количество первых взаимодействий для включения в историю (по умолчанию 10).
- `last_n` (int, опционально): Количество последних взаимодействий для включения в историю (по умолчанию 20).
- `include_omission_info` (bool, опционально): Включить ли информацию о пропущенных взаимодействиях (по умолчанию True).


**Исключения**:
- `Exception`: Бросается, если одновременно указаны оба параметра `environment` и `agent`.
- `Exception`: Бросается, если не указан ни `environment`, ни `agent`.

**Методы**:

- `start_story`: Запускает генерацию истории с использованием LLM.
- `continue_story`: Продолжает текущую историю с помощью LLM.
- `_current_story`: Возвращает текущую историю, включая детали среды/агента.

### `start_story`

**Описание**: Начинает генерацию новой истории с использованием LLM.

**Параметры**:
- `requirements` (str, опционально): Дополнительные требования к генерируемой истории.
- `number_of_words` (int, опционально): Ожидаемое количество слов в истории (по умолчанию 100).
- `include_plot_twist` (bool, опционально): Включать ли неожиданные повороты в истории (по умолчанию False).

**Возвращает**:
- str: Сгенерированный текст истории.


### `continue_story`

**Описание**: Продолжает текущую историю с использованием LLM.

**Параметры**:
- `requirements` (str, опционально): Дополнительные требования к продолжению истории.
- `number_of_words` (int, опционально): Ожидаемое количество слов в продолжении истории (по умолчанию 100).
- `include_plot_twist` (bool, опционально): Включать ли неожиданные повороты в продолжении истории (по умолчанию False).

**Возвращает**:
- str: Сгенерированный текст продолжения истории.

### `_current_story`

**Описание**: Возвращает текущий текст истории, включая информацию об интеракции агента/среды.

**Возвращает**:
- str: Текст истории.