# Модуль для работы с полями Facebook

## Обзор

Модуль `facebook_fields.py` предназначен для загрузки и хранения полей, используемых в рекламных объявлениях и событиях Facebook. Он содержит класс `FacebookFields`, который инициализирует эти поля из JSON-файла.

## Подробней

Модуль обеспечивает удобный способ доступа к необходимым полям для работы с API Facebook, таким как создание и управление рекламными кампаниями и событиями. Он использует `j_loads` для загрузки данных из JSON-файла, расположенного в директории `src/advertisement/facebok/`.

## Классы

### `FacebookFields`

**Описание**: Класс `FacebookFields` предназначен для хранения полей, используемых в рекламных объявлениях и событиях Facebook.

**Принцип работы**:
Класс инициализируется методом `__init__`, который вызывает метод `_payload` для загрузки данных из JSON-файла. Данные из файла устанавливаются как атрибуты класса, что обеспечивает удобный доступ к ним.

**Аттрибуты**:
- Атрибуты устанавливаются динамически из JSON файла `facebook_feilds.json`.

**Методы**:

- `__init__`: Метод инициализации класса.
- `_payload()`: Метод для загрузки и установки полей из JSON-файла.

### `FacebookFields.__init__`

```python
def __init__(self):
    """ """
    ...
    self._payload()
```

**Назначение**: Инициализирует экземпляр класса `FacebookFields` и вызывает метод `_payload` для загрузки данных.

**Как работает функция**:

1.  Выполняет операцию `...` (бездействует, заглушка).
2.  Вызывает метод `_payload` для загрузки данных из JSON-файла и установки их в качестве атрибутов класса.

```
Начало
  ↓
Вызов _payload
  ↓
Конец
```

### `FacebookFields._payload`

```python
def _payload(self):
    """ """
    ...
    data = j_loads (Path (gs.path.src, 'advertisement', 'facebok', 'facebook_feilds.json'))
    if not data:
        logger.debug(f"Ошибка загрузки полей из файла {gs.path.src}/advertisement/facebok/facebook_feilds.json")
        return 
    for name, value in data.items():
        setattr(self, f'{name}', value)
    return True
```

**Назначение**: Загружает данные о полях Facebook из JSON-файла и устанавливает их как атрибуты класса.

**Как работает функция**:

1.  Выполняет операцию `...` (бездействует, заглушка).
2.  Формирует путь к файлу `facebook_feilds.json`, используя `gs.path.src` для определения базовой директории.
3.  Загружает данные из JSON-файла с использованием функции `j_loads`.
4.  Проверяет, успешно ли загружены данные. Если данные не загружены, логирует отладочное сообщение об ошибке и завершает выполнение функции.
5.  Перебирает элементы загруженного словаря `data` и устанавливает каждый элемент как атрибут класса с помощью функции `setattr`.
6.  Возвращает `True`, если загрузка и установка атрибутов прошли успешно.

```
Начало
  ↓
Загрузка данных из JSON файла
  ↓
Проверка загрузки данных
  ├── Данные отсутствуют --> Логирование ошибки и выход
  ↓
Установка атрибутов класса
  ↓
Возврат True
  ↓
Конец
```

**Примеры**:

```python
from src.endpoints.advertisement.facebook.facebook_fields import FacebookFields

# Создание экземпляра класса
fields = FacebookFields()

# Доступ к атрибутам, если они были успешно загружены
# Например, если в facebook_feilds.json есть поле 'ad_name'
# print(fields.ad_name)