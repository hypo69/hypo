# Модуль `src.logger`

## Обзор

Модуль `src.logger` предоставляет гибкую систему логирования для Python-приложений. Он поддерживает логирование в консоль, файлы и в формате JSON, используя шаблон проектирования Singleton для обеспечения единственного экземпляра логгера. Логгер поддерживает различные уровни логирования (`INFO`, `ERROR`, `DEBUG`) и включает цветное отображение вывода в консоль. Также доступны настройки форматов вывода и управление логированием в различные файлы.

## Оглавление

* [Классы](#классы)
* [Функции](#функции)
* [Параметры логгера](#параметры-логгера)
* [Конфигурация для логирования в файл](#конфигурация-для-логирования-в-файл)
* [Примеры использования](#примеры-использования)

## Классы

### `SingletonMeta`

**Описание**: Метакласс, реализующий шаблон Singleton для логгера.  Он гарантирует, что существует только один экземпляр класса `Logger`.

### `JsonFormatter`

**Описание**: Кастомный форматтер для вывода логов в формате JSON.

### `Logger`

**Описание**: Основной класс логгера, поддерживающий логирование в консоль, файлы и в формате JSON.

**Методы**

- `__init__`: Инициализирует экземпляр класса `Logger` с плейсхолдерами для различных типов логгеров (консоль, файлы и JSON).
- `_configure_logger`: Настраивает и возвращает экземпляр логгера.
- `initialize_loggers`: Инициализирует логгеры для логирования в консоль и файлы (информация, отладка, ошибки и JSON).
- `log`: Логирует сообщение на указанном уровне (например, `INFO`, `DEBUG`, `ERROR`) с возможным исключением и цветовым форматированием.
- `info`: Логирует информационное сообщение.
- `success`: Логирует сообщение об успешной операции.
- `warning`: Логирует предупреждение.
- `debug`: Логирует сообщение для отладки.
- `error`: Логирует сообщение об ошибке.
- `critical`: Логирует критическое сообщение.


## Функции

### `__init__`

**Описание**: Инициализирует экземпляр класса `Logger` с плейсхолдерами для различных типов логгеров.

**Параметры**: Нет.

**Возвращает**: Экземпляр класса `Logger`.

### `_configure_logger(name: str, log_path: str, level: Optional[int] = logging.DEBUG, formatter: Optional[logging.Formatter] = None, mode: Optional[str] = 'a') -> logging.Logger`

**Описание**: Настраивает и возвращает экземпляр логгера.

**Параметры**:
- `name` (str): Имя логгера.
- `log_path` (str): Путь к файлу логов.
- `level` (Optional[int], optional): Уровень логирования (например, `logging.DEBUG`). По умолчанию `logging.DEBUG`.
- `formatter` (Optional[logging.Formatter], optional): Кастомный форматтер (опционально).
- `mode` (Optional[str], optional): Режим работы с файлом, например, `'a'` для добавления (значение по умолчанию).

**Возвращает**: Настроенный экземпляр `logging.Logger`.


### `initialize_loggers`

**Описание**: Инициализирует логгеры для логирования в консоль и файлы (информация, отладка, ошибки и JSON).

**Параметры**:
- `info_log_path` (Optional[str], optional): Путь к файлу логов информации (опционально).
- `debug_log_path` (Optional[str], optional): Путь к файлу логов отладки (опционально).
- `errors_log_path` (Optional[str], optional): Путь к файлу логов ошибок (опционально).
- `json_log_path` (Optional[str], optional): Путь к файлу логов в формате JSON (опционально).

**Возвращает**: None.


### `log(level, message, ex=None, exc_info=False, color=None)`

**Описание**: Логирует сообщение на указанном уровне (например, `INFO`, `DEBUG`, `ERROR`) с возможным исключением и цветовым форматированием.

**Параметры**:
- `level`: Уровень логирования (например, `logging.INFO`, `logging.DEBUG`).
- `message`: Логируемое сообщение.
- `ex` (Optional[Exception], optional): Исключение для логирования (опционально).
- `exc_info` (bool, optional): Включать информацию об исключении (значение по умолчанию — `False`).
- `color` (Optional[tuple], optional): Кортеж цветов текста и фона для консольного вывода (опционально).

**Возвращает**: None.


## Параметры логгера

Класс `Logger` принимает несколько опциональных параметров для настройки поведения логирования:

- **Уровень**: Контролирует, какие сообщения будут записаны (см. `logging.DEBUG`, `logging.INFO`, `logging.WARNING`, `logging.ERROR`, `logging.CRITICAL`).
- **Форматтер**: Определяет формат сообщений (по умолчанию `'%(asctime)s - %(levelname)s - %(message)s'`).
- **Цвета**: Задают цвет текста и фона в консоли (например, `colorama.Fore.RED`, `colorama.Back.WHITE`).

## Конфигурация для логирования в файл

Для записи сообщений в файл можно указать пути в конфигурации (словарь):

```python
config = {
    'info_log_path': 'logs/info.log',
    'debug_log_path': 'logs/debug.log',
    'errors_log_path': 'logs/errors.log',
    'json_log_path': 'logs/log.json'
}
```

## Примеры использования

```python
# ... (примеры инициализации и логирования)
```
```markdown