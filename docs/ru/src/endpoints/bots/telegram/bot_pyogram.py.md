# Модуль для создания простого Telegram-бота с использованием Pyrogram
=================================================================

Модуль содержит код для создания и запуска простого Telegram-бота, использующего библиотеку Pyrogram. Бот отвечает на команду `/start` приветственным сообщением и эхом повторяет все остальные текстовые сообщения, которые он получает.

## Обзор

Этот модуль предназначен для создания простого эхо-бота в Telegram с использованием библиотеки Pyrogram. Он обрабатывает команду `/start` и повторяет все входящие текстовые сообщения. Модуль демонстрирует основы работы с Pyrogram, включая создание клиента, регистрацию обработчиков сообщений и запуск бота.

## Подробнее

Модуль предоставляет базовую функциональность Telegram-бота, способного отвечать на простые команды и текстовые сообщения. Он может служить отправной точкой для разработки более сложных ботов с расширенными возможностями. Основная логика работы бота заключается в обработке входящих сообщений и отправке ответов на основе заданных правил.

## Функции

### `start_command`

```python
@app.on_message(filters.command("start"))
def start_command(client, message):
    """
    Обработчик команды /start. Отправляет приветственное сообщение в ответ.

    Args:
        client: Экземпляр клиента Pyrogram.
        message: Объект сообщения, представляющий входящее сообщение.

    Returns:
        None

    Raises:
        None

    Example:
        Пользователь отправляет сообщение "/start". Бот отвечает "Привет! Я простой бот на Pyrogram."
    """
    ...
```

**Назначение**: Обрабатывает команду `/start`, отправляя приветственное сообщение пользователю.

**Параметры**:

- `client`: Экземпляр клиента Pyrogram.
- `message`: Объект сообщения, представляющий входящее сообщение.

**Возвращает**: `None`

**Вызывает исключения**: Отсутствуют

**Как работает функция**:
1. Функция `start_command` регистрируется как обработчик для команды `/start` с использованием декоратора `@app.on_message(filters.command("start"))`.
2. Когда пользователь отправляет сообщение, начинающееся с `/start`, эта функция вызывается.
3. Функция использует метод `message.reply_text()` для отправки ответного сообщения с текстом "Привет! Я простой бот на Pyrogram.".

**Примеры**:

- Пользователь отправляет сообщение `/start`. Бот отвечает:

```text
Привет! Я простой бот на Pyrogram.
```

### `echo_message`

```python
@app.on_message(filters.text & ~filters.command)
def echo_message(client, message):
    """
    Обработчик всех текстовых сообщений (кроме команд). Повторяет текст сообщения в ответ.

    Args:
        client: Экземпляр клиента Pyrogram.
        message: Объект сообщения, представляющий входящее сообщение.

    Returns:
        None

    Raises:
        None

    Example:
        Пользователь отправляет сообщение "Привет, бот!". Бот отвечает "Привет, бот!".
    """
    ...
```

**Назначение**: Обрабатывает все текстовые сообщения, которые не являются командами, и повторяет их в ответ.

**Параметры**:

- `client`: Экземпляр клиента Pyrogram.
- `message`: Объект сообщения, представляющий входящее сообщение.

**Возвращает**: `None`

**Вызывает исключения**: Отсутствуют

**Как работает функция**:
1. Функция `echo_message` регистрируется как обработчик для всех текстовых сообщений, кроме команд, с использованием декоратора `@app.on_message(filters.text & ~filters.command)`.
2. Когда пользователь отправляет текстовое сообщение, не начинающееся с команды, эта функция вызывается.
3. Функция использует метод `message.reply_text()` для отправки ответного сообщения с текстом, идентичным тексту входящего сообщения (`message.text`).

**Примеры**:

- Пользователь отправляет сообщение "Привет, бот!". Бот отвечает:

```text
Привет, бот!
```

- Пользователь отправляет сообщение "Как дела?". Бот отвечает:

```text
Как дела?
```