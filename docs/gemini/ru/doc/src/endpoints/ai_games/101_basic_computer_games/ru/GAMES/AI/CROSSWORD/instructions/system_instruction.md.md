# Документация модуля для создания кроссвордов

## Обзор

Этот документ содержит инструкцию для разработчиков по использованию модели `GoogleGenerativeAI` для создания кроссвордов на заданную тему. Модель генерирует кроссворды в виде ASCII-таблицы, а также предоставляет список слов и их определений.

## Содержание

- [Обзор](#обзор)
- [Классы](#классы)
    - [GoogleGenerativeAI](#googlegenerativeai)
- [Пример использования](#пример-использования)
    
## Классы

### `GoogleGenerativeAI`

**Описание**: Класс для взаимодействия с моделями `Google Generative AI`.

**Методы**:
- `__init__(api_key: str, system_instruction: str = '', model_name: str = 'gemini-2.0-flash-exp')`
- `ask(q: str) -> str`

#### `__init__`

**Описание**: Инициализирует экземпляр класса `GoogleGenerativeAI`.

**Параметры**:
- `api_key` (str): API ключ для доступа к `Google Generative AI`.
- `system_instruction` (str, optional): Инструкции для модели. По умолчанию `''`.
- `model_name` (str, optional): Имя используемой модели. По умолчанию `'gemini-2.0-flash-exp'`.

**Возвращает**:
- `None`: Метод не возвращает значения.

#### `ask`

**Описание**: Отправляет запрос к модели и возвращает её ответ.

**Параметры**:
- `q` (str): Запрос к модели.

**Возвращает**:
- `str`: Ответ модели в виде строки.

**Вызывает исключения**:
- `Exception`: Возвращает ошибку в случае, если запрос не удался.

## Пример использования

```python
import google.generativeai as genai

class GoogleGenerativeAI:

    MODELS = [
        "gemini-1.5-flash-8b",
        "gemini-2-13b",
        "gemini-3-20b"
    ]

    def __init__(self, api_key: str, system_instruction: str = '', model_name: str = 'gemini-2.0-flash-exp'):
        """
        Args:
            api_key (str): API ключ для доступа к `Google Generative AI`.
            system_instruction (str, optional): Инструкции для модели. По умолчанию `''`.
            model_name (str, optional): Имя используемой модели. По умолчанию `'gemini-2.0-flash-exp'`.
        """
        self.api_key = api_key
        self.model_name = model_name
        genai.configure(api_key=self.api_key)
        self.model = genai.GenerativeModel(model_name=self.model_name, system_instruction=system_instruction)

    def ask(self, q: str) -> str:
        """
        Args:
            q (str): Запрос к модели.

        Returns:
            str: Ответ модели в виде строки.

        Raises:
            Exception: В случае, если запрос не удался.
        """
        try:
            response = self.model.generate_content(q)
            return response.text
        except Exception as ex:
            return f"Error: {str(ex)}"

################################################################################
#                                                                              #
#             INSERT YOUR GEMINI API KEY                                       #
#                                                                              #
################################################################################
API_KEY: str = input("API ключ от `gemini`")

system_instruction = """
Ты - генератор кроссвордов. Твоя задача - создавать кроссворды на заданную тему и предоставлять их в виде ASCII-таблицы, а также список слов и их определений.

1. **Формат ответа:**
   - Кроссворд должен быть представлен в виде таблицы, состоящей из символов `+`, `-`, `|`, и пробелов, где буквы слов кроссворда расположены в пустых ячейках.
   - Заполненные клетки отмечаются символом `#`.
   - Нумерация слов начинается с 1 и ставится перед словом в таблице.
   - Список слов и их определений должен быть представлен в формате:

     `1.  Слово - Определение`
     `2.  Слово - Определение`
     ...

2.  **Процесс создания кроссворда:**
    -   При создании сетки кроссворда используй простые прямоугольные формы с размером минимум 5x5.
    -   Выбирай слова, связанные с указанной темой.
    -   Слова должны пересекаться, образуя классический кроссворд.
    -   В кроссворде должно быть как минимум 5 слов.
    -   Старайся использовать как горизонтальные, так и вертикальные слова.

3.  **Пример ответа:**

    ```
    +---+---+---+---+---+---+---+
    | 1 |   |   |   |   |   |   |
    +---+---+---+---+---+---+---+
    |   |   |   | 2 |   |   |   |
    +---+---+---+---+---+---+---+
    |   |   |   |   |   | 3 |   |
    +---+---+---+---+---+---+---+
    |   | 4 |   |   |   |   |   |
    +---+---+---+---+---+---+---+
    |   |   |   |   |   |   | 5 |
    +---+---+---+---+---+---+---+
    ```

    Слова:
    1.  ФУТБОЛ - Командная игра с мячом.
    2.  СУДЬЯ - Человек, следящий за правилами игры.
    3.  ГОЛ - Попадание мяча в ворота.
    4.  ИГРОК - Участник команды.
    5.  МЯЧ - Сферический предмет для игры.

4. **Инструкции по запросу:**
   -   Когда ты получишь тему, ты должна сгенерировать кроссворд, который будет соответствовать данной теме, а затем предоставить его в указанном формате.

5. **Язык:**
    -  Отвечай на языке запроса.
"""

model = GoogleGenerativeAI(api_key = API_KEY, system_instruction=system_instruction)

q = input("Тема кроссворда: ")
response = model.ask(q)
print(response)
```