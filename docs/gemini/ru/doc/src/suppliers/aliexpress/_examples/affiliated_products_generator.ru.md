# Модуль `affiliated_products_generator.py`

## Обзор

Этот модуль предоставляет класс `AliAffiliatedProducts` для генерации аффилированных ссылок на продукты AliExpress.  Класс позволяет собирать информацию о продуктах, включая аффилированные ссылки, изображения и видео, и сохранять их локально.


## Классы

### `AliAffiliatedProducts`

**Описание**: Класс `AliAffiliatedProducts` отвечает за запрос и обработку данных о продуктах AliExpress для создания аффилированных ссылок.

**Методы**:

- `process_affiliate_products`: Обрабатывает список URL или ID продуктов, возвращая список `Product` с аффилированными ссылками.

**Параметры конструктора**:

- `campaign_name` (str): Название рекламной кампании.
- `campaign_category` (Optional[str], optional): Категория рекламной кампании. По умолчанию `None`.
- `language` (str): Язык рекламной кампании.
- `currency` (str): Валюта рекламной кампании.


**Возвращаемые значения методов**:

- `process_affiliate_products` (list[Product] | None): Список объектов `Product` с аффилированными ссылками или `None`, если обработка не удалась.


**Вызывает исключения**:

- `requests.exceptions.RequestException`:  Исключение при проблемах с запросом к AliExpress.
- `ValueError`: Исключения, возникающие при некорректных входных данных или ошибках обработки.
- `Exception`: Общее исключение, которое может быть вызвано другими ошибками.


## Класс `Product`

**Описание**: Класс `Product` представляет информацию о продукте, включая аффилированную ссылку, ID продукта, локальное изображение и локальное видео.

**Атрибуты**:

- `product_id` (int | str): Идентификатор продукта.
- `promotion_link` (str): Аффилированная ссылка на продукт.
- `local_saved_image` (str): Путь к локальному изображению продукта.
- `local_saved_video` (str): Путь к локальному видео продукта (может быть None).


## Пример использования (из файла `пример_использования.py`)

Этот пример демонстрирует использование класса `AliAffiliatedProducts` для обработки списка URL/ID продуктов. Он показывает как получить аффилированные ссылки, изображения и видео для каждого продукта.


```python
from src.suppliers.aliexpress.affiliated_products_generator import AliAffiliatedProducts

def main():
    # ... (см. код в исходном примере)
```

**Важно**:  Для корректной работы необходимо установить необходимые библиотеки (например, `requests`, `BeautifulSoup4`).  Этот пример предполагает, что класс `AliAffiliatedProducts` содержит реализацию для запроса и обработки данных с AliExpress, а также для сохранения локальных файлов.