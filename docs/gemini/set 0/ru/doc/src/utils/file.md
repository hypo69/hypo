# Модуль `hypotez/src/utils/file.py`

## Обзор

Этот модуль предоставляет функции для работы с файлами, включая сохранение данных в текстовые файлы, чтение содержимого файлов и каталогов, поиск файлов по шаблонам и удаление BOM (Byte Order Mark) из файлов. Модуль использует логирование для отслеживания операций и обработки ошибок.

## Функции

### `save_text_file`

**Описание**: Сохраняет данные в текстовый файл. Поддерживает различные типы данных: строки, списки строк и словари. В случае словаря данные сохраняются в формате JSON.

**Параметры**:
- `data` (str | list[str] | dict): Данные для сохранения. Может быть строкой, списком строк или словарем.
- `file_path` (Union[str, Path]): Путь к файлу, куда будут сохранены данные.
- `mode` (str, optional): Режим записи (`w` для записи, `a` для добавления). По умолчанию `'w'`.
- `exc_info` (bool, optional): Если `True`, выводит информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- `bool`: `True`, если файл был успешно сохранен, `False` в противном случае.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.


### `read_text_file`

**Описание**: Читает содержимое файла или каталога.

**Параметры**:
- `file_path` (str | Path): Путь к файлу или каталогу.
- `as_list` (bool, optional): Если `True`, возвращает содержимое файла в виде списка строк. По умолчанию `False`.
- `extensions` (list[str], optional): Список расширений файлов для чтения из каталога. По умолчанию `None` (читаются все файлы).
- `exc_info` (bool, optional): Если `True`, выводит информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- Union[str, list[str], None]: Содержимое файла как строка или список строк, или `None` в случае ошибки. Если входной параметр `file_path` является каталогом, то функция возвращает список содержимого файлов, найденных в этом каталоге.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.


### `get_filenames`

**Описание**: Возвращает список имен файлов в указанном каталоге. Возможна фильтрация по расширениям.

**Параметры**:
- `directory` (str | Path): Путь к каталогу.
- `extensions` (str | list[str], optional): Расширение или список расширений файлов. По умолчанию `'*'` (все файлы).
- `exc_info` (bool, optional): Если `True`, выводит информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[str]: Список имен файлов, найденных в каталоге.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.


### `recursively_yield_file_path`

**Описание**: Рекурсивно возвращает пути к файлам, соответствующим заданным шаблонам, в указанном каталоге.

**Параметры**:
- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str], optional): Шаблон или список шаблонов для поиска файлов. По умолчанию `'*'` (все файлы).
- `exc_info` (bool, optional): Если `True`, выводит информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- Generator[Path, None, None]: Генератор путей к файлам, соответствующим заданным шаблонам.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.


### `recursively_get_file_path`

**Описание**: Рекурсивно получает пути к файлам, соответствующим заданным шаблонам, в указанном каталоге.

**Параметры**:
- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str], optional): Шаблон или список шаблонов для поиска файлов. По умолчанию `'*'` (все файлы).
- `exc_info` (bool, optional): Если `True`, выводит информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[Path]: Список путей к файлам, соответствующим заданным шаблонам.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.


### `recursively_read_text_files`

**Описание**: Рекурсивно читает содержимое текстовых файлов из указанного каталога, соответствующих шаблонам.

**Параметры**:
- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str]): Шаблон или список шаблонов для поиска файлов.
- `as_list` (bool, optional): Если `True`, возвращает содержимое файлов в виде списка строк. По умолчанию `False`.
- `exc_info` (bool, optional): Если `True`, выводит информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[str]: Список содержимого файлов, соответствующих шаблонам.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.


### `get_directory_names`

**Описание**: Получает список имен подкаталогов в указанном каталоге.

**Параметры**:
- `directory` (str | Path): Путь к каталогу.
- `exc_info` (bool, optional): Если `True`, выводит информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[str]: Список имен подкаталогов.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.

### `read_files_content`

**Описание**: Читает содержимое файлов, соответствующих шаблонам, рекурсивно.

**Параметры**:
- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str]): Шаблон или список шаблонов для поиска файлов.
- `as_list` (bool, optional): Если `True`, возвращает содержимое файлов в виде списка строк. По умолчанию `False`.
- `exc_info` (bool, optional): Если `True`, выводит информацию об ошибке в лог. По умолчанию `True`.


**Возвращает**:
- list[str]: Список содержимого файлов, соответствующих шаблонам.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.

### `remove_bom`

**Описание**: Удаляет BOM (Byte Order Mark) из файла.

**Параметры**:
- `file_path` (str | Path): Путь к файлу.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.

### `traverse_and_clean`

**Описание**: Обходит каталог и удаляет BOM из файлов Python.

**Параметры**:
- `directory` (str | Path): Путь к каталогу.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.


### `main`

**Описание**: Точка входа для удаления BOM из файлов Python.

**Вызывает исключения**:
- Любые исключения, которые могут возникнуть при работе с файлами. Информация об ошибке выводится в лог.