```markdown
# Класс `Supplier` — Базовый класс для всех поставщиков

Базовый класс для всех поставщиков данных. Предоставляет методы и атрибуты для работы с конкретными поставщиками данных, например, amazon.com, walmart.com, mouser.com, digikey.com или пользовательскими.

### Обзор класса `Supplier`

#### Атрибуты:

* **`supplier_id`**: Идентификатор поставщика.
* **`supplier_prefix`**: Префикс или идентификатор поставщика, например, 'amazon', 'aliexpress'.
* **`supplier_settings`**: Параметры конфигурации, специфичные для поставщика, загружаются из файла JSON.
* **`locale`**: Код локали (язык), по умолчанию 'en'.
* **`price_rule`**: Правило для расчета цен, например, добавление НДС.
* **`related_modules`**: Дополнительные функции или модули, связанные с конкретным поставщиком.  **Важно**: этот атрибут должен быть *модулем*, импортируемым динамически.
* **`scenario_files`**: Список сценариев для выполнения.
* **`current_scenario`**: Текущий выполняемый сценарий.
* **`login_data`**: Словарь учетных данных для входа и URL адресов.
* **`locators`**: Словарь локаторов для веб-элементов на разных страницах.
* **`driver`**: Экземпляр `Driver` для взаимодействия с веб-браузером.
* **`parsing_method`**: Метод парсинга данных (например, `webdriver`, `api`, `xls`, `csv`).  Указывает, как будут извлекаться данные.

#### Методы:

1. **`__init__`**:
   - Инициализирует класс `Supplier`.
   - Принимает параметры для настройки поставщика, локали и драйвера WebDriver.
   - Загружает настройки и локаторы, специфичные для поставщика.

2. **`_payload`**:
   - Загружает настройки и локаторы поставщика.
   - Настраивает WebDriver, если необходимо.  **Важно**: этот метод должен загружать и инициализировать необходимые ресурсы, включая драйвер.

3. **`login`**:
   - Обрабатывает вход на сайт поставщика, если требуется авторизация.
   - Вызывает метод `login` из связанного модуля (`related_modules`).

4. **`run_scenario_files`**:
   - Выполняет один или несколько файлов сценариев.
   - Использует функцию `run_scenario_files` из модуля `src.scenario`.

5. **`run_scenarios`**:
   - Выполняет список или один сценарий.
   - Использует функцию `run_scenarios` из модуля `src.scenario`.

#### Зависимости:

* `importlib`: Для динамического импорта модулей.
* `pathlib.Path`: Для работы с путями.
* `typing.List`: Для работы с типами данных.
* `types.SimpleNamespace`: Для динамических атрибутов.
* `src.settings.gs`: Для доступа к настройкам.
* `src.utils.j_loads`: Для загрузки данных JSON.
* `src.webdriver.Driver`, `Firefox`, `Chrome`, `Edge`: Для автоматизации браузера.
* `src.scenario.run_scenarios`, `run_scenario_files`: Для выполнения сценариев.
* `src.logger.logger`: Для ведения логов.
* `src.exceptions.DefaultSettingsException`: Для пользовательских исключений.
* `src.utils.j_loads_ns`: Для загрузки данных JSON в `SimpleNamespace`.


### Объяснение:

Класс `Supplier` предназначен для обработки взаимодействия с различными поставщиками данных, загружая их специфические настройки и сценарии, обрабатывая аутентификацию (если необходимо) и выполняя предварительно определенные сценарии.  Класс использует комбинацию файлов конфигурации и динамического импорта модулей для поддержки разных поставщиков, что делает его гибким и расширяемым.  Класс сильно зависит от внешних модулей и функций для своих операций, гарантируя, что основная логика остается сосредоточенной на специфике конкретного поставщика.


### Пример использования (фрагмент):

```python
from pathlib import Path
from src.suppliers import Supplier
from src.settings import gs

supplier = Supplier(supplier_prefix='aliexpress')

if not supplier._payload(webdriver='chrome'):  # Настройка WebDriver
    raise Exception("Не удалось загрузить настройки поставщика.")

if not supplier.login():  # Вход на сайт
    raise Exception("Не удалось войти на сайт поставщика.")

supplier.run_scenario_files(['example_scenario.json'])
```

Этот пример демонстрирует, как инициализировать класс `Supplier` для определенного поставщика, загрузить его настройки, выполнить вход на сайт и запустить сценарий.  Обратите внимание на проверку успешности выполнения методов `_payload` и `login`.  Это крайне важно для обработки ошибок.


```