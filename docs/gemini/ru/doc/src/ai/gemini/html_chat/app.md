# Модуль `hypotez/src/ai/gemini/html_chat/app.py`

## Обзор

Данный модуль реализует веб-приложение чат-бота, основанного на модели Kazarinov.  Приложение использует FastAPI для построения API и Jinja2Templates для рендеринга HTML-шаблонов.  Модуль предоставляет функционал для отправки вопросов модели, отображения ответов и автоматического открытия веб-браузера.

## Классы

### `Question`

**Описание**:  Пайдантик модель данных для хранения вопроса пользователя.

**Поля**:

- `question` (str): Текст вопроса.


## Функции

### `get_chat`

**Описание**: Обрабатывает запрос на главную страницу чата.

**Параметры**:

- `request` (Request): Объект запроса FastAPI.

**Возвращает**:

- `templates.TemplateResponse`: Объект ответа, содержащий HTML-шаблон chat.html с пустым ответом.

### `ask_question`

**Описание**: Обрабатывает запрос на отправку вопроса модели Kazarinov.

**Параметры**:

- `question` (Question): Объект, содержащий вопрос пользователя.
- `request` (Request): Объект запроса FastAPI.

**Возвращает**:

- `templates.TemplateResponse`: Объект ответа, содержащий HTML-шаблон chat.html с ответом модели.

**Вызывает исключения**:

- Возможные исключения, генерируемые моделью Kazarinov.


### `open_browser`

**Описание**: Функция для автоматического открытия браузера по указанному адресу.

**Параметры**: Нет

**Возвращает**: Нет

**Вызывает исключения**: Возможные исключения, генерируемые функцией `webbrowser.open`.


## Переменные

### `MODE`

**Описание**: Строковая переменная, хранящая режим работы приложения (например, 'dev').

**Значение**:  'dev'

### `questions_list`

**Описание**: Список вопросов для чата. Загружает вопросы из файлов в папке `kazarinov/prompts/q`.

**Значение**: Список строк.


### `app`

**Описание**: Объект приложения FastAPI.

**Значение**: Экземпляр `FastAPI`.

### `k`

**Описание**: Экземпляр модели Kazarinov.

**Значение**: Объект `Kazarinov`.

### `templates`

**Описание**: Объект шаблонизатора Jinja2 для работы с HTML.

**Значение**: Экземпляр `Jinja2Templates`.


## Использование

Модуль `app.py` отвечает за создание веб-сервера для чат-бота, основанного на модели Kazarinov. Он обрабатывает запросы на главную страницу чата, принимает вопросы пользователей, отправляет их модели, получает ответ и отображает его пользователю.  Также модуль обеспечивает автоматическое открытие браузера при запуске приложения.

## Запуск

Для запуска приложения необходимо использовать `uvicorn`:

```bash
uvicorn hypotez.src.ai.gemini.html_chat.app:app --reload
```

После запуска откройте браузер и перейдите по адресу `http://127.0.0.1:8000`.