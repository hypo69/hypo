```markdown
# unist-util-is

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][size-badge]][size]
[![Sponsors][sponsors-badge]][collective]
[![Backers][backers-badge]][collective]
[![Chat][chat-badge]][chat]

Утилита для проверки узлов в [unist][], удовлетворяющих определённому условию.

## Содержание

*   [Что это?](#что-это)
*   [Когда использовать?](#когда-использовать)
*   [Установка](#установка)
*   [Использование](#использование)
*   [API](#api)
    *   [`is(узел[, условие[, индекс, родитель[, контекст]]])`](#isузел-условие-индекс-родитель-контекст)
    *   [`convert(условие)`](#converтусловие)
    *   [`Проверка`](#проверка)
    *   [`Условие`](#условие)
    *   [`Функция_условия`](#функция_условия)
*   [Примеры](#примеры)
    *   [Пример `convert`](#пример-convert)
*   [Типы](#типы)
*   [Совместимость](#совместимость)
*   [Связанные пакеты](#связанные-пакеты)
*   [Вклад](#вклад)
*   [Лицензия](#лицензия)

## Что это?

Этот пакет — небольшая утилита для проверки, является ли узел определённым типом узла.

## Когда использовать?

Используйте эту утилиту, если вам приходится многократно повторять код для проверки типов узлов.

Аналогичный пакет, [`hast-util-is-element`][hast-util-is-element], работает с элементами hast.

Для более сложных проверок можно использовать [`unist-util-select`][unist-util-select] для поиска узлов по CSS-селекторам.

## Установка

Этот пакет поддерживает только [ESM][].
В Node.js (версия 16 и выше), установите с помощью [npm][]:

```bash
npm install unist-util-is
```

В Deno с использованием [`esm.sh`][esmsh]:

```javascript
import {is} from 'https://esm.sh/unist-util-is@6'
```

В браузере с использованием [`esm.sh`][esmsh]:

```html
<script type="module">
  import {is} from 'https://esm.sh/unist-util-is@6?bundle'
</script>
```

## Использование

```javascript
import {is} from 'unist-util-is'

const узел = {тип: 'strong'}
const родитель = {тип: 'paragraph', дети: [узел]}

is() // => false
is({дети: []}) // => false
is(узел) // => true
is(узел, 'strong') // => true
is(узел, 'emphasis') // => false

is(узел, узел) // => true
is(родитель, {тип: 'paragraph'}) // => true
is(родитель, {тип: 'strong'}) // => false

is(узел, условие) // => false
is(узел, условие, 4, родитель) // => false
is(узел, условие, 5, родитель) // => true

function условие(узел, n) {
  return n === 5
}
```

## API

Этот пакет экспортирует идентификаторы [`convert`][api-convert] и
[`is`][api-is].
Нет экспорта по умолчанию.

### `is(узел[, условие[, индекс, родитель[, контекст]]])`

Проверяет, является ли `узел` узлом и соответствует ли он заданному условию.

###### Параметры

*   `узел` (`unknown`, необязательно)
    — проверяемая сущность, обычно [`узел`][узел]
*   `условие` ([`Условие`][api-условие], необязательно)
    — условие для конкретного элемента
*   `индекс` (`number`, необязательно)
    — позиция узла в родительском элементе
*   `родитель` ([`узел`][узел], необязательно)
    — родительский узел
*   `контекст` (`unknown`, необязательно)
    — объект контекста (`this`), с которым вызывается `условие`

###### Возвращает

Значение `true`, если `узел` является узлом и проходит проверку, `false` в противном случае (`boolean`).

###### Выбрасывает

Исключение, если указано неверное `условие`, `индекс` или `родитель`.
Не выдает ошибок, если `узел` не является узлом.

### `convert(условие)`

Создает проверку по условию.

Полезно, если вы собираетесь проверять множество узлов, например, при создании утилиты, где что-то другое проходит совместимую проверку.

Созданная функция немного быстрее, потому что ожидает только корректные входные данные: `узел`, `индекс` и `родитель`.

###### Параметры

*   `условие` ([`Условие`][api-условие], необязательно)
    — условие для конкретного узла

###### Возвращает

Функцию проверки ([`Проверка`][api-проверка]).

### `Проверка`

Проверяет, является ли произвольное значение узлом (тип TypeScript).

###### Параметры

*   `this` (`unknown`, необязательно)
    — объект контекста (`this`), с которым вызывается `условие`
*   `узел` (`unknown`)
    — произвольное значение (обычно узел)
*   `индекс` (`number`, необязательно)
    — позиция узла в родительском элементе
*   `родитель` ([`узел`][узел], необязательно)
    — родительский узел

###### Возвращает

Значение `true`, если это узел и он удовлетворяет условию, `false` в противном случае (`boolean`).


### `Условие`

Проверяет произвольный узел (тип TypeScript).

###### Тип

```typescript
type Условие =
  | Array<Record<string, unknown> | Функция_условия | string>
  | Record<string, unknown>
  | Функция_условия
  | string
  | null
  | undefined
```

Проверяет, является ли данная сущность узлом, а затем:

*   если `string`, проверяет, имеет ли узел указанное имя тега
*   если `function`, см. [`Функция_условия`][api-функция_условия]
*   если `object`, проверяет, что все ключи в условии присутствуют в узле и имеют (строго) равные значения
*   если `Array`, проверяет, проходит ли один из под-условий

### `Функция_условия`

Проверяет, соответствует ли узел условию (тип TypeScript).

###### Параметры

*   `узел` ([`Узел`][узел])
    — узел
*   `индекс` (`number` или `undefined`)
    — позиция узла в родительском элементе
*   `родитель` ([`Узел`][узел] или `undefined`)
    — родительский узел

###### Возвращает

Значение `true`, если узел проходит проверку, `false` в противном случае (`boolean`, необязательно).


## Примеры

### Пример `convert`

```javascript
// ... (импорт и определение узел) ...

const условие = convert('leaf')

const дерево = u('tree', [
  u('node', [u('leaf', '1')]),
  u('leaf', '2'),
  u('node', [u('leaf', '3'), u('leaf', '4')]),
  u('leaf', '5')
])

const листья = дерево.дети.filter(function (ребенок, индекс) {
  return условие(ребенок, индекс, дерево)
})

console.log(листья)
```

Результат:

```javascript
[{тип: 'leaf', значение: '2'}, {тип: 'leaf', значение: '5'}]
```

## Типы

Этот пакет полностью типизирован с помощью [TypeScript][].
Экспортирует дополнительные типы [`Проверка`][api-проверка],
[`Условие`][api-условие],
[`Функция_условия`][api-функция_условия].

## Совместимость

Проекты, поддерживаемые сообществом unified, совместимы с поддерживаемыми версиями Node.js.

Когда мы выпускаем новую главную версию, мы отказываемся от поддержки устаревших версий Node.js.
Это означает, что мы стараемся поддерживать текущую ветвь, `unist-util-is@^6`, совместимую с Node.js 16.

## Связанные пакеты

*   [`unist-util-find-after`](https://github.com/syntax-tree/unist-util-find-after)
    — находит узел после другого узла
*   [`unist-util-find-before`](https://github.com/syntax-tree/unist-util-find-before)
    — находит узел перед другим узлом
*   [`unist-util-find-all-after`](https://github.com/syntax-tree/unist-util-find-all-after)
    — находит все узлы после другого узла
*   [`unist-util-find-all-before`](https://github.com/syntax-tree/unist-util-find-all-before)
    — находит все узлы перед другим узлом
*   [`unist-util-find-all-between`](https://github.com/mrzmmr/unist-util-find-all-between)
    — находит все узлы между двумя узлами
*   [`unist-util-filter`](https://github.com/syntax-tree/unist-util-filter)
    — создаёт новую структуру дерева с узлами, прошедшими проверку
*   [`unist-util-remove`](https://github.com/syntax-tree/unist-util-remove)
    — удаляет узлы из дерева

## Вклад

См. [`contributing.md`][contributing] в [`syntax-tree/.github`][health] для получения
информации о том, как начать работу.
См. [`support.md`][support] для получения помощи.

Этот проект имеет [код поведения][coc].
Взаимодействуя с этим репозиторием, организацией или сообществом, вы соглашаетесь с его условиями.

## Лицензия

[MIT][license] © [Titus Wormer][author]

<!-- Определения -->

[build-badge]: https://github.com/syntax-tree/unist-util-is/workflows/main/badge.svg

[build]: https://github.com/syntax-tree/unist-util-is/actions

[coverage-badge]: https://img.shields.io/codecov/c/github/syntax-tree/unist-util-is.svg

[coverage]: https://codecov.io/github/syntax-tree/unist-util-is

[downloads-badge]: https://img.shields.io/npm/dm/unist-util-is.svg

[downloads]: https://www.npmjs.com/package/unist-util-is

[size-badge]: https://img.shields.io/badge/dynamic/json?label=minzipped%20size&query=$.size.compressedSize&url=https://deno.bundlejs.com/?q=unist-util-is

[size]: https://bundlejs.com/?q=unist-util-is

[sponsors-badge]: https://opencollective.com/unified/sponsors/badge.svg

[backers-badge]: https://opencollective.com/unified/backers/badge.svg

[collective]: https://opencollective.com/unified

[chat-badge]: https://img.shields.io/badge/chat-discussions-success.svg

[chat]: https://github.com/syntax-tree/unist/discussions

[npm]: https://docs.npmjs.com/cli/install

[esm]: https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c

[esmsh]: https://esm.sh

[typescript]: https://www.typescriptlang.org

[license]: license

[author]: https://wooorm.com

[health]: https://github.com/syntax-tree/.github

[contributing]: https://github.com/syntax-tree/.github/blob/main/contributing.md

[support]: https://github.com/syntax-tree/.github/blob/main/support.md

[coc]: https://github.com/syntax-tree/.github/blob/main/code-of-conduct.md

[unist]: https://github.com/syntax-tree/unist

[node]: https://github.com/syntax-tree/unist#node

[hast-util-is-element]: https://github.com/syntax-tree/hast-util-is-element

[unist-util-select]: https://github.com/syntax-tree/unist-util-select

[api-convert]: #converтусловие

[api-is]: #isузел-условие-индекс-родитель-контекст

[api-проверка]: #проверка

[api-условие]: #условие

[api-функция_условия]: #функция_условия
```

**Изменения:**

* Перевод всех терминов на русский язык.
* Исправление разметки для лучшей читаемости.
* Исправление синтаксиса кода примера.
* Улучшение структуры документации.
* Добавлены ссылки на связанные пакеты.
* Использование более понятной терминологии.


Этот обновлённый ответ предоставляет более точный и читаемый перевод документации.