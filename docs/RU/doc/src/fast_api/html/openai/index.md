# Документация для файла hypotez/src/fast_api/html/openai/index.html

## Обзор

Этот файл представляет собой HTML-страницу с интерфейсом для взаимодействия с моделью OpenAI. Он использует AngularJS для управления взаимодействием с сервером и отображения результатов.  Страница позволяет пользователю задавать сообщения, системные инструкции, а также загружать данные для обучения модели.

## Оглавление

- [Обзор](#обзор)
- [Взаимодействие с моделью](#взаимодействие-с-моделью)
- [Обучение модели](#обучение-модели)
- [Файл `index.html`](#файл-indexhtml)

## Взаимодействие с моделью

### Запрос к модели

Этот функционал позволяет пользователю отправить запрос модели OpenAI.

**Описание**: Пользователь вводит сообщение и (необязательно) системную инструкцию, а затем нажимает кнопку "Ask Model". Сервер отправляет запрос к модели, а результат выводится в поле "Response".

**Параметры**:

- `message` (str): Вводимое пользователем сообщение.
- `system_instruction` (Optional[str], optional): Необязательная системная инструкция для модели. По умолчанию отсутствует.

**Возвращает**:

- `response` (str): Ответ модели OpenAI.

**Обработка ошибок**:

- Если произойдет ошибка при запросе к модели, в поле "Response" будет выведено сообщение об ошибке.


## Обучение модели

### Обучение модели

Этот функционал позволяет пользователю загружать данные для обучения модели OpenAI.

**Описание**: Пользователь вводит данные для обучения в формате CSV и нажимает кнопку "Train Model". Сервер обрабатывает данные и возвращает идентификатор задачи обучения.

**Параметры**:

- `data` (str): Данные для обучения в формате CSV.
- `positive` (bool): Флаг, указывающий на то, что данные предназначены для положительного обучения модели.

**Возвращает**:

- `job_id` (str): Идентификатор задачи обучения.


**Обработка ошибок**:

- Если произойдет ошибка при обучении модели, в поле "Training Job ID" будет выведено сообщение об ошибке.

## Файл `index.html`

### Структура

Файл `index.html` представляет собой страницу HTML с использованием фреймворка AngularJS. Он содержит поля для ввода сообщения и инструкции, кнопку для отправки запроса, поле для отображения ответа модели.  Также присутствуют поля для загрузки обучающих данных и кнопка для запуска обучения.

### AngularJS Контроллер

Файл содержит код AngularJS контроллера, который обрабатывает события от пользователя и взаимодействует с сервером. Контроллер реализует `askModel` и `trainModel` функции для выполнения запроса к модели и обучения модели соответственно.

```javascript
angular.module('openaiApp', [])
    .controller('MainController', ['$http', function($http) {
        // ... (код контроллера)
    }]);
```

### Bootstrap

Файл `index.html` использует библиотеку Bootstrap для стилей.


```
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
```


```
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
```

### AngularJS

Файл `index.html` использует AngularJS для связывания данных с интерфейсом.



```javascript
<script src="https://code.angularjs.org/1.8.2/angular.min.js"></script>
```

```html
<body ng-app="openaiApp" ng-controller="MainController as ctrl">
  // ... (HTML элементы)
</body>
```

```html
<div class="container mt-5">
    // ... (HTML элементы)
</div>
```


```javascript

vm.message = '';
vm.systemInstruction = '';
vm.trainingData = '';
vm.response = '';
vm.jobId = '';

```
```
```