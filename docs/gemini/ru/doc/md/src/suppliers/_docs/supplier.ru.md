# Класс Supplier

## Обзор

Класс `Supplier` служит базовым классом для работы с поставщиками данных. Он предоставляет общие методы и атрибуты для взаимодействия с различными источниками данных (например, Amazon, AliExpress, Walmart).  Класс отвечает за инициализацию, вход на сайт поставщика, выполнение сценариев и обработку данных.

## Оглавление

* [Классы](#классы)
* [Атрибуты](#атрибуты)
* [Методы](#методы)
* [Пример Использования](#пример-использования)
* [Как это работает](#как-это-работает)
* [Визуальное Представление](#визуальное-представление)



## Атрибуты

### `supplier_id`

**Тип**: `str`

**Описание**: Уникальный идентификатор поставщика.

### `supplier_prefix`

**Тип**: `str`

**Описание**: Префикс для поставщика (например, `aliexpress` или `amazon`).

### `supplier_settings`

**Тип**: `dict`

**Описание**: Настройки для поставщика, загруженные из файла конфигурации.

### `locale`

**Тип**: `str`

**Описание**: Код локализации (например, `en` для английского, `ru` для русского).

### `price_rule`

**Тип**: `callable`

**Описание**: Правило для расчета цены (например, добавление НДС или скидки).

### `related_modules`

**Тип**: `module`

**Описание**: Модуль, содержащий специфические для поставщика функции.

### `scenario_files`

**Тип**: `list[str]`

**Описание**: Список файлов сценариев, которые должны быть выполнены.

### `current_scenario`

**Тип**: `str`

**Описание**: Текущий сценарий выполнения.

### `login_data`

**Тип**: `dict`

**Описание**: Данные для входа на сайт поставщика (если требуется).

### `locators`

**Тип**: `dict`

**Описание**: Локаторы для веб-элементов на страницах сайта поставщика.

### `driver`

**Тип**: `webdriver`

**Описание**: Веб-драйвер для взаимодействия с сайтом поставщика.

### `parsing_method`

**Тип**: `str`

**Описание**: Метод парсинга данных (например, `webdriver`, `api`, `xls`, `csv`).


## Методы

### `__init__`

**Описание**: Конструктор класса, инициализирующий атрибуты на основе префикса поставщика и других параметров.

**Параметры**:
- `supplier_prefix` (str): Префикс поставщика.
- `locale` (str, optional): Код локализации. По умолчанию `'en'`.
- `webdriver` (str | webdriver, optional):  Веб-драйвер. По умолчанию `'default'`.
- `*attrs`: Дополнительные аргументы.
- `**kwargs`: Дополнительные ключевые аргументы.

**Возвращает**:
- `None`


### `_payload`

**Описание**: Загружает настройки поставщика, конфигурационные файлы и инициализирует веб-драйвер.

**Параметры**:
- `webdriver` (str | webdriver): Веб-драйвер.
- `*attrs`: Дополнительные аргументы.
- `**kwargs`: Дополнительные ключевые аргументы.

**Возвращает**:
- `bool`: Успешность загрузки.


### `login`

**Описание**: Метод для выполнения входа на сайт поставщика (если требуется).

**Возвращает**:
- `bool`: Успешность входа.


### `run_scenario_files`

**Описание**: Запускает выполнение файлов сценариев.

**Параметры**:
- `scenario_files` (str | list[str], optional): Список файлов сценариев. По умолчанию `None`.

**Возвращает**:
- `bool`: Успешность выполнения сценариев.


### `run_scenarios`

**Описание**: Запускает один или несколько сценариев.

**Параметры**:
- `scenarios` (dict | list[dict]):  Сценарии для выполнения.

**Возвращает**:
- `bool`: Успешность выполнения сценариев.


## Пример Использования

```python
# Создаем объект для поставщика 'aliexpress'
supplier = Supplier(supplier_prefix='aliexpress', locale='en', webdriver='chrome')

# Выполняем вход на сайт поставщика
supplier.login()

# Запускаем сценарии из файлов
supplier.run_scenario_files(['example_scenario.json'])

# Или запускаем сценарии по определенным условиям
supplier.run_scenarios([{'action': 'scrape', 'target': 'product_list'}])
```

## Как это работает

Класс `Supplier` предоставляет абстракцию для работы с различными поставщиками данных. Конкретные реализации поставщиков (например, `AliexpressSupplier`, `AmazonSupplier`) наследуют от `Supplier` и добавляют специфическую логику взаимодействия с соответствующим поставщиком.

## Визуальное Представление

`Supplier` - это шаблонный класс для обработки данных. Подклассы будут содержать специфичную логику для каждого поставщика.

```
Supplier
├── AliexpressSupplier
├── AmazonSupplier
└── ...