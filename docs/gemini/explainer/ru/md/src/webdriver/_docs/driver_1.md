# Driver_1.md

## Динамическое создание класса `Driver` с наследованием от Selenium WebDriver

Данный код определяет метакласс `DriverMeta` для динамического создания класса `Driver`, наследующегося от базового класса `Driver` и указанного класса Selenium WebDriver (`Chrome`, `Firefox` или `Edge`). Метакласс отвечает за создание правильного сочетания этих классов.

### Метакласс `DriverMeta`

Метакласс в Python — это класс для классов, определяющий поведение класса. Здесь `DriverMeta` используется для управления созданием нового класса `Driver`.

#### Метод `__call__`

Метод `__call__` в метаклассе вызывается при создании экземпляра класса. В данном случае он используется для создания нового класса `Driver`, который наследуется от базового класса `Driver` и одного из классов Selenium WebDriver (`Chrome`, `Firefox` или `Edge`).

- `cls`: Класс, который создаётся, в данном случае это `Driver`.
- `webdriver_cls`: Класс Selenium WebDriver, от которого наследуется (`Chrome`, `Firefox` или `Edge`).
- `*args` и `**kwargs`: Аргументы и ключевые аргументы для передачи в конструктор класса `Driver`.

#### Проверки

- `assert isinstance(webdriver_cls, type)`: Убеждается, что `webdriver_cls` действительно является классом.
- `assert issubclass(webdriver_cls, Chrome | Firefox | Edge)`: Убеждается, что `webdriver_cls` является подклассом одного из разрешенных классов WebDriver (`Chrome`, `Firefox` или `Edge`).

#### Динамическое создание класса

Внутри метода `__call__` динамически определяется новый класс с именем `Driver`. Этот новый класс наследуется как от `cls` (базовый класс `Driver`), так и от `webdriver_cls` (указанный класс WebDriver).

##### Конструктор класса `Driver`

- `__init__`: Конструктор динамически созданного класса `Driver`.
  - Записывает в лог инициализацию WebDriver с его именем и аргументами.
  - Вызывает конструкторы родительских классов с помощью `super()`.
  - Вызывает метод `driver_payload`.

##### Метод `driver_payload`

Этот метод определён внутри динамически созданного класса `Driver` и вызывает метод `driver_payload` из родительского класса `Driver`. Это гарантирует выполнение любых дополнительных инициализаций, необходимых классу `Driver`.

#### Возврат динамически созданного класса

Новый созданный класс `Driver` с указанными аргументами инстанцируется и возвращается.

### Пример использования

Когда вы создаёте экземпляр класса `Driver` с `DriverMeta` в качестве метакласса и передаёте класс WebDriver, он динамически создаст новый класс, наследующийся как от базового класса `Driver`, так и от указанного класса WebDriver.

```python
# Создание экземпляра Driver с Chrome как классом WebDriver
chrome_driver = Driver(Chrome, *args, **kwargs)

# Создание экземпляра Driver с Firefox как классом WebDriver
firefox_driver = Driver(Firefox, *args, **kwargs)
```

Это позволяет вам создавать экземпляр класса `Driver`, который имеет все методы и свойства как базового класса `Driver`, так и указанного класса Selenium WebDriver (`Chrome`, `Firefox` или `Edge`), обеспечивая гибкую и динамичную инициализацию WebDriver с дополнительными пользовательскими функциями.