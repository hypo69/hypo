Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код представляет собой командную строку для запуска ассистента обработки кода (Code Assistant). Он позволяет пользователю указать параметры запуска, включая роль ассистента, язык, модели и директории для обработки, а также использовать файл настроек для этих параметров.  Программа инициализирует ассистента, загружает выбранные модели, обрабатывает файлы в заданных директориях и выполняет заданную задачу (например, создание документации, проверку кода).

Шаги выполнения
-------------------------
1. **Импорт необходимых библиотек**: Программа импортирует модули `argparse`, `json`, `pathlib`, и `CodeAssistant` для обработки аргументов командной строки, загрузки настроек, работы с путями к файлам и класса CodeAssistant, соответственно.

2. **Парсинг аргументов командной строки**: Функция `parse_args()` использует `argparse` для анализа аргументов, переданных в командную строку. Она обрабатывает следующие параметры:
    - `--settings`: Путь к файлу настроек JSON.
    - `--role`: Роль ассистента ('code_checker', 'code_analyzer', 'doc_writer', 'tests_creator').
    - `--lang`: Язык ('ru', 'en').
    - `--models`: Список моделей для использования ('gemini', 'openai').
    - `--start_dirs`: Список стартовых директорий для обработки.

3. **Загрузка настроек из файла (при наличии)**: Если параметр `--settings` передан, функция загружает настройки из указанного файла JSON.  Если файл не найден, выводится сообщение об ошибке.

4. **Создание экземпляра CodeAssistant**: Если файл настроек не указан, создаётся экземпляр класса `CodeAssistant` с параметрами, полученными из командной строки.

5. **Инициализация моделей**: Вызывается метод `initialize_models()` экземпляра `CodeAssistant` для загрузки выбранных моделей.

6. **Обработка файлов**: Вызывается метод `process_files()` экземпляра `CodeAssistant` для обработки файлов в указанных директориях в соответствии с заданной ролью.

7. **Запуск программы**:  Функция `main()` запускает всю цепочку действий.

Пример использования
-------------------------
.. code-block:: bash

    # Запуск с файлом настроек
    python main.py --settings settings.json

    # Запуск с параметрами командной строки
    python main.py --role doc_writer --lang ru --models gemini openai --start_dirs /path/to/dir1 /path/to/dir2