# Модуль `product_fields_translator`

## Обзор

Модуль `product_fields_translator.py` предназначен для перевода полей товара на языки клиентской базы данных. Он обеспечивает преобразование данных, полученных с сайта поставщика, к формату, совместимому с клиентской базой данных PrestaShop. В частности, модуль занимается обновлением идентификаторов языков и переводом мультиязычных полей.

## Содержание

- [Обзор](#обзор)
- [Функции](#функции)
    - [`rearrange_language_keys`](#rearrange_language_keys)
    - [`translate_presta_fields_dict`](#translate_presta_fields_dict)

## Функции

### `rearrange_language_keys`

**Описание**: Функция обновляет идентификатор языка в словаре `presta_fields_dict` на соответствующий идентификатор из схемы клиентских языков при совпадении языка страницы.

**Параметры**:
- `presta_fields_dict` (dict): Словарь полей товара.
- `client_langs_schema` (dict | List[dict]): Схема языков клиента.
- `page_lang` (str): Язык страницы.

**Возвращает**:
- `dict`: Обновленный словарь `presta_fields_dict`.

### `translate_presta_fields_dict`

**Описание**: Функция переводит мультиязычные поля в соответствии со схемой значений `id` языка в базе данных клиента. Она получает на вход словарь полей, мультиязычные значения которых получены с сайта поставщика.

**Параметры**:
- `presta_fields_dict` (dict): Словарь полей товара, собранный со страницы поставщика.
- `client_langs_schema` (list | dict): Словарь актуальных языков на клиенте.
- `page_lang` (str, optional): Язык страницы поставщика в коде `en-US`, `ru-RU`, `he_HE`. Если не задан, функция пытается определить его по тексту. По умолчанию `None`.

**Возвращает**:
- `dict`: Переведенный словарь полей товара.

**Вызывает исключения**:
- `ProductFieldException`:  Возникает в случае ошибки при переводе.