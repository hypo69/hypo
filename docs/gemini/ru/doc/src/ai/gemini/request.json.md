# Документация для разработчика: `request.json`

## Обзор

Файл `request.json` содержит структуру JSON, определяющую формат запроса к API Gemini. Он включает в себя параметры для настройки содержимого запроса, системных инструкций, инструментов, настроек безопасности и конфигурации генерации. Этот файл используется для сериализации и отправки запросов к моделям Gemini.

## Подробней

Этот JSON-файл описывает структуру данных, используемую для отправки запросов к API Gemini. Он определяет формат входных данных, включая текстовое содержимое, встраиваемые данные (например, изображения), файловые данные и видеометаданные. Также включаются параметры для настройки поведения модели, такие как температура, вероятность выбора, количество кандидатов и ограничения на количество выходных токенов.

## Содержание

- [cachedContent](#cachedContent)
- [contents](#contents)
- [systemInstruction](#systemInstruction)
- [tools](#tools)
- [safetySettings](#safetySettings)
- [generationConfig](#generationConfig)
- [labels](#labels)

## cachedContent

### `cachedContent`

**Описание**: Закешированное содержимое.

**Как работает**:
`cachedContent` представляет собой строку, содержащую закешированное содержимое предыдущего запроса или ответа. Это может использоваться для оптимизации производительности и уменьшения задержки при повторных запросах.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Строка, содержащая закешированное содержимое.

**Примеры**:
```json
"cachedContent": "Example cached content"
```

## contents

### `contents`

**Описание**: Массив содержимого запроса.

**Как работает**:
`contents` представляет собой массив объектов, каждый из которых содержит роль и части содержимого. Содержимое может включать текст, встроенные данные, файловые данные и видеометаданные.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Массив объектов, представляющих содержимое запроса.

**Примеры**:
```json
"contents": [
  {
    "role": "user",
    "parts": [
      {
        "text": "Hello, Gemini!"
      }
    ]
  }
]
```

## systemInstruction

### `systemInstruction`

**Описание**: Системные инструкции для модели.

**Как работает**:
`systemInstruction` содержит роль и части инструкций для модели. Эти инструкции используются для управления поведением модели и предоставления контекста для запроса.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Объект, представляющий системные инструкции.

**Примеры**:
```json
"systemInstruction": {
  "role": "system",
  "parts": [
    {
      "text": "You are a helpful AI assistant."
    }
  ]
}
```

## tools

### `tools`

**Описание**: Инструменты, доступные для модели.

**Как работает**:
`tools` представляет собой массив инструментов, каждый из которых содержит декларации функций. Декларации функций описывают доступные функции, их параметры и описания.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Массив объектов, представляющих доступные инструменты.

**Примеры**:
```json
"tools": [
  {
    "functionDeclarations": [
      {
        "name": "get_current_weather",
        "description": "Get the current weather in a given location",
        "parameters": {
          "object": {
            "properties": {
              "location": {
                "type": "string",
                "description": "The city and state, e.g. San Francisco, CA"
              },
              "unit": {
                "type": "string",
                "enum": ["celsius", "fahrenheit"]
              }
            },
            "required": ["location"]
          }
        }
      }
    ]
  }
]
```

## safetySettings

### `safetySettings`

**Описание**: Настройки безопасности для фильтрации контента.

**Как работает**:
`safetySettings` представляет собой массив объектов, каждый из которых содержит категорию вреда и порог блокировки. Эти настройки используются для фильтрации контента, который может быть вредным или нежелательным.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Массив объектов, представляющих настройки безопасности.

**Примеры**:
```json
"safetySettings": [
  {
    "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
    "threshold": "BLOCK_ONLY_HIGH"
  }
]
```

## generationConfig

### `generationConfig`

**Описание**: Конфигурация генерации для модели.

**Как работает**:
`generationConfig` содержит параметры для настройки генерации контента, такие как температура, вероятность выбора, количество кандидатов и ограничения на количество выходных токенов.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Объект, представляющий конфигурацию генерации.

**Примеры**:
```json
"generationConfig": {
  "temperature": 0.9,
  "topP": 0.95,
  "topK": 40,
  "candidateCount": 1,
  "maxOutputTokens": 800
}
```

## labels

### `labels`

**Описание**: Метки для запроса.

**Как работает**:
`labels` представляет собой объект, содержащий пары ключ-значение, которые можно использовать для категоризации и фильтрации запросов.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Объект, представляющий метки запроса.

**Примеры**:
```json
"labels": {
  "project": "hypotez",
  "environment": "production"
}