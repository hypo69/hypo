# Шаблон чата Gemini

## Обзор

Этот шаблон HTML предоставляет интерфейс для взаимодействия с моделью Gemini. Он отображает историю чата, поле для ввода пользователя и кнопку отправки.  При нажатии кнопки отправки, данные из поля ввода отправляются на сервер, и пользователь получает ответ от модели.

## Оглавление

* [Шаблон чата Gemini](#шаблон-чата-gemini)
* [Обзор](#обзор)
* [HTML-структура](#html-структура)
* [Обработка ввода пользователя](#обработка-ввода-пользователя)
* [AJAX-запрос](#ajax-запрос)
* [Вывод ответа модели](#вывод-ответа-модели)

## HTML-структура

Шаблон состоит из основных HTML-элементов:

- `<!DOCTYPE html>`: Объявляет тип документа.
- `<html lang="en">`: Корневой элемент HTML.
- `<head>`: Мета-данные страницы.
- `<title>Kazarinov Chat</title>`: Заголовок страницы.
- `<link>`: Подключение Bootstrap CSS.
- `<link>`: Подключение пользовательских стилей.
- `<script>`: Подключение jQuery.
- `<body>`: Основной контент.
- `<div class="container mt-5">`: Контейнер для элементов чата.
- `<h1>Kazarinov AI Chat</h1>`: Заголовок чата.
- `<div class="chat-box">`: Динамическая область чата.
- `<div id="chat-log">`: Динамически обновляемый список сообщений.
- `<form id="chat-form">`: Форма для ввода сообщений.
- `<div class="input-group">`: Группа для поля ввода и кнопки.
- `<input type="text" id="user-input">`: Поле для ввода сообщений.
- `<button class="btn btn-primary" type="submit">Отправить</button>`: Кнопка отправки.


## Обработка ввода пользователя

Обработка ввода пользователя осуществляется с помощью JavaScript события `submit` формы `chat-form`.  Функция внутри `$(document).ready(...)` обрабатывает событие.
Она выполняет следующие действия:

1. Запрещает стандартное поведение отправки формы (перезагрузку страницы).
2. Извлекает текст из поля `user-input`.
3. Добавляет сообщение пользователя в `chat-log`.
4. Отправляет AJAX-запрос на сервер с данными пользователя.


## AJAX-запрос

Для отправки данных на сервер используется AJAX-запрос:

```javascript
$.ajax({
    url: '/ask',
    method: 'POST',
    data: { user_input: userInput },
    success: function(response) {
        //Обработка ответа от сервера
    }
});
```
Данный запрос отправляет POST-запрос на `/ask` с данными из поля ввода.  `success` обработчик получает JSON-ответ, содержащий ответ модели.

## Вывод ответа модели

Обработка ответа сервера в `success` обработчике:

```javascript
success: function(response) {
    $('#chat-log').append('<p><strong>AI:</strong> ' + response.response + '</p>');
    $('#user-input').val('');  // Очистка поля ввода
}
```
Функция добавляет полученное сообщение модели в `chat-log` и очищает поле ввода для следующего запроса.

```