# Документация для модуля `test_categories_from_template.py`

## Обзор

Модуль `test_categories_from_template.py` содержит тесты для функциональности создания шаблонов категорий. В частности, он проверяет, что шаблоны категорий корректно создаются из JSON-файлов, расположенных в указанной директории.

## Подробней

Этот модуль предоставляет класс `TestBuildtemplates`, который использует библиотеку `unittest` для тестирования функции `buid_templates`. Тесты охватывают сценарии с существующими и несуществующими директориями, проверяя правильность обработки файлов шаблонов категорий.

## Классы

### `TestBuildtemplates`

**Описание**: Класс `TestBuildtemplates` предназначен для тестирования функциональности создания шаблонов из JSON-файлов.

**Как работает класс**:
Класс `TestBuildtemplates` содержит два тестовых метода:
- `test_build_templates_with_existing_directory`: Проверяет, что функция `buid_templates` корректно обрабатывает существующую директорию с JSON-файлами, содержащими шаблоны категорий. Он создает временную директорию, добавляет в неё несколько JSON-файлов и поддиректорию с еще одним JSON-файлом. Затем он вызывает функцию `buid_templates` с путем к этой директории и проверяет, что возвращаемый результат соответствует ожидаемому словарю.
- `test_build_templates_with_non_existing_directory`: Проверяет, что функция `buid_templates` вызывает исключение `FileNotFoundError`, если директория, переданная в качестве аргумента, не существует.

**Методы**:

- `test_build_templates_with_existing_directory`
- `test_build_templates_with_non_existing_directory`

### `test_build_templates_with_existing_directory`

```python
def test_build_templates_with_existing_directory(self):
    """
    Тестирует функцию `buid_templates` с существующей директорией, содержащей JSON-файлы.
    """
```

**Как работает метод**:

1. **Создание временной директории**: Создается временная директория с использованием `tempfile.TemporaryDirectory()`.
2. **Создание JSON-данных**: Определяются JSON-данные, представляющие шаблоны категорий.
3. **Запись данных в файлы**: JSON-данные записываются в два файла: `file1.json` в корне временной директории и `file2.json` в поддиректории `subdir`.
4. **Вызов функции `buid_templates`**: Функция `buid_templates` вызывается с путем к временной директории.
5. **Проверка результата**: Результат вызова функции сравнивается с ожидаемым словарем, чтобы убедиться, что шаблоны категорий были правильно построены.

### `test_build_templates_with_non_existing_directory`

```python
def test_build_templates_with_non_existing_directory(self):
    """
    Тестирует функцию `buid_templates` с несуществующей директорией.
    """
```

**Как работает метод**:

1. **Вызов функции `buid_templates`**: Функция `buid_templates` вызывается с путем к несуществующей директории.
2. **Проверка исключения**: Проверяется, что вызов функции вызывает исключение `FileNotFoundError`.

## Функции

### `buid_templates`
Функция `buid_templates` в предоставленном коде отсутствует, но, судя по тестам, она должна выполнять следующие действия:

- Принимать путь к директории в качестве аргумента.
- Читать JSON-файлы из указанной директории и её поддиректорий.
- Строить шаблоны категорий на основе содержимого JSON-файлов.
- Возвращать словарь, представляющий построенные шаблоны категорий.
- Вызывать исключение `FileNotFoundError`, если указанная директория не существует.

```python
def buid_templates(path: str) -> dict:
    """
    Строит шаблоны категорий на основе JSON-файлов в указанной директории.

    Args:
        path (str): Путь к директории с JSON-файлами.

    Returns:
        dict: Словарь, представляющий построенные шаблоны категорий.

    Raises:
        FileNotFoundError: Если указанная директория не существует.
    """
    ...
```