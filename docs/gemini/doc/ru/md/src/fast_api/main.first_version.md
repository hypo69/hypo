# Модуль `main.first_version.py`

## Обзор

Этот модуль представляет собой точку входа для веб-приложения FastAPI, обрабатывающего данные, полученные из HTML-формы.  Он использует FastAPI для создания API-эндпоинтов, взаимодействует с внешним скриптом (`script.py`) для обработки данных и обеспечивает запуск веб-сервера.

## Оглавление

- [Функции](#функции)
    - [`process_data`](#process_data)
    - [`open_index`](#open_index)


## Функции

### `process_data`

**Описание**: Обрабатывает данные, полученные из HTML-формы, и передает их в скрипт `script.py` для обработки. Возвращает результат обработки в формате JSON.

**Параметры**:

- `request: Request`: Объект запроса FastAPI.
- `first_name: str = Form(...)`: Имя пользователя (обязательно).
- `last_name: str = Form(...)`: Фамилия пользователя (обязательно).


**Возвращает**:

- `dict`: Словарь с ключом `output`, содержащим результат, возвращенный скриптом `script.py`.


**Вызывает исключения**:

- `HTTPException(status_code=400, detail="First name and last name must be provided")`: Возникает, если имя или фамилия не предоставлены.
- `HTTPException(status_code=500, detail=f"Error executing the script: {stderr.decode()}")`: Возникает, если произошла ошибка при выполнении скрипта `script.py`.


### `open_index`

**Описание**: Перенаправляет запрос на индексную страницу (`index.html`).

**Параметры**:
- Нет

**Возвращает**:

- `dict`: Словарь с сообщением о перенаправлении.


**Вызывает исключения**:
- Нет



## Запуск приложения

Для запуска приложения необходимо выполнить команду:

```bash
uvicorn main:app --reload
```

Это запустит сервер на порту 8000. Откройте в браузере `http://localhost:8000/html/index.html` для доступа к интерфейсу.


```
```
```python