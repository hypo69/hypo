# hypotez/src/category/header.py

## Описание

Этот файл (`hypotez/src/category/header.py`) определяет корневой путь к проекту `hypotez`.  Все импорты строятся относительно этого пути.  В будущем, корневой путь планируется хранить в системной переменной.

## Функции

**`set_project_root(marker_files=(\'pyproject.toml\', \'requirements.txt\', \'.git\')) -> Path`**:

Эта функция находит корневую директорию проекта, начиная с текущей директории файла, в котором она вызывается, и идя вверх по дереву директорий. Поиск останавливается на первой директории, содержащей один из файлов или директорий из списка `marker_files`.

* **`marker_files`**: Кортеж имен файлов/директорий, используемых для определения корневого каталога проекта. По умолчанию используются `pyproject.toml`, `requirements.txt` и `.git`.
* **Возвращает**: Путь к корневой директории проекта, если найдена, в противном случае - директория, в которой находится текущий файл.  Кроме того, добавляет корневой путь в `sys.path`, что позволяет импортировать модули из подкаталогов проекта.

## Глобальные переменные

* **`__root__` (Path)**: Путь к корневой директории проекта, полученный с помощью функции `set_project_root()`.

* **`settings` (dict)**: Словарь со значениями из файла `src/settings.json`. Если файл не найден или содержит некорректные данные, `settings` будет равно `None`.

* **`doc_str` (str)**: Текст из файла `src/README.MD`.  Если файл не найден или возникает ошибка при чтении, `doc_str` будет равно `None`.

* **`__project_name__` (str)**: Название проекта, взятое из `settings.json` (ключ `project_name`). По умолчанию `hypotez`.

* **`__version__` (str)**: Версия проекта, взятая из `settings.json` (ключ `version`). По умолчанию пустая строка.

* **`__doc__` (str)**: Текст документации проекта.  Получен из `README.MD`. По умолчанию пустая строка.

* **`__details__` (str)**: Пустая строка. (Скорее всего, предназначено для дополнительных метаданных)

* **`__author__` (str)**: Автор проекта, взятый из `settings.json` (ключ `author`). По умолчанию пустая строка.

* **`__copyright__` (str)**: Авторские права, взятые из `settings.json` (ключ `copyright`). По умолчанию пустая строка.

* **`__cofee__` (str)**: Ссылка на страницу для поддержки разработчика.  Взято из `settings.json` (ключ `cofee`). По умолчанию содержит ссылку.


## Обработка ошибок

Код содержит обработку исключений `FileNotFoundError` и `json.JSONDecodeError` при чтении файлов `settings.json` и `README.MD`, предотвращая сбой программы при отсутствии этих файлов или некорректных данных в них.


## Замечания

* Использование `__root__` в качестве имени переменной и именования переменных с двойным подчеркиванием в начале и конце - нестандартная практика в Python.
* Указание типа `-> Path` для функции `set_project_root` - хорошее практическое решение.
* Типы данных для переменных не объявлены явно, но код хорошо читаем и ясно отражает ожидаемый тип.
* Использование `gs.path.root` предполагает, что модуль `gs` определен и предоставляет объект `path` с атрибутом `root`.


В целом, код хорошо структурирован и понятен.  Основная логика  - нахождение корневого каталога проекта и загрузка настроек из `settings.json` и `README.MD`.