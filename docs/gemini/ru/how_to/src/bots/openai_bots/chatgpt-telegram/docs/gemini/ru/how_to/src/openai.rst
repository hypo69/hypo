Как использовать класс OpenAI
========================================================================================

Описание
-------------------------
Класс `OpenAI` предоставляет методы для взаимодействия с API OpenAI. Он позволяет отправлять запросы на диалог с моделью GPT-3.5-turbo (`chat`) и выполнять транскрипцию аудио (`transcription`). Класс использует библиотеку `openai` для работы с API.  Конфигурация API задается через переменную `config.get('OPENAI_KEY')`.

Шаги выполнения
-------------------------
1. **Импортирование необходимых библиотек**:  Импортируются классы `Configuration`, `OpenAIApi` из библиотеки `openai`, модуль `config` и функция `createReadStream` из модуля `fs`.

2. **Создание экземпляра класса OpenAI**: Создается экземпляр класса `OpenAI` с ключом API, полученным из конфигурационного файла `config`.

3. **Метод `chat`**:
   - Принимает массив `messages`, содержащий объекты с ролью и сообщением для диалога.
   - Выполняет запрос к API OpenAI с использованием модели `gpt-3.5-turbo`.
   - Возвращает объект с сообщением от модели, если запрос успешен.
   - Обрабатывает возможные ошибки и выводит сообщение об ошибке в консоль.

4. **Метод `transcription`**:
   - Принимает путь к файлу аудио (`filepath`).
   - Использует `createReadStream` для потоковой обработки файла.
   - Выполняет запрос к API OpenAI для транскрипции аудио с использованием модели "whisper-1".
   - Возвращает транскрибированный текст, если запрос успешен.
   - Обрабатывает возможные ошибки и выводит сообщение об ошибке в консоль.


Пример использования
-------------------------
.. code-block:: javascript
    
    import { openai } from './openai'; // Предполагая, что openai экспортируется из openai.js

    async function runExample() {
        // Пример для метода chat
        const messages = [
            { role: 'user', content: 'Привет, расскажи о себе.' },
        ];
        const response = await openai.chat(messages);
        console.log(response.content);


        // Пример для метода transcription
        const filepath = 'path/to/your/audio.wav'; // Замените на корректный путь
        try {
            const transcript = await openai.transcription(filepath);
            console.log(transcript);
        } catch (error) {
            console.error('Ошибка при транскрипции:', error.message);
        }
    }

    runExample();