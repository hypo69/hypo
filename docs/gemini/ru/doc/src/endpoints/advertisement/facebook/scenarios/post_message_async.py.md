# Модуль `post_message_async.py`

## Обзор

Модуль `post_message_async.py` предназначен для автоматизации процесса публикации сообщений в Facebook, включая добавление текста (заголовка и описания), загрузку медиафайлов (изображений или видео) и добавление подписей к ним. Он использует `selenium` для взаимодействия с веб-страницей и `asyncio` для выполнения асинхронных операций.

## Содержание

1. [Функции](#функции)
    - [`post_title`](#post_title)
    - [`upload_media`](#upload_media)
    - [`update_images_captions`](#update_images_captions)
    - [`promote_post`](#promote_post)

## Функции

### `post_title`

**Описание**: Отправляет заголовок и описание кампании в поле сообщения.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Категория, содержащая заголовок и описание для отправки.

**Возвращает**:
- `bool`: `True`, если заголовок и описание были успешно отправлены, в противном случае `None`.

**Примеры**:
```python
>>> driver = Driver(...)
>>> category = SimpleNamespace(title="Заголовок кампании", description="Описание кампании")
>>> post_title(driver, category)
True
```

### `upload_media`

**Описание**: Загружает медиафайлы в раздел изображений и обновляет подписи.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `products` (List[SimpleNamespace]): Список продуктов, содержащих пути к медиафайлам.
- `no_video` (bool, optional): Флаг, указывающий, что видео не нужно загружать. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если медиафайлы были успешно загружены, в противном случае `None`.

**Вызывает исключения**:
- `Exception`: Если произошла ошибка во время загрузки медиафайлов или обновления подписей.

**Примеры**:
```python
>>> driver = Driver(...)
>>> products = [SimpleNamespace(local_image_path='путь/к/изображению.jpg', ...)]
>>> await upload_media(driver, products)
True
```

### `update_images_captions`

**Описание**: Асинхронно добавляет описания к загруженным медиафайлам.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `products` (List[SimpleNamespace]): Список продуктов с деталями для обновления.
- `textarea_list` (List[WebElement]): Список текстовых полей, в которые добавляются подписи.

**Вызывает исключения**:
- `Exception`: Если произошла ошибка при обновлении подписей к медиафайлам.

### `promote_post`

**Описание**: Управляет процессом продвижения поста с заголовком, описанием и медиафайлами.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Детали категории, используемые для заголовка и описания поста.
- `products` (List[SimpleNamespace]): Список продуктов, содержащих медиа и детали для публикации.
- `no_video` (bool, optional): Флаг, указывающий, что видео не нужно загружать. По умолчанию `False`.

**Примеры**:
```python
>>> driver = Driver(...)
>>> category = SimpleNamespace(title="Заголовок кампании", description="Описание кампании")
>>> products = [SimpleNamespace(local_image_path='путь/к/изображению.jpg', ...)]
>>> await promote_post(driver, category, products)
```