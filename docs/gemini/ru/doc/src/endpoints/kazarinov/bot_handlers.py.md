# Модуль `bot_handlers_parser`

## Обзор

Модуль `bot_handlers_parser` предназначен для обработки событий, поступающих от телеграм-бота `kazarinov_bot`. Он обрабатывает команды, такие как работа с ссылками OneTab и выполнение связанных сценариев.

## Содержание

- [Классы](#классы)
  - [`BotHandler`](#bot_handler)
- [Функции](#функции)
  - [`handle_url`](#handle_url)
  - [`handle_next_command`](#handle_next_command)
  - [`fetch_target_urls_onetab`](#fetch_target_urls_onetab)

## Классы

### `BotHandler`

**Описание**: Исполнитель команд, полученных ботом.

**Методы**:
- `__init__`: Инициализирует обработчик событий телеграм-бота.
- `handle_url`: Обрабатывает URL, присланный пользователем.
- `handle_next_command`: Обрабатывает команду '--next' и её аналоги.
- `fetch_target_urls_onetab`: Извлекает целевые URL с указанного URL OneTab.

#### `__init__`

**Описание**: Инициализация обработчика событий телеграм-бота.

**Параметры**:
- `webdriver_name` (str): Название веб-драйвера для запуска.

#### `handle_url`

**Описание**: Обработка URL, присланного пользователем.

**Параметры**:
- `update` (Update): Объект обновления из телеграма.
- `context` (CallbackContext): Контекст выполнения.

**Возвращает**:
- `Any`: Возвращает `True` если обработка прошла успешно, иначе ничего не возвращает.

#### `handle_next_command`

**Описание**: Обработка команды `--next` и её аналогов.

**Параметры**:
- `update` (Update): Объект обновления из телеграма.

**Вызывает исключения**:
- `Exception`: Ошибка чтения вопросов.

#### `fetch_target_urls_onetab`

**Описание**: Извлечение целевых URL с указанного URL OneTab.

Выполняется GET-запрос к указанному URL, парсится HTML-контент и извлекаются ссылки из тегов `a` с классом `tabLink`.

**Параметры**:
- `one_tab_url` (str): URL страницы OneTab.

**Возвращает**:
- `list[str] | bool`: Список целевых URL или `None` при ошибке.

**Вызывает исключения**:
- `requests.exceptions.RequestException`: Ошибка при выполнении запроса.

## Функции
### `handle_url`
**Описание**: Обрабатывает URL, присланный пользователем.

**Параметры**:
- `update` (Update): Объект обновления из телеграма.
- `context` (CallbackContext): Контекст выполнения.

**Возвращает**:
- `Any`: Возвращает `True` если обработка прошла успешно, иначе ничего не возвращает.

### `handle_next_command`
**Описание**: Обрабатывает команду `--next` и её аналоги.

**Параметры**:
- `update` (Update): Объект обновления из телеграма.

**Вызывает исключения**:
- `Exception`: Ошибка чтения вопросов.

### `fetch_target_urls_onetab`
**Описание**: Извлечение целевых URL с указанного URL OneTab.

Выполняется GET-запрос к указанному URL, парсится HTML-контент и извлекаются ссылки из тегов `a` с классом `tabLink`.

**Параметры**:
- `one_tab_url` (str): URL страницы OneTab.

**Возвращает**:
- `tuple[str | int, str, list[str]] | None`: Кортеж, содержащий цену (str or int), имя mexiron (str) и список URL (list[str]), или None при ошибке.

**Вызывает исключения**:
- `requests.exceptions.RequestException`: Ошибка при выполнении запроса.