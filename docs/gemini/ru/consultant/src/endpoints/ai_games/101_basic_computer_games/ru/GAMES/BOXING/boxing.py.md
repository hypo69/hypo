# Анализ кода модуля boxing.py

**Качество кода**
8
- Плюсы
    - Код достаточно хорошо структурирован и легко читается.
    - Присутствуют комментарии, объясняющие основные части кода.
    - Логика игры реализована в соответствии с описанием.
    - Используется цикл `while` для игрового процесса и `try-except` для обработки ввода.
    - Есть описание алгоритма и блок схема.
- Минусы
    - Отсутствуют docstring для модуля, функций.
    - Не используется `j_loads` или `j_loads_ns` для чтения данных.
    - В комментариях не используется RST формат.
    - Нет логирования ошибок с использованием `logger.error`.
    - Есть избыточное использование `try-except`.

**Рекомендации по улучшению**
1.  Добавить docstring для модуля, функций, методов и переменных в формате reStructuredText (RST).
2.  Использовать `from src.utils.jjson import j_loads, j_loads_ns` вместо стандартного `json.load` (если требуется работа с JSON).
3.  Заменить стандартные `try-except` на обработку ошибок с помощью `logger.error`.
4.  Импортировать и использовать `logger` для логирования ошибок.
5.  Переписать все комментарии в формате RST.
6.  Добавить проверку на корректность ввода пользователя(попадает ли число в диапазон 1,2,3).

**Оптимизированный код**

```python
"""
Модуль для реализации текстовой игры "Бокс"
====================================================

Этот модуль содержит реализацию текстовой игры "Бокс" между двумя игроками.
Игроки по очереди выбирают силу удара, а компьютер определяет, достиг ли удар цели.
Игра продолжается до тех пор, пока один из боксеров не будет нокаутирован.

Пример использования
--------------------

.. code-block:: python

    import random

    # Инициализация здоровья игроков
    player1Health = 10
    player2Health = 10
    currentPlayer = 1

    # Основной игровой цикл
    while player1Health > 0 and player2Health > 0:
        ...
"""
import random
from src.logger.logger import logger  #  Импортируем logger для логирования ошибок

#  Инициализация здоровья игроков
player1Health = 10
player2Health = 10
#  Начинаем с первого игрока
currentPlayer = 1

#  Основной игровой цикл
while player1Health > 0 and player2Health > 0:
    #  Выводим текущее здоровье игроков
    print(f"Здоровье игрока 1: {player1Health}, Здоровье игрока 2: {player2Health}")

    # Запрашиваем ввод от текущего игрока
    while True:
        try:
            #  Запрашиваем у текущего игрока ввод силы удара (1-слабый, 2-средний, 3-сильный)
            attackType = int(input(f"Игрок {currentPlayer}, выберите силу удара (1-слабый, 2-средний, 3-сильный): "))
            #  Проверяем, является ли ввод корректным (1, 2 или 3)
            if attackType in [1, 2, 3]:
                break
            else:
                #  Выводим сообщение об ошибке, если ввод некорректен
                print("Некорректный ввод. Пожалуйста, выберите 1, 2 или 3.")
        except ValueError as ex:
            #  Логируем ошибку, если ввод не является числом
            logger.error('Некорректный ввод. Пожалуйста, введите число.', exc_info=True)
            print("Некорректный ввод. Пожалуйста, введите число.")

    #  Генерируем случайное число
    randomNum = random.randint(1, 100)

    #  Определяем, попал ли удар и уменьшаем здоровье противника, если удар попал
    hit = False
    if attackType == 1 and randomNum <= 80:
        hit = True
    elif attackType == 2 and randomNum <= 60:
        hit = True
    elif attackType == 3 and randomNum <= 40:
        hit = True

    if hit:
        #  Выводим сообщение, если удар достиг цели
        print("Удар достиг цели!")
        if currentPlayer == 1:
            #  Уменьшаем здоровье игрока 2, если текущий игрок 1
            player2Health -= 1
        else:
            #  Уменьшаем здоровье игрока 1, если текущий игрок 2
            player1Health -= 1
    else:
        #  Выводим сообщение, если удар не достиг цели
        print("Удар не достиг цели.")

    #  Переключаем ход на следующего игрока
    currentPlayer = 3 - currentPlayer  #  Переключает с 1 на 2 и с 2 на 1

#  Определяем победителя
if player1Health <= 0:
    #  Выводим сообщение о победе игрока 2
    print("Игрок 2 победил!")
else:
    #  Выводим сообщение о победе игрока 1
    print("Игрок 1 победил!")
```