# Модуль `hypotez/src/webdriver/chrome/chrome.py`

## Обзор

Модуль `chrome.py` предоставляет класс `Chrome` для управления браузером Chrome через Selenium. Он интегрирует настройки, определённые в файле `chrome.json` (пользовательский агент, профиль браузера), для гибкого и автоматизированного взаимодействия с браузером.  Модуль поддерживает централизованную конфигурацию через JSON файлы, обработку нескольких профилей браузера, улучшенную логирование и обработку ошибок.

## Классы

### `Chrome`

**Описание**: Класс `Chrome` расширяет `webdriver.Chrome` и обеспечивает единый экземпляр драйвера.

**Методы**:

- `__new__`:
    **Описание**: Статический метод, гарантирующий создание единственного экземпляра класса. Если экземпляр уже существует, вызывается метод `window_open()`.
    **Возвращает**: Экземпляр класса `Chrome`.
- `__init__`:
    **Описание**: Инициализирует драйвер Chrome с заданными опциями и профилем.
    **Параметры**:
        - `user_agent` (Optional[str], необязательно): Строка user-agent. По умолчанию генерируется случайный user-agent.
    **Вызывает исключения**:
        - `WebDriverException`: При ошибке инициализации драйвера.
        - `Exception`: Общая ошибка при настройке драйвера.
- `_payload`:
    **Описание**: Загружает экзекутор для локейторов и сценариев JavaScript.
    **Возвращает**: `None`


## Функции

### `normalize_path`

**Описание**: Заменяет плейсхолдеры в пути на реальные пути, используя переменные среды.
**Параметры**:
    - `path` (str): Путь со плейсхолдерами, например, `%APPDATA%`.
**Возвращает**:
    - str: Нормализованный путь.


##  Константы

### `MODE`

**Описание**: Переменная, хранящая режим работы (например, 'dev').


## Модули

Этот модуль использует следующие модули:

- `os`
- `sys`
- `pathlib`
- `typing`
- `types`
- `selenium`
- `fake_useragent`
- `selenium.common.exceptions`
- `header`
- `src.gs`
- `src.webdriver.executor`
- `src.webdriver.js`
- `src.utils.jjson`
- `src.logger`


##  Примечание

Документация использует синтаксис, указанный в инструкции.  Блоки `...` в методе `__init__` предполагают, что там находятся обработчики ошибок, которые не описаны в коде.  `j_loads_ns` предполагается как функция для загрузки настроек из файла. `gs` - предполагаемый модуль для получения путей.