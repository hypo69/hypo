# Модуль `src.suppliers.aliexpress.category`

## Обзор

Модуль предназначен для управления категориями товаров на сайте Aliexpress. Он включает в себя функции для сбора ссылок на товары, обновления категорий в файлах сценариев, а также адаптер для взаимодействия с базой данных категорий.

## Содержание

1. [Функции](#Функции)
   - [`get_list_products_in_category`](#get_list_products_in_category)
   - [`get_prod_urls_from_pagination`](#get_prod_urls_from_pagination)
   - [`update_categories_in_scenario_file`](#update_categories_in_scenario_file)
   - [`get_list_categories_from_site`](#get_list_categories_from_site)
2. [Классы](#Классы)
    - [`DBAdaptor`](#DBAdaptor)

## Функции

### `get_list_products_in_category`

**Описание**: Считывает URL товаров со страницы категории, пролистывая все страницы, если их несколько.

**Параметры**:

- `s` (Supplier): Экземпляр поставщика.

**Возвращает**:

- `list[str, str]`: Список собранных URL товаров. Может быть пустым, если в исследуемой категории нет товаров.

### `get_prod_urls_from_pagination`

**Описание**: Собирает ссылки на товары со страницы категории с перелистыванием страниц.

**Параметры**:

- `s` (Supplier): Экземпляр поставщика.

**Возвращает**:

- `list[str]`: Список ссылок на товары, собранных со страницы категории.

### `update_categories_in_scenario_file`

**Описание**: Проверяет изменения в категориях на сайте, сравнивая их с данными в файле сценария. Обновляет файл сценария, добавляя новые категории и деактивируя удаленные.

**Параметры**:

- `s` (Supplier): Экземпляр поставщика.
- `scenario_filename` (str): Имя файла сценария.

**Возвращает**:

- `bool`: `True` после завершения.

### `get_list_categories_from_site`
**Описание**: Получает список категорий с сайта.
**Параметры**:

- `s` (Supplier): Экземпляр поставщика.
- `scenario_file` (str): Имя файла сценария.
- `brand` (str): Бренд (по умолчанию пустая строка).

**Возвращает**:
- `None`

## Классы

### `DBAdaptor`

**Описание**: Адаптер для взаимодействия с базой данных категорий Aliexpress.

**Методы**:

- `select`:
    -   **Описание**: Выбирает записи из таблицы `AliexpressCategory`.
    -   **Параметры**:
        -   `cat_id` (int, optional): ID категории.
        -   `parent_id` (int, optional): ID родительской категории.
        -   `project_cat_id` (int, optional): ID категории проекта.
    -   **Возвращает**:
        -   `None`
- `insert`:
    -   **Описание**: Вставляет новую запись в таблицу `AliexpressCategory`.
    -   **Параметры**:
         -   `None`
    -   **Возвращает**:
        -   `None`
- `update`:
    -   **Описание**: Обновляет запись в таблице `AliexpressCategory`.
     -   **Параметры**:
         -   `None`
    -   **Возвращает**:
        -   `None`
- `delete`:
    -   **Описание**: Удаляет запись из таблицы `AliexpressCategory`.
    -   **Параметры**:
         -   `None`
    -   **Возвращает**:
        -   `None`