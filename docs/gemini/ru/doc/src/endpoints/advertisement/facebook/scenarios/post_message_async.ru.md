# Документация модуля `src.endpoints.advertisement.facebook.post_message_async`

## Обзор

Этот модуль предназначен для автоматизации процесса публикации сообщений на Facebook, включая отправку заголовка, описания и загрузку медиафайлов. Он является частью директории `hypotez/src/endpoints/advertisement/facebook/scenarios`.

## Подробней

Модуль автоматизирует взаимодействие со страницей Facebook, используя локаторы для выполнения различных действий. Основная цель - упростить и ускорить процесс продвижения постов с заголовком, описанием и медиафайлами.

## Содержание

- [Функции](#Функции)
  - [post_title](#post_title)
  - [upload_media](#upload_media)
  - [update_images_captions](#update_images_captions)
  - [promote_post](#promote_post)

## Функции

### `post_title`

```python
def post_title(d: Driver, category: SimpleNamespace) -> bool:
    """
    Отправляет заголовок и описание кампании в поле сообщения на Facebook.

    Args:
        d (Driver): Экземпляр `Driver` для взаимодействия с веб-страницей.
        category (SimpleNamespace): Категория, содержащая заголовок и описание для отправки.

    Returns:
        bool: `True`, если заголовок и описание были успешно отправлены, иначе `None`.
    """
```

**Назначение**: Отправляет заголовок и описание кампании в поле сообщения на Facebook.

**Параметры**:
- `d` (Driver): Экземпляр класса `Driver`, используемый для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Объект, содержащий заголовок и описание для публикации.

**Возвращает**:
- `bool`: `True`, если заголовок и описание успешно отправлены, иначе `None`.

**Как работает функция**:
1. Функция принимает экземпляр `Driver` и объект `category` с данными заголовка и описания.
2. Использует локаторы для полей ввода заголовка и описания на странице Facebook.
3. Вводит заголовок и описание в соответствующие поля.
4. Возвращает `True`, если операция выполнена успешно, иначе `None`.

```
Начало
  ↓
Инициализация параметров (d, category)
  ↓
Ввод заголовка и описания в соответствующие поля
  ↓
Успешно?
  ↓
Конец
```

### `upload_media`

```python
def upload_media(d: Driver, products: List[SimpleNamespace], no_video: bool = False) -> bool:
    """
    Загружает медиафайлы на пост Facebook и обновляет их подписи.

    Args:
        d (Driver): Экземпляр `Driver` для взаимодействия с веб-страницей.
        products (List[SimpleNamespace]): Список продуктов, содержащих пути к медиафайлам.
        no_video (bool, optional): Флаг, указывающий, следует ли пропустить загрузку видео. По умолчанию `False`.

    Returns:
        bool: `True`, если медиафайлы были успешно загружены, иначе `None`.
    """
```

**Назначение**: Загружает медиафайлы на пост Facebook.

**Параметры**:
- `d` (Driver): Экземпляр класса `Driver` для взаимодействия с веб-страницей.
- `products` (List[SimpleNamespace]): Список продуктов, содержащих пути к медиафайлам.
- `no_video` (bool, optional): Флаг, указывающий, следует ли пропустить загрузку видео. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если медиафайлы были успешно загружены, иначе `None`.

**Как работает функция**:
1. Функция принимает экземпляр `Driver`, список продуктов `products` и флаг `no_video`.
2. Использует локаторы для определения элементов загрузки медиа на странице Facebook.
3. Загружает каждое медиафайлы из списка продуктов.
4. Возвращает `True`, если все медиафайлы успешно загружены, иначе `None`.

```
Начало
  ↓
Инициализация параметров (d, products, no_video)
  ↓
Загрузка медиафайлов
  ↓
Успешно?
  ↓
Конец
```

### `update_images_captions`

```python
def update_images_captions(d: Driver, products: List[SimpleNamespace], textarea_list: List[WebElement]) -> None:
    """
    Асинхронно добавляет описания к загруженным медиафайлам.

    Args:
        d (Driver): Экземпляр `Driver` для взаимодействия с веб-страницей.
        products (List[SimpleNamespace]): Список продуктов с деталями для обновления.
        textarea_list (List[WebElement]): Список текстовых полей, куда добавляются подписи.
    """
```

**Назначение**: Добавляет описания к загруженным медиафайлам асинхронно.

**Параметры**:
- `d` (Driver): Экземпляр класса `Driver` для взаимодействия с веб-страницей.
- `products` (List[SimpleNamespace]): Список продуктов с деталями для обновления подписей.
- `textarea_list` (List[WebElement]): Список текстовых полей, в которые добавляются подписи.

**Как работает функция**:
1. Функция принимает экземпляр `Driver`, список продуктов `products` и список текстовых полей `textarea_list`.
2. Для каждого продукта устанавливает соответствующую подпись в текстовом поле.

```
Начало
  ↓
Инициализация параметров (d, products, textarea_list)
  ↓
Обновление подписей к медиафайлам
  ↓
Конец
```

### `promote_post`

```python
def promote_post(d: Driver, category: SimpleNamespace, products: List[SimpleNamespace], no_video: bool = False) -> bool:
    """
    Управляет процессом продвижения поста с заголовком, описанием и медиафайлами.

    Args:
        d (Driver): Экземпляр `Driver` для взаимодействия с веб-страницей.
        category (SimpleNamespace): Детали категории, используемые для заголовка и описания поста.
        products (List[SimpleNamespace]): Список продуктов, содержащих медиа и детали для публикации.
        no_video (bool, optional): Флаг, указывающий, следует ли пропустить загрузку видео. По умолчанию `False`.

    Returns:
        bool: `True`, если пост был успешно продвинут, иначе `None`.
    """
```

**Назначение**: Управляет процессом продвижения поста, включая добавление заголовка, описания и медиафайлов.

**Параметры**:
- `d` (Driver): Экземпляр класса `Driver` для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Детали категории, используемые для заголовка и описания поста.
- `products` (List[SimpleNamespace]): Список продуктов, содержащих медиа и детали для публикации.
- `no_video` (bool, optional): Флаг, указывающий, следует ли пропустить загрузку видео. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если пост был успешно продвинут, иначе `None`.

**Как работает функция**:
1. Функция принимает экземпляр `Driver`, данные категории `category`, список продуктов `products` и флаг `no_video`.
2. Вызывает функции `post_title`, `upload_media` и `update_images_captions` для выполнения шагов продвижения.

```
Начало
  ↓
Инициализация параметров (d, category, products, no_video)
  ↓
Отправка заголовка и описания
  ↓
Загрузка медиафайлов
  ↓
Обновление подписей
  ↓
Успешно?
  ↓
Конец
```