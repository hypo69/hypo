# Модуль `src.scenario.executor`

## Обзор

Модуль `src.scenario.executor` предназначен для выполнения сценариев, их загрузки из файлов, обработки процесса извлечения информации о продуктах и вставки их в PrestaShop.

## Оглавление
1. [Функции](#Функции)
    * [`dump_journal`](#dump_journal)
    * [`run_scenario_files`](#run_scenario_files)
    * [`run_scenario_file`](#run_scenario_file)
    * [`run_scenarios`](#run_scenarios)
    * [`run_scenario`](#run_scenario)
    * [`insert_grabbed_data_to_prestashop`](#insert_grabbed_data_to_prestashop)

---

## Функции

### `dump_journal`

**Описание**: Сохраняет данные журнала в JSON файл.

**Параметры**:
- `s` (object): Экземпляр поставщика.
- `journal` (dict): Словарь, содержащий данные журнала.

**Возвращает**:
- `None`

### `run_scenario_files`

**Описание**: Выполняет список файлов сценариев.

**Параметры**:
- `s` (object): Экземпляр поставщика.
- `scenario_files_list` (List[Path] | Path): Список путей к файлам сценариев или один путь к файлу.

**Вызывает исключения**:
- `TypeError`: Если `scenario_files_list` не является списком или объектом `Path`.

**Возвращает**:
- `bool`: `True`, если все сценарии выполнены успешно, `False` в противном случае.

### `run_scenario_file`

**Описание**: Загружает и выполняет сценарии из файла.

**Параметры**:
- `s` (object): Экземпляр поставщика.
- `scenario_file` (Path): Путь к файлу сценария.

**Возвращает**:
- `bool`: `True`, если сценарий выполнен успешно, `False` в противном случае.

**Вызывает исключения**:
- `FileNotFoundError`: Если файл сценария не найден.
- `json.JSONDecodeError`: Если не удалось декодировать файл сценария в JSON.

### `run_scenarios`

**Описание**: Функция для выполнения списка сценариев (НЕ ФАЙЛОВ).

**Параметры**:
- `s` (object): Экземпляр поставщика.
- `scenarios` (Optional[List[dict] | dict], optional): Принимает список сценариев или один сценарий в виде словаря. По умолчанию `None`.

**Возвращает**:
- `List | dict | bool`: Результат выполнения сценариев в виде списка или словаря, в зависимости от типа входных данных, или `False` в случае ошибки.

**TODO**:
- Проверить вариант, когда не указаны сценарии со всех сторон. Например, когда `s.current_scenario` не указан и сценарии не указаны.

### `run_scenario`

**Описание**: Функция для выполнения полученного сценария.

**Параметры**:
- `supplier` (object): Экземпляр поставщика.
- `scenario` (dict): Словарь, содержащий детали сценария.
- `scenario_name` (str): Имя сценария.

**Возвращает**:
- `List | dict | bool`: Результат выполнения сценария.

**TODO**:
- Проверить необходимость параметра `scenario_name`.

### `insert_grabbed_data_to_prestashop`

**Описание**: Вставляет продукт в PrestaShop.

**Параметры**:
- `f` (ProductFields): Экземпляр `ProductFields`, содержащий информацию о продукте.
- `coupon_code` (Optional[str], optional): Опциональный код купона. По умолчанию `None`.
- `start_date` (Optional[str], optional): Опциональная дата начала акции. По умолчанию `None`.
- `end_date` (Optional[str], optional): Опциональная дата окончания акции. По умолчанию `None`.

**Возвращает**:
- `bool`: `True`, если вставка прошла успешно, `False` в противном случае.