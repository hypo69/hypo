# Модуль hypotez/src/webdriver/executor.py

## Обзор

Модуль `executor` предназначен для выполнения действий над веб-элементами на основе предоставленных конфигураций, известных как "локейторы". Эти конфигурации (или "локейторы") представляют собой словари, содержащие информацию о том, как найти и взаимодействовать с элементами на веб-странице. Модуль предоставляет следующие функциональности:

1. **Парсинг и обработка локейторов:** Преобразует словари с конфигурациями в объекты `SimpleNamespace`, что позволяет гибко управлять данными локейтора.

2. **Взаимодействие с веб-элементами:** В зависимости от предоставленных данных, модуль может выполнять различные действия, такие как клики, отправка сообщений, выполнение событий и получение атрибутов веб-элементов.

3. **Обработка ошибок:** Модуль поддерживает продолжение выполнения в случае ошибки, позволяя обрабатывать веб-страницы, которые могут иметь нестабильные элементы или требуют специального подхода.

4. **Поддержка нескольких типов локейторов:** Обрабатывает как одиночные, так и множественные локейторы, что позволяет идентифицировать и взаимодействовать с одним или несколькими веб-элементами одновременно.

Этот модуль обеспечивает гибкость и универсальность при работе с веб-элементами, что позволяет автоматизировать сложные сценарии взаимодействия с веб-сайтом.


## Классы

### `ExecuteLocator`

**Описание:** Обработчик локейторов для веб-элементов, использующий Selenium.

**Атрибуты:**

- `driver` (Optional[object]): Объект драйвера Selenium.
- `actions` (ActionChains): Объект для выполнения действий с элементами.
- `by_mapping` (dict): Словарь соответствия имен локейторов (XPATH, ID и т.д.) типам `By` из Selenium.
- `mode` (str): Режим работы (debug, dev).


**Методы:**

- `execute_locator`: Выполняет действия над веб-элементом на основе предоставленного локейтора.
- `evaluate_locator`: Оценивает и обрабатывает атрибуты локейтора.
- `get_attribute_by_locator`: Получает атрибуты элемента или списка элементов, найденных по заданному локейтору.
- `get_webelement_by_locator`: Получает веб-элементы в соответствии с локейтором.
- `get_webelement_as_screenshot`: Снимает скриншот указанного веб-элемента.
- `execute_event`: Выполняет события, связанные с локейтором.
- `send_message`: Отправляет сообщение веб-элементу.


## Функции (и методы класса ExecuteLocator)

### `ExecuteLocator.execute_locator`

**Описание:** Выполняет действия над веб-элементом на основе предоставленного локейтора.

**Параметры:**

- `locator`: Данные локейтора (словарь или `SimpleNamespace`).
- `timeout`: Таймаут для поиска элемента.
- `timeout_for_event`: Условие ожидания (например, 'presence_of_element_located').
- `message`: Дополнительное сообщение для отправки.
- `typing_speed`: Скорость набора текста.
- `continue_on_error`: Продолжать ли выполнение при ошибке.

**Возвращает:**

- `str | list | dict | WebElement | bool`: Результат в зависимости от инструкций локейтора.

**Обрабатывает исключения:**

- `ElementClickInterceptedException`
- `JavascriptException`
- `NoSuchElementException`
- `StaleElementReferenceException`
- `TimeoutException`
- и другие исключения.


### `ExecuteLocator.evaluate_locator`

**Описание:** Оценивает и обрабатывает атрибуты локейтора.

**Параметры:**

- `attribute`: Атрибуты для оценки.

**Возвращает:**

- `Optional[str | List[str] | dict]`: Оцененные атрибуты.

**Обрабатывает исключения:**

- Различные исключения, возникающие при обработке атрибутов.

**(И так далее для остальных функций и методов...)**

```