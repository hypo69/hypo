# Анализ кода модуля `tower.py`

**Качество кода**
9
 - Плюсы
    - Код хорошо документирован с описанием логики работы игры и блок-схемой.
    - Присутствуют понятные комментарии.
    - Код следует основной структуре, описанной в задании.
    - Используется `try-except` для обработки ошибок ввода.
 - Минусы
    - Отсутствует обработка ошибок через `logger`.
    - Не используются функции `j_loads` или `j_loads_ns`.
    - Не все комментарии переведены в формат RST.

**Рекомендации по улучшению**
1.  Импортировать `logger` из `src.logger.logger` для логирования ошибок.
2.  Заменить стандартный `print` на `logger.info` или `logger.error` в зависимости от ситуации.
3.  Переписать docstring в формате RST.
4.  Удалить лишние комментарии после кода.
5.  Необходимо добавить в начале файла описание модуля в формате RST.

**Оптимизированный код**
```python
"""
Модуль для игры "Башня"
=========================================================================================

Игра "Башня" - это игра, в которой игрок пытается построить башню, вводя высоту каждого этажа.
Цель - построить башню как можно выше, но есть ограничение: если текущий этаж будет меньше
предыдущего, то башня рухнет.

Правила игры:
1. Игрок начинает с высоты первого этажа.
2. На каждом последующем этапе игрок вводит высоту следующего этажа.
3. Если высота текущего этажа больше высоты предыдущего этажа, то этаж добавляется к башне, и игра продолжается.
4. Если высота текущего этажа равна или меньше высоты предыдущего этажа, то башня рушится, и игра заканчивается.
5. Цель игры - построить башню как можно выше, то есть как можно больше этажей.

Пример использования
--------------------

.. code-block:: python

    # Запуск игры
    ...

"""


from src.logger.logger import logger

# Инициализация переменных
towerHeight = 0  # текущая высота башни
previousFloorHeight = 0  # высота предыдущего этажа
floorNumber = 0  # номер текущего этажа

# Начало основного цикла игры
while True:
    # Увеличиваем номер этажа
    floorNumber += 1

    try:
        # Запрашиваем высоту текущего этажа
        currentFloorHeight = int(input(f"Введите высоту этажа {floorNumber}: "))
    except ValueError:
        # Логирование ошибки ввода
        logger.error("Пожалуйста, введите целое число.")
        continue

    # Проверяем, больше ли текущая высота этажа предыдущей
    if currentFloorHeight > previousFloorHeight:
        # Если больше, то обновляем высоту предыдущего этажа
        previousFloorHeight = currentFloorHeight
    else:
        # Если текущая высота меньше или равна предыдущей, то башня рушится
        logger.info("БАШНЯ РУХНУЛА!")
        logger.info(f"Высота башни: {floorNumber - 1}")
        break  # Завершаем игру
```