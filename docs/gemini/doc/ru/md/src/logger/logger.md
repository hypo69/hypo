# Модуль `logger`

## Обзор

Модуль `logger` предоставляет утилиту для ведения логов в виде синглтона. Он поддерживает различные уровни логгирования, форматы вывода (консоль, файл, JSON) и цветной вывод сообщений в консоли.  Модуль использует паттерн синглтона, гарантируя, что по всей программе используется единственный экземпляр логгера.

## Классы

### `SingletonMeta`

**Описание**:  Метакласс, реализующий паттерн синглтона.  Гарантирует, что существует только один экземпляр класса, к которому обращаются через метод `__call__`.

### `JsonFormatter`

**Описание**:  Пользовательский форматтер для логгирования в формате JSON.  Форматирует записи лога в JSON-строку.

### `Logger`

**Описание**:  Класс логгера, реализующий паттерн синглтона.  Поддерживает логгирование в консоль, файл и JSON.


## Функции

### `__init__`

**Описание**:  Инициализирует экземпляр класса `Logger`.  Инициализирует все атрибуты логгера в `None` и устанавливает флаг `_initialized` в `False`.

**Параметры**:
- Нет.

**Возвращает**:
- Нет.


### `_configure_logger`

**Описание**: Конфигурирует и возвращает экземпляр логгера с заданными параметрами.

**Параметры**:
- `name` (str): Имя логгера.
- `log_path` (str): Путь к файлу лога.
- `level` (Optional[int], опционально): Уровень логгирования (по умолчанию `logging.DEBUG`).
- `formatter` (Optional[logging.Formatter], опционально): Пользовательский форматтер (по умолчанию `None`).
- `mode` (Optional[str], опционально): Режим открытия файла (по умолчанию `'a'`).

**Возвращает**:
- `logging.Logger`: Конфигурированный экземпляр логгера.


### `initialize_loggers`

**Описание**: Инициализирует логгеры для консоли, файлов (информация, отладка, ошибки) и JSON вывода.

**Параметры**:
- `info_log_path` (Optional[str], опционально): Путь к файлу лога для информационных сообщений.
- `debug_log_path` (Optional[str], опционально): Путь к файлу лога для отладочных сообщений.
- `errors_log_path` (Optional[str], опционально): Путь к файлу лога для ошибок.
- `json_log_path` (Optional[str], опционально): Путь к файлу лога для JSON записей.

**Возвращает**:
- Нет.


### `_format_message`

**Описание**: Форматирует сообщение с опциональными цветом и информацией об исключении.

**Параметры**:
- `message` (str): Текст сообщения.
- `ex` (Optional): Информация об исключении (по умолчанию `None`).
- `color` (Optional[str]): Цвет для сообщения (по умолчанию `None`).

**Возвращает**:
- str: Форматированное сообщение.


### `_ex_full_info`

**Описание**: Возвращает подробную информацию об исключении, включая файл, функцию и строку, где был вызван лог.

**Параметры**:
- `ex` (Optional): Информация об исключении (по умолчанию `None`).

**Возвращает**:
- str: Информация об исключении в формате строки.

### `log`

**Описание**:  Метод для логгирования сообщений на заданном уровне с опциональными параметрами цвета и информации об исключении.

**Параметры**:
- `level`: Уровень логгирования (logging.INFO, logging.DEBUG и т.д.).
- `message` (str): Сообщение для логгирования.
- `ex` (Optional): Информация об исключении.
- `exc_info` (bool):  Флаг, указывающий на включение информации об исключении (по умолчанию `False`).
- `color` (Optional[tuple]): Цвет для сообщения.

**Возвращает**:
- Нет


### `info`, `success`, `warning`, `debug`, `error`, `critical`

**Описание**: Специализированные методы логгирования сообщений на разных уровнях с предопределёнными уровнями логгирования и цветами.

**Параметры**:
- `message` (str): Сообщение для логгирования.
- `ex` (Optional): Информация об исключении.
- `exc_info` (bool):  Флаг, указывающий на включение информации об исключении (по умолчанию `False`).
- `colors`:  Опциональные цвета сообщения, переданные в виде кортежа `(цвет_текста, цвет_фона)`.

**Возвращает**:
- Нет