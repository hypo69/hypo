# Модуль для определения моделей данных для Telegram-бота цифрового рынка
================================================================

Модуль содержит классы, представляющие модели данных, используемые для взаимодействия с базой данных Telegram-бота цифрового рынка.
Модели включают пользователей, категории, продукты и покупки. Они определены с использованием SQLAlchemy ORM для маппинга на таблицы базы данных.

## Обзор

Этот модуль определяет структуру базы данных для Telegram-бота цифрового рынка. Он включает модели для пользователей, категорий продуктов, самих продуктов и истории покупок.  Все модели определены с использованием SQLAlchemy ORM и отражают структуру таблиц в базе данных.

## Подробней

Модуль использует SQLAlchemy для определения моделей базы данных. Каждая модель представляет собой таблицу в базе данных и определяет её структуру и связи с другими таблицами. Это позволяет удобно взаимодействовать с базой данных через ORM, выполняя операции создания, чтения, обновления и удаления данных. Модуль `dao.database` содержит настройки подключения к базе данных и базовый класс для моделей.

## Классы

### `User`

**Описание**: Класс представляет модель пользователя в базе данных.

**Принцип работы**:
Класс `User` наследуется от базового класса `Base` из модуля `bot.dao.database`. Он определяет структуру таблицы `users` в базе данных, включая такие поля, как `telegram_id`, `username`, `first_name`, `last_name` и связь с таблицей `purchases` (покупки).

**Аттрибуты**:
- `telegram_id` (int): Уникальный идентификатор пользователя в Telegram.
- `username` (str | None): Имя пользователя в Telegram (может быть `None`).
- `first_name` (str | None): Имя пользователя (может быть `None`).
- `last_name` (str | None): Фамилия пользователя (может быть `None`).
- `purchases` (List['Purchase']): Список покупок, связанных с пользователем.

**Методы**:
- `__repr__()`: Возвращает строковое представление объекта `User`.

### `Category`

**Описание**: Класс представляет модель категории продукта в базе данных.

**Принцип работы**:
Класс `Category` наследуется от базового класса `Base` из модуля `bot.dao.database`. Он определяет структуру таблицы `categories` в базе данных, включая поле `category_name` и связь с таблицей `products` (продукты).

**Аттрибуты**:
- `category_name` (str): Название категории.
- `products` (List['Product']): Список продуктов, связанных с категорией.

**Методы**:
- `__repr__()`: Возвращает строковое представление объекта `Category`.

### `Product`

**Описание**: Класс представляет модель продукта в базе данных.

**Принцип работы**:
Класс `Product` наследуется от базового класса `Base` из модуля `bot.dao.database`. Он определяет структуру таблицы `products` в базе данных, включая такие поля, как `name`, `description`, `price`, `file_id`, `category_id`, `hidden_content` и связи с таблицами `Category` (категория) и `Purchases` (покупки).

**Аттрибуты**:
- `name` (str): Название продукта.
- `description` (str): Описание продукта.
- `price` (int): Цена продукта.
- `file_id` (str | None): Идентификатор файла продукта (может быть `None`).
- `category_id` (int): Идентификатор категории продукта.
- `hidden_content` (str): Скрытое содержимое продукта.
- `category` (Category): Категория, к которой относится продукт.
- `purchases` (List['Purchase']): Список покупок, связанных с продуктом.

**Методы**:
- `__repr__()`: Возвращает строковое представление объекта `Product`.

### `Purchase`

**Описание**: Класс представляет модель покупки в базе данных.

**Принцип работы**:
Класс `Purchase` наследуется от базового класса `Base` из модуля `bot.dao.database`. Он определяет структуру таблицы `purchases` в базе данных, включая такие поля, как `user_id`, `product_id`, `price`, `payment_type`, `payment_id` и связи с таблицами `User` (пользователь) и `Product` (продукт).

**Аттрибуты**:
- `user_id` (int): Идентификатор пользователя, совершившего покупку.
- `product_id` (int): Идентификатор продукта, который был куплен.
- `price` (int): Цена продукта на момент покупки.
- `payment_type` (str): Тип платежа.
- `payment_id` (str): Идентификатор платежа.
- `user` (User): Пользователь, совершивший покупку.
- `product` (Product): Купленный продукт.

**Методы**:
- `__repr__()`: Возвращает строковое представление объекта `Purchase`.

## Функции

В данном модуле отсутствуют отдельные функции, так как основная логика реализована через классы, представляющие модели данных.