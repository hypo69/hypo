# Документация файла hypotez/src/fast_api/html/openai/index.html

## Обзор

Этот файл представляет собой HTML-страницу, реализующую интерфейс взаимодействия с моделью OpenAI. Страница позволяет пользователю ввести сообщение и (необязательно) инструкцию для модели, а также загрузить данные для обучения. Результаты запроса и информация об обучении отображаются на странице.  Файл использует AngularJS для управления отображением и AJAX-запросы для взаимодействия с сервером.

## Оглавление

* [Доступные элементы](#доступные-элементы)
* [Функциональность](#функциональность)
    * [Запрос модели](#запрос-модели)
    * [Обучение модели](#обучение-модели)
* [Структура Angular](#структура-angular)
* [Использование JavaScript](#использование-javascript)


## Доступные элементы

HTML-страница содержит следующие элементы:

* **Поле ввода "Message":**  Поле для ввода сообщения для модели.
* **Поле ввода "System Instruction (optional)":** Необязательное поле для ввода инструкции для системы.
* **Кнопка "Ask Model":** Кнопка для отправки запроса модели.
* **Вывод "Response":**  Область для отображения ответа модели.
* **Поле ввода "Training Data (CSV string)":** Поле для ввода данных обучения в формате CSV.
* **Кнопка "Train Model":** Кнопка для отправки данных на обучение.
* **Вывод "Training Job ID":** Область для отображения идентификатора задачи обучения.


## Функциональность

### Запрос модели

При нажатии на кнопку "Ask Model",  содержимое полей "Message" и "System Instruction (optional)" отправляется на сервер. Сервер передает запрос модели OpenAI и возвращает ответ. Ответ записывается в область "Response".

### Обучение модели

При нажатии на кнопку "Train Model", содержимое поля "Training Data" отправляется на сервер для обучения модели.  На сервер передаётся параметр `positive = true`. Сервер возвращает идентификатор задачи (`job_id`), который записывается в область "Training Job ID".

## Структура Angular

Файл использует AngularJS для управления отображением и реагирования на события пользователя.  Внутри `script` тега инициализируется модуль `openaiApp` и контроллер `MainController`. Контроллер управляет данными, связанными с отображением, и выполняет AJAX запросы на сервер.

## Использование JavaScript

Файл использует JavaScript для выполнения AJAX-запросов с использованием библиотеки `$http`.  Методы `askModel` и `trainModel` отправляют запросы на сервер и обрабатывают возвращаемые данные. Обработка ошибок выполняется для передачи корректного ответа в область отображения.