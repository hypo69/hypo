# Модуль `hypotez/src/endpoints/advertisement/facebook/scenarios/post_message.py`

## Обзор

Этот модуль предоставляет функции для публикации сообщений в Facebook через Selenium WebDriver.  Он включает в себя функции для добавления заголовка и описания, загрузки медиафайлов (изображений и видео), добавления подписей к медиа и публикации созданного поста.

## Функции

### `post_title`

**Описание**: Отправляет заголовок и описание кампании в поле сообщения поста.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium WebDriver, используемый для взаимодействия с веб-страницей.
- `message` (SimpleNamespace | str): Сообщение, содержащее заголовок и описание. Если тип `str`, содержит только текст сообщения.

**Возвращает**:
- `bool`: `True`, если заголовок и описание успешно отправлены, иначе `None`.

**Вызывает исключения**:
- Нет


### `upload_media`

**Описание**: Загружает медиафайлы (изображения и/или видео) в раздел изображений и обновляет подписи.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium WebDriver.
- `media` (SimpleNamespace | List[SimpleNamespace] | str | list[str]): Медиафайлы для загрузки. Может быть списком, отдельным медиафайлом или пустым значением.
- `no_video` (bool, optional): Если `True`, игнорировать загрузку видео. По умолчанию `False`.
- `without_captions` (bool, optional): Если `True`, не добавлять подписи к загруженным изображениям. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если медиафайлы загружены успешно, иначе `None`.

**Вызывает исключения**:
- `Exception`: Если возникает ошибка во время загрузки или обновления подписей.

### `update_images_captions`

**Описание**: Добавляет описания к загруженным медиафайлам.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium WebDriver.
- `media` (List[SimpleNamespace]): Список объектов SimpleNamespace с деталями для обновления.
- `textarea_list` (List[WebElement]): Список текстовых областей, куда добавляются подписи.

**Возвращает**:
- `None`

**Вызывает исключения**:
- `Exception`: Если возникает ошибка при обновлении подписей к медиа.

### `publish`

**Описание**: Публикует созданный пост.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium WebDriver.
- `attempts` (int, optional): Количество попыток публикации. По умолчанию 5.

**Возвращает**:
- `bool`: `True`, если пост опубликован успешно, иначе `None`.

**Вызывает исключения**:
- Нет

### `promote_post`

**Описание**: Управляет процессом продвижения поста с заголовком, описанием и медиафайлами.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium WebDriver.
- `category` (SimpleNamespace): Детали категории, используемые для заголовка и описания поста.
- `products` (List[SimpleNamespace]): Список продуктов, содержащих медиа и детали, которые должны быть опубликованы.
- `no_video` (bool, optional): Если `True`, игнорировать загрузку видео. По умолчанию `False`.

**Возвращает**:
- `bool`: `True` если пост успешно создан и опубликован, иначе `None`.

**Вызывает исключения**:
- Нет

### `post_message`

**Описание**: Управляет процессом публикации сообщения с заголовком, описанием и медиафайлами.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium WebDriver.
- `message` (SimpleNamespace): Детали сообщения, используемые для заголовка и описания поста.
- `no_video` (bool, optional): Если `True`, игнорировать загрузку видео. По умолчанию `False`.
- `images` (Optional[str | list[str]], optional): Путь к изображениям, если передаётся не список. По умолчанию `None`.
- `without_captions` (bool, optional): Если `True`, не добавлять подписи к загруженным изображениям. По умолчанию `False`.

**Возвращает**:
- `bool`: `True` если пост успешно создан и опубликован, иначе `None`.

**Вызывает исключения**:
- Нет


## Загрузка и Использование

Этот модуль использует `Driver` из `src.webdriver.driver` для взаимодействия с веб-сайтом Facebook, `gs` для доступа к путям и `j_loads_ns` для загрузки локаторов из JSON файлов.  Для корректной работы необходимо правильно настроить драйвер и указать пути к файлам.


```