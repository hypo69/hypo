# Модуль валидации строк

## Обзор

Модуль `validator.py` предназначен для валидации строк на соответствие определенным критериям и форматам. Он содержит класс `ProductFieldsValidator`, который предоставляет статические методы для проверки различных полей продукта, таких как цена, вес, артикул и URL.

## Подробней

Модуль предоставляет инструменты для проверки строк на соответствие заданным правилам, что позволяет убедиться в качестве данных и предотвратить ошибки при их обработке. Валидация может включать проверку наличия определенных символов, длины строки, соответствия регулярным выражениям и другие проверки. Модуль использует другие модули, такие как `re`, `html`, `urllib.parse` и `src.logger.logger`.

## Классы

### `ProductFieldsValidator`

**Описание**: Класс, содержащий статические методы для валидации различных полей продукта.

**Принцип работы**:
Класс предоставляет набор статических методов, каждый из которых предназначен для валидации определенного поля продукта. Методы используют регулярные выражения и другие проверки для определения, соответствует ли значение поля заданным критериям.

**Методы**:

- `validate_price(price: str) -> bool`: Валидирует строку, представляющую цену продукта.
- `validate_weight(weight: str) -> bool`: Валидирует строку, представляющую вес продукта.
- `validate_sku(sku: str) -> bool`: Валидирует строку, представляющую артикул продукта.
- `validate_url(url: str) -> bool`: Валидирует строку, представляющую URL.
- `isint(s: str) -> bool`: Проверяет, является ли строка целым числом.

## Функции

### `validate_price`

```python
    @staticmethod
    def validate_price(price: str) -> bool:
        """
        Валидация цены

        Args:
            price (str): Строка, представляющая цену продукта.

        Returns:
            bool: `True`, если цена валидна, иначе `None`.
        """
```

**Назначение**: Валидация строки, представляющей цену продукта.

**Параметры**:

- `price` (str): Строка, представляющая цену продукта.

**Возвращает**:

- `bool`: `True`, если цена валидна, иначе `None`.

**Как работает функция**:

1. Проверяет, является ли строка `price` пустой. Если да, возвращает `None`.
2. Удаляет из строки `price` все символы, не являющиеся цифрами или точкой, используя регулярное выражение `Ptrn.clear_price`.
3. Заменяет запятую на точку в строке `price`.
4. Пытается преобразовать строку `price` в число с плавающей точкой.
5. Если преобразование успешно, возвращает `True`, иначе возвращает `None`.

**Примеры**:

```python
ProductFieldsValidator.validate_price("100")   # Возвращает True
ProductFieldsValidator.validate_price("100,50") # Возвращает True
ProductFieldsValidator.validate_price("abc")    # Возвращает None
ProductFieldsValidator.validate_price("")      # Возвращает None
```

### `validate_weight`

```python
    @staticmethod
    def validate_weight(weight: str) -> bool:
        """
        Валидация веса

        Args:
            weight (str): Строка, представляющая вес продукта.

        Returns:
            bool: `True`, если вес валиден, иначе `None`.
        """
```

**Назначение**: Валидация строки, представляющей вес продукта.

**Параметры**:

- `weight` (str): Строка, представляющая вес продукта.

**Возвращает**:

- `bool`: `True`, если вес валиден, иначе `None`.

**Как работает функция**:

1. Проверяет, является ли строка `weight` пустой. Если да, возвращает `None`.
2. Удаляет из строки `weight` все символы, не являющиеся цифрами или точкой, используя регулярное выражение `Ptrn.clear_number`.
3. Заменяет запятую на точку в строке `weight`.
4. Пытается преобразовать строку `weight` в число с плавающей точкой.
5. Если преобразование успешно, возвращает `True`, иначе возвращает `None`.

**Примеры**:

```python
ProductFieldsValidator.validate_weight("100")   # Возвращает True
ProductFieldsValidator.validate_weight("100,50") # Возвращает True
ProductFieldsValidator.validate_weight("abc")    # Возвращает None
ProductFieldsValidator.validate_weight("")      # Возвращает None
```

### `validate_sku`

```python
    @staticmethod
    def validate_sku(sku: str) -> bool:
        """
        Валидация артикула

        Args:
            sku (str): Строка, представляющая артикул продукта.

        Returns:
            bool: `True`, если артикул валиден, иначе `None`.
        """
```

**Назначение**: Валидация строки, представляющей артикул продукта.

**Параметры**:

- `sku` (str): Строка, представляющая артикул продукта.

**Возвращает**:

- `bool`: `True`, если артикул валиден, иначе `None`.

**Как работает функция**:

1. Проверяет, является ли строка `sku` пустой. Если да, возвращает `None`.
2. Удаляет из строки `sku` все специальные символы, используя метод `StringFormatter.remove_special_characters`.
3. Удаляет из строки `sku` все переносы строк, используя метод `StringFormatter.remove_line_breaks`.
4. Удаляет пробелы в начале и конце строки `sku`.
5. Проверяет, что длина строки `sku` больше 3 символов. Если да, возвращает `True`, иначе возвращает `None`.

**Примеры**:

```python
ProductFieldsValidator.validate_sku("ABC-123") # Возвращает True
ProductFieldsValidator.validate_sku("AB")      # Возвращает None
ProductFieldsValidator.validate_sku("")       # Возвращает None
```

### `validate_url`

```python
    @staticmethod
    def validate_url(url: str) -> bool:
        """
        Валидация URL

        Args:
            url (str): Строка, представляющая URL.

        Returns:
            bool: `True`, если URL валиден, иначе `None`.
        """
```

**Назначение**: Валидация строки, представляющей URL.

**Параметры**:

- `url` (str): Строка, представляющая URL.

**Возвращает**:

- `bool`: `True`, если URL валиден, иначе `None`.

**Как работает функция**:

1. Проверяет, является ли строка `url` пустой. Если да, возвращает `None`.
2. Удаляет пробелы в начале и конце строки `url`.
3. Проверяет, начинается ли строка `url` с `http`. Если нет, добавляет `http://` в начало строки.
4. Разбирает строку `url` с использованием `urlparse`.
5. Проверяет, что у разобранного URL есть `netloc` (доменное имя) и `scheme` (протокол). Если да, возвращает `True`, иначе возвращает `None`.

**Примеры**:

```python
ProductFieldsValidator.validate_url("example.com")      # Возвращает True
ProductFieldsValidator.validate_url("http://example.com") # Возвращает True
ProductFieldsValidator.validate_url("")                # Возвращает None
```

### `isint`

```python
    @staticmethod
    def isint(s: str) -> bool:
        """
        [Function's description]

        Args:
            s (str): [description]

        Returns:
            bool: [description]
        """
```

**Назначение**: Проверка, является ли строка целым числом.

**Параметры**:

- `s` (str): Строка для проверки.

**Возвращает**:

- `bool`: `True`, если строка является целым числом, иначе `None`.

**Как работает функция**:

1.  Пытается преобразовать строку `s` в целое число с помощью `int(s)`.
2.  Если преобразование удалось, возвращает `True`.
3.  Если происходит исключение (например, `ValueError`), возвращает `None`.

**Примеры**:

```python
ProductFieldsValidator.isint("123")  # Возвращает True
ProductFieldsValidator.isint("abc")  # Возвращает None
ProductFieldsValidator.isint("12.3") # Возвращает None