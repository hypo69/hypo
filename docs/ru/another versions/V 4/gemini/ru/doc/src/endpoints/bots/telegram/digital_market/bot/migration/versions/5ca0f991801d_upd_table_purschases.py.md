# Модуль обновления таблицы purchases

## Обзор

Модуль представляет собой скрипт миграции базы данных, используемый инструментом Alembic. Он предназначен для внесения изменений в существующую таблицу `purchases` в базе данных. В частности, добавляется новый столбец `payment_type` и создается уникальный индекс для столбца `payment_id`.

## Подробней

Этот скрипт миграции используется для автоматического обновления схемы базы данных. Alembic позволяет управлять версиями базы данных и применять изменения схемы контролируемым образом. В данном случае, скрипт добавляет информацию о типе платежа в таблицу покупок (`purchases`) и обеспечивает уникальность идентификаторов платежей. Это может быть полезно для аналитики, отчетности и предотвращения дублирования платежей.

## Функции

### `upgrade`

```python
def upgrade() -> None:
    """
    Обновляет схему базы данных, добавляя столбец 'payment_type' в таблицу 'purchases'
    и создает уникальный индекс для столбца 'payment_id'.

    Args:
        None

    Returns:
        None

    Raises:
        Нет исключений.

    Example:
        # В данном скрипте функция вызывается автоматически Alembic при обновлении базы данных.
        upgrade()
    """
```

**Описание**: Обновляет схему базы данных, добавляя столбец `payment_type` в таблицу `purchases` и создает уникальный индекс для столбца `payment_id`.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Отсутствует.

**Вызывает исключения**:
- Не вызывает.

**Примеры**:
```python
# В данном скрипте функция вызывается автоматически Alembic при обновлении базы данных.
upgrade()
```

### `downgrade`

```python
def downgrade() -> None:
    """
    Откатывает изменения, внесенные функцией upgrade, удаляя столбец 'payment_type'
    и удаляя уникальный индекс для столбца 'payment_id' в таблице 'purchases'.

    Args:
        None

    Returns:
        None

    Raises:
        Нет исключений.

    Example:
        # В данном скрипте функция вызывается автоматически Alembic при откате изменений базы данных.
        downgrade()
    """
```

**Описание**: Откатывает изменения, внесенные функцией `upgrade`, удаляя столбец `payment_type` и удаляя уникальный индекс для столбца `payment_id` в таблице `purchases`.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Отсутствует.

**Вызывает исключения**:
- Не вызывает.

**Примеры**:
```python
# В данном скрипте функция вызывается автоматически Alembic при откате изменений базы данных.
downgrade()