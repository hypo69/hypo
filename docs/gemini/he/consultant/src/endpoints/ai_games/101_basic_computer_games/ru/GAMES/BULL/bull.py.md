# Анализ кода модуля bull.py

**Качество кода**

- **Соблюдение требований к формату кода (1-10):**
    -   **Преимущества:**
        -   Код логически структурирован, разделен на функции для генерации числа и подсчета "быков" и "коров".
        -   Используются информативные имена переменных и функций.
        -   Есть подробные комментарии на русском языке, поясняющие логику работы программы.
        -   Реализован базовый игровой цикл с проверкой ввода пользователя и подсчетом результатов.
        -   В целом, код достаточно читаемый и понятный.
    -   **Недостатки:**
        -   Отсутствует документация в формате reStructuredText (RST) для модулей, функций и методов.
        -   Не используются импорты из `src.utils.jjson` и `src.logger.logger`.
        -   Обработка ошибок не реализована с использованием `logger.error`.
        -   Не соблюдается рекомендация использовать одинарные кавычки (').

**Рекомендации по улучшению**

1.  **Документация:**
    *   Добавить docstring в формате RST для модуля, функций и методов.
2.  **Импорты:**
    *   Использовать `j_loads` или `j_loads_ns` из `src.utils.jjson` при работе с файлами (если это требуется).
    *   Импортировать `logger` из `src.logger.logger`.
3.  **Обработка ошибок:**
    *   Заменить стандартные `try-except` блоки на использование `logger.error` для регистрации ошибок.
4.  **Форматирование:**
    *   Использовать одинарные кавычки `'` вместо двойных `"` для строк.

**Улучшенный код**

```python
"""
Модуль для игры "Быки и Коровы"
=========================================================================================

Модуль реализует игру, в которой компьютер загадывает четырехзначное число
с уникальными цифрами, а игрок пытается его угадать. После каждой попытки
игрок получает подсказки в виде количества "быков" (цифра угадана и находится
на правильном месте) и "коров" (цифра угадана, но находится на неправильном месте).

Пример использования
--------------------

Пример запуска игры:

.. code-block:: python

    import random

    def generate_target_number():
        # Функция для генерации загаданного числа
        ...

    def get_bulls_and_cows(user_guess, target_number):
        # Функция для подсчета "быков" и "коров"
        ...

    target_number = generate_target_number()
    while True:
        user_guess = input("Введите четырехзначное число: ")
        ...
"""
import random
from src.logger.logger import logger # Импорт logger

def generate_target_number() -> str:
    """
    Генерирует случайное четырехзначное число с уникальными цифрами.

    :return: Строка, представляющая загаданное число.
    :rtype: str
    """
    digits = list(range(10)) # Создание списка цифр от 0 до 9
    random.shuffle(digits) # Перемешивание цифр
    while digits[0] == 0: # Проверка на ведущий ноль
        random.shuffle(digits) # Повторное перемешивание если первый элемент 0
    return ''.join(map(str, digits[:4])) # Возвращает строку из первых 4 цифр

def get_bulls_and_cows(user_guess: str, target_number: str) -> tuple[int, int]:
    """
    Считает количество "быков" и "коров" в пользовательском числе относительно загаданного.

    :param user_guess: Число введенное пользователем.
    :type user_guess: str
    :param target_number: Загаданное число.
    :type target_number: str
    :return: Кортеж, содержащий количество "быков" и "коров".
    :rtype: tuple[int, int]
    """
    bulls = 0 # Инициализация счетчика быков
    cows = 0 # Инициализация счетчика коров
    for i, digit in enumerate(user_guess): # Перебор цифр в введенном числе
        if digit == target_number[i]: # Проверка на быка
            bulls += 1 # Увеличение счетчика быков
        elif digit in target_number: # Проверка на корову
            cows += 1 # Увеличение счетчика коров
    return bulls, cows # Возвращение кортежа быков и коров

# Генерируем загаданное число
target_number = generate_target_number() # Генерация числа

# Основной игровой цикл
while True:
    user_guess = input('Введите четырехзначное число: ') # Получение ввода от пользователя

    # Проверка корректности ввода
    if not user_guess.isdigit() or len(user_guess) != 4: # Проверка на корректность
        print('Пожалуйста, введите корректное четырехзначное число.') # Вывод сообщения об ошибке
        continue # Переход к следующей итерации цикла

    # Подсчет быков и коров
    bulls, cows = get_bulls_and_cows(user_guess, target_number) # Подсчет быков и коров
    print(f'{bulls} быков, {cows} коров') # Вывод результата

    # Проверка на победу
    if bulls == 4: # Проверка на победу
        print('Поздравляю, вы угадали число!') # Вывод поздравительного сообщения
        break # Завершение игрового цикла
```