## <algorithm>

1. **אתחול:**
    - יצירת קובייה תלת-ממדית בגודל 3x3x3 באמצעות `numpy.arange(1, 28).reshape(3, 3, 3)`.
    - לדוגמה, הקוביה תכיל מספרים מ-1 עד 27, כאשר כל מספר מייצג קובייה קטנה בתוך הקוביה הגדולה.

2. **לולאה ראשית:**
   - כל עוד לא הוכנסה הפקודה "END" או "0", המשחק ממשיך.
     - דוגמה: אם המשתמש יכניס "2 2 2", המשחק ימשיך. אם יכניס "END" המשחק יסתיים.

3. **קבלת פקודה מהמשתמש:**
   - קבלת קלט מהמשתמש: קואורדינטות (X, Y, Z) או פקודות סיבוב ('X', 'Y', 'Z') או 'END'.
     - דוגמה: קלט יכול להיות "1 2 3" או "X" או "END".

4. **בדיקה אם הקלט הוא "END" או "0":**
   - אם הקלט הוא "END" או "0", המשחק מסתיים.

5. **פיצול הקלט:**
   - הקלט מהמשתמש מפוצל למילים בודדות: לדוגמא, "1 2 3" הופך לרשימה ["1", "2", "3"].

6. **בדיקה אם הקלט הוא קואורדינטות:**
    - אם ישנם שלושה חלקים בקלט, זהו כנראה קואורדינטות.
       - דוגמה: הקלט ["1", "2", "3"] יזוהה כקואורדינטות.
   - המערכת מנסה להמיר את החלקים למספרים שלמים.
   - בדיקה שהמספרים הם בין 1 ל-3.
        - לדוגמה, "2 2 2" תתקבל אך "0 1 1" לא.
   - אם הקואורדינטות תקינות, המערכת משתמשת ב- `get_cube_position` כדי לקבל את הערך של הקובייה במיקום זה.
       - דוגמה: עבור קלט "1 1 1", המערכת תקבל את הערך של הקובייה במיקום [0,0,0] במערך `cube`.
   - לאחר מכן המערכת מדפיסה את מיקום הקובייה.
        - לדוגמה: "מיקום קובייה (1, 1, 1): 1"

7. **בדיקה אם הקלט הוא פקודת סיבוב:**
    - אם ישנו חלק אחד בלבד בקלט, זהו כנראה פקודת סיבוב.
       - דוגמה: הקלט ["X"] יזוהה כפקודת סיבוב.
   - אם הקלט הוא 'X':
        - הקוביה מסובבת סביב ציר ה-X באמצעות `rotate_x`.
   - אם הקלט הוא 'Y':
        - הקוביה מסובבת סביב ציר ה-Y באמצעות `rotate_y`.
   - אם הקלט הוא 'Z':
        - הקוביה מסובבת סביב ציר ה-Z באמצעות `rotate_z`.
   - אם הקלט לא תואם לאף אחת מהפקודות, הודעת שגיאה תוצג.

8. **אם הקלט לא תקין:**
    - אם הקלט לא תואם לאף אחד מהפורמטים המצופים (למשל, יותר או פחות משלושה חלקים עבור קואורדינטות, או פקודה לא מוכרת), תוצג הודעת שגיאה.

9. **חזרה ללולאה הראשית:**
   - המשחק חוזר לשלב קבלת הקלט מהמשתמש.

## <mermaid>

```mermaid
flowchart TD
    Start(התחלה) --> InitializeCube{אתחול קוביה תלת-ממדית 3x3x3};
    InitializeCube --> MainLoop{לולאה ראשית: כל עוד לא הוכנס "END"};
    MainLoop -- כן --> GetInput{קבל קלט מהמשתמש: קואורדינטות או פקודה};
    GetInput --> CheckEnd{האם הקלט הוא "END" או "0"?};
    CheckEnd -- כן --> End(סיום);
    CheckEnd -- לא --> SplitInput{פיצול הקלט למילים};
    SplitInput --> CheckCoordinates{האם הקלט מכיל 3 חלקים?};
    CheckCoordinates -- כן --> ConvertToInt{ניסיון המרה למספרים שלמים};
     ConvertToInt --> ValidateCoordinates{האם הקואורדינטות בין 1 ל-3?};
     ValidateCoordinates -- כן --> GetPosition{קבלת מיקום הקוביה באמצעות get_cube_position};
     GetPosition --> OutputPosition{הדפסת מיקום הקוביה};
     OutputPosition --> MainLoop;
     ValidateCoordinates -- לא --> CoordinateError{הדפסת הודעת שגיאה: קואורדינטות לא תקינות};
     CoordinateError --> MainLoop;
    CheckCoordinates -- לא --> CheckRotation{האם הקלט מכיל חלק אחד?};
    CheckRotation -- כן --> CheckRotationCommand{בדיקה איזה פקודת סיבוב הוכנסה};
      CheckRotationCommand -- "X" --> RotateX{סיבוב קוביה סביב ציר X באמצעות rotate_x};
    RotateX --> RotationMessageX{הדפסת הודעה על סיבוב סביב ציר X};
      RotationMessageX --> MainLoop;
     CheckRotationCommand -- "Y" --> RotateY{סיבוב קוביה סביב ציר Y באמצעות rotate_y};
        RotateY --> RotationMessageY{הדפסת הודעה על סיבוב סביב ציר Y};
        RotationMessageY --> MainLoop;
    CheckRotationCommand -- "Z" --> RotateZ{סיבוב קוביה סביב ציר Z באמצעות rotate_z};
      RotateZ --> RotationMessageZ{הדפסת הודעה על סיבוב סביב ציר Z};
      RotationMessageZ --> MainLoop;
     CheckRotationCommand -- אחר --> UnknownCommand{הדפסת הודעה על פקודה לא מוכרת};
      UnknownCommand --> MainLoop;
    CheckRotation -- לא --> InputError{הדפסת הודעת שגיאה: פורמט קלט לא תקין};
    InputError --> MainLoop;
        MainLoop -- לא --> End;
```

**הסבר על התלויות:**
* **numpy:** הספריה `numpy` מיובאת בשם `np`. היא משמשת ליצירת הקובייה התלת-ממדית ולביצוע סיבובים.
   - `np.arange(1, 28).reshape(3, 3, 3)`: יוצר מערך של מספרים מ-1 עד 27 ומשנה את צורתו למערך תלת-ממדי בגודל 3x3x3.
   - `np.rot90()`: מסובב מערך 2D או 3D ב-90 מעלות. הפונקציה משמשת לסיבוב הקובייה סביב צירי ה-X, ה-Y וה-Z.

## <explanation>

**ייבוא (Imports):**

*   `import numpy as np`: מביא את ספריית `numpy` ונותן לה את הכינוי `np`. ספרייה זו משמשת לעבודה עם מערכים רב ממדיים ולביצוע פעולות מתמטיות עליהם, כולל סיבוב מערכים.

**פונקציות (Functions):**

*   `rotate_x(cube)`:
    *   **פרמטרים:** `cube` - מערך תלת-ממדי שמייצג את הקובייה.
    *   **ערך מוחזר:** מערך תלת-ממדי שמייצג את הקובייה לאחר סיבוב של 90 מעלות נגד כיוון השעון סביב ציר ה-X.
    *   **מטרה:** מבצעת סיבוב של הקובייה סביב ציר ה-X באמצעות `np.rot90()`.
    *   **דוגמה:** אם הקובייה המקורית היא `[[[1, 2, 3], [4, 5, 6], [7, 8, 9]], [[10, 11, 12], [13, 14, 15], [16, 17, 18]], [[19, 20, 21], [22, 23, 24], [25, 26, 27]]]`, לאחר סיבוב סביב ציר ה-X, תתקבל קובייה שבה השורות והעמודות התחלפו.
*   `rotate_y(cube)`:
    *   **פרמטרים:** `cube` - מערך תלת-ממדי שמייצג את הקובייה.
    *   **ערך מוחזר:** מערך תלת-ממדי שמייצג את הקובייה לאחר סיבוב של 90 מעלות נגד כיוון השעון סביב ציר ה-Y.
    *   **מטרה:** מבצעת סיבוב של הקובייה סביב ציר ה-Y באמצעות `np.rot90()`.
*   `rotate_z(cube)`:
    *   **פרמטרים:** `cube` - מערך תלת-ממדי שמייצג את הקובייה.
    *   **ערך מוחזר:** מערך תלת-ממדי שמייצג את הקובייה לאחר סיבוב של 90 מעלות נגד כיוון השעון סביב ציר ה-Z.
    *   **מטרה:** מבצעת סיבוב של הקובייה סביב ציר ה-Z באמצעות `np.rot90()`.
*   `get_cube_position(cube, x, y, z)`:
    *   **פרמטרים:** `cube` - מערך תלת-ממדי שמייצג את הקובייה, `x`, `y`, `z` - קואורדינטות של הקובייה הקטנה בתוך הקובייה הגדולה (בטווח 1-3).
    *   **ערך מוחזר:** הערך של הקובייה במיקום (x, y, z) במערך `cube`.
    *   **מטרה:** מקבלת את המיקום של קובייה קטנה בתוך הקובייה הגדולה על פי הקואורדינטות שניתנו. יש לשים לב שבגלל שהאינדקס מתחיל ב-0 ולא ב-1, הקואורדינטות מופחתות ב-1 לפני השימוש בהן באינדקס המערך.

**משתנים (Variables):**

*   `cube`:
    *   **סוג:** `numpy.ndarray` (מערך תלת-ממדי).
    *   **שימוש:** מייצג את הקובייה התלת-ממדית בגודל 3x3x3. בתחילה מכיל את המספרים מ-1 עד 27. המערך משתנה בעקבות סיבובים שונים.
*   `command`:
    *   **סוג:** `str` (מחרוזת).
    *   **שימוש:** מכיל את הקלט שהמשתמש הכניס, כולל קואורדינטות, פקודות סיבוב, או "END" לסיום המשחק.
*   `parts`:
    *   **סוג:** `list` (רשימה).
    *   **שימוש:** מכיל את חלקי הקלט לאחר פיצולו באמצעות `.split()`.
*   `x`, `y`, `z`:
    *   **סוג:** `int` (מספר שלם).
    *   **שימוש:** קואורדינטות של הקובייה הקטנה בתוך הקובייה הגדולה.
*   `pos`:
    *   **סוג:** משתנה מסוג הערך של הקובייה הפנימית.
    *   **שימוש:** מכיל את הערך של הקובייה במיקום x, y, z.

**בעיות אפשריות ושיפורים:**

*   **טיפול שגיאות:** קיימים מעט מצבים בהם הקוד לא מטפל בשגיאות בצורה מלאה, לדוגמה, אם המשתמש יכניס מספר עם נקודה עשרונית (למשל, "1.5 2 3"), תתרחש שגיאת ערך אבל לא תוצג הודעה מפורטת מספיק.
*   **ממשק משתמש:** הממשק מאוד בסיסי. ניתן לשפר אותו ע"י הוספת הוראות משחק או תצוגה ויזואלית של הקובייה.
*   **שימוש במחלקות:** הקוד יכול להיות מובנה יותר על ידי שימוש במחלקה שתייצג את הקובייה ותכיל את כל הפונקציות הקשורות אליה (סיבוב, קבלת מיקום).
*   **תיעוד:** הקוד מתועד היטב.

**שרשרת קשרים עם חלקים אחרים בפרויקט:**

*   הקוד הזה פועל כמשחק עצמאי, ולכן אין לו תלות ישירה בקבצים אחרים בפרויקט. עם זאת, הוא משתמש בספריית `numpy` שהיא ספריה חיצונית (יבוא סטנדרטי) ולא חלק מהפרויקט עצמו.