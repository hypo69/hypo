# Модуль `grock.py`

## Обзор

Модуль `grock.py` предоставляет класс `XAI` для взаимодействия с API x.ai. Он включает методы для отправки запросов на завершение чата, как в обычном, так и в потоковом режимах.

## Содержание

- [Классы](#Классы)
  - [`XAI`](#XAI)
- [Функции](#Функции)
  - [`_send_request`](#_send_request)
  - [`chat_completion`](#chat_completion)
  - [`stream_chat_completion`](#stream_chat_completion)

## Классы

### `XAI`

**Описание**: Класс для взаимодействия с API x.ai.

**Методы**:
- `__init__`: Инициализирует экземпляр класса `XAI` с заданным API-ключом.
- `_send_request`: Отправляет HTTP-запрос к API.
- `chat_completion`: Отправляет запрос на завершение чата.
- `stream_chat_completion`: Отправляет запрос на завершение чата с потоковой передачей.

#### `__init__`

**Описание**: Инициализирует экземпляр класса `XAI`.

**Параметры**:
- `api_key` (str): Ключ API для аутентификации.

#### `_send_request`

**Описание**: Отправляет запрос к API x.ai.

**Параметры**:
- `method` (str): Метод HTTP (GET, POST, PUT, DELETE).
- `endpoint` (str): Конечная точка API.
- `data` (Optional[dict], optional): Данные для отправки в теле запроса (для POST и PUT). По умолчанию `None`.

**Возвращает**:
- `dict`: Ответ от API в формате JSON.

**Вызывает исключения**:
- `requests.exceptions.HTTPError`: Если статус ответа не 2xx.

#### `chat_completion`

**Описание**: Отправляет запрос на завершение чата.

**Параметры**:
- `messages` (list): Список сообщений для чата.
- `model` (str, optional): Модель для использования. По умолчанию `"grok-beta"`.
- `stream` (bool, optional): Флаг для включения потоковой передачи. По умолчанию `False`.
- `temperature` (int, optional): Температура для генерации ответа. По умолчанию `0`.

**Возвращает**:
- `dict`: Ответ от API.

#### `stream_chat_completion`

**Описание**: Отправляет запрос на завершение чата с потоковой передачей.

**Параметры**:
- `messages` (list): Список сообщений для чата.
- `model` (str, optional): Модель для использования. По умолчанию `"grok-beta"`.
- `temperature` (int, optional): Температура для генерации ответа. По умолчанию `0`.

**Возвращает**:
- `Iterable[str]`: Поток ответов от API.

## Функции

### `_send_request`

**Описание**: Отправляет запрос к API x.ai.

**Параметры**:
- `method` (str): Метод HTTP (GET, POST, PUT, DELETE).
- `endpoint` (str): Конечная точка API.
- `data` (Optional[dict], optional): Данные для отправки в теле запроса (для POST и PUT). По умолчанию `None`.

**Возвращает**:
- `dict`: Ответ от API в формате JSON.

**Вызывает исключения**:
- `requests.exceptions.HTTPError`: Если статус ответа не 2xx.

### `chat_completion`

**Описание**: Отправляет запрос на завершение чата.

**Параметры**:
- `messages` (list): Список сообщений для чата.
- `model` (str, optional): Модель для использования. По умолчанию `"grok-beta"`.
- `stream` (bool, optional): Флаг для включения потоковой передачи. По умолчанию `False`.
- `temperature` (int, optional): Температура для генерации ответа. По умолчанию `0`.

**Возвращает**:
- `dict`: Ответ от API.

### `stream_chat_completion`

**Описание**: Отправляет запрос на завершение чата с потоковой передачей.

**Параметры**:
- `messages` (list): Список сообщений для чата.
- `model` (str, optional): Модель для использования. По умолчанию `"grok-beta"`.
- `temperature` (int, optional): Температура для генерации ответа. По умолчанию `0`.

**Возвращает**:
- `Iterable[str]`: Поток ответов от API.