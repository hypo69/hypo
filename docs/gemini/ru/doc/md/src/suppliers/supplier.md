# Модуль hypotez/src/suppliers/supplier.py

## Обзор

Этот модуль содержит базовый класс `Supplier` для работы с поставщиками данных. Класс предназначен для выполнения сценариев для различных поставщиков, загружая их конфигурацию и обрабатывая входные данные.

## Классы

### `Supplier`

**Описание**: Базовый класс для работы с поставщиками данных.  Обеспечивает загрузку настроек поставщика, выполнение входной процедуры (логин) и запуск сценариев.

**Атрибуты**:

- `supplier_id` (Optional[int]): Идентификатор поставщика.
- `supplier_prefix` (str): Префикс поставщика (используется для импорта модулей).
- `locale` (str): Код локали в формате ISO 639-1. По умолчанию 'en'.
- `price_rule` (Optional[str]): Правило расчета цен.
- `related_modules` (Optional[ModuleType]): Модуль, содержащий функции, специфичные для данного поставщика.
- `scenario_files` (List[str]): Список файлов сценариев для выполнения.
- `current_scenario` (Dict[str, Any]): Текущий исполняемый сценарий.
- `locators` (Dict[str, Any]): Локаторы для элементов страницы.
- `driver` (Optional[Driver]): Веб-драйвер.


**Методы**:

#### `__init__(self, **data)`

**Описание**: Инициализирует поставщика, загружая конфигурацию.

**Параметры**:

- `**data` (dict): Словарь параметров для инициализации.


#### `_payload(self) -> bool`

**Описание**: Загружает параметры поставщика из файла `supplier_prefix_settings.json`.

**Возвращает**:

- `bool`: `True`, если загрузка успешна, иначе `False`.

**Возможные исключения**:

- `DefaultSettingsException`: Возникает, если не удалось загрузить или обработать настройки поставщика.


#### `check_supplier_prefix(cls, value: str) -> str`

**Описание**:  Проверка префикса поставщика на пустое значение.

**Параметры**:

- `value` (str): Значение префикса.

**Возвращает**:

- `str`: Префикс поставщика.

**Возможные исключения**:

- `ValueError`: Бросается, если префикс пустой.

#### `login(self) -> bool`

**Описание**: Выполняет вход на сайт поставщика.

**Возвращает**:

- `bool`: `True`, если вход выполнен успешно, иначе `False`.

#### `run_scenario_files(self, scenario_files: Optional[str | List[str]] = None) -> bool`

**Описание**: Выполняет один или несколько файлов сценариев.

**Параметры**:

- `scenario_files` (Optional[str | List[str]]): Список файлов сценариев. Если `None`, используется `self.scenario_files`.

**Возвращает**:

- `bool`: `True`, если все сценарии успешно выполнены, иначе `False`.

#### `run_scenarios(self, scenarios: dict | List[dict]) -> bool`

**Описание**: Выполняет список или один сценарий.

**Параметры**:

- `scenarios` (dict | List[dict]): Сценарий или список сценариев.

**Возвращает**:

- `bool`: `True`, если сценарий успешно выполнен, иначе `False`.


## Функции

(Нет функций в модуле, помимо методов класса `Supplier`)


## Модули

- `importlib`
- `header`
- `gs`
- `src.utils.jjson`
- `src.webdriver.driver`
- `src.scenario`
- `src.logger`
- `src.logger.exceptions`


## Поддержка типов

Используется `typing` для улучшения читаемости и безопасности кода.  В основном, используется для типов параметров и возвращаемых значений методов и функций.