# ИНСТРУКЦИЯ ПО СОЗДАНИЮ ТЕСТОВ `pytest`

## Обзор

Данная инструкция описывает шаги по написанию тестовых случаев для Python-кода с использованием фреймворка `pytest`.  Тесты должны охватывать ключевые функции, методы или классы, проверяя их корректность, включая граничные случаи и обработку исключений.

## Требования

1.  **Имена тестов:** Используйте ясные и описательные имена функций тестов, отражающие их цель.
2.  **Изоляция:** Обеспечьте изоляцию каждого теста, чтобы они не зависели друг от друга.
3.  **Разнообразие сценариев:** Рассмотрите различные сценарии:
    *   **Валидные входные данные.**
    *   **Невалидные или неожиданные входные данные** (если применимо).
    *   **Граничные случаи.**
4.  **Тестирование исключений:** Используйте `pytest.raises` для тестирования исключений.
5.  **Фикстуры:** Если функции нуждаются в фикстурах, определите их отдельно.
6.  **Комментарии:** Добавляйте комментарии, объясняющие логику тестовых случаев.

## Пример структуры тестов

```python
import pytest

# Определения фикстур (если нужны)
@pytest.fixture
def example_data():
    """Предоставляет тестовые данные для функции."""
    return {...}

# Тесты для функции 1
def test_function1_valid_input():
    """Проверяет корректное поведение с валидными входными данными."""
    ...

def test_function1_invalid_input():
    """Проверяет корректную обработку невалидных входных данных."""
    ...

# Тесты для функции 2
def test_function2_edge_case():
    """Проверяет поведение с граничными случаями."""
    ...
```

## Инструкции по написанию тестов


### Шаги

1.  **Анализ кода:** Тщательно изучите предоставленный Python-код. Определите все функции, классы и методы, которые нужно протестировать.
2.  **Формулировка тестовых случаев:** Разработайте тестовые случаи для каждой функции, класса или метода. Определите входные данные для каждого тестового случая, ожидаемый результат и ожидаемые исключения (если таковые имеются).
3.  **Написание тестов:** Используя `pytest`, напишите тесты, соответствующие сформулированным случаям.
4.  **Использование фикстур (если необходимо):** Определите фикстуры для предоставления тестовых данных, если это требуется.
5.  **Добавление комментариев:** Добавляйте подробные комментарии к тестам, описывающие проверяемую логику и используемые данные.
6.  **Обработка исключений:**  Используйте `pytest.raises` для тестирования исключений, которые могут быть вызваны функцией.
7.  **Проверка:** Запустите тесты с помощью `pytest` для проверки их работоспособности и корректности.

## Важные замечания

*   Используйте подходящие типы данных для входных данных, чтобы тестировать различные сценарии.
*   Проверяйте поведение функций/методов при различных входных данных, в том числе с пустыми значениями, `None`, `nan`, `inf` и др.
*   Убедитесь, что тесты охватывают различные пути выполнения кода (например, различные ветвления условий).
*   После написания тестов необходимо проанализировать результаты выполнения и исправить выявленные ошибки в исходном коде.


## Примеры

В данном разделе будут представлены примеры тестовых функций, которые вы можете использовать как основу для написания своих тестов.

```python
# Предположим, есть функция, принимающая список чисел и возвращающая их сумму.

def sum_numbers(numbers):
    """Возвращает сумму элементов списка."""
    # ... реализация функции ...

```

```python
# Пример теста для sum_numbers:

import pytest

def test_sum_numbers_positive():
    assert sum_numbers([1, 2, 3]) == 6

def test_sum_numbers_empty():
    assert sum_numbers([]) == 0
    
def test_sum_numbers_negative():
    assert sum_numbers([-1, -2, -3]) == -6
    
def test_sum_numbers_mixed():
    assert sum_numbers([1, -2, 3]) == 2
```


```markdown