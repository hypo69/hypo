# Модуль `login`

## Обзор

Модуль `login` предназначен для автоматизации процесса входа в учетную запись на сайте AliExpress с использованием веб-драйвера. Он содержит функцию `login`, которая принимает объект поставщика (`Supplier`) в качестве аргумента и выполняет шаги, необходимые для аутентификации пользователя.

## Подробней

Этот модуль является частью системы автоматизации для взаимодействия с AliExpress. Он использует библиотеку `selenium` для управления веб-браузером и выполнения действий на странице входа. Функция `login` автоматизирует ввод учетных данных пользователя и нажатие кнопки входа.

## Функции

### `login(s)`

```python
def login(s)->bool:
    """ login to aliexpress via webdriver
    @param s `Supplier` - класс поставщика с запущенным 
    """
    ...
```

**Назначение**: Выполняет вход в учетную запись AliExpress через веб-драйвер.

**Параметры**:
- `s` (Supplier): Объект класса `Supplier` с настроенным и запущенным веб-драйвером, а также с определенными локаторами элементов страницы входа.

**Возвращает**:
- `bool`: Всегда возвращает `True`. В будущем, вероятно, будет возвращать `True` в случае успешного входа и `False` в случае неудачи.

**Как работает функция**:

1. **Инициализация**: Функция принимает объект `Supplier`, из которого извлекает инстанс веб-драйвера и локаторы элементов страницы входа.
2. **Навигация**: Переходит по URL-адресу AliExpress.
3. **Принятие cookies**: Нажимает кнопку принятия cookies, если она отображается.
4. **Открытие формы входа**: Нажимает на элемент, открывающий форму для ввода логина и пароля.
5. **Ввод данных и вход**: Вводит email и пароль, используя локаторы для полей ввода, и нажимает кнопку входа.
6. **Обработка ошибок**: В текущей версии отсутствует полноценная обработка ошибок при вводе данных или нажатии кнопки входа.

**Внутри функции происходят следующие действия и преобразования**:

A. **Получение данных**: Из объекта `Supplier` извлекается инстанс веб-драйвера (`_d`) и локаторы (`_l`) для элементов страницы входа.
|
-- B. **Переход на страницу AliExpress**: Веб-драйвер переходит по URL-адресу AliExpress.
|
C. **Принятие cookies**: Веб-драйвер нажимает кнопку "Принять cookies".
|
D. **Открытие формы входа**: Веб-драйвер нажимает кнопку "Открыть форму входа".
|
E. **Ввод email**: Веб-драйвер находит поле для ввода email и вводит email.
|
F. **Ввод пароля**: Веб-драйвер находит поле для ввода пароля и вводит пароль.
|
G. **Нажатие кнопки входа**: Веб-драйвер нажимает кнопку "Войти".

**Примеры**:

Пример вызова функции:

```python
from src.suppliers.aliexpress.supplier import Supplier  # Assuming Supplier class is in this module

# Пример объекта Supplier (нужно настроить webdriver и locators)
supplier = Supplier()
supplier.driver = ...  # Инициализация веб-драйвера
supplier.locators = {
    'login': {
        'cookies_accept': {'method': 'css', 'value': '.btn-accept-cookies'},
        'open_login': {'method': 'css', 'value': '.btn-open-login-form'},
        'email_locator': {'method': 'css', 'value': '#email'},
        'password_locator': {'method': 'css', 'value': '#password'},
        'loginbutton_locator': {'method': 'css', 'value': '.btn-login'}
    }
}

success = login(supplier)
print(f"Login successful: {success}")