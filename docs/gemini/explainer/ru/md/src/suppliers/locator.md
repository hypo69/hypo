# Объяснение кода: Локаторы полей на странице HTML

Этот документ описывает формат локаторов, используемых для поиска элементов на веб-странице с помощью Selenium WebDriver.  Локаторы хранятся в словаре, где ключи соответствуют именам полей в классе `ProductFields`.  Каждый локатор описывает, как найти элемент на странице и какие действия с ним выполнить.

**Структура локатора:**

Локатор представляет собой словарь с различными ключевыми параметрами:

* **`attribute`**:  Атрибут, который нужно получить от найденного элемента. Если значение `null`, то возвращается сам элемент `WebElement`. Примеры: `innerText`, `src`, `id`, `href`.

* **`by`**: Метод поиска элемента.  Значение должно соответствовать методу поиска Selenium WebDriver:
    * `ID` -> `By.ID`
    * `NAME` -> `By.NAME`
    * `CLASS_NAME` -> `By.CLASS_NAME`
    * `TAG_NAME` -> `By.TAG_NAME`
    * `LINK_TEXT` -> `By.LINK_TEXT`
    * `PARTIAL_LINK_TEXT` -> `By.PARTIAL_LINK_TEXT`
    * `CSS_SELECTOR` -> `By.CSS_SELECTOR`
    * `XPATH` -> `By.XPATH`

* **`selector`**: Селектор для поиска элемента.  Это строка, содержащая XPath, CSS-селектор или другой способ идентификации.

* **`if_list`**: Действие, если поиск возвращает список элементов. Значение указывает, какой элемент выбрать:
    * `first` - первый элемент
    * `all` - все элементы
    * `last` - последний элемент
    * `even`, `odd` - элементы с четными/нечетными индексами
    * Числа (например, `1`, `2`, `[1, 3, 5]`) - элементы с указанными индексами

* **`use_mouse`**: `true` или `false`. Указывает, нужно ли взаимодействовать с элементом мышкой (например, кликнуть).

* **`event`**: Действие, которое нужно выполнить с элементом. Например, `click()`, `screenshot()`, `scroll()`.  Важно:  действие выполняется *перед* извлечением значения `attribute`.

* **`mandatory`**: `true` или `false`.  Если `true` и элемент не найден, то генерируется ошибка. В противном случае, локатор пропускается.

* **`locator_description`**:  Описание локатора для документирования.


**Примеры:**

* **`close_banner`**: Закрывает всплывающее окно. Если не появляется, то не критично.  Используется `click()` для взаимодействия.

* **`additional_images_urls`**: Получает список URL дополнительных изображений. Используется атрибут `src`.  Необязательный локатор.

* **`id_supplier`**: Получает SKU продукта Morlevi.  Обязательный локатор.

* **`default_image_url`**:  Получает URL основного изображения, делая скриншот.  Обязательный локатор.

**Сложные локаторы:**

В локаторах могут быть списки или словари для более сложных случаев. Пример с двумя вариантами селекторов и событий:

```json
"sample_locator": {
    "attribute": [
      null,
      "href"
    ],
    "by": [
      "XPATH",
      "XPATH"
    ],
    "selector": [
      "//a[contains(@href, '#tab-description')]",
      "//div[@id='tab-description']//p"
    ],
    // ... остальные поля
}
```

В данном примере сначала будет попытка найти элемент по первому селектору, а если не удастся, то по второму.

**Вывод:**

Данный формат локаторов позволяет гибко и детально определять элементы на веб-странице, указывая как их найти, какие действия с ними выполнить и как обработать результаты, если найдено несколько элементов. Это помогает автоматизировать взаимодействие с веб-приложением и повышает надежность тестов.