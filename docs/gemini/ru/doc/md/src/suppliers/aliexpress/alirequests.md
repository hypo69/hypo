# Модуль alirequests

## Обзор

Этот модуль предоставляет класс `AliRequests` для работы с API AliExpress. Он позволяет отправлять запросы, обрабатывать куки и сохранять JSESSIONID. Модуль использует библиотеку `requests` для взаимодействия с сервером AliExpress.

## Классы

### `AliRequests`

**Описание**: Класс `AliRequests` предназначен для управления запросами к AliExpress. Он хранит куки, сессионный идентификатор и заголовки.

**Методы**:

#### `__init__(self, webdriver_for_cookies: str = 'chrome')`

**Описание**: Инициализирует экземпляр класса.

**Параметры**:

- `webdriver_for_cookies` (str, опционально): Имя вебдрайвера для загрузки куков. По умолчанию `'chrome'`.

#### `_load_webdriver_cookies_file(self, webdriver_for_cookies: str = 'chrome') -> bool`

**Описание**: Загружает куки из файла вебдрайвера.

**Параметры**:

- `webdriver_for_cookies` (str, опционально): Имя вебдрайвера. По умолчанию `'chrome'`.

**Возвращает**:

- bool: `True`, если куки загружены успешно, `False` иначе.

**Возможные исключения**:

- `FileNotFoundError`: Файл куков не найден.
- `ValueError`: Ошибка при загрузке куков из файла.
- `Exception`: Другая ошибка во время загрузки куков.

#### `_refresh_session_cookies(self)`

**Описание**: Обновляет сессионные куки.

**Возможные исключения**:

- `requests.RequestException`: Ошибка при запросе к серверу.
- `Exception`: Другая ошибка во время обновления сессионных куков.


#### `_handle_session_id(self, response_cookies)`

**Описание**: Обрабатывает JSESSIONID в ответных куках.

**Параметры**:

- `response_cookies`: Куки, полученные в ответе сервера.


#### `make_get_request(self, url: str, cookies: List[dict] = None, headers: dict = None) -> requests.Response | bool`

**Описание**: Отправляет GET-запрос с куками.

**Параметры**:

- `url` (str): URL для запроса.
- `cookies` (List[dict], опционально): Список куков для использования в запросе.
- `headers` (dict, опционально): Заголовки для запроса. По умолчанию использует заголовок `User-Agent`.

**Возвращает**:

- `requests.Response`: Объект ответа `requests` при успехе.
- `False`: Если запрос завершился неудачей.

**Возможные исключения**:

- `requests.RequestException`: Ошибка при отправке запроса.
- `Exception`: Другая ошибка во время выполнения запроса.


#### `short_affiliate_link(self, link_url: str) -> requests.Response | bool`

**Описание**:  Получает короткий аффилированный URL.

**Параметры**:

- `link_url` (str): URL, который нужно укоротить.

**Возвращает**:

- `requests.Response`: Объект ответа `requests` при успехе.
- `False`: Если запрос завершился неудачей.

**Возможные исключения**:

- `requests.RequestException`: Ошибка при отправке запроса.
- `Exception`: Другая ошибка во время выполнения запроса.


## Функции

(В данном модуле нет самостоятельных функций, только методы класса)