# Документация модуля `src.ai.helicone`

## Обзор

Модуль `src.ai.helicone` предоставляет интеграцию с Helicone.ai и OpenAI для выполнения различных задач, таких как генерация стихов, анализ тональности текста, суммирование текста и перевод текста. Основной класс `HeliconeAI` облегчает взаимодействие с моделями OpenAI и логирование результатов через Helicone.ai.

## Подробней

Этот модуль позволяет разработчикам легко интегрировать возможности OpenAI в свои приложения, обеспечивая при этом мониторинг и анализ использования моделей через Helicone.ai. Модуль предоставляет удобные методы для выполнения различных задач обработки естественного языка, таких как генерация стихов, анализ тональности, суммирование и перевод текста.

## Классы

### `HeliconeAI`

**Описание**: Класс `HeliconeAI` предназначен для взаимодействия с Helicone.ai и OpenAI. Он предоставляет методы для генерации стихов, анализа тональности текста, суммирования текста и перевода текста, а также логирования результатов с использованием Helicone.ai.

**Принцип работы**:
Класс инициализирует клиентов Helicone и OpenAI, а затем предоставляет методы для выполнения различных задач обработки естественного языка. Каждый метод использует соответствующую модель OpenAI для выполнения задачи и логирует результат с использованием Helicone.ai.

**Атрибуты**:
- `helicone` (Helicone): Клиент Helicone для логирования результатов.
- `client` (OpenAI): Клиент OpenAI для взаимодействия с моделями OpenAI.

**Методы**:
- `generate_poem`: Генерирует стихотворение на основе заданного запроса.
- `analyze_sentiment`: Анализирует тональность заданного текста.
- `summarize_text`: Суммирует заданный текст.
- `translate_text`: Переводит заданный текст на указанный язык.

## Функции

### `generate_poem`

```python
def generate_poem(self, prompt: str) -> str:
    """
    Генерирует стихотворение на основе заданного запроса.
    Args:
        prompt (str): Запрос для генерации стихотворения.

    Returns:
        str: Сгенерированное стихотворение.
    """
```

**Назначение**: Генерирует стихотворение на основе заданного запроса, используя модель `gpt-3.5-turbo`.

**Параметры**:
- `prompt` (str): Запрос, на основе которого генерируется стихотворение.

**Возвращает**:
- `str`: Сгенерированное стихотворение.

**Как работает функция**:
1. Функция получает запрос для генерации стихотворения.
2. Использует клиент OpenAI для создания завершения чата с моделью `gpt-3.5-turbo`, передавая запрос в качестве содержимого сообщения пользователя.
3. Логирует результат завершения с помощью клиента Helicone.
4. Возвращает сгенерированное стихотворение из ответа OpenAI.

```
   Prompt
   ↓
   OpenAI Completion (gpt-3.5-turbo)
   ↓
   Helicone Log Completion
   ↓
   Poem
```

**Примеры**:

```python
helicone_ai = HeliconeAI()
poem = helicone_ai.generate_poem("Напиши мне стихотворение про кота.")
print(poem)
```

### `analyze_sentiment`

```python
def analyze_sentiment(self, text: str) -> str:
    """
    Анализирует тональность заданного текста.

    Args:
        text (str): Текст для анализа тональности.

    Returns:
        str: Результат анализа тональности.
    """
```

**Назначение**: Анализирует тональность заданного текста, используя модель `text-davinci-003`.

**Параметры**:
- `text` (str): Текст, тональность которого необходимо проанализировать.

**Возвращает**:
- `str`: Результат анализа тональности.

**Как работает функция**:
1. Функция получает текст для анализа тональности.
2. Использует клиент OpenAI для создания завершения с моделью `text-davinci-003`, передавая текст в запросе.
3. Логирует результат завершения с помощью клиента Helicone.
4. Возвращает результат анализа тональности из ответа OpenAI.

```
   Text
   ↓
   OpenAI Completion (text-davinci-003)
   ↓
   Helicone Log Completion
   ↓
   Sentiment Analysis Result
```

**Примеры**:

```python
helicone_ai = HeliconeAI()
sentiment = helicone_ai.analyze_sentiment("Сегодня был отличный день!")
print(sentiment)
```

### `summarize_text`

```python
def summarize_text(self, text: str) -> str:
    """
    Суммирует заданный текст.

    Args:
        text (str): Текст для суммирования.

    Returns:
        str: Суммированный текст.
    """
```

**Назначение**: Суммирует заданный текст, используя модель `text-davinci-003`.

**Параметры**:
- `text` (str): Текст, который необходимо суммировать.

**Возвращает**:
- `str`: Суммированный текст.

**Как работает функция**:
1. Функция получает текст для суммирования.
2. Использует клиент OpenAI для создания завершения с моделью `text-davinci-003`, передавая текст в запросе.
3. Логирует результат завершения с помощью клиента Helicone.
4. Возвращает суммированный текст из ответа OpenAI.

```
   Text
   ↓
   OpenAI Completion (text-davinci-003)
   ↓
   Helicone Log Completion
   ↓
   Summary
```

**Примеры**:

```python
helicone_ai = HeliconeAI()
summary = helicone_ai.summarize_text("Длинный текст для изложения...")
print(summary)
```

### `translate_text`

```python
def translate_text(self, text: str, target_language: str) -> str:
    """
    Переводит заданный текст на указанный язык.

    Args:
        text (str): Текст для перевода.
        target_language (str): Язык, на который необходимо перевести текст.

    Returns:
        str: Переведенный текст.
    """
```

**Назначение**: Переводит заданный текст на указанный язык, используя модель `text-davinci-003`.

**Параметры**:
- `text` (str): Текст, который необходимо перевести.
- `target_language` (str): Язык, на который необходимо перевести текст.

**Возвращает**:
- `str`: Переведенный текст.

**Как работает функция**:
1. Функция получает текст для перевода и целевой язык.
2. Использует клиент OpenAI для создания завершения с моделью `text-davinci-003`, передавая текст и целевой язык в запросе.
3. Логирует результат завершения с помощью клиента Helicone.
4. Возвращает переведенный текст из ответа OpenAI.

```
   Text, Target Language
   ↓
   OpenAI Completion (text-davinci-003)
   ↓
   Helicone Log Completion
   ↓
   Translated Text
```

**Примеры**:

```python
helicone_ai = HeliconeAI()
translation = helicone_ai.translate_text("Hello, how are you?", "русский")
print(translation)
```

### `main`

```python
def main():
    """
    Основная функция для демонстрации работы класса HeliconeAI.
    """
```

**Назначение**: Функция `main` демонстрирует примеры использования класса `HeliconeAI` для генерации стихов, анализа тональности, суммирования и перевода текста.

**Как работает функция**:
1. Создает экземпляр класса `HeliconeAI`.
2. Вызывает метод `generate_poem` для генерации стихотворения на русском языке и выводит результат.
3. Вызывает метод `analyze_sentiment` для анализа тональности текста на русском языке и выводит результат.
4. Вызывает метод `summarize_text` для суммирования длинного текста и выводит результат.
5. Вызывает метод `translate_text` для перевода текста с английского на русский язык и выводит результат.

```
   HeliconeAI Instance
   ↓
   Generate Poem
   ↓
   Analyze Sentiment
   ↓
   Summarize Text
   ↓
   Translate Text
   ↓
   Print Results
```

**Примеры**:

```python
if __name__ == "__main__":
    main()
```

## Зависимости

- `helicone`
- `openai`

## Лицензия

Этот проект лицензирован в соответствии с лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).