# Анализ кода модуля e_187.md

**Качество кода**
8
-  Плюсы
    - Код содержит описание задачи и условия.
    - Имеется понятное описание, что такое полупростое число.
-  Минусы
    - Отсутствует код решения задачи.
    - Нет информации об импортах или функциях.
    - Недостаточное количество комментариев.

**Рекомендации по улучшению**
1. Необходимо добавить код, решающий задачу.
2. Добавить импорты, если они необходимы.
3. Реализовать необходимые функции.
4. Добавить подробные комментарии в формате RST для функций и переменных.
5. Использовать `logger.error` для обработки ошибок, если они возникнут.
6. Добавить пример использования.

**Оптимизированный код**
```python
"""
Модуль для решения задачи 187 проекта Эйлера.
=====================================================

Задача заключается в нахождении количества полупростых чисел,
меньших заданного предела (в данном случае 10^8).

Полупростое число - это натуральное число, являющееся произведением двух простых чисел.
Первые несколько полупростых чисел: 4, 6, 9, 10, 14, 15, 21, 22, 25, 26.

Пример использования
--------------------

.. code-block:: python

    limit = 10**8
    count = count_semiprimes(limit)
    print(f"Количество полупростых чисел меньше {limit}: {count}")
"""
from typing import List
from math import sqrt

from src.logger.logger import logger
def is_prime(n: int) -> bool:
    """
    Проверяет, является ли число простым.

    :param n: Число для проверки.
    :return: True, если число простое, иначе False.
    """
    if n <= 1:
        return False
    if n <= 3:
        return True
    if n % 2 == 0 or n % 3 == 0:
        return False
    i = 5
    while i * i <= n:
        if n % i == 0 or n % (i + 2) == 0:
            return False
        i += 6
    return True


def generate_primes(limit: int) -> List[int]:
    """
    Генерирует список простых чисел до заданного предела.

    :param limit: Верхняя граница для генерации простых чисел.
    :return: Список простых чисел.
    """
    primes = []
    for i in range(2, limit):
        if is_prime(i):
            primes.append(i)
    return primes


def count_semiprimes(limit: int) -> int:
    """
    Подсчитывает количество полупростых чисел меньше заданного предела.

    :param limit: Верхняя граница для подсчета полупростых чисел.
    :return: Количество полупростых чисел.
    """
    try:
        # код исполняет генерацию списка простых чисел до квадратного корня из limit
        primes = generate_primes(int(sqrt(limit)) + 1)
        count = 0
        #  цикл перебирает все пары простых чисел
        for i in range(len(primes)):
            for j in range(i, len(primes)):
                semiprime = primes[i] * primes[j]
                #  проверка, что полупростое число меньше предела
                if semiprime < limit:
                    count += 1
                else:
                    #  если полупростое число больше предела, то переходим к следующему i
                    break
        return count
    except Exception as e:
        logger.error(f"Ошибка при подсчете полупростых чисел: {e}")
        return 0



if __name__ == '__main__':
    limit = 10**8
    count = count_semiprimes(limit)
    print(f"Количество полупростых чисел меньше {limit}: {count}")
```