
# **Acey-Ducey Карточная игра**

## Описание
Это симуляция карточной игры Acey-Ducey. Игрок делает ставки, основываясь на вероятности того, что следующая карта окажется между двумя уже открытыми. 

- **Начальный капитал:** Игрок начинает с 100 долларов.
- **Правила игры:**
  1. Компьютер выкладывает две карты.
  2. Игрок может решить, сделать ставку или нет.
  3. Если ставка сделана, открывается третья карта.
  4. Если значение третьей карты лежит между первыми двумя картами, игрок выигрывает ставку. В противном случае, ставка проигрывается.
- Игра заканчивается, когда игрок теряет весь капитал или вручную завершает её.

## Как работает код 
---

### **1. Импорт библиотеки**
```python
import random
```
- **random** – библиотека для генерации случайных чисел. Она используется для перемешивания колоды карт и выбора случайных карт.

---

### **2. Создание колоды карт**
```python
def create_deck():
    ranks = list(range(2, 15))  # Карты от 2 до 14 (туз = 14)
    deck = ranks * 4  # 4 масти
    random.shuffle(deck)
    return deck
```
- **ranks** – список значений карт от 2 до 14 (туз = 14).
- **deck** – создается путем умножения списка `ranks` на 4, чтобы получить 4 масти (пики, червы, бубны, трефы).
- **random.shuffle(deck)** – перемешивает колоду карт.
- Функция возвращает перемешанную колоду.

---

### **3. Вывод карты в читаемом формате**
```python
def card_name(value):
    if value == 11:
        return "Валет"
    elif value == 12:
        return "Дама"
    elif value == 13:
        return "Король"
    elif value == 14:
        return "Туз"
    else:
        return str(value)
```
- Функция принимает числовое значение карты (от 2 до 14) и возвращает его текстовое представление.
- Например, 11 → "Валет", 14 → "Туз".

---

### **4. Основной игровой цикл**
```python
def play_acey_ducey():
    print("Добро пожаловать в игру Acey Ducey!")
    print("Правила: Делаете ставку, угадывая, будет ли следующая карта между двумя выложенными.")
    print("Если карта равна одной из выложенных или туз, вы проигрываете.")
    print("Введите '0', чтобы пропустить ход.\n")

    money = 100  # Стартовый капитал игрока
    deck = create_deck()
```
- **money** – начальный баланс игрока (100 долларов).
- **deck** – создается колода карт с помощью функции `create_deck()`.

---

### **5. Выкладывание двух карт**
```python
while money > 0 and len(deck) >= 3:
    print(f"Ваш текущий баланс: ${money}")

    # Выкладываем две карты
    card1 = deck.pop()
    card2 = deck.pop()
    while card1 == card2:  # Если карты одинаковые, берем новые
        deck.insert(0, card1)
        deck.insert(0, card2)
        card1 = deck.pop()
        card2 = deck.pop()

    print(f"Первая карта: {card_name(card1)}")
    print(f"Вторая карта: {card_name(card2)}")
```
- **deck.pop()** – извлекает последнюю карту из колоды.
- **while card1 == card2** – проверяет, не одинаковы ли выложенные карты. Если они одинаковые, возвращает их в начало колоды и берет новые.
- **card_name(card1)** – преобразует числовое значение карты в текстовое.

---

### **6. Определение диапазона**
```python
low_card = min(card1, card2)
high_card = max(card1, card2)
```
- **low_card** – минимальное значение из двух карт.
- **high_card** – максимальное значение из двух карт.

---

### **7. Делаем ставку или пропускаем ход**
```python
try:
    bet = int(input(f"Сделайте ставку (от 0 до {money}) или введите '0' для пропуска хода: "))
    if bet < 0 or bet > money:
        print("Неверная ставка. Попробуйте снова.")
        continue
    if bet == 0:
        print("Вы пропустили ход.\n")
        continue  # Пропускаем ход
except ValueError:
    print("Пожалуйста, введите число.")
    continue
```
- **input()** – запрашивает у игрока ставку.
- **try-except** – обрабатывает ошибки, если игрок ввел не число.
- **if bet < 0 or bet > money** – проверяет, что ставка корректна.
- **if bet == 0** – если ставка 0, игрок пропускает ход.

---

### **8. Вытягиваем следующую карту**
```python
next_card = deck.pop()
print(f"Следующая карта: {card_name(next_card)}")
```
- **next_card** – извлекает следующую карту из колоды.
- **card_name(next_card)** – преобразует значение карты в текстовое представление.

---

### **9. Проверяем результат**
```python
if next_card == card1 or next_card == card2 or next_card == 14:
    print("Вы проиграли!")
    money -= bet
elif low_card < next_card < high_card:
    print("Вы выиграли!")
    money += bet
else:
    print("Вы проиграли!")
    money -= bet
```
- **if next_card == card1 or next_card == card2 or next_card == 14** – если следующая карта равна одной из выложенных или это туз, игрок проигрывает.
- **elif low_card < next_card < high_card** – если следующая карта находится между двумя выложенными картами, игрок выигрывает.
- **else** – во всех остальных случаях игрок проигрывает.

---

### **10. Завершение игры**
```python
if money <= 0:
    print("У вас закончились деньги. Игра окончена.")
else:
    print(f"Игра окончена. Ваш итоговый баланс: ${money}")
```
- Если у игрока закончились деньги, игра завершается.
- Если колода карт закончилась, игра также завершается.

---

### **11. Запуск игры**
```python
if __name__ == "__main__":
    play_acey_ducey()
```
- Этот блок запускает игру, если файл выполняется напрямую (а не импортируется как модуль).

---

### **Основные концепции, использованные в коде:**
1. **Функции** – код разделен на функции для удобства чтения и повторного использования.
2. **Списки** – колода карт представлена в виде списка.
3. **Циклы** – используются для обработки игровых ходов.
4. **Условия** – проверяют правила игры.
5. **Обработка исключений** – используется для обработки ошибок ввода.
6. **Генерация случайных чисел** – для перемешивания колоды и выбора карт.
