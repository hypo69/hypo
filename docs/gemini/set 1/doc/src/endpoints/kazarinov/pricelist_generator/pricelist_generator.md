# Модуль `hypotez/src/endpoints/kazarinov/pricelist_generator/pricelist_generator.py`

## Обзор

Модуль `pricelist_generator` предназначен для генерации HTML и PDF отчётов о прайс-листах мехиронов Казаринова. Он использует Jinja2 для рендеринга HTML из шаблонов и библиотеку wkhtmltopdf для конвертации HTML в PDF.  Данные для отчетов берутся из JSON файлов.

## Оглавление

* [Генератор отчетов](#генератор-отчетов)
* [Функции](#функции)


## Генератор отчетов

### `ReportGenerator`

**Описание**: Класс `ReportGenerator` отвечает за генерацию отчётов. Он использует Jinja2 для рендеринга HTML и wkhtmltopdf для конвертации в PDF.

**Атрибуты**:

* `env`: Объект `Environment` библиотеки Jinja2, используемый для загрузки и рендеринга шаблонов.

**Методы**:

#### `generate_html(self, data: dict, lang: str) -> str`

**Описание**: Генерирует HTML-контент на основе шаблона и предоставленных данных.

**Параметры**:

* `data` (dict): Словарь с данными для рендеринга шаблона.
* `lang` (str): Язык отчёта.

**Возвращает**:

* str: сгенерированный HTML-код.


#### `create_report(self, data: dict, lang: str, html_file: str | Path, pdf_file: str | Path) -> None`

**Описание**: Запускает полный цикл генерации отчёта.

**Параметры**:

* `data` (dict): Словарь с данными для рендеринга шаблона.
* `lang` (str): Язык отчёта.
* `html_file` (str | Path): Путь к файлу для сохранения HTML-отчета.
* `pdf_file` (str | Path): Путь к файлу для сохранения PDF-отчета.

**Возвращает**:

* None


## Функции

### `main(mexiron: str, lang: str) -> bool`

**Описание**: Функция для запуска генерации отчёта для конкретного мехирона и языка.

**Параметры**:

* `mexiron` (str): Идентификатор мехирона.
* `lang` (str): Язык отчёта (ru или he).

**Возвращает**:

* bool: True, если генерация прошла успешно, иначе - False.


**Обработка исключений**:

* Возможны ошибки при работе с файлами, чтении JSON или рендеринге шаблонов.  Эти ошибки должны быть обработаны.


## Примечания

* Модуль использует внешние библиотеки: Jinja2, pdfkit, pathlib, json, etc.
* Пути к файлам должны быть корректными.
* Шаблоны HTML должны быть доступны по указанному пути.
* Подключение к внешним ресурсам не указано, но это возможно с использованием параметров или конфигураций.
* Обработка ошибок (например, отсутствия файла) улучшит надежность кода.
*  Обратите внимание на использование `Path` объектов для работы с путями.