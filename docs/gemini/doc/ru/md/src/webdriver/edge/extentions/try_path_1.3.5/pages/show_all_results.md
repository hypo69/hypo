# Модуль show_all_results.js

## Обзор

Этот модуль отвечает за отображение результатов поиска, полученных из расширения. Он обрабатывает данные, полученные от расширения, и отображает их в виде таблиц и текстовых блоков на странице. Модуль также предоставляет возможность экспорта данных в текстовом формате.

## Функции

### `showAllResults`

**Описание**: Функция отображает результаты поиска в заданных элементах страницы.

**Параметры**:
- `results` (объект): Объект, содержащий результаты поиска.  Должен содержать свойства `message`, `title`, `href`, `frameId`, `context` (опционально), `main`.

**Возвращает**:
- Нет возвращаемого значения.


**Обрабатывает исключения**:
- `fu.onError`: Обрабатывает ошибки, возникающие при обновлении таблиц.

### `makeTextDownloadUrl`

**Описание**: Функция генерирует URL для скачивания текстового файла.

**Параметры**:
- `text` (строка): Текстовое содержание, которое будет загружено.

**Возвращает**:
- `string`: URL для скачивания текстового файла.


### `makeInfoText`

**Описание**: Функция формирует текстовое представление результатов поиска для экспорта.

**Параметры**:
- `results` (объект): Объект, содержащий результаты поиска.

**Возвращает**:
- `string`: Текст для экспорта.


### `makeConvertedInfoText`

**Описание**: Функция формирует текстовое представление результатов поиска для экспорта с преобразованием значений в JSON.

**Параметры**:
- `results` (объект): Объект, содержащий результаты поиска.

**Возвращает**:
- `string`: Текст для экспорта с JSON преобразованием.


## Вспомогательные функции

(Функции `fu.updateDetailsTable`, `fu.onError`, `fu.makeDetailText` не определены в данном коде, но предполагаются как часть другого модуля или библиотеки.)

### `fu.updateDetailsTable`

**Описание**: Функция для обновления таблицы с деталями.

**Параметры**:
- `tbody` (объект): Объект `<tbody>` таблицы.
- `details` (массив): Массив деталей, которые нужно добавить в таблицу.
- `options` (объект): Опции для функции. Должен содержать `headerValues` и `detailKeys`.

**Возвращает**:
- `Promise`: Обещание, которое разрешается, если таблица обновлена успешно, или отклоняется с ошибкой.

**Обрабатывает исключения**:
- `fu.onError`: Обрабатывает ошибки, возникающие при обновлении таблиц.



##  Обработчики событий

### Обработчик события "load"

**Описание**: Запускается при загрузке страницы.  Выполняет запрос к браузерному расширению для получения результатов и отображает их. Устанавливает обработчики событий для кнопок.

**Обрабатывает исключения**:
- `fu.onError`: Обрабатывает ошибки, возникающие при запросе к расширению.

### Обработчик события "click" для `context-detail`

**Описание**: Обрабатывает клики на кнопках в таблице контекста. Отправляет сообщение в браузерное расширение для выделения элемента.

**Параметры**:
- `event` (объект): Объект события клика.

**Обрабатывает исключения**:
- Нет.

### Обработчик события "click" для `main-details`

**Описание**: Обрабатывает клики на кнопках в таблице основных результатов. Отправляет сообщение в браузерное расширение для выделения элемента с указанным индексом.


**Параметры**:
- `event` (объект): Объект события клика.


**Обрабатывает исключения**:
- Нет.