# Модуль `gemini_chat.py`

## Обзор

Модуль `gemini_chat.py` предназначен для обработки взаимодействия с моделью Google Generative AI в рамках проекта Kazarinov. Он включает в себя функциональность для обучения модели, ведения диалога и ответа на вопросы, используя API Google Gemini.

## Оглавление

1.  [Классы](#классы)
    -   [`KazarinovAI`](#kazarinovai)
2.  [Функции](#функции)
    -   [`chat`](#chat)

## Классы

### `KazarinovAI`

**Описание**: Класс `KazarinovAI` управляет обучением и генерацией диалогов для проекта Kazarinov, используя GoogleGenerativeAI.

**Атрибуты**:
- `api_key` (str): API ключ для доступа к Google Gemini.
- `base_path` (Path): Базовый путь к директории проекта Kazarinov.
- `system_instruction_list` (list): Список системных инструкций, прочитанных из файлов.
- `history_file` (str): Имя файла для сохранения истории диалогов.
- `gemini_1` (GoogleGenerativeAI): Первый экземпляр модели Google Gemini.
- `gemini_2` (GoogleGenerativeAI): Второй экземпляр модели Google Gemini.
- `timestamp` (str): Временная метка для логирования.

**Методы**:

#### `__init__`

**Описание**: Инициализирует модель Kazarinov с заданными системными инструкциями и конфигурацией генерации.

**Параметры**:
- `system_instruction` (str, optional): Инструкция для системной роли модели. По умолчанию `None`.
- `generation_config` (dict | list[dict], optional): Конфигурация генерации контента. По умолчанию `{"response_mime_type": "text/plain"}`.

#### `train`

**Описание**: Обучает модель на основе предоставленных текстовых файлов, отправляя данные чанками.

**Параметры**:
    - Нет параметров.

#### `question_answer`

**Описание**: Запускает процесс ответов на вопросы, используя предоставленные обучающие файлы.

**Параметры**:
    - Нет параметров.

#### `dialog`

**Описание**: Запускает диалог на основе предопределенных вопросов, перемешивая вопросы из разных языков.

**Параметры**:
    - Нет параметров.

#### `ask`

**Описание**: Отправляет вопрос модели и возвращает ответ.

**Параметры**:
- `q` (str): Текст вопроса.
- `no_log` (bool, optional): Флаг, определяющий необходимость логирования. По умолчанию `False`.
- `with_pretrain` (bool, optional): Флаг, определяющий использование предварительного обучения. По умолчанию `True`.

**Возвращает**:
- `bool`: Результат выполнения запроса.

## Функции

### `chat`

**Описание**: Запускает сессию чата с ассистентом Kazarinov.

Эта функция читает системные инструкции из текстовых файлов и обрабатывает ввод пользователя до тех пор, пока пользователь не решит выйти из чата. Она использует класс `KazarinovAI` для обработки запросов пользователя и предоставления ответов.

**Вызывает исключения**:
- `Exception`: В случае проблем с чтением файлов системных инструкций.