Как использовать модуль src.scenario
========================================================================================

Описание
-------------------------
Модуль `src.scenario` автоматизирует взаимодействие с поставщиками через сценарии, описанные в JSON-файлах. Он извлекает и обрабатывает данные о продуктах с веб-сайтов поставщиков, синхронизируя их с базой данных (например, PrestaShop).  Модуль включает в себя чтение сценариев, взаимодействие с веб-сайтами, обработку данных и ведение журнала выполнения.

Шаги выполнения
-------------------------
1. **Подготовка сценариев:** Создайте JSON-файлы, описывающие сценарии взаимодействия с поставщиками.  Каждый сценарий должен содержать URL страниц с продуктами, название категории и идентификаторы категорий в базе данных PrestaShop (`presta_categories`).  Пример сценария показан в исходном коде.

2. **Загрузка списка файлов сценариев:** Создайте список путей к файлам с сценариями.

3. **Вызов функции `run_scenario_files`:** Используйте функцию `run_scenario_files(s, scenario_files_list)`, передавая в нее подготовленный список файлов сценариев.  Функция последовательно обрабатывает каждый файл.

4. **Обработка каждого файла:** Внутри `run_scenario_files` вызывается `run_scenario_file(s, scenario_file)` для обработки каждого файла.

5. **Обработка сценария:** Функция `run_scenario_file` загружает сценарии из файла.  Функция `run_scenario(s, scenario)` обрабатывает каждый сценарий:
    - Переходит по указанному URL.
    - Извлекает данные о продуктах.
    - Преобразует данные в нужный формат.
    - Сохраняет извлеченные данные в базе данных, используя идентификаторы категорий из сценария.

6. **Журналирование:** Функция `dump_journal(s, journal)` сохраняет журнал выполнения сценариев в файл. Это позволяет отслеживать успешность выполнения и выявлять ошибки.

7. **Запуск модуля:** Функция `main()` запускает весь процесс обработки сценариев.


Пример использования
-------------------------
.. code-block:: python

    import os
    import src.scenario as scenario

    # Список файлов сценариев
    scenario_files_list = [
        os.path.join("path", "to", "your", "scenario1.json"),
        os.path.join("path", "to", "your", "scenario2.json"),
    ]

    # Запуск процесса
    scenario.main(scenario_files_list)