# Анализ кода модуля nikoma.py

**Качество кода**
-   **Соответствие требованиям к формату кода (1-10):** 7/10
    -   **Преимущества:**
        - Код игры достаточно прост и понятен.
        - Присутствует базовая логика игры с учетом высоты, топлива и случайных подъемов.
        - Код содержит комментарии, описывающие основные этапы игры.
    -   **Недостатки:**
        - Отсутствует полное соответствие формату reStructuredText (RST) для docstring.
        - Отсутствует импорт `logger` и обработка ошибок с использованием `logger.error`.
        - Отсутствует описание модуля в формате RST.
        - Используется `print` вместо логирования.

**Рекомендации по улучшению**

1.  **Документация:**
    -   Переписать все комментарии и docstring в формате RST.
    -   Добавить описание модуля в начале файла.
    -   Добавить docstring для всех значимых переменных.
2.  **Обработка ошибок:**
    -   Заменить `print` на `logger.info` и `logger.error` для логирования.
    -   Удалить избыточный `try-except` и использовать `logger.error` для обработки исключений.
3.  **Логика игры:**
    -   Проверить, что все условия окончания игры корректны.
    -   Уточнить формулировки сообщений для пользователя.
4.  **Общие рекомендации:**
    -   Проверить и добавить недостающие импорты.

**Улучшенный код**

```python
"""
Модуль представляет собой простую игру "Ракета", в которой игрок управляет ракетой,
пытаясь достичь заданной высоты, расходуя топливо.

=========================================================================================

Цель игры - достичь высоты 100, прежде чем закончится топливо.

Игрок может выбирать, сколько топлива потратить на каждом шаге.
В зависимости от выбора игрок поднимается на случайную высоту.

Пример использования
--------------------

.. code-block:: python

    import random
    from src.logger.logger import logger


    rocket_game()


"""
import random
from src.logger.logger import logger # Импорт модуля logger #

# Инициализация высоты ракеты и количества топлива
rocketHeight = 0 # :int: Текущая высота ракеты
fuel = 100  # :int: Текущее количество топлива


def rocket_game():
    """
    Запускает игру "Ракета".

    Игра продолжается, пока ракета не достигнет высоты 100 или не закончится топливо.
    На каждом шаге игроку предлагается ввести количество топлива для сжигания.
    Высота подъема рассчитывается случайным образом в зависимости от количества
    сжигаемого топлива.

    :return: None
    """
    global rocketHeight, fuel # объявление глобальных переменных для использования их внутри функции
    # Основной игровой цикл
    while rocketHeight < 100 and fuel > 0:
        logger.info(f'Высота: {rocketHeight}, Топливо: {fuel}') # Вывод текущей высоты и количества топлива через logger #
        try:
            fuelToBurn = int(input('Сколько топлива сжечь?: ')) # Запрос количества топлива для сжигания #
        except ValueError as ex:  # обработка исключения ValueError, если введено не целое число
            logger.error('Пожалуйста, введите целое число.', exc_info=ex) # Запись ошибки в лог #
            continue # переход к следующей итерации цикла, если ввод некорректен
        if fuelToBurn > fuel:
            logger.info('У вас нет столько топлива!')  # Вывод сообщения об ошибке, если топлива недостаточно #
        else:
            fuel -= fuelToBurn  # уменьшение количества топлива #
            rise = random.randint(0, 2 * fuelToBurn)  # вычисление случайного подъема #
            rocketHeight += rise  # увеличение высоты ракеты #

    # Проверка условий окончания игры и вывод сообщения
    if rocketHeight >= 100:
        logger.info('Поздравляю! Вы достигли высоты 100!')  # Вывод сообщения о победе #
    else:
        logger.info('Вы исчерпали топливо. Вы не достигли высоты 100!')  # Вывод сообщения о проигрыше #


if __name__ == '__main__':
    rocket_game()
```