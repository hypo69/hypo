# Модуль для скачивания файлов с использованием wget

## Обзор

Модуль содержит функцию `wget_dl`, которая используется для скачивания файлов по URL-адресу с помощью команды `wget`.

## Подробнее

Этот модуль предоставляет простой способ скачивания файлов из интернета, используя утилиту `wget`. Функция `wget_dl` принимает URL файла в качестве аргумента, скачивает файл и возвращает имя скачанного файла.
Если возникают какие-либо проблемы в процессе скачивания, функция возвращает "error" и имя файла.

## Функции

### `wget_dl`

```python
def wget_dl(url):
    """Функция для скачивания файлов по URL с использованием wget.

    Args:
        url (str): URL файла для скачивания.

    Returns:
        str: Имя скачанного файла в случае успешного скачивания, или "error" и имя файла в случае ошибки.

    Raises:
        Exception: В случае возникновения ошибки при выполнении команды wget.

    Example:
        >>> wget_dl('https://example.com/file.txt')
        Downloading Started
        Downloading Complete file.txt
        'file.txt'

        >>> wget_dl('https://example.com/nonexistent_file.txt')
        Downloading Started
        DOWNLAOD ERROR : wget: не удалось разрешить адрес узла: example.com
        ('error', 'nonexistent_file.txt')
    """
```

**Как работает функция**:

1.  **Вывод сообщения о начале загрузки**: Функция выводит сообщение "Downloading Started" в консоль, чтобы указать, что процесс загрузки начался.
2.  **Извлечение имени файла из URL**: С использованием `os.path.basename(url)` извлекается имя файла из предоставленного URL. Это нужно для сохранения файла под правильным именем.
3.  **Выполнение команды wget**: Функция использует модуль `subprocess` для выполнения команды `wget` в командной строке. Команда `wget` скачивает файл по указанному URL и сохраняет его с указанным именем.

    *   Внутри `subprocess.check_output` передается строка с командой `wget`.
    *   `'--output-document\' \'{}\' \'{}\' '.format(filename , url)` формирует строку команды `wget`, где:

        *   `--output-document \'{}\'`: указывает `wget` сохранить скачанный файл под именем, указанным в `{}` (в данном случае, `filename`).
        *   `\'{}\'`: второй плейсхолдер для URL, который нужно скачать.
    *   `stderr=subprocess.STDOUT` перенаправляет стандартный поток ошибок в стандартный поток вывода, чтобы все сообщения (включая ошибки) можно было захватить.
    *   `shell=True` позволяет выполнять команду через оболочку.
4.  **Обработка результата скачивания**: Если команда `wget` выполняется успешно, функция выводит сообщение "Downloading Complete" и имя скачанного файла. Затем функция возвращает имя скачанного файла.
5.  **Обработка ошибок**: Если во время выполнения команды `wget` возникает ошибка, функция перехватывает исключение, выводит сообщение об ошибке "DOWNLAOD ERROR" и текст ошибки. Затем функция возвращает кортеж `("error", filename)`, указывающий на то, что произошла ошибка, и имя файла, который не удалось скачать.

**Параметры**:

*   `url` (str): URL файла для скачивания.

**Возвращает**:

*   `str`: Имя скачанного файла в случае успешного скачивания, или "error" и имя файла в случае ошибки.

**Вызывает исключения**:

*   `Exception`: В случае возникновения ошибки при выполнении команды `wget`. Например, если не удается разрешить имя хоста или если файл не существует.