# Анализ кода модуля `fipowr.py`

**Качество кода**
- **Соответствие требованиям к формату кода (1-10):** 7/10
    - **Плюсы:**
        - Код функциональный и выполняет поставленную задачу.
        - Используется `random.randint` для генерации случайных чисел.
        - Есть базовая обработка ошибок при вводе пользователя.
    - **Минусы:**
        - Отсутствует reStructuredText (RST) для комментариев и docstring.
        - Нет логгирования ошибок с использованием `logger.error`.
        - Нет импорта необходимых модулей.
        - Некоторые комментарии могли бы быть более описательными.
        - Не используется `j_loads` или `j_loads_ns` для чтения конфигурационных файлов, хотя в данном примере их и нет.

**Рекомендации по улучшению**
1.  Добавить reStructuredText (RST) для docstring и комментариев к функциям и модулю.
2.  Импортировать `from src.logger.logger import logger` для логирования ошибок.
3.  Заменить стандартный блок `try-except` на использование `logger.error` для обработки ошибок.
4.  Переименовать переменную `numberOfGuesses` в `number_of_guesses` согласно стандартам.
5.  Добавить более подробные комментарии к логике игры и вычислениям.
6.  Использовать `j_loads` или `j_loads_ns` если планируется работа с файлами json.
7.  Добавить примеры использования в docstring.

**Улучшенный код**

```python
"""
Модуль реализует игру "Угадай число", где загаданное число возводится в степень числа Фибоначчи.
=========================================================================================

Модуль содержит логику игры, генерацию случайного числа, вычисление чисел Фибоначчи
и проверку ввода пользователя.

Пример использования
--------------------

.. code-block:: python

    python fipowr.py
"""
import random # Импорт модуля random
from src.logger.logger import logger # Импорт логгера для обработки ошибок

# Функция для вычисления числа Фибоначчи
def fibonacci(n: int) -> int:
    """
    Вычисляет n-ое число Фибоначчи.

    :param n: Положительное целое число, индекс числа Фибоначчи.
    :return: Число Фибоначчи с индексом n.

    :raises TypeError: Если входной параметр не целое число.
    :raises ValueError: Если входной параметр отрицательный.

    Пример:
    .. code-block:: python

        fibonacci(5) == 5
        fibonacci(10) == 55
    """
    if not isinstance(n, int): # Проверка типа входного параметра
        logger.error(f'Неправильный тип параметра: {n}, ожидается целое число.') # Логирование ошибки
        raise TypeError('Аргумент должен быть целым числом')
    if n <= 0:
        return 0 # Возвращаем 0, если n меньше или равно 0
    elif n == 1:
        return 1 # Возвращаем 1, если n равен 1
    else:
        a, b = 0, 1 # Инициализация переменных для вычисления чисел Фибоначчи
        for _ in range(2, n + 1):
            a, b = b, a + b # Вычисление следующего числа Фибоначчи
        return b # Возвращаем результат


number_of_guesses = 0 # Инициализация счетчика попыток
target_number = random.randint(1, 100) # Генерируем случайное число от 1 до 100

# Основной игровой цикл
while True:
    number_of_guesses += 1 # Увеличиваем количество попыток
    fibonacci_number = fibonacci(number_of_guesses) # Вычисляем число Фибоначчи для текущей попытки
    powered_number = target_number ** fibonacci_number # Возводим загаданное число в степень числа Фибоначчи

    # Запрашиваем ввод числа у пользователя
    try:
        user_guess = int(input(f"Попытка {number_of_guesses}: Введите число: ")) # Запрос ввода числа
    except ValueError: # Обработка исключения, если введено не целое число
        logger.error('Введено не целое число.') # Логирование ошибки
        print("Пожалуйста, введите целое число.") # Вывод сообщения об ошибке
        continue # Переход к следующей итерации цикла

    # Проверяем, угадано ли число
    if user_guess == powered_number:
        print(f"ПОЗДРАВЛЯЮ! Вы угадали число за {number_of_guesses} попыток!") # Вывод сообщения о победе
        break  # Завершаем цикл, если число угадано
    else:
        print("Попробуйте ещё раз!") # Сообщаем, что нужно попробовать еще раз
```