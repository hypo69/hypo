# Модуль `make_summary.py`

## Обзор

Модуль `make_summary.py` отвечает за создание файла `SUMMARY.md`, содержащего список всех `.md` файлов в заданной директории. Этот файл предназначен для использования в системе `mdbook`.  Он рекурсивно обходит директорию, собирает ссылки на все `.md` файлы и записывает их в `SUMMARY.md`.


## Функции

### `make_summary`

**Описание**: Создает файл `SUMMARY.md`, рекурсивно обходя папку.

**Параметры**:
- `docs_dir` (Path): Путь к исходной директории, содержащей `.md` файлы.


**Возвращает**:
- `None`

**Вызывает исключения**:
- Возможные исключения при работе с файловой системой (например, ошибки доступа к файлам, проблемы с кодировкой).


### `_make_summary`

**Описание**: Рекурсивно обходит папку и создает файл `SUMMARY.md` с главами на основе `.md` файлов.

**Параметры**:
- `src_dir` (Path): Путь к папке с исходниками `.md`.
- `summary_file` (Path): Путь для сохранения файла `SUMMARY.md`.


**Возвращает**:
- `bool`: `True`, если создание файла успешно; `None`, если произошла ошибка.

**Вызывает исключения**:
- Возможные исключения при работе с файловой системой (например, ошибки доступа к файлам, проблемы с кодировкой).

### `prepare_summary_path`

**Описание**: Формирует путь к файлу `SUMMARY.md`, заменяя часть пути `src` на `docs`.

**Параметры**:
- `src_dir` (Path): Исходный путь с `src`.
- `file_name` (str, optional): Имя файла, которое нужно создать. По умолчанию `SUMMARY.md`.


**Возвращает**:
- `Path`: Новый путь к файлу `SUMMARY.md`.

**Вызывает исключения**:
- Возможные исключения при работе с путями.


## Описание файлов

### `SUMMARY.md`

Файл `SUMMARY.md`, создаваемый данным модулем, содержит заголовок уровня 1 `# Summary` и затем список ссылок на все `.md` файлы в директории, заданной аргументом `src_dir`.  Ссылки имеют формат `- [Имя_файла]([Путь_относительно_src_dir])`.


## Примеры использования

```python
from pathlib import Path
# ... (ваш код импорта make_summary)

docs_dir = Path("./src/endpoints/hypo69/code_assistant")
make_summary(docs_dir)
```

Этот пример покажет, как вызвать функцию `make_summary`, чтобы создать `SUMMARY.md` в папке `docs` (путь будет изменен по правилу, описанному в функции `prepare_summary_path`).

## Подробности

- Модуль использует `Path` для работы с путями, что делает его более переносимым.
- Использование `try...except` обрабатывает возможные ошибки при работе с файлами.
- Проверка существования файла предотвращает перезапись файла, если он уже существует.
- Сортировка с помощью `sorted()` гарантирует, что ссылки на файлы будут отображаться в алфавитном порядке.
- `summary.write` позволяет писать в файл `SUMMARY.md` с учетом кодировки UTF-8.

```