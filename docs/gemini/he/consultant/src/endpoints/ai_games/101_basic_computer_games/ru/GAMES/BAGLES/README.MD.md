# Анализ кода модуля BAGLES

**Качество кода**
*   **Соответствие требованиям к формату кода (1-10):** 
    -   **Преимущества:**
        *   Документация хорошо структурирована и понятна.
        *   Используется `markdown` для форматирования документа.
        *   Алгоритм игры представлен понятно и подробно.
        *   Присутствует блок-схема, визуально отображающая логику игры.
    -   **Недостатки:**
        *   Отсутствует программный код игры.
        *   Не используется `reStructuredText (RST)` для документации.
        *   Не используются `docstring` в стиле Python.
        *   Нет обработки ошибок и логирования.
        *   Отсутствуют импорты.
        *   Не используется `j_loads` или `j_loads_ns`.
        *   Отсутствуют примеры кода.

**Рекомендации по улучшению**
1.  Перевести все комментарии в формат `reStructuredText (RST)`.
2.  Добавить `docstring` к модулю.
3.  Реализовать код игры на Python.
4.  Использовать `j_loads` или `j_loads_ns` для чтения файлов.
5.  Добавить обработку ошибок с использованием `logger.error`.
6.  Добавить импорты необходимые для работы кода.
7.  Добавить примеры кода.
8.  Следовать PEP8 для стиля кода.
9.  Заменить все комментарии `#` на `reStructuredText (RST)`.
10. Следовать инструкции по оформлению.

**Улучшенный код**
```markdown
"""
Модуль для игры в "Бейглы"
=========================================================================================

Игра "Бейглы" - это логическая игра-головоломка, в которой игрок пытается угадать трехзначное число, составленное из неповторяющихся цифр.
После каждой попытки игрок получает подсказки: "PICO" означает, что одна из цифр угадана и находится на правильной позиции, "FERMI" означает, что одна из цифр угадана, но не на правильной позиции, "BAGELS" означает, что ни одна из цифр не угадана.

Правила игры:
    1. Компьютер генерирует случайное трехзначное число из неповторяющихся цифр.
    2. Игрок вводит свои предположения в виде трехзначного числа.
    3. Компьютер предоставляет подсказки:
        - "PICO" - одна цифра угадана и находится на правильной позиции.
        - "FERMI" - одна цифра угадана, но не на правильной позиции.
        - "BAGELS" - ни одна из цифр не угадана.
    4. Подсказки выдаются в порядке расположения цифр в загаданном числе, например если загадано `123` и игрок ввел `142`, то подсказками будет `PICO FERMI`.
    5. Игра продолжается до тех пор, пока игрок не угадает число.
    6. Если после 10 попыток игрок не угадывает число, то игра заканчивается и выводится загаданное число.

Пример использования:
--------------------

.. code-block:: python

    game = BagelsGame()
    game.start_game()

"""
from src.logger.logger import logger # Импорт логгера
import random # Импорт модуля random


def generate_secret_number() -> str:
    """
    Генерирует случайное трехзначное число из неповторяющихся цифр.

    :return: Секретное число в виде строки.
    :rtype: str
    """
    digits = list(range(10))
    random.shuffle(digits)
    secret_number = ''.join(map(str, digits[1:4])) # Генерируется трехзначное число
    return secret_number


def get_clues(secret_number: str, user_guess: str) -> str:
    """
    Генерирует подсказки для введенного пользователем числа.

    :param secret_number: Секретное число.
    :type secret_number: str
    :param user_guess: Число, введенное пользователем.
    :type user_guess: str
    :return: Строка с подсказками.
    :rtype: str
    """
    clues = []
    for i in range(len(user_guess)):
        if user_guess[i] == secret_number[i]:
            clues.append('PICO') # Цифра угадана и на правильном месте
        elif user_guess[i] in secret_number:
            clues.append('FERMI') # Цифра угадана, но не на месте
    if not clues:
        return 'BAGELS' # Ни одна из цифр не угадана
    return ' '.join(clues) # Возвращает строку с подсказками


class BagelsGame:
    """
    Класс, представляющий игру "Бейглы".
    """
    def __init__(self):
        """
        Инициализирует игру, генерируя секретное число и устанавливая количество попыток.
        """
        self.secret_number = generate_secret_number()  # Секретное число для игры
        self.max_guesses = 10  # Максимальное количество попыток
        self.number_of_guesses = 0 # Количество попыток

    def start_game(self):
        """
        Запускает игровой процесс.
        """
        print('Я загадал трехзначное число. Попробуйте угадать его.')
        while self.number_of_guesses < self.max_guesses: # Игра продолжается пока не исчерпаны попытки или число не угадано
            self.number_of_guesses += 1 # Увеличивает количество попыток
            user_guess = input(f'Попытка {self.number_of_guesses}: ') # Запрашивает ввод пользователя
            if not user_guess.isdigit() or len(user_guess) != 3:
                logger.error('Введенное значение должно быть трехзначным числом.') # Вывод ошибки, если пользователь ввел некорректное значение
                print('Пожалуйста, введите трехзначное число.')
                continue

            clues = get_clues(self.secret_number, user_guess) # Получение подсказок
            print(clues)
            if user_guess == self.secret_number:
                print(f'Поздравляю! Вы угадали число {self.secret_number} за {self.number_of_guesses} попыток.') # Вывод сообщения о победе
                return
        print(f'Вы проиграли. Загаданное число было {self.secret_number}.') # Вывод сообщения о проигрыше


if __name__ == '__main__':
    game = BagelsGame()  # Создание экземпляра игры
    game.start_game() # Запуск игры
```