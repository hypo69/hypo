# Acey-Ducey - משחק קלפים

## סקירה כללית

זוהי סימולציה של משחק הקלפים Acey-Ducey. השחקן מבצע הימורים, בהתבסס על הסבירות שהקלף הבא יהיה בין שני הקלפים שכבר נחשפו.

-   **הון התחלתי:** השחקן מתחיל עם 100 דולר.
-   **חוקי המשחק:**
    1.  המחשב מניח שני קלפים.
    2.  השחקן יכול להחליט אם להמר או לא.
    3.  אם ההימור מתבצע, קלף שלישי נחשף.
    4.  אם ערך הקלף השלישי נמצא בין שני הקלפים הראשונים, השחקן זוכה בהימור. אחרת, ההימור מפסיד.
-   המשחק מסתיים כאשר השחקן מאבד את כל ההון או מסיים אותו באופן ידני.

## תוכן עניינים

1.  [יבוא ספרייה](#1-יבוא-ספרייה)
2.  [יצירת חפיסת קלפים](#2-יצירת-חפיסת-קלפים)
3.  [פלט קלף בפורמט קריא](#3-פלט-קלף-בפורמט-קריא)
4.  [לולאת המשחק העיקרית](#4-לולאת-המשחק-העיקרית)
5.  [הנחת שני קלפים](#5-הנחת-שני-קלפים)
6.  [קביעת הטווח](#6-קביעת-הטווח)
7.  [ביצוע הימור או דילוג על תור](#7-ביצוע-הימור-או-דילוג-על-תור)
8.  [שליפת הקלף הבא](#8-שליפת-הקלף-הבא)
9.  [בדיקת התוצאה](#9-בדיקת-התוצאה)
10. [סיום המשחק](#10-סיום-המשחק)
11. [הפעלת המשחק](#11-הפעלת-המשחק)
12. [מושגים עיקריים ששימשו בקוד](#מושגים-עיקריים-ששימשו-בקוד)

---

### 1. יבוא ספרייה

```python
import random
```

-   **random** – ספרייה ליצירת מספרים אקראיים. היא משמשת לערבוב חפיסת הקלפים ולבחירת קלפים אקראיים.

---

### 2. יצירת חפיסת קלפים

```python
def create_deck():
    ranks = list(range(2, 15))  # קלפים מ-2 עד 14 (אס = 14)
    deck = ranks * 4  # 4 סוגי קלפים
    random.shuffle(deck)
    return deck
```

-   **ranks** – רשימה של ערכי קלפים מ-2 עד 14 (אס = 14).
-   **deck** – נוצר על ידי הכפלת רשימת `ranks` ב-4, כדי לקבל 4 סוגי קלפים (לבבות, יהלומים, עלים, תלתן).
-   **random.shuffle(deck)** – מערבב את חפיסת הקלפים.
-   הפונקציה מחזירה חפיסה מעורבבת.

---

### 3. פלט קלף בפורמט קריא

```python
def card_name(value):
    if value == 11:
        return "נסיך"
    elif value == 12:
        return "מלכה"
    elif value == 13:
        return "מלך"
    elif value == 14:
        return "אס"
    else:
        return str(value)
```

-   הפונקציה מקבלת ערך מספרי של קלף (מ-2 עד 14) ומחזירה את הייצוג הטקסטואלי שלו.
-   לדוגמה, 11 → "נסיך", 14 → "אס".

---

### 4. לולאת המשחק העיקרית

```python
def play_acey_ducey():
    print("ברוכים הבאים למשחק Acey Ducey!")
    print("חוקים: עשו הימור, נחשו האם הקלף הבא יהיה בין שני הקלפים שהונחו.")
    print("אם הקלף שווה לאחד מהקלפים שהונחו או אס, אתם מפסידים.")
    print("הכניסו '0' כדי לדלג על תור.\\n")

    money = 100  # הון התחלתי של השחקן
    deck = create_deck()
```

-   **money** – יתרה התחלתית של השחקן (100 דולר).
-   **deck** – נוצרת חפיסת קלפים באמצעות הפונקציה `create_deck()`.

---

### 5. הנחת שני קלפים

```python
while money > 0 and len(deck) >= 3:
    print(f"היתרה הנוכחית שלך: ${money}")

    # הנחת שני קלפים
    card1 = deck.pop()
    card2 = deck.pop()
    while card1 == card2:  # אם הקלפים זהים, לוקחים חדשים
        deck.insert(0, card1)
        deck.insert(0, card2)
        card1 = deck.pop()
        card2 = deck.pop()

    print(f"קלף ראשון: {card_name(card1)}")
    print(f"קלף שני: {card_name(card2)}")
```

-   **deck.pop()** – מוציא את הקלף האחרון מהחפיסה.
-   **while card1 == card2** – בודק אם הקלפים שהונחו זהים. אם הם זהים, מחזיר אותם לתחילת החפיסה ולוקח חדשים.
-   **card_name(card1)** – ממיר את הערך המספרי של הקלף לטקסט.

---

### 6. קביעת הטווח

```python
low_card = min(card1, card2)
high_card = max(card1, card2)
```

-   **low_card** – הערך המינימלי מבין שני הקלפים.
-   **high_card** – הערך המקסימלי מבין שני הקלפים.

---

### 7. ביצוע הימור או דילוג על תור

```python
try:
    bet = int(input(f"בצע הימור (מ-0 עד {money}) או הכנס '0' כדי לדלג על תור: "))
    if bet < 0 or bet > money:
        print("הימור לא תקין. נסה שוב.")
        continue
    if bet == 0:
        print("דילגת על תור.\\n")
        continue  # דילוג על תור
except ValueError:
    print("אנא הכנס מספר.")
    continue
```

-   **input()** – מבקש מהשחקן לבצע הימור.
-   **try-except** – מטפל בשגיאות אם השחקן הכניס ערך שאינו מספר.
-   **if bet < 0 or bet > money** – בודק שההימור תקין.
-   **if bet == 0** – אם ההימור הוא 0, השחקן מדלג על התור.

---

### 8. שליפת הקלף הבא

```python
next_card = deck.pop()
print(f"קלף הבא: {card_name(next_card)}")
```

-   **next_card** – מוציא את הקלף הבא מהחפיסה.
-   **card_name(next_card)** – ממיר את הערך של הקלף לייצוג טקסטואלי.

---

### 9. בדיקת התוצאה

```python
if next_card == card1 or next_card == card2 or next_card == 14:
    print("הפסדת!")
    money -= bet
elif low_card < next_card < high_card:
    print("ניצחת!")
    money += bet
else:
    print("הפסדת!")
    money -= bet
```

-   **if next_card == card1 or next_card == card2 or next_card == 14** – אם הקלף הבא שווה לאחד מהקלפים שהונחו או אס, השחקן מפסיד.
-   **elif low_card < next_card < high_card** – אם הקלף הבא נמצא בין שני הקלפים שהונחו, השחקן מנצח.
-   **else** – בכל שאר המקרים השחקן מפסיד.

---

### 10. סיום המשחק

```python
if money <= 0:
    print("נגמר לך הכסף. המשחק הסתיים.")
else:
    print(f"המשחק הסתיים. היתרה הסופית שלך: ${money}")
```

-   אם נגמר לשחקן הכסף, המשחק מסתיים.
-   אם נגמרה חפיסת הקלפים, המשחק גם מסתיים.

---

### 11. הפעלת המשחק

```python
if __name__ == "__main__":
    play_acey_ducey()
```

-   בלוק זה מפעיל את המשחק אם הקובץ מופעל ישירות (ולא מיובא כמודול).

---

### מושגים עיקריים ששימשו בקוד:

1.  **פונקציות** – הקוד מחולק לפונקציות לנוחות קריאה ושימוש חוזר.
2.  **רשימות** – חפיסת הקלפים מיוצגת כרשימה.
3.  **לולאות** – משמשות לעיבוד מהלכי המשחק.
4.  **תנאים** – בודקים את חוקי המשחק.
5.  **טיפול בשגיאות** – משמש לטיפול בשגיאות קלט.
6.  **יצירת מספרים אקראיים** – לערבוב חפיסת הקלפים ובחירת קלפים.