# Модуль hypotez/src/webdriver/executor.py

## Обзор

Модуль `executor` предназначен для выполнения действий над веб-элементами на основе предоставленных конфигураций, известных как "локаторы". Локаторы — это словари, содержащие информацию о том, как найти и взаимодействовать с элементами на веб-странице. Модуль предоставляет следующие функциональности:

1. **Парсинг и обработка локаторов:** Преобразует словари конфигураций в объекты `SimpleNamespace`, что позволяет гибко управлять данными локатора.

2. **Взаимодействие с веб-элементами:** В зависимости от предоставленных данных модуль может выполнять различные действия, такие как клики, отправка сообщений, выполнение событий и извлечение атрибутов веб-элементов.

3. **Обработка ошибок:** Модуль поддерживает продолжение выполнения в случае ошибки, что позволяет обрабатывать веб-страницы с нестабильными элементами или требующими специального подхода.

4. **Поддержка нескольких типов локаторов:** Обрабатывает как одиночные, так и множественные локаторы, позволяя определять и взаимодействовать с одним или несколькими веб-элементами одновременно.

Данный модуль обеспечивает гибкость и универсальность при работе с веб-элементами, что позволяет автоматизировать сложные сценарии взаимодействия с веб-страницами.


## Классы

### `ExecuteLocator`

**Описание:** Класс `ExecuteLocator` отвечает за обработку локаторов веб-элементов с использованием Selenium.

**Атрибуты:**

- `driver`: Драйвер Selenium (объект). По умолчанию `None`.
- `actions`: Объект `ActionChains` для работы с событиями. Инициализируется в `__post_init__`.
- `by_mapping`: Словарь для сопоставления имен локаторов (например, "XPATH", "ID") с соответствующими константами `By` из Selenium.
- `mode`: Режим работы ("debug", "dev"). По умолчанию "debug".


**Методы:**

#### `execute_locator`

**Описание:** Выполняет действия над веб-элементом, заданным локатором.

**Параметры:**

- `locator` (dict | SimpleNamespace): Данные локатора (словарь или объект `SimpleNamespace`).
- `timeout` (float, необязательно): Таймаут для поиска элемента.
- `timeout_for_event` (str, необязательно): Условие ожидания (`'presence_of_element_located'`, `'element_to_be_clickable'`).
- `message` (str, необязательно): Сообщение для отправки.
- `typing_speed` (float, необязательно): Скорость набора текста.
- `continue_on_error` (bool, необязательно): Продолжать ли выполнение при ошибке.

**Возвращает:**

- `str | list | dict | WebElement | bool`: Результат выполнения действий.


#### `evaluate_locator`

**Описание:** Оценивает и обрабатывает атрибуты локатора.

**Параметры:**

- `attribute` (str | List[str] | dict): Атрибуты для оценки.

**Возвращает:**

- `Optional[str | List[str] | dict]`: Оцененные атрибуты.


#### `get_attribute_by_locator`

**Описание:** Извлекает атрибуты элемента или списка элементов, найденных по заданному локатору.

**Параметры:**

- `locator` (dict | SimpleNamespace): Локатор как словарь или SimpleNamespace.
- `timeout` (float, необязательно): Максимальное время ожидания появления элемента.
- `timeout_for_event` (str, необязательно): Тип условия ожидания.

**Возвращает:**

- `Union[str, list, dict, WebElement | list[WebElement] | None]`: Значение атрибута(ов) или словарь с атрибутами.


#### `get_webelement_by_locator`

**Описание:** Извлекает веб-элемент или список элементов по указанному локатору.

**Параметры:**

- `locator` (dict | SimpleNamespace): Локатор.
- `timeout` (float, необязательно): Таймаут.
- `timeout_for_event` (str, необязательно): Условие ожидания.

**Возвращает:**

- `WebElement | List[WebElement] | None`: Найденный элемент(ы) или `None` при ошибке.


#### `get_webelement_as_screenshot`

**Описание:** Делает скриншот указанного веб-элемента.

**Параметры:**

- `locator` (dict | SimpleNamespace): Локатор.
- `timeout` (float, необязательно): Таймаут.
- `timeout_for_event` (str, необязательно): Условие ожидания.
- ... (другие параметры)

**Возвращает:**

- `BinaryIO | None`: Бинарный поток скриншота или `None` при ошибке.


#### `execute_event`

**Описание:** Выполняет события, связанные с локатором.

**Параметры:**

- `locator` (dict | SimpleNamespace): Локатор, задающий элемент и событие для выполнения.
- ... (другие параметры)

**Возвращает:**

- `bool`: `True`, если выполнение события прошло успешно, `False` иначе.


#### `send_message`

**Описание:** Отправляет сообщение веб-элементу.

**Параметры:**

- `locator` (dict | SimpleNamespace): Информация о местоположении элемента на странице.
- `message` (str, необязательно): Сообщение для отправки.
- `typing_speed` (float, необязательно): Скорость набора текста.

**Возвращает:**

- `bool`: `True`, если сообщение было отправлено успешно, `False` иначе.


## Функции

(Список функций отсутствует, так как в коде только классы и методы.)


## Обработка исключений


```
```