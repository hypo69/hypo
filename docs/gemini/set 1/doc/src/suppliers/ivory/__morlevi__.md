# Модуль `hypotez/src/suppliers/ivory/__morlevi__.py`

## Обзор

Этот модуль содержит функции для работы с поставщиком `morlevi`. Он предоставляет инструменты для входа в систему, сбора данных о продуктах и категориях.

## Функции

### `login`

**Описание**: Функция осуществляет вход в систему поставщика `morlevi`. Она обрабатывает возможные модальные окна и пытается войти несколько раз, если вход не удаётся.

**Параметры**:

- `supplier` (объект): Объект, содержащий информацию о поставщике (например, драйвер браузера, логгер, локаторы).

**Возвращает**:

- `bool`: `True`, если вход успешен, `False`, в противном случае. Возвращает `None`, если произошла непредвиденная ошибка.

**Вызывает исключения**:

- Любые исключения, возникающие при работе с драйвером браузера или взаимодействии с веб-сайтом.  

### `_login`

**Описание**: Вспомогательная функция для проверки успешного входа.

**Параметры**:

- `_s` (объект): Объект, содержащий информацию о поставщике.

**Возвращает**:

- `bool`: `True`, если вход успешен, `False`, в противном случае. Возвращает `None`, если произошла ошибка.

**Вызывает исключения**:

- Любые исключения, возникающие при работе с драйвером браузера или взаимодействии с веб-сайтом.

### `grab_product_page`

**Описание**: Функция собирает данные о продукте с сайта `morlevi`.

**Параметры**:

- `s` (объект): Объект, содержащий информацию о поставщике.

**Возвращает**:

- `Product`: Объект `Product`, содержащий собранные данные о продукте, или `None`, если произошла ошибка.

**Вызывает исключения**:

- Любые исключения, возникающие при работе с драйвером браузера или взаимодействии с веб-сайтом.


### `list_products_in_category_from_pagination`

**Описание**: Функция получает список ссылок на продукты в категории, обрабатывая пагинацию.

**Параметры**:

- `supplier` (объект): Объект, содержащий информацию о поставщике.

**Возвращает**:

- `list`: Список ссылок на продукты. Возвращает пустой список, если продуктов в категории нет.

**Вызывает исключения**:

- Любые исключения, возникающие при работе с драйвером браузера или взаимодействии с веб-сайтом.


### `get_list_products_in_category`

**Описание**: Функция получает список продуктов из определенной категории.

**Параметры**:

- `s` (объект): Объект поставщика.
- `scenario` (JSON): Параметры сценария.
- `presath` (PrestaShopWebServiceDict): Словарь с данными PrestaShop.

**Возвращает**:

- `list`: Список продуктов или `None`, если произошла ошибка.

**Вызывает исключения**:

- Возможны ошибки при взаимодействии с драйвером браузера или при работе с данными.


### `get_list_categories_from_site`

**Описание**: Функция для получения списка категорий с сайта `morlevi`.

**Параметры**:

- `s` (объект): Объект поставщика.
- `scenario_file` (строка): Путь к файлу сценария.
- `brand` (строка, опционально): Название бренда.

**Возвращает**:

- `...`: Результат выполнения функции. Документация не предоставляет подробностей.

**Вызывает исключения**:

- Возможные ошибки при работе с данными или файлами.


## Классы

### `Product`

**Описание**: Класс для хранения данных о продукте.


## Замечания

* Модуль использует сторонние библиотеки (requests, pandas, selenium, gs, etc.)
* Документация к внутренним функциям (`_login`, etc.) должна быть дополнена.
* Необходимо добавить пояснения к параметрам `s`, `scenario` и другим переменным, используемым в функциях,  для более полного понимания их назначения.
* Необходимо улучшить обработку ошибок и логирование.
* Необходимо описать структуру данных `PrestaShopWebServiceDict`.
* Необходимо добавить описание возможных возвращаемых значений для функций `grab_product_page`, `list_products_in_category_from_pagination`, `get_list_products_in_category` и  `get_list_categories_from_site`.
* Необходимо доработать документацию функций `set_...` внутри `grab_product_page`, чтобы понять, что они делают.