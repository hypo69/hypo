# Модуль для скачивания файлов
=================================================

Модуль содержит функции для скачивания файлов по URL-адресу и сохранения их на диск.

## Обзор

Этот модуль предоставляет функцию `download_file`, которая позволяет загружать файлы из интернета по указанному URL-адресу и сохранять их в указанном месте на диске. Это полезно для автоматизации загрузки файлов, например, для сбора данных или обновления программного обеспечения.

## Подробнее

Модуль использует библиотеку `requests` для выполнения HTTP-запросов. Функция `download_file` отправляет GET-запрос по указанному URL и сохраняет содержимое ответа в файл, разбивая его на части для экономии памяти.

## Функции

### `download_file`

```python
def download_file(url: str, destination: str):
    """
    Функция для скачивания файла по указанному URL и сохранения его на диск.

    Args:
        url (str): URL файла для скачивания.
        destination (str): Путь к файлу, под которым он будет сохранен на диске.

    Raises:
        Exception: Если код ответа не 200, выводится сообщение об ошибке.

    Example:
        >>> file_url = 'https://example.com/path/to/file.txt'
        >>> save_as = 'downloaded_file.txt'
        >>> download_file(file_url, save_as)
        Файл успешно загружен!
    """
```

**Назначение**: Скачивает файл по указанному URL и сохраняет его на диск.

**Параметры**:
- `url` (str): URL файла для скачивания.
- `destination` (str): Путь к файлу, под которым он будет сохранен на диске.

**Как работает функция**:
1. Отправляет GET-запрос на сервер с указанным URL и флагом `stream=True` для постепенной загрузки файла.
2. Проверяет, успешен ли запрос (код ответа 200 означает успех).
3. Открывает файл для записи в бинарном режиме (`wb`).
4. Скачивает файл по частям (по 1024 байта), чтобы избежать проблем с памятью при больших файлах.
5. Записывает каждую часть в файл.
6. Сообщает об успешной загрузке или ошибке.

```ascii
Начало
  ↓
Запрос_файла
  ↓
Проверка_статуса (status_code == 200?)
  ├── Да → Открытие_файла_для_записи
  │       ↓
  │       Чтение_файла_по_частям
  │       ↓
  │       Запись_в_файл
  │       ↓
  │       Сообщение_об_успешной_загрузке
  └── Нет → Сообщение_об_ошибке
  ↓
Конец
```

**Примеры**:

```python
file_url = 'https://example.com/path/to/file.txt'
save_as = 'downloaded_file.txt'
download_file(file_url, save_as)