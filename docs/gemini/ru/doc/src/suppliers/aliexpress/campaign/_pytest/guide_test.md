# Руководство для Тестера

## Обзор

Этот документ предназначен для тестеров, которые будут проверять модуль, отвечающий за подготовку материалов для рекламных кампаний на платформе AliExpress. Он описывает основные файлы модуля, их функции и инструкции по тестированию.

## Подробнее

Руководство предоставляет информацию о трех основных файлах модуля: `edit_campaign.py`, `prepare_campaigns.py` и `test_campaign_integration.py`.  В руководстве описываются основные функции каждого файла, а также приводятся инструкции по установке зависимостей, запуску тестов и проверке функциональности модуля.

## Содержание

- [Основные файлы](#основные-файлы)
    - [edit_campaign.py](#edit_campaignpy)
    - [prepare_campaigns.py](#prepare_campaignspy)
    - [test_campaign_integration.py](#test_campaign_integrationpy)
- [Инструкции по тестированию](#инструкции-по-тестированию)
- [Проверка функциональности](#проверка-функциональности)
- [Заключение](#заключение)

## Основные файлы

### `edit_campaign.py`

**Описание**: Этот файл содержит класс `AliCampaignEditor`, который наследует от `AliPromoCampaign`. Основная задача этого класса - управление рекламной кампанией.

### `prepare_campaigns.py`

**Описание**: Этот файл содержит функции для подготовки материалов кампании, включая обновление категорий и обработку кампаний по категориям.

### `test_campaign_integration.py`

**Описание**: Этот файл содержит тесты, проверяющие взаимодействие всех компонентов модуля.

## Инструкции по тестированию

1. **Установка зависимостей**:

    - Убедитесь, что все необходимые зависимости установлены. Выполните команду:

      ```sh
      pip install -r requirements.txt
      ```

2. **Запуск тестов**:

    - Для запуска всех тестов используйте команду:

      ```sh
      pytest test_campaign_integration.py
      ```

3. **Проверка тестов**:

    - Убедитесь, что все тесты проходят успешно. В выводе команды `pytest` должно быть указано, что все тесты пройдены (`PASSED`).

## Проверка функциональности

1. **Проверка успешного обновления категории**:

    - Тест `test_update_category_success` проверяет, что категория успешно обновляется в JSON файле.
    - Убедитесь, что функция `update_category` правильно обновляет данные категории и логгирует успешное выполнение.

2. **Проверка обработки ошибки при обновлении категории**:

    - Тест `test_update_category_failure` проверяет обработку ошибки при обновлении категории.
    - Убедитесь, что при возникновении ошибки функция логгирует сообщение об ошибке и возвращает `False`.

3. **Проверка успешной обработки категории**:

    - Тест `test_process_campaign_category_success` проверяет успешную обработку категории в кампании.
    - Убедитесь, что функция `process_campaign_category` корректно обрабатывает категорию и возвращает результат без ошибок.

4. **Проверка обработки ошибки при обработке категории**:

    - Тест `test_process_campaign_category_failure` проверяет обработку ошибки при обработке категории.
    - Убедитесь, что при возникновении ошибки функция логгирует сообщение об ошибке и возвращает `None`.

5. **Проверка обработки всех категорий в кампании**:

    - Тест `test_process_campaign` проверяет обработку всех категорий в кампании.
    - Убедитесь, что функция `process_campaign` корректно обрабатывает все категории и возвращает результаты обработки каждой категории.

6. **Проверка основного сценария выполнения кампании**:

    - Тест `test_main` проверяет основной сценарий выполнения кампании.
    - Убедитесь, что функция `main` корректно выполняет все этапы обработки кампании асинхронно и без ошибок.

## Заключение

Убедитесь, что все тесты пройдены и функциональность модуля работает корректно. В случае возникновения проблем или ошибок, сообщите разработчикам для исправления.