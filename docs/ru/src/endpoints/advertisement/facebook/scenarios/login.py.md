# Модуль `login`

## Обзор

Модуль `login` содержит сценарий для авторизации в Facebook. Он использует драйвер веб-браузера для автоматического заполнения полей логина и пароля, а также для нажатия кнопки входа.

## Подробнее

Модуль предназначен для автоматизации процесса входа в Facebook. Он использует заранее определенные локаторы элементов веб-страницы для поиска полей ввода и кнопки входа. Учетные данные для входа (логин и пароль) берутся из глобального хранилища настроек `gs.facebook_credentials`.

## Функции

### `login`

```python
def login(d: Driver) -> bool:
    """ Выполняет вход на Facebook.

    Функция использует переданный `Driver` для выполнения авторизации на Facebook, заполняя
    логин и пароль, а затем нажимает кнопку входа.

    Args:
        d (Driver): Экземпляр драйвера для взаимодействия с веб-элементами.

    Returns:
        bool: `True`, если авторизация прошла успешно, иначе `False`.

    Raises:
        Exception: Если возникает ошибка при вводе логина, пароля или нажатии кнопки.
    """
    ...
```

**Как работает функция**:

1.  Функция извлекает учетные данные (имя пользователя и пароль) из `gs.facebook_credentials`.
2.  Пытается ввести имя пользователя в поле, определенное локатором `locators.email`, используя метод `d.send_key_to_webelement`.
3.  В случае ошибки при вводе имени пользователя, регистрирует ошибку с помощью `logger.error` и возвращает `False`.
4.  Ждет 1.3 секунды.
5.  Пытается ввести пароль в поле, определенное локатором `locators['password']`, используя метод `d.send_key_to_webelement`.
6.  В случае ошибки при вводе пароля, регистрирует ошибку с помощью `logger.error` и возвращает `False`.
7.  Ждет 0.5 секунды.
8.  Пытается нажать на кнопку входа, определенную локатором `locators['button']`, используя метод `d.execute_locator`.
9.  В случае ошибки при нажатии кнопки, регистрирует ошибку с помощью `logger.error` и возвращает `False`.
10. Если все шаги выполнены успешно, возвращает `True`.

**Параметры**:

*   `d` (Driver): Экземпляр драйвера, который будет использоваться для взаимодействия с веб-страницей Facebook.

**Возвращает**:

*   `bool`: `True`, если авторизация прошла успешно, иначе `False`.

**Вызывает исключения**:

*   `Exception`: Возникает, если происходит ошибка при вводе логина, пароля или нажатии кнопки.

**Пример**:

```python
from src.webdriver.driver import Driver
from src.webdriver.chrome import Chrome

# Создание инстанса драйвера (пример с Chrome)
driver = Driver(Chrome)

# Вызов функции login
success = login(driver)

if success:
    print("Авторизация прошла успешно")
else:
    print("Авторизация не удалась")