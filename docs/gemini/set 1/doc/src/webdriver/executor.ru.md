# Документация по `executor.py`

## Обзор

Модуль `executor.py` является частью пакета `src.webdriver` и предназначен для автоматизации взаимодействия с веб-элементами с использованием Selenium. Этот модуль предоставляет гибкий и универсальный фреймворк для поиска, взаимодействия и извлечения информации из веб-элементов на основе предоставленных конфигураций, известных как "локаторы".

## Оглавление

* [Обзор](#обзор)
* [Основные возможности](#основные-возможности)
* [Структура модуля](#структура-модуля)
    * [Классы](#классы)
        * [`ExecuteLocator`](#executelocator)
    * [Диаграммы потока](#диаграммы-потока)
        * [`execute_locator`](#execute-locator)
        * [`evaluate_locator`](#evaluate-locator)
        * [`get_attribute_by_locator`](#get-attribute-by-locator)
* [Использование](#использование)
    * [Пример](#пример)
* [Зависимости](#зависимости)
* [Обработка ошибок](#обработка-ошибок)
* [Вклад](#вклад)
* [Лицензия](#лицензия)


## Основные возможности

1. **Парсинг и обработка локаторов**: Преобразует словари с конфигурациями в объекты `SimpleNamespace`, что позволяет гибко манипулировать данными локаторов.
2. **Взаимодействие с веб-элементами**: Выполняет различные действия, такие как клики, отправка сообщений, выполнение событий и извлечение атрибутов из веб-элементов.
3. **Обработка ошибок**: Поддерживает продолжение выполнения в случае ошибки, что позволяет обрабатывать веб-страницы с нестабильными элементами или требующими особого подхода.
4. **Поддержка нескольких типов локаторов**: Обрабатывает как отдельные, так и множественные локаторы, позволяя идентифицировать и взаимодействовать с одним или несколькими веб-элементами одновременно.

## Структура модуля

### Классы

#### `ExecuteLocator`

Этот класс является ядром модуля, отвечающим за обработку взаимодействий с веб-элементами на основе предоставленных локаторов.

**Атрибуты:**

- `driver`: Экземпляр Selenium WebDriver.
- `actions`: Объект `ActionChains` для выполнения сложных действий.
- `by_mapping`: Словарь, сопоставляющий типы локаторов с методами `By` Selenium.
- `mode`: Режим выполнения (`debug`, `dev` и т.д.).

**Методы:**

- `__post_init__`: Инициализирует объект `ActionChains`, если предоставлен драйвер.
- `execute_locator(locator: dict | SimpleNamespace) -> Any | None`: Выполняет действия над веб-элементом на основе предоставленного локатора.
    - **Параметры**:
        - `locator` (`dict | SimpleNamespace`): Словарь или объект `SimpleNamespace` с конфигурацией локатора.
    - **Возвращает**:
        - `Any | None`: Результат выполнения, или `None` при ошибке.
- `evaluate_locator(locator: SimpleNamespace) -> dict | None`: Оценивает и обрабатывает атрибуты локатора.
    - **Параметры**:
        - `locator` (`SimpleNamespace`): Объект `SimpleNamespace` с локатором.
    - **Возвращает**:
        - `dict | None`: Словарь с результатами или `None` при ошибке.
- `get_attribute_by_locator(locator: SimpleNamespace, attribute_name: str) -> Any | None`: Извлекает атрибут из элемента или списка элементов, найденных по заданному локатору.
    - **Параметры**:
        - `locator` (`SimpleNamespace`): Объект `SimpleNamespace` с локатором.
        - `attribute_name` (str): Название атрибута для извлечения.
    - **Возвращает**:
        - `Any | None`: Значение атрибута или `None` при ошибке.
- `get_webelement_by_locator(locator: SimpleNamespace) -> WebElement | list[WebElement] | None`: Извлекает веб-элементы на основе предоставленного локатора.
    - **Параметры**:
        - `locator` (`SimpleNamespace`): Объект `SimpleNamespace` с локатором.
    - **Возвращает**:
        - `WebElement | list[WebElement] | None`: Найденный элемент или список элементов, или `None` при ошибке.

* `get_webelement_as_screenshot(locator: SimpleNamespace) -> bytes | None`: Делает скриншот найденного веб-элемента.
- `execute_event(locator: SimpleNamespace) -> bool`: Выполняет события, связанные с локатором.
- `send_message(locator: SimpleNamespace, message: str) -> bool`: Отправляет сообщение веб-элементу.


### Диаграммы потока

(Диаграммы потока Mermaid остаются такими же, но можно было бы улучшить их структуру и читаемость, вынеся отдельные блоки кода для обработки исключений и добавив более подробные описания.)


## Использование

(Пример кода остается прежним, но желательно добавить пояснения к использованию и приведению различных типов локаторов.)

## Зависимости

(Список зависимостей остается прежним, но желательно упомянуть версии библиотек для ясности.)


## Обработка ошибок

(Описание обработки ошибок остается прежним, но стоит добавить подробности о типе исключений и стратегии их обработки.)


## Вклад

(Информация о порядке внесения изменений остается прежней.)


## Лицензия

(Информация о лицензии остается прежней.)