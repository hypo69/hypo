# Модуль bully.py

## Обзор

Модуль `bully.py` предоставляет функцию `bully`, которая использует API OpenAI для генерации примеров запугивания из литературных источников. Функция принимает пользовательское сообщение и систему запросов, использует модель `gpt-3.5-turbo` для получения ответа, который должен быть в формате JSON с ключом `bully_response`.

## Переменные

### `MODE`

**Описание**: Переменная, хранящая значение режима работы. В данном случае, `'dev'`.


## Функции

### `bully`

**Описание**: Функция, генерирующая примеры запугивания с использованием API OpenAI.

**Параметры**:

- `user_message` (str): Пользовательское сообщение (по умолчанию `"Hello!"`).
- `messages` (list[dict], optional): Список сообщений для чат-бота. По умолчанию список, содержащий начальное системное сообщение.

**Возвращает**:

- `messages` (list[dict]): Список сообщений, включающий ответ модели OpenAI.

**Вызывает исключения**:

- `Exception`: Возникает при ошибке в процессе коммуникации с API OpenAI.
```
```python
def bully(user_message="Hello!", messages=[{"system": "user", "content": system_prompt}]):
	messages.append({"role": "user", "content": user_message})
	completion = openai.ChatCompletion.create(
		model="gpt-3.5-turbo",
		messages=messages
	)
	
	messages.append({"role": "user", "content": completion.choices[0].message})
	return messages
```
**Примечания**:  Функция `bully`  использует глобальную переменную `openai.API_KEY`, которая должна быть задана перед использованием функции.  В примере кода эта переменная прописана в виде `"YOUR_API_KEYS_OPENAI"`, что неверно, в реальном использовании необходимо заменить её на реальный API ключ.  В примере отсутствует обработка потенциальных исключений (ex).  Необходимо добавить обработку исключений `openai.error.APIError` и т.п. для устойчивости кода.