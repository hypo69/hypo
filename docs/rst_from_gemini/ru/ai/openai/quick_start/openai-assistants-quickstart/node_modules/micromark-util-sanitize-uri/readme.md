```markdown
# micromark-util-sanitize-uri

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][bundle-size-badge]][bundle-size]
[![Sponsors][sponsors-badge]][opencollective]
[![Backers][backers-badge]][opencollective]
[![Chat][chat-badge]][chat]

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ URL-–∞–¥—Ä–µ—Å–æ–≤ –≤ [micromark][].

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–∞ —É—Ç–∏–ª–∏—Ç–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è URL-–∞–¥—Ä–µ—Å–æ–≤.

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–≠—Ç–∞ —É—Ç–∏–ª–∏—Ç–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –¥–ª—è micromark.  –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ `href` –∏–ª–∏ `src`, –≥–¥–µ –Ω—É–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –≤–≤–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ ESM.
–í Node.js (–≤–µ—Ä—Å–∏—è 16 –∏ –≤—ã—à–µ):

```bash
npm install micromark-util-sanitize-uri
```

–í Deno —Å `esm.sh`:

```javascript
import {sanitizeUri} from 'https://esm.sh/micromark-util-sanitize-uri@1'
```

–í –±—Ä–∞—É–∑–µ—Ä–∞—Ö —Å `esm.sh`:

```html
<script type="module">
  import {sanitizeUri} from 'https://esm.sh/micromark-util-sanitize-uri@1?bundle'
</script>
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```javascript
import {sanitizeUri} from 'micromark-util-sanitize-uri'

sanitizeUri('https://example.com/a&amp;b') // 'https://example.com/a&amp;amp;b'
sanitizeUri('https://example.com/a%b') // 'https://example.com/a%25b'
sanitizeUri('https://example.com/a%20b') // 'https://example.com/a%20b'
sanitizeUri('https://example.com/üëç') // 'https://example.com/%F0%9F%91%8D'
sanitizeUri('https://example.com/', /^https?$/i) // 'https://example.com/'
sanitizeUri('javascript:alert(1)', /^https?$/i) // ''
sanitizeUri('./example.jpg', /^https?$/i) // './example.jpg'
sanitizeUri('#a', /^https?$/i) // '#a'
```

## API

–ú–æ–¥—É–ª—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `normalizeUri` –∏ `sanitizeUri`.  –ù–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### `normalizeUri(value)`

–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç URL.

–ö–æ–¥–∏—Ä—É–µ—Ç –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —Å –ø–æ–º–æ—â—å—é percent-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–ø—É—Å–∫–∞ –ø—Ä–∏ —ç—Ç–æ–º —É–∂–µ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

###### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

*   `value` (`string`)
    ‚Äî URL –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

###### –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç

–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π URL (`string`).

### `sanitizeUri(url[, pattern])`

–î–µ–ª–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ URL.

–ö–æ–¥–∏—Ä—É–µ—Ç –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —Å –ø–æ–º–æ—â—å—é percent-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–ø—É—Å–∫–∞ —É–∂–µ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Å–º. `normalizeUri`).  –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ —Å–∏–º–≤–æ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (—Å–º. `micromark-util-encode`).

–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ URL –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω. –ù–∞–ø—Ä–∏–º–µ—Ä, `/^(https?|ircs?|mailto|xmpp)$/i` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞ `a[href]`, –∏–ª–∏ `/^https?$/i` –¥–ª—è `img[src]` (—ç—Ç–æ —Ç–æ, —á—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –Ω–∞ `github.com`). –ï—Å–ª–∏ URL —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª (–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–¥–∞–Ω–Ω–æ–º—É `pattern`, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π `javascript:`), —Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.

###### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

*   `url` (`string`)
    ‚Äî URL –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
*   `pattern` (`RegExp`, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
    ‚Äî —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

###### –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç

–û—á–∏—â–µ–Ω–Ω—ã–π URL (`string`).

## –¢–∏–ø—ã

–ü–∞–∫–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é TypeScript. –ù–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤.

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ü–∞–∫–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Node.js.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ü–∞–∫–µ—Ç –±–µ–∑–æ–ø–∞—Å–µ–Ω. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ —Ç–æ–º, –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Å–º. –≤ —Ñ–∞–π–ª–µ [`security.md`][securitymd] –≤ –ø–∞–ø–∫–µ [`micromark/.github`][health].

## –í–∫–ª–∞–¥

–°–º. `contributing.md` –≤ –ø–∞–ø–∫–µ `micromark/.github` –¥–ª—è —Å–ø–æ—Å–æ–±–æ–≤ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É.  –í–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–º–æ—â—å —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ `support.md`.

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç [–∫–æ–¥–µ–∫—Å –ø–æ–≤–µ–¥–µ–Ω–∏—è][coc]. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—è —Å —ç—Ç–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –∏–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å–æ–±–ª—é–¥–∞—Ç—å –µ–≥–æ —É—Å–ª–æ–≤–∏—è.

## –õ–∏—Ü–µ–Ω–∑–∏—è

[MIT][license] ¬© [Titus Wormer][author]


<!-- Definitions -->
<!-- ... (–û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ —Å —Å—Å—ã–ª–∫–∞–º–∏) -->
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

* **–ë–æ–ª–µ–µ —è—Å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:**  –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ—è—Å–Ω–µ–Ω–∏—è –æ —Ç–æ–º, –∫–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é —É—Ç–∏–ª–∏—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏).
* **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ `pattern`:**  –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `pattern` –∏ —Ä–∞–∑—ä—è—Å–Ω–µ–Ω–∏–µ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.
* **–ò–∑–º–µ–Ω—ë–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**  –¢–µ–∫—Å—Ç —Å—Ç–∞–ª –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, —Å —á—ë—Ç–∫–∏–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏.
* **–£–ª—É—á—à–µ–Ω–Ω—ã–π —è–∑—ã–∫:**  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã—Ö –∏ –ø–æ–Ω—è—Ç–Ω—ã—Ö —Ñ—Ä–∞–∑.
* **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞:**  –°–æ—Ö—Ä–∞–Ω—ë–Ω –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏.


–≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–π –∏ –ø–æ–ª–µ–∑–Ω–æ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.  –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ —è —Å–æ—Ö—Ä–∞–Ω–∏–ª –≤—Å–µ –∏—Å—Ö–æ–¥–Ω—ã–µ —Å—Å—ã–ª–∫–∏, —á—Ç–æ–±—ã —á–∏—Ç–∞—Ç–µ–ª—å –º–æ–≥ –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∏—Ö –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –∫–æ–¥–µ.