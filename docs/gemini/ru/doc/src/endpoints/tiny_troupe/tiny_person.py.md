# Модуль `tiny_person.py`

## Обзор

Модуль `tiny_person.py` демонстрирует пример использования класса `TinyPerson` для создания и взаимодействия с агентом, моделирующим личность. В этом примере создается экземпляр `TinyPerson` с именем "John", определяются его характеристики, такие как возраст, профессия, национальность и навыки, а затем происходит взаимодействие с агентом через прослушивание сообщения и выполнение действия. Результаты взаимодействия выводятся на экран.

## Подробней

Данный код служит отправной точкой для понимания основных возможностей библиотеки `tinytroupe` и создания собственных агентов с уникальными характеристиками и поведением. Модуль демонстрирует, как можно определить атрибуты агента, взаимодействовать с ним и просматривать историю взаимодействия.

## Классы

### `TinyPerson`

**Описание**: Класс `TinyPerson` представляет собой базовый класс для создания агентов, моделирующих личность. Он позволяет определять характеристики агента, взаимодействовать с ним и хранить историю взаимодействий.

**Принцип работы**:
Класс `TinyPerson` инициализируется с именем агента. Далее, с помощью метода `define`, можно добавлять различные атрибуты агенту, такие как возраст, профессия, национальность и навыки. Метод `listen` позволяет агенту "прослушать" сообщение и сохранить его в истории взаимодействий. Метод `act` запускает процесс выполнения действия агентом, который может зависеть от его характеристик и истории взаимодействий. Метод `pp_current_interactions` выводит на экран текущую историю взаимодействий агента.

## Функции

### `load_dotenv`

```python
def load_dotenv() -> None:
    """
    Загружает переменные окружения из файла `.env`.
    
    Args:
        Нет.

    Returns:
        None: Функция ничего не возвращает.

    Raises:
        Нет.

    Example:
        >>> load_dotenv()
    """
```

**Назначение**: Функция `load_dotenv` загружает переменные окружения из файла `.env` в текущее окружение.

**Как работает функция**:
1. Функция `load_dotenv` вызывается без аргументов.
2. Она ищет файл `.env` в текущей директории.
3. Если файл найден, функция считывает переменные окружения из файла и устанавливает их в текущем окружении.
4. Если файл не найден, функция ничего не делает.

```
load_dotenv
```

**Примеры**:

```python
load_dotenv()
```

### `os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")`

**Назначение**: Установка значения для ключа API OpenAI из переменной окружения.

**Как работает**:
1.  `os.getenv("OPENAI_API_KEY")`: Извлекает значение переменной окружения "OPENAI_API_KEY". Если переменная не установлена, возвращает `None`.
2.  `os.environ["OPENAI_API_KEY"] = ...`: Устанавливает значение переменной окружения "OPENAI_API_KEY" равным значению, полученному из `os.getenv()`.  Если переменная окружения не установлена, в `os.environ` будет записано `None`.

```
Получение значения OpenAI API Key из переменной окружения -> Установка значения OpenAI API Key в os.environ
```

**Пример**:

Предположим, что в вашей системе установлена переменная окружения `OPENAI_API_KEY` со значением "your_api_key".

```python
import os
from dotenv import load_dotenv

load_dotenv()
os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")
print(os.environ["OPENAI_API_KEY"])  # Выведет: your_api_key
```

### `TinyPerson(name="John")`

```python
def __init__(name: str) -> None:
    """
    Инициализирует новый экземпляр класса `TinyPerson`.

    Args:
        name (str): Имя агента.

    Returns:
        None

    Example:
        >>> john = TinyPerson(name="John")
    """
```

**Назначение**: Создание экземпляра класса `TinyPerson` с именем "John".

**Как работает**:
1. Создается экземпляр класса `TinyPerson` с именем "John".
2. Атрибуту `name` экземпляра присваивается значение "John".
3. Другие атрибуты экземпляра инициализируются значениями по умолчанию.

```
Создание объекта TinyPerson (John)
```

**Примеры**:

```python
from tinytroupe.agent import TinyPerson

john = TinyPerson(name="John")
print(john.name) # Выведет: John
```

### `john.define("age", 35)`

```python
def define(property_name: str, property_value: Any) -> None:
    """
    Определяет свойство для агента.

    Args:
        property_name (str): Имя свойства.
        property_value (Any): Значение свойства.

    Returns:
        None

    Example:
        >>> john.define("age", 35)
    """
```

**Назначение**: Определение свойства "age" со значением 35 для агента `john`.

**Как работает**:
1. Вызывается метод `define` экземпляра `john` с именем свойства "age" и значением 35.
2. Свойство "age" и его значение 35 добавляются в словарь атрибутов агента.

```
Вызов метода define с параметрами "age" и 35 ->  Сохранение свойства "age" и его значения 35 в атрибутах агента
```

**Примеры**:

```python
from tinytroupe.agent import TinyPerson

john = TinyPerson(name="John")
john.define("age", 35)
print(john.age) # Выведет: 35
```

### `john.listen("Hello, John! How are you today?")`

```python
def listen(message: str) -> None:
    """
    Записывает сообщение в историю взаимодействий агента.

    Args:
        message (str): Сообщение для записи.

    Returns:
        None

    Example:
        >>> john.listen("Hello, John! How are you today?")
    """
```

**Назначение**: Запись сообщения "Hello, John! How are you today?" в историю взаимодействий агента `john`.

**Как работает**:
1. Вызывается метод `listen` экземпляра `john` с сообщением "Hello, John! How are you today?".
2. Сообщение добавляется в список истории взаимодействий агента.

```
Вызов метода listen с сообщением ->  Добавление сообщения в историю взаимодействий агента
```

**Примеры**:

```python
from tinytroupe.agent import TinyPerson

john = TinyPerson(name="John")
john.listen("Hello, John! How are you today?")
print(john.interactions) # Выведет: ['Hello, John! How are you today?']
```

### `john.act()`

```python
 def act() -> None:
        """
        Определяет действие, которое должен выполнить агент.
        
        Args:
            Нет.

        Returns:
            None
        """
```

**Назначение**: Определение действия, которое должен выполнить агент `john`.

**Как работает**:
1. Вызывается метод `act` экземпляра `john`.
2. Метод `act` определяет действие, которое должен выполнить агент, на основе его характеристик и истории взаимодействий. В данном примере, конкретное действие не определено, но метод может быть расширен для выполнения различных действий, таких как отправка сообщения, выполнение задачи или изменение состояния агента.

```
Вызов метода act -> Определение действия агента на основе его характеристик и истории взаимодействий
```

**Примеры**:

```python
from tinytroupe.agent import TinyPerson

john = TinyPerson(name="John")
john.listen("Hello, John! How are you today?")
john.act() # Действие агента может быть различным в зависимости от реализации метода act
```

### `john.pp_current_interactions()`

```python
 def pp_current_interactions() -> None:
        """
        Выводит на экран текущую историю взаимодействий агента.
        
        Args:
            Нет.

        Returns:
            None
        """
```

**Назначение**: Вывод на экран текущей истории взаимодействий агента `john`.

**Как работает**:
1. Вызывается метод `pp_current_interactions` экземпляра `john`.
2. Метод `pp_current_interactions` выводит на экран содержимое списка истории взаимодействий агента.

```
Вызов метода pp_current_interactions -> Вывод на экран истории взаимодействий агента
```

**Примеры**:

```python
from tinytroupe.agent import TinyPerson

john = TinyPerson(name="John")
john.listen("Hello, John! How are you today?")
john.pp_current_interactions() # Выведет: Hello, John! How are you today?