```markdown
# Модуль `hypotez/src/utils/file.py`

Модуль `file.py` предоставляет функции для работы с файлами, включая чтение, запись и поиск файлов.  Он хорошо структурирован и содержит исчерпывающую документацию.

## Функции:

**1. `save_text_file(data, file_path, mode="w", exc_info=True)`**

Сохраняет данные в текстовый файл.  Поддерживает различные типы данных `data` (строка, список строк, словарь).  Реализована обработка исключений с логированием. Важно: функция создает родительские директории, если они не существуют.

* **Аргументы:**
    * `data`: Данные для записи (строка, список строк или словарь).
    * `file_path`: Путь к файлу, куда будут записаны данные.
    * `mode`: Режим записи (`w` — запись, `a` — добавление).
    * `exc_info`: Флаг для включения информации об ошибке в лог.
* **Возвращаемое значение:**
    * `bool`: `True`, если файл сохранен успешно, `False` в противном случае.

**2. `read_text_file(file_path, as_list=False, extensions=None, exc_info=True)`**

Читает содержимое файла или каталога. Поддерживает чтение как по строкам, так и всего содержимого файла.  При работе с каталогом может фильтровать файлы по расширениям. Обрабатывает исключения и логирует ошибки.

* **Аргументы:**
    * `file_path`: Путь к файлу или каталогу.
    * `as_list`: Флаг, возвращать ли содержимое файла как список строк.
    * `extensions`: Список расширений файлов, которые нужно включить при чтении каталога.
    * `exc_info`: Флаг для включения информации об ошибке в лог.
* **Возвращаемое значение:**
    * `str | list[str] | None`: Содержимое файла (строка или список строк) или `None` при ошибке.

**3. `get_filenames(directory, extensions="*", exc_info=True)`**

Возвращает список имён файлов в заданном каталоге, опционально отфильтрованных по расширениям.


* **Аргументы:**
    * `directory`: Путь к каталогу.
    * `extensions`: Расширения для фильтрации. Может быть строкой или списком. Звёздочка "*" означает все расширения.
    * `exc_info`: Флаг для включения информации об ошибке в лог.
* **Возвращаемое значение:**
    * `list[str]`: Список имён файлов.


**4. `recursively_yield_file_path(root_dir, patterns="*", exc_info=True)`**

Рекурсивно генерирует пути к файлам, соответствующим заданным шаблонам.

* **Аргументы:**
    * `root_dir`: Корневой каталог для поиска.
    * `patterns`: Шаблоны для поиска файлов. Может быть строкой или списком.
    * `exc_info`: Флаг для включения информации об ошибке в лог.
* **Возвращаемое значение:**
    * `Generator[Path, None, None]`: Генератор путей к файлам.


**5. `recursively_get_filenames(root_dir, patterns="*", exc_info=True)`**

Рекурсивно получает пути к файлам, соответствующим заданным шаблонам.

* **Аргументы:**
    * `root_dir`: Корневой каталог для поиска.
    * `patterns`: Шаблоны для поиска файлов. Может быть строкой или списком.
    * `exc_info`: Флаг для включения информации об ошибке в лог.
* **Возвращаемое значение:**
    * `list[Path]`: Список путей к файлам.


**6. `recursively_read_text_files(root_dir, patterns, as_list=False, exc_info=True)`**

Рекурсивно считывает содержимое текстовых файлов из заданного каталога.

* **Аргументы:**
    * `root_dir`: Путь к корневому каталогу.
    * `patterns`: Список шаблонов для поиска файлов.
    * `as_list`: Если `True`, то содержимое будет возвращено как список строк.
    * `exc_info`: Флаг для включения информации об ошибке в лог.
* **Возвращаемое значение:**
    * `list[str]`: Список содержимого файлов (или строк).

**7. `get_directory_names(directory, exc_info=True)`**


Получает имена подкаталогов в заданном каталоге.


**8. `read_files_content(root_dir, patterns, as_list=False, exc_info=True)`**

Читает содержимое файлов, соответствующих шаблонам, из заданного корневого каталога.

* **Аргументы:**
    * `root_dir`: Корневой каталог.
    * `patterns`: Шаблоны для поиска файлов.
    * `as_list`: Возвращать ли содержимое в виде списка строк.
* **Возвращаемое значение:**
    * `list[str]`: Содержимое файлов.

**9. `remove_bom(file_path)`**

Удаляет BOM (Byte Order Mark) из текстового файла.


**10. `traverse_and_clean(directory)`**

Обходит каталоги и удаляет BOM из файлов с расширением `.py`.


**11. `main()`**

Точка входа для удаления BOM из файлов `.py` в указанной директории.



## Общие замечания:

* **Обработка исключений:** Функции содержат обработку исключений и логируют ошибки, что очень важно для устойчивости программы.
* **Типизация:**  Используется типизация, что делает код более читаемым и понятным.
* **Логирование:** Функции используют `logger` из модуля `src.logger` для логирования информации.
* **Файловые операции:** Функции используют `Pathlib` для работы с путями, что делает код более безопасным и кроссплатформенным.
* **Рекурсивность:** Функции `recursively_*` обеспечивают рекурсивный поиск файлов и каталогов.

Этот модуль предоставляет полезный набор инструментов для работы с файлами и каталогами в Python.
```