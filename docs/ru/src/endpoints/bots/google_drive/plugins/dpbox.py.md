# Модуль dpbox.py

## Обзор

Модуль `dpbox.py` предназначен для преобразования ссылок Dropbox в прямые ссылки для скачивания. Он содержит функцию `DPBOX`, которая принимает URL Dropbox и возвращает измененный URL, обеспечивающий непосредственную загрузку файла.

## Подробней

Этот модуль важен для случаев, когда необходимо автоматизировать загрузку файлов из Dropbox, избегая необходимости переходить на страницу Dropbox и нажимать кнопку загрузки вручную. Функция `DPBOX` анализирует входной URL и преобразует его в прямой URL для скачивания, добавляя или изменяя параметр `dl=1`.

## Функции

### `DPBOX`

```python
def DPBOX(url: str) -> str:
    """Преобразует URL Dropbox в прямую ссылку для скачивания.

    Args:
        url (str): URL Dropbox, который требуется преобразовать.

    Returns:
        str: Прямая ссылка для скачивания файла из Dropbox.

    Raises:
        None

    Example:
        >>> DPBOX("https://www.dropbox.com/s/example?dl=0")
        'https://dl.dropbox.com/s/example?dl=1'
    """
```

**Как работает функция**:

Функция `DPBOX` принимает URL Dropbox в качестве аргумента и выполняет следующие преобразования для получения прямой ссылки на скачивание:

1.  **Проверка домена**:
    *   Проверяет, содержит ли URL домен `dl.dropbox.com` или `www.dropbox.com`.

2.  **Обработка `dl` параметра**:

    *   Если URL содержит `?dl=0` или `?dl=1`:
        *   Если присутствует `?dl=0`, заменяет его на `?dl=1`.
        *   В противном случае оставляет URL без изменений.
    *   Если параметр `dl` отсутствует, добавляет `?dl=1` к URL.

3.  **Преобразование домена**:

    *   Если URL содержит `www.dropbox.com`, заменяет его на `dl.dropbox.com`.

4.  **Возврат результата**:

    *   Возвращает преобразованный URL, который обеспечивает прямую загрузку файла.

**Параметры**:

*   `url` (str): URL Dropbox, который требуется преобразовать.

**Возвращает**:

*   `str`: Прямая ссылка для скачивания файла из Dropbox.

**Примеры**:

```python
DPBOX("https://www.dropbox.com/s/example?dl=0") # возвращает 'https://dl.dropbox.com/s/example?dl=1'
DPBOX("https://dl.dropbox.com/s/example") # возвращает 'https://dl.dropbox.com/s/example?dl=1'
DPBOX("https://www.dropbox.com/s/example") # возвращает 'https://dl.dropbox.com/s/example?dl=1'