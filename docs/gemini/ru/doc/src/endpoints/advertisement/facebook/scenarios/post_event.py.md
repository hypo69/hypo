# Модуль `post_event.py`

## Обзор

Модуль предназначен для автоматизации процесса публикации календарных событий в группах Facebook с использованием Selenium WebDriver. Он включает функции для отправки заголовка события, даты, времени и описания.

## Подробней

Модуль содержит функции, автоматизирующие публикацию событий в Facebook, такие как ввод заголовка, даты, времени и описания события. Он использует локаторы, загруженные из JSON-файла, для взаимодействия с элементами веб-страницы.

## Классы

В данном модуле классы отсутствуют.

## Функции

### `post_title`

```python
def post_title(d: Driver, title: str) -> bool:
    """
    Отправляет заголовок события.

    Args:
        d (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
        title (str): Заголовок события.

    Returns:
        bool: `True`, если заголовок успешно отправлен, иначе `None`.

    Examples:
        >>> driver = Driver(...)
        >>> event = SimpleNamespace(title="Campaign Title", description="Event Description")
        >>> post_title(driver, event)
        True
    """
```

**Назначение**: Отправляет заголовок события на веб-страницу Facebook с использованием предоставленного драйвера.

**Параметры**:
- `d` (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
- `title` (str): Заголовок события, который нужно отправить.

**Возвращает**:
- `bool`: `True`, если заголовок успешно отправлен, иначе `None`.

**Как работает функция**:

1.  Функция пытается отправить заголовок события, используя локатор `locator.event_title` и метод `execute_locator` драйвера.
2.  Если отправка не удалась, регистрируется ошибка с помощью `logger.error`.
3.  Функция возвращает `True` в случае успеха и `None` в случае неудачи.

**ASCII flowchart**:

```
A[Начало] --> B{Отправка заголовка события}
B -- Успех --> C[Возврат True]
B -- Ошибка --> D{Логирование ошибки} --> E[Возврат None]
```

**Примеры**:

```python
driver = Driver(...)
title = "Заголовок события"
result = post_title(driver, title)
print(result)  # Вывод: True или None
```

### `post_date`

```python
def post_date(d: Driver, date: str) -> bool:
    """
    Отправляет дату события.

    Args:
        d (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
        date (str): Дата события.

    Returns:
        bool: `True`, если дата успешно отправлена, иначе `None`.

    Examples:
        >>> driver = Driver(...)
        >>> event = SimpleNamespace(title="Campaign Title", description="Event Description")
        >>> post_title(driver, event)
        True
    """
```

**Назначение**: Отправляет дату события на веб-страницу Facebook с использованием предоставленного драйвера.

**Параметры**:
- `d` (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
- `date` (str): Дата события, которую нужно отправить.

**Возвращает**:
- `bool`: `True`, если дата успешно отправлена, иначе `None`.

**Как работает функция**:

1.  Функция пытается отправить дату события, используя локатор `locator.start_date` и метод `execute_locator` драйвера.
2.  Если отправка не удалась, регистрируется ошибка с помощью `logger.error`.
3.  Функция возвращает `True` в случае успеха и `None` в случае неудачи.

**ASCII flowchart**:

```
A[Начало] --> B{Отправка даты события}
B -- Успех --> C[Возврат True]
B -- Ошибка --> D{Логирование ошибки} --> E[Возврат None]
```

**Примеры**:

```python
driver = Driver(...)
date = "2024-01-01"
result = post_date(driver, date)
print(result)  # Вывод: True или None
```

### `post_time`

```python
def post_time(d: Driver, time: str) -> bool:
    """
    Отправляет время события.

    Args:
        d (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
        time (str): Время события.

    Returns:
        bool: `True`, если время успешно отправлено, иначе `None`.

    Examples:
        >>> driver = Driver(...)
        >>> event = SimpleNamespace(title="Campaign Title", description="Event Description")
        >>> post_title(driver, event)
        True
    """
```

**Назначение**: Отправляет время события на веб-страницу Facebook с использованием предоставленного драйвера.

**Параметры**:
- `d` (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
- `time` (str): Время события, которое нужно отправить.

**Возвращает**:
- `bool`: `True`, если время успешно отправлено, иначе `None`.

**Как работает функция**:

1.  Функция пытается отправить время события, используя локатор `locator.start_time` и метод `execute_locator` драйвера.
2.  Если отправка не удалась, регистрируется ошибка с помощью `logger.error`.
3.  Функция возвращает `True` в случае успеха и `None` в случае неудачи.

**ASCII flowchart**:

```
A[Начало] --> B{Отправка времени события}
B -- Успех --> C[Возврат True]
B -- Ошибка --> D{Логирование ошибки} --> E[Возврат None]
```

**Примеры**:

```python
driver = Driver(...)
time = "10:00"
result = post_time(driver, time)
print(result)  # Вывод: True или None
```

### `post_description`

```python
def post_description(d: Driver, description: str) -> bool:
    """
    Отправляет описание события.

    Args:
        d (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
        description (str): Описание события.

    Returns:
        bool: `True`, если описание успешно отправлено, иначе `None`.

    Examples:
        >>> driver = Driver(...)
        >>> event = SimpleNamespace(title="Campaign Title", description="Event Description")
        >>> post_title(driver, event)
        True
    """
```

**Назначение**: Отправляет описание события на веб-страницу Facebook с использованием предоставленного драйвера.

**Параметры**:
- `d` (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
- `description` (str): Описание события, которое нужно отправить.

**Возвращает**:
- `bool`: `True`, если описание успешно отправлено, иначе `None`.

**Как работает функция**:

1.  Функция прокручивает страницу вниз на 300 пикселей.
2.  Затем пытается отправить описание события, используя локатор `locator.event_description` и метод `execute_locator` драйвера.
3.  Если отправка не удалась, регистрируется ошибка с помощью `logger.error`.
4.  Функция возвращает `True` в случае успеха и `None` в случае неудачи.

**ASCII flowchart**:

```
A[Начало] --> B{Прокрутка страницы вниз} --> C{Отправка описания события}
C -- Успех --> D[Возврат True]
C -- Ошибка --> E{Логирование ошибки} --> F[Возврат None]
```

**Примеры**:

```python
driver = Driver(...)
description = "Описание события"
result = post_description(driver, description)
print(result)  # Вывод: True или None
```

### `post_event`

```python
def post_event(d: Driver, event: SimpleNamespace) -> bool:
    """
    Управляет процессом публикации события, включая заголовок, дату, время, описание и отправку.

    Args:
        d (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
        event (SimpleNamespace): Объект, содержащий данные события (заголовок, дату, время, описание, ссылку).

    Returns:
        bool: `True`, если все этапы публикации прошли успешно, иначе `None`.

    Examples:
        >>> driver = Driver(...)
        >>> event = SimpleNamespace(title="Campaign Title", description="Campaign Description", start="2024-01-01 10:00", promotional_link="https://example.com")
        >>> post_event(driver, event)
    """
```

**Назначение**: Управляет процессом публикации события в Facebook, координируя отправку заголовка, даты, времени и описания.

**Параметры**:
- `d` (Driver): Инстанс драйвера, используемый для взаимодействия с веб-страницей.
- `event` (SimpleNamespace): Объект, содержащий данные события (заголовок, дату, время, описание, ссылку).

**Возвращает**:
- `bool`: `True`, если все этапы публикации прошли успешно, иначе `None`.

**Как работает функция**:

1.  Отправляет заголовок события, вызывая функцию `post_title`.
2.  Разделяет дату и время из атрибута `start` объекта `event`.
3.  Отправляет дату события, вызывая функцию `post_date`.
4.  Отправляет время события, вызывая функцию `post_time`.
5.  Отправляет описание события и рекламную ссылку, вызывая функцию `post_description`.
6.  Кликает на кнопку отправки события, используя локатор `locator.event_send`.
7.  Ждет 30 секунд.
8.  Возвращает `True` в случае успеха и `None` в случае неудачи.

**ASCII flowchart**:

```
A[Начало] --> B{Отправка заголовка}
B --> C{Разделение даты и времени}
C --> D{Отправка даты}
D --> E{Отправка времени}
E --> F{Отправка описания и ссылки}
F --> G{Клик на кнопку отправки}
G --> H{Ожидание 30 секунд}
H --> I[Возврат True]
```

**Примеры**:

```python
driver = Driver(...)
event = SimpleNamespace(title="Заголовок", description="Описание", start="2024-01-01 10:00", promotional_link="https://example.com")
result = post_event(driver, event)
print(result)  # Вывод: True или None