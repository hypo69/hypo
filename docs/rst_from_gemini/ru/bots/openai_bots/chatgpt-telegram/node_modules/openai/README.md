```markdown
# OpenAI Node.js Library

This README describes the OpenAI Node.js library, providing convenient access to the OpenAI API.

**Important:** This library is intended for server-side use only.  Using it in client-side browser code exposes your API key, which is a security risk.

## Installation

```bash
npm install openai
```

## Usage

The library requires your OpenAI API key.  Store it securely as an environment variable:

```bash
export OPENAI_API_KEY="YOUR_API_KEY"
```

Then, initialize the library and make API calls.

```javascript
const { Configuration, OpenAIApi } = require("openai");

const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);

async function runExample() {
  try {
    const completion = await openai.createCompletion({
      model: "text-davinci-003",
      prompt: "Write a short story about a talking dog.",
    });

    console.log(completion.data.choices[0].text);
  } catch (error) {
    // Crucial error handling!
    console.error("Error:", error);
    if (error.response) {
      console.error("Response Status:", error.response.status);
      console.error("Response Data:", error.response.data);
    } else {
      console.error("Error Message:", error.message);
    }
  }
}

runExample();
```

This example uses the `createCompletion` method.  Explore the full API documentation for all available methods: [https://beta.openai.com/docs/api-reference/node](https://beta.openai.com/docs/api-reference/node).


## Request Options

Customize API requests with axios-style options:

```javascript
const completion = await openai.createCompletion(
  {
    model: "text-davinci-003",
    prompt: "Write a poem.",
  },
  {
    timeout: 5000, // Example timeout (5 seconds)
    headers: {
      "User-Agent": "My Custom Agent",
    },
  }
);
```

**Crucial**:  Always include robust error handling!


## Error Handling

```javascript
try {
  // ... your API call ...
} catch (error) {
  console.error("Error:", error); // Log the error object
  if (error.response) {
    console.error("Status:", error.response.status);
    console.error("Data:", error.response.data);
  } else if (error.request) {
    console.error("Request:", error.request); // Useful for network issues
  } else {
    console.error("Error:", error.message); // Catch other errors
  }
}
```


## Streaming Completions

Streaming completions are not directly supported but workarounds exist.  Refer to the linked issue for details: [https://github.com/openai/openai-node/issues/18](https://github.com/openai/openai-node/issues/18)

## Upgrade Guide (3.0.0)

The `createCompletion` function signature changed.  Use the `model` parameter instead of `engineId` in your call parameters:

```javascript
// OLD (pre 3.0.0):
// openai.createCompletion("text-davinci-003", { ... });

// NEW (3.0.0 and later):
openai.createCompletion({ model: "text-davinci-003", ... });
```


## Important Considerations

- **Security:**  Never hardcode your API key directly in your code.  Use environment variables.
- **Error Handling:**  Implement comprehensive error handling to gracefully manage API call failures.
- **Rate Limits:**  Be mindful of OpenAI's API rate limits.


## Thanks

Thanks to the original maintainers of the unofficial `openai` package ([ceifa](https://github.com/ceifa)) and the gpt-x package.
```