Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код содержит тест `test_scenario_1`, который проверяет начальную инициализацию и выполнение симуляции TinyTroupe.  Он создает симуляцию, инициализирует агента "Oscar the architect" и выполняет ряд действий с ним, включая определение атрибутов, прослушивание запросов и выполнение действий.  Код также проверяет состояние симуляции на каждом шаге, гарантируя, что симуляция запущена и что данные о трассировке создаются.

Шаги выполнения
-------------------------
1. **Инициализация:**  Функция `test_scenario_1()` сбрасывает текущую симуляцию (`control.reset()`).
2. **Проверка отсутствия симуляции:** Проверяет, что текущая симуляция равна `None` (`assert control._current_simulations["default"] is None`).
3. **Запуск симуляции:** Запускает симуляцию (`control.begin()`).
4. **Проверка статуса симуляции:**  Проверяет, что статус симуляции установлен как `Simulation.STATUS_STARTED`.
5. **Создание агента:** Создаёт агента `Oscar the architect` с помощью функции `create_oscar_the_architect()`.
6. **Определение атрибутов агента:** Определяет атрибуты агента `age` и `nationality`.
7. **Проверка наличия трассировки:** Проверяет, что симуляция имеет сохраненные трассировки `cached_trace` и `execution_trace`.
8. **Сохранение контрольной точки:** Сохраняет контрольную точку симуляции (`control.checkpoint()`).
9. **Взаимодействие с агентом:** Агент получает запрос "How are you doing?" и реагирует на него (`agent.listen_and_act("How are you doing?")`).
10. **Определение дополнительных атрибутов:** Определяет атрибут `occupation` агента.
11. **Сохранение контрольной точки:** Сохраняет контрольную точку симуляции (`control.checkpoint()`).
12. **Завершение симуляции:** Завершает симуляцию (`control.end()`).


Пример использования
-------------------------
.. code-block:: python

    import pytest
    import logging
    # ... (вставьте импорты из исходного кода)

    def test_scenario_1():
        # ... (вставьте код из исходного кода)
        control.reset()
        assert control._current_simulations["default"] is None
        control.begin()
        assert control._current_simulations["default"].status == Simulation.STATUS_STARTED

        # ... (вставьте код из исходного кода)