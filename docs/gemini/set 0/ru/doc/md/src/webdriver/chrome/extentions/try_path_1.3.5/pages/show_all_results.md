# Модуль `show_all_results.js`

## Обзор

Этот модуль отвечает за отображение результатов поиска в интерфейсе расширения TryXPath. Он получает данные о результатах от другого модуля и отображает их на странице, включая контекст, основные результаты и детальную информацию. Модуль также предоставляет возможности экспорта результатов в текстовые файлы.

## Функции

### `showAllResults`

**Описание**: Функция отображает полученные результаты поиска на странице.

**Параметры**:
- `results` (объект): Объект, содержащий результаты поиска.  Ожидается, что он содержит следующие поля:
    - `message` (строка): Сообщение.
    - `title` (строка): Заголовок.
    - `href` (строка): URL.
    - `frameId` (число): ID фрейма.
    - `context` (объект, необязательно): Контекстные данные.
        - `method` (строка): Метод контекста.
        - `expression` (строка): Выражение контекста.
        - `specifiedResultType` (строка): Тип результата.
        - `resultType` (строка): Тип результата.
        - `resolver` (строка): Резолвер.
        - `itemDetail` (массив, необязательно): Детали элемента контекста.
    - `main` (объект): Основные данные результатов.
        - `method` (строка): Метод.
        - `expression` (строка): Выражение.
        - `specifiedResultType` (строка): Тип результата.
        - `resultType` (строка): Тип результата.
        - `resolver` (строка): Резолвер.
        - `itemDetails` (массив): Массив с деталями результатов.


**Возвращает**:
- Не имеет возвращаемого значения.

**Вызывает исключения**:
- `fu.onError`: Возникает при ошибке в функции `fu.updateDetailsTable`.


### `makeTextDownloadUrl`

**Описание**: Функция генерирует URL для скачивания текстового файла.

**Параметры**:
- `text` (строка): Текст для сохранения в файле.

**Возвращает**:
- `URL`: URL для скачивания текстового файла.


**Вызывает исключения**:
- Нет


### `makeInfoText`

**Описание**: Функция генерирует текстовое представление результатов для экспорта.

**Параметры**:
- `results` (объект): Объект, содержащий результаты.

**Возвращает**:
- `строка`: Форматированный текст результатов для экспорта.


**Вызывает исключения**:
- Нет


### `makeConvertedInfoText`

**Описание**: Функция генерирует текстовое представление результатов для экспорта с конвертированными значениями в JSON.

**Параметры**:
- `results` (объект): Объект, содержащий результаты.

**Возвращает**:
- `строка`: Форматированный текст результатов для экспорта с конвертированными значениями в JSON.


**Вызывает исключения**:
- Нет


## Вспомогательные функции (из `tryxpath.functions`)

Функции `fu.updateDetailsTable`, `fu.onError`, `fu.makeDetailText`  (предполагается, что они определены в `tryxpath.functions`) не документированы в этом файле, поскольку это, вероятно, функции из другого модуля.  Если доступна информация о них, добавьте документацию.


## Обработчики событий

### Обработчик события `load`

**Описание**: Обработчик события `load`, вызывается при загрузке страницы.  Обрабатывает ответ от расширения, отображает данные и добавляет обработчики событий для элементов интерфейса.

**Параметры**:
- Не принимает параметров.

**Возвращает**:
- Не имеет возвращаемого значения.

**Вызывает исключения**:
- `fu.onError`: Возникает при ошибке при получении данных или других операциях.



## Замечания

Функции `fu.makeDetailText` и `fu.updateDetailsTable` предполагаются как часть модуля `tryxpath.functions`.  Для полной документации необходимо определить их содержимое.  Форматирование вывода в `makeInfoText` и `makeConvertedInfoText` нуждается в улучшении, особенно обработка сложных случаев.