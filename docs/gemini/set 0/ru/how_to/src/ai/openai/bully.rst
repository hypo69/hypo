Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код определяет функцию `bully()`, которая использует API OpenAI для генерации ответа в стиле задиры. Функция принимает сообщение пользователя и список сообщений в формате, ожидаемом моделями OpenAI, и возвращает список сообщений.

Шаги выполнения
-------------------------
1. **Импортирование необходимых библиотек:** Код импортирует модули `os` и `src.ai.openai`.  Обратите внимание на строку `openai.API_KEY = "YOUR_API_KEYS_OPENAI"`. Вам необходимо заменить `YOUR_API_KEYS_OPENAI` своим ключом API OpenAI.

2. **Определение системного запроса (system_prompt):** Создается системный запрос для модели OpenAI, описывающий поведение задиры. Запрос инструктирует модель генерировать пример из литературы, как задира пытается запугать жертву, с точки зрения самого задиры.  Важно, чтобы запрос был написан в формате, ожидаемом моделями OpenAI (с указанием ключа `bully_response`).

3. **Определение функции `bully()`:** Функция `bully` принимает в качестве аргументов сообщение пользователя и (необязательный) список `messages`.

4. **Добавление сообщения пользователя к списку:** Добавляется сообщение пользователя в список `messages`.

5. **Вызов API OpenAI:** Используя метод `openai.ChatCompletion.create()`, функция вызывает API OpenAI с использованием модели `gpt-3.5-turbo` и списка сообщений.

6. **Добавление ответа OpenAI к списку:** Добавляется ответ модели OpenAI в список `messages`.

7. **Возврат списка сообщений:** Функция возвращает обновлённый список сообщений, включающий ответ от модели OpenAI.


Пример использования
-------------------------
.. code-block:: python

    import os
    import src.ai.openai
    openai.API_KEY = "YOUR_API_KEYS_OPENAI"  # Замените на ваш ключ API

    def get_bully_response(user_message):
        messages = [{"system": "user", "content": system_prompt}]
        response = bully(user_message, messages)
        return response

    user_input = "Расскажи про задиру в школе"
    messages = get_bully_response(user_input)
    
    for message in messages:
        print(message)