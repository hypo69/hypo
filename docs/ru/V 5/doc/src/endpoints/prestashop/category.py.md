# Модуль `category`

## Обзор

Модуль `category` предоставляет классы для взаимодействия с API PrestaShop для управления категориями товаров. Он включает класс `PrestaCategory`, который позволяет получать информацию о родительских категориях.

## Подробней

Модуль предназначен для упрощения работы с категориями в PrestaShop, предоставляя удобные методы для получения иерархии категорий. Класс `PrestaCategory` наследуется от `PrestaShop`, что позволяет использовать общую логику для взаимодействия с API PrestaShop.

## Классы

### `PrestaCategory`

**Описание**: Класс для управления категориями в PrestaShop.

**Как работает класс**:
- Класс `PrestaCategory` наследуется от класса `PrestaShop` и предоставляет методы для работы с категориями товаров в PrestaShop.
- Метод `__init__` инициализирует объект класса, вызывая конструктор родительского класса `PrestaShop`.
- Метод `get_parent_categories_list` используется для получения списка родительских категорий для заданной категории.

**Методы**:
- `__init__`: Инициализирует объект класса `PrestaCategory`.
- `get_parent_categories_list`: Получает список родительских категорий для заданной категории.

#### `__init__`

```python
def __init__(self, api_key: str, api_domain: str, *args, **kwargs):
    """
    Initializes a Product object.
    """
```

**Описание**: Инициализирует объект класса `PrestaCategory`.

**Как работает функция**:
- Метод `__init__` принимает параметры `api_key` и `api_domain`, которые используются для аутентификации и определения домена API PrestaShop.
- Вызывает конструктор родительского класса `PrestaShop` с переданными параметрами.

**Параметры**:
- `api_key` (str): Ключ API для доступа к PrestaShop.
- `api_domain` (str): Домен API PrestaShop.
- `*args`: Произвольные позиционные аргументы, передаваемые в конструктор родительского класса.
- `**kwargs`: Произвольные именованные аргументы, передаваемые в конструктор родительского класса.

**Примеры**:
```python
category = PrestaCategory(api_key='your_api_key', api_domain='your_api_domain')
```

#### `get_parent_categories_list`

```python
def get_parent_categories_list(self, id_category: str | int, parent_categories_list: List[int|str] = []) -> List[int]:
    """! Retrieve parent categories from PrestaShop for a given category."""
```

**Описание**: Получает список родительских категорий для заданной категории.

**Как работает функция**:
- Метод `get_parent_categories_list` рекурсивно получает родительские категории для заданной категории `id_category`.
- Если `id_category` не указан, в лог записывается ошибка и возвращается текущий список родительских категорий.
- Метод вызывает `super().get` для получения информации о категории из API PrestaShop.
- Если категория не найдена, в лог записывается ошибка и возвращается `None`.
- Идентификатор родительской категории добавляется в список `parent_categories_list`.
- Если идентификатор родительской категории меньше или равен 2, возвращается текущий список родительских категорий.
- В противном случае метод рекурсивно вызывается для родительской категории.

**Параметры**:
- `id_category` (str | int): Идентификатор категории, для которой необходимо получить родительские категории.
- `parent_categories_list` (List[int|str], optional): Список родительских категорий. По умолчанию `[]`.

**Возвращает**:
- `List[int]`: Список идентификаторов родительских категорий.

**Примеры**:
```python
category = PrestaCategory(api_key='your_api_key', api_domain='your_api_domain')
parent_categories = category.get_parent_categories_list(id_category=3)
print(parent_categories)
```