# Модуль md2dict

## Обзор

Модуль `md2dict` предназначен для конвертации строк Markdown в структурированные словари Python.  Он позволяет извлекать JSON содержимое, если оно присутствует в строке Markdown, и возвращать соответствующий словарь.  В противном случае, он парсит Markdown и структурирует его в словарь, группируя содержимое по заголовкам.

## Функции

### `md2dict`

**Описание**: Функция конвертирует строку Markdown в структурированный словарь Python.

**Параметры**:

- `md_string` (str): Строка Markdown для конвертации.

**Возвращает**:

- `Dict[str, dict | list]`: Структурированное представление Markdown содержимого. Возвращает словарь с ключом "json", если был найден JSON контент, или словарь с секциями Markdown, имеющими названия в качестве ключей и список строк в качестве значений.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках в процессе парсинга Markdown или извлечения JSON.  Подробная информация об ошибке логгируется в модуль `logger`.


### `extract_json_from_string`

**Описание**: Функция извлекает JSON контент из заданной строки.

**Параметры**:

- `text` (str): Строка для поиска JSON контента.

**Возвращает**:

- `dict | None`: Извлеченный JSON контент, если он найден. Возвращает `None`, если JSON контент не обнаружен.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках в процессе анализа строки для JSON контента.  Подробная информация об ошибке логгируется в модуль `logger`.


## Константы

### `MODE`

**Описание**:  Переменная, содержащая режим работы модуля. В данном случае, это строка `'dev'`.

## Использование

```python
import md2dict

markdown_text = """
# Заголовок 1

Текст заголовка 1.

## Заголовок 2
Текст заголовка 2.

```json
{"key": "value"}
```
"""

result = md2dict.md2dict(markdown_text)
print(result)
```

Этот пример демонстрирует как использовать функцию `md2dict` для парсинга строки Markdown и получения результата в виде словаря.


## Ограничения

- Функция `extract_json_from_string` использует `eval()`.  Использование `eval()` для не-доверенных данных небезопасно и может привести к уязвимостям (например, выполнению произвольного кода).  Для production-ready кода рекомендуется использовать `json.loads()` для парсинга JSON.


##  Модули, на которые ссылается `md2dict`

- `re` (для регулярных выражений)
- `typing` (для типизации)
- `markdown2` (для парсинга Markdown)
- `src.logger` (для логирования ошибок)