Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код представляет собой скрипт командной строки для запуска ассистента по работе с кодом (Code Assistant). Он принимает различные параметры, такие как путь к файлу настроек, роль ассистента, язык и модели, которые необходимо использовать, а также список стартовых директорий.  Если файл настроек задан, параметры берутся из него; в противном случае - из командной строки.  Ассистент затем инициализирует выбранные модели и обрабатывает файлы в указанных директориях.

Шаги выполнения
-------------------------
1. **Импортирование необходимых библиотек:** Скрипт импортирует модули `argparse`, `json`, `pathlib` и `CodeAssistant`.

2. **Функция `parse_args()`:** Эта функция отвечает за парсинг аргументов командной строки. Она определяет аргументы `--settings`, `--role`, `--lang`, `--models` и `--start_dirs` с соответствующими типами и проверками.

3. **Функция `main()`:**
   - Выводит сообщение о запуске ассистента.
   - Вызывает `parse_args()` для получения аргументов.
   - **Обработка файла настроек:** Если задан аргумент `--settings`,  он загружает параметры из файла JSON по указанному пути. Проверяет существование файла. Если файла нет, выводит сообщение об ошибке и завершает работу.
   - **Инициализация ассистента из командной строки:** Если файл настроек не задан, создаёт экземпляр `CodeAssistant` с параметрами, полученными из командной строки.
   - **Инициализация моделей:** Вызывает метод `initialize_models()` у созданного объекта `CodeAssistant`, чтобы инициализировать выбранные модели.
   - **Обработка файлов:** Вызывает метод `process_files()` у `CodeAssistant` для обработки файлов в указанных стартовых директориях.


Пример использования
-------------------------
.. code-block:: bash

    # Запуск с файлом настроек
    python main.py --settings settings.json

.. code-block:: bash

    # Запуск с параметрами из командной строки
    python main.py --role doc_writer --lang ru --models gemini openai --start_dirs /path/to/dir1 /path/to/dir2

.. code-block:: bash

    # Запуск с параметрами для проверки кода
    python main.py --role code_checker --lang en --models gemini --start_dirs /path/to/code_dir