## Ответ на Задачу No 354: Плитки Икки

### 1. Анализ задачи и решение
**Понимание задачи:**
* Задача заключается в нахождении суммы V(k) для k от 1 до n, где V(n) - это количество видимых треугольников в слоях с 1 по n включительно.
* Видимые треугольники это внутренние треугольники каждого слоя.
* Нам дано, что количество треугольников в n-ом слое равно 6n, и общее количество треугольников в слоях с 1 по n включительно равно 1 + 3n(n+1).
*  V(n) - количество видимых треугольников в слоях с 1 по n, тогда V(1) = 6, V(2) = 18, V(3) = 30. Заметим, что V(n) = 12 + 12 * (n-1) + 6 * (n-1)(n-2), где  12 - кол-во видимых треугольников для 1 слоя(внутренние), 12 * (n - 1) - кол-во видимых треугольников во втором и т.д слоях , и  6 * (n - 1)(n - 2) - сумма видимых треугольников во всех остальных слоях, что эквивалентно 12 * (n-1) + 6 * (n-1)(n-2), что равно 6 * (n-1) * n.
  
  То есть, V(n) = 12 +  6 * n * (n -1) = 6n^2 - 6n + 12

*  Нам нужно вычислить S(n) = сумма(V(k)) для k от 1 до n.
   Тогда S(n) = сумма(6k^2 - 6k + 12)  для k от 1 до n.

* Вычислим S(n) = 6 * сумма(k^2) - 6 * сумма(k) + 12 * n

* Известно, что сумма(k^2) = n(n+1)(2n+1)/6 и сумма(k) = n(n+1)/2.

* Подставив это, мы получим:
    S(n) = 6 * (n(n+1)(2n+1)/6) - 6 * (n(n+1)/2) + 12 * n
    S(n) = n(n+1)(2n+1) - 3n(n+1) + 12n
    S(n) = n(2n^2 + 3n + 1) - 3n^2 -3n + 12n
    S(n) = 2n^3 + 3n^2 + n - 3n^2 - 3n + 12n
    S(n) = 2n^3 + 10n

* Нам нужно S(10^12) mod 1000000007

**Решение:**
1.  **Вычислить S(n):** Используя выведенную формулу S(n) = 2n^3 + 10n.
2. **Применить модуль:**  Вычислить S(10<sup>12</sup>) по модулю 1000000007. Так как числа очень большие, необходимо использовать операции по модулю на каждом шаге для предотвращения переполнения.

### 2. Алгоритм решения
1. Начать
2. Задать n = 10<sup>12</sup>
3. Задать modulo = 1000000007
4. Вычислить `n_cubed` = n * n * n (по модулю)
5. Вычислить `term1` = 2 * `n_cubed` (по модулю)
6. Вычислить `term2` = 10 * n (по модулю)
7. Вычислить `sum_s` = (`term1` + `term2`) (по модулю)
8. Вывести `sum_s`
9. Конец

### 3. Реализация на Python 3.12
```python
def solve():
    n = 10**12
    modulo = 1000000007
    
    n_cubed = (n % modulo) * (n % modulo) % modulo * (n % modulo) % modulo
    
    term1 = (2 * n_cubed) % modulo
    term2 = (10 * n) % modulo
    
    sum_s = (term1 + term2) % modulo
    
    return sum_s

result = solve()
print(result)
```

### 4. Блок-схема в формате mermaid
```mermaid
flowchart TD
    Start((Начало)) --> InputN((n = 10^12, modulo = 1000000007))
    InputN --> CalculateNCubed((n_cubed = (n*n*n) % modulo))
    CalculateNCubed --> CalculateTerm1((term1 = (2 * n_cubed) % modulo))
    CalculateTerm1 --> CalculateTerm2((term2 = (10 * n) % modulo))
    CalculateTerm2 --> CalculateSumS((sum_s = (term1 + term2) % modulo))
    CalculateSumS --> OutputSumS((Вывести sum_s))
    OutputSumS --> End((Конец))
```

**Легенда:**
* **Начало, Конец:** Начало и конец алгоритма.
* **n = 10^12, modulo = 1000000007:** Инициализируем входные данные, n и модуль.
* **n_cubed = (n*n*n) % modulo:** Вычисляем n в кубе по модулю.
* **term1 = (2 * n_cubed) % modulo:** Вычисляем первое слагаемое по модулю.
* **term2 = (10 * n) % modulo:** Вычисляем второе слагаемое по модулю.
* **sum_s = (term1 + term2) % modulo:** Вычисляем сумму слагаемых по модулю.
* **Вывести sum_s:** Выводим результат.
