# Модуль `send_data.js`

## Обзор

Этот скрипт JavaScript собирает информацию о загруженной странице (заголовок, URL, содержимое тела) и отправляет ее на сервер по заданному адресу.  Он использует метод `fetch` для асинхронной отправки данных.

## Функции

### `onPageLoad`

**Описание**: Обработчик события загрузки страницы. Собирает данные о странице и отправляет их на сервер.

**Логика**:
1. Получает заголовок страницы (`document.title`).
2. Получает URL страницы (`window.location.href`).
3. Получает содержимое тела страницы (`document.body.innerHTML`).
4. Формирует объект `data` с собранными данными.
5. Отправляет POST-запрос к серверу используя `fetch` с данными в формате JSON.
6. Обрабатывает ответ сервера (`response`):
   - Если статус ответа не `2xx`, выбрасывает ошибку `Error`.
   - В противном случае, преобразует ответ в JSON и выводит его в консоль.
7. Обрабатывает ошибки при отправке или получении ответа от сервера (`error`).

**Вызывает исключения**:
- `Error`: Возникает, если статус ответа сервера не указывает на успешное выполнение (код ответа не в диапазоне 2xx). Сообщение об ошибке содержит информацию о типе ошибки.


## Использование

Для запуска этого скрипта необходимо, чтобы он был добавлен в расширение браузера Firefox.  Скрипт будет автоматически выполняться при загрузке каждой страницы.


##  Примечание

Обратите внимание на использование `JSON.stringify()` для сериализации объекта `data` в JSON, и использование `JSON.parse()` (в ответ сервера) для парсинга данных.