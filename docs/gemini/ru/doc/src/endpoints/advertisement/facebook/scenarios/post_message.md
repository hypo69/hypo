# Модуль `hypotez/src/endpoints/advertisement/facebook/scenarios/post_message.py`

## Обзор

Данный модуль предоставляет функции для публикации сообщений в Facebook Ads Manager. Он включает в себя функции для добавления заголовка и описания, загрузки медиафайлов и публикации сообщения. Модуль использует класс `Driver` для взаимодействия с веб-страницей и обрабатывает различные сценарии, включая обработку ошибок и временные задержки.

## Функции

### `post_title`

**Описание**: Отправляет заголовок и описание кампании в поле для сообщения.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `message` (SimpleNamespace | str): Объект `SimpleNamespace` или строка, содержащая заголовок и описание.


**Возвращает**:
- `bool`: `True`, если заголовок и описание были успешно отправлены, иначе `None`.

**Примеры использования**:

```python
driver = Driver(...)
category = SimpleNamespace(title="Campaign Title", description="Campaign Description")
post_title(driver, category)
```

### `upload_media`

**Описание**: Загружает медиафайлы (изображения, видео) в раздел изображений и обновляет подписи.

**Параметры**:
- `d` (Driver): Экземпляр драйвера.
- `media` (SimpleNamespace | List[SimpleNamespace] | str | list[str]): Медиафайлы для загрузки. Может быть списком или объектом SimpleNamespace.
- `no_video` (bool, optional): Флаг, запрещающий загрузку видео. По умолчанию `False`.
- `without_captions` (bool, optional):  Флаг, если не нужно добавлять подписи. По умолчанию `False`.


**Возвращает**:
- `bool`: `True`, если медиафайлы были загружены успешно, иначе `None`.

**Исключения**:
- `Exception`: Возникает при ошибках во время загрузки медиа или обновления подписей.


**Примеры использования**:

```python
driver = Driver(...)
products = [SimpleNamespace(local_saved_image='path/to/image.jpg')]
upload_media(driver, products)
```

### `update_images_captions`

**Описание**: Добавляет описания к загруженным медиафайлам.

**Параметры**:
- `d` (Driver): Экземпляр драйвера.
- `media` (List[SimpleNamespace]): Список объектов `SimpleNamespace`, содержащих данные для обновления подписей.
- `textarea_list` (List[WebElement]): Список элементов `WebElement`, представляющих поля ввода подписей.


**Исключения**:
- `Exception`: Возникает при ошибках при обновлении подписей медиа.


**Примеры использования**:

(Пример использования встроен в функцию `upload_media`)


### `publish`

**Описание**: Опубликовывает сообщение.

**Параметры**:
- `d` (Driver): Экземпляр драйвера.
- `attempts` (int, optional): Максимальное количество попыток публикации. По умолчанию 5.


**Возвращает**:
- `bool`: `True`, если сообщение было опубликовано, иначе `None`.

**Примечание**: Функция рекурсивно пытается опубликовать сообщение, если произошла ошибка.

### `promote_post`

**Описание**: Управляет процессом продвижения поста с заголовком, описанием и медиафайлами.

**Параметры**:
- `d` (Driver): Экземпляр драйвера.
- `category` (SimpleNamespace): Объект, содержащий заголовок и описание.
- `products` (List[SimpleNamespace]): Список объектов, содержащих медиа и дополнительные данные.
- `no_video` (bool, optional): Флаг, запрещающий загрузку видео. По умолчанию `False`.


**Возвращает**:
- `bool`: `True`, если пост был успешно опубликован, иначе `None`.


**Примеры использования**:

(Пример использования встроен в функцию `post_message`)


### `post_message`

**Описание**: Управляет процессом публикации сообщения с заголовком, описанием, медиафайлами и возможностью пропуска загрузки подписей.

**Параметры**:
- `d` (Driver): Экземпляр драйвера.
- `message` (SimpleNamespace): Объект, содержащий заголовок, описание, медиафайлы и дополнительные данные.
- `no_video` (bool, optional): Флаг, запрещающий загрузку видео. По умолчанию `False`.
- `images` (Optional[str | list[str]], optional): Путь к изображению или списки путей. По умолчанию None.
- `without_captions` (bool, optional): Флаг, запрещающий добавление подписей к изображениям. По умолчанию `False`.


**Возвращает**:
- `bool`: `True`, если сообщение было успешно опубликовано, иначе `None`.


**Примеры использования**:

(Пример использования встроен в функцию `post_message`)


## Переменные

`MODE`: Строковая переменная, хранящая режим работы (например, 'dev', 'prod').
`locator`: Объект `SimpleNamespace`, содержащий локэйторы из файла `post_message.json`.

```