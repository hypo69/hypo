# hypotez/src/utils/video.md

## Оглавление

- [Обзор](#обзор)
- [Функции](#функции)
    - [save\_video\_from\_url](#save_video_from_url)
    - [get\_video\_data](#get_video_data)

## Обзор

Этот модуль предоставляет асинхронные функции для загрузки и сохранения видеофайлов, а также для извлечения данных видео. Он включает обработку ошибок и ведение журналов для надежной работы.

## Функции

### `save_video_from_url`

**Описание**: Асинхронная функция для загрузки видео с указанного URL и сохранения его локально. Обрабатывает потенциальные сетевые проблемы и ошибки сохранения файла.

**Параметры**:
- `url` (str): URL видео для загрузки.
- `save_path` (str): Путь для сохранения загруженного видео.

**Возвращает**:
- `Optional[Path]`: Путь к сохраненному файлу, или `None` если операция завершилась неудачно. Возвращает `None` в случае ошибок и если размер файла равен 0 байтам.

**Вызывает исключения**:
- `aiohttp.ClientError`: При сетевых проблемах во время загрузки.


### `get_video_data`

**Описание**: Функция для извлечения бинарных данных из видеофайла, если он существует.

**Параметры**:
- `file_name` (str): Путь к видеофайлу для чтения.

**Возвращает**:
- `Optional[bytes]`: Бинарные данные файла, если он существует, или `None` если файл не найден или произошла ошибка.

**Вызывает исключения**:
- `FileNotFoundError`: Если файл не найден.
- `OSError`: При ошибках чтения файла.


```markdown
## Примеры

### save_video_from_url

```python
import asyncio
import os
# ... (импорты из файла)

async def main():
    url = "https://example.com/video.mp4"  # Замените на действительный URL!
    save_path = "local_video.mp4"
    result = await save_video_from_url(url, save_path)
    if result:
        print(f"Видео сохранено по адресу {result}")
    else:
        print("Ошибка сохранения видео")

if __name__ == "__main__":
    asyncio.run(main())

```


```markdown
### get_video_data
```python
import os
# ... (импорты из файла)

def main():
    file_name = "local_video.mp4"  # Путь к вашему файлу
    data = get_video_data(file_name)
    if data:
        print(data[:10])  # Вывод первых 10 байт для проверки
    else:
        print("Ошибка при чтении файла")

if __name__ == "__main__":
    main()
```
