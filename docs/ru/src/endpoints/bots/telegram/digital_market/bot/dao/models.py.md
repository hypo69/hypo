# Модуль для определения моделей базы данных Telegram-бота для цифрового рынка
=========================================================================

Модуль содержит определения классов, представляющих структуру таблиц базы данных, используемых для хранения информации о пользователях, категориях продуктов, самих продуктах и совершенных покупках. Используется для взаимодействия с базой данных через SQLAlchemy ORM.

## Обзор

В этом модуле определены модели для представления структуры базы данных, используемой Telegram-ботом для цифрового рынка. Эти модели включают классы для пользователей, категорий, продуктов и покупок. Они определяют, как данные будут храниться и извлекаться из базы данных, обеспечивая структуру для взаимодействия с информацией о пользователях, товарах и транзакциях.

## Подробнее

Модуль использует SQLAlchemy ORM для определения структуры таблиц базы данных. Каждая модель (класс) представляет собой таблицу в базе данных. Определены поля таблиц и связи между ними. Это позволяет удобно взаимодействовать с базой данных, используя объекты Python вместо написания SQL-запросов вручную.
Модуль расположен в `hypotez/src/endpoints/bots/telegram/digital_market/bot/dao/models.py` и предназначен для определения структуры базы данных, используемой ботом.

## Классы

### `User`

**Описание**: Класс представляет модель пользователя в базе данных.

**Атрибуты**:
- `telegram_id` (int): Уникальный идентификатор пользователя в Telegram.
- `username` (str | None): Имя пользователя в Telegram (может быть `None`).
- `first_name` (str | None): Имя пользователя (может быть `None`).
- `last_name` (str | None): Фамилия пользователя (может быть `None`).
- `purchases` (List['Purchase']): Список покупок, связанных с пользователем.

**Методы**:
- `__repr__()`: Возвращает строковое представление объекта `User`.

### `Category`

**Описание**: Класс представляет модель категории продуктов в базе данных.

**Атрибуты**:
- `category_name` (str): Название категории.
- `products` (List["Product"]): Список продуктов, принадлежащих к данной категории.

**Методы**:
- `__repr__()`: Возвращает строковое представление объекта `Category`.

### `Product`

**Описание**: Класс представляет модель продукта в базе данных.

**Атрибуты**:
- `name` (str): Название продукта.
- `description` (str): Описание продукта.
- `price` (int): Цена продукта.
- `file_id` (str | None): Идентификатор файла продукта (может быть `None`).
- `category_id` (int): Идентификатор категории, к которой принадлежит продукт.
- `hidden_content` (str): Скрытое содержимое, связанное с продуктом.
- `category` (Category): Категория, к которой принадлежит продукт.
- `purchases` (List['Purchase']): Список покупок, связанных с продуктом.

**Методы**:
- `__repr__()`: Возвращает строковое представление объекта `Product`.

### `Purchase`

**Описание**: Класс представляет модель покупки в базе данных.

**Атрибуты**:
- `user_id` (int): Идентификатор пользователя, совершившего покупку.
- `product_id` (int): Идентификатор купленного продукта.
- `price` (int): Цена продукта на момент покупки.
- `payment_type` (str): Тип оплаты.
- `payment_id` (str): Уникальный идентификатор платежа.
- `user` (User): Пользователь, совершивший покупку.
- `product` (Product): Купленный продукт.

**Методы**:
- `__repr__()`: Возвращает строковое представление объекта `Purchase`.

## Функции

В данном модуле отсутствуют отдельные функции, так как основная структура организована вокруг классов, представляющих модели данных.