# Acey-Ducey Карточная игра

## סקירה כללית

זהו סימולציה של משחק הקלפים Acey-Ducey. השחקן מבצע הימורים, בהתבסס על ההסתברות שהקלף הבא יהיה בין שני הקלפים שכבר נפתחו.

-   **הון התחלתי:** השחקן מתחיל עם 100 דולר.
-   **חוקי המשחק:**
    1. המחשב מציג שני קלפים.
    2. השחקן יכול להחליט האם להמר או לא.
    3. אם הוגש הימור, נפתח הקלף השלישי.
    4. אם ערכו של הקלף השלישי נמצא בין שני הקלפים הראשונים, השחקן זוכה בהימור. אחרת, ההימור מפסיד.
- המשחק מסתיים כאשר השחקן מאבד את כל הונו או מסיים אותו ידנית.

## תוכן עניינים

- [סקירה כללית](#סקירה-כללית)
- [איך הקוד עובד](#איך-הקוד-עובד)
    - [1. ייבוא ספרייה](#1-ייבוא-ספרייה)
    - [2. יצירת חפיסת קלפים](#2-יצירת-חפיסת-קלפים)
    - [3. פלט קלף בפורמט קריא](#3-פלט-קלף-בפורמט-קריא)
    - [4. לולאת המשחק הראשית](#4-לולאת-המשחק-הראשית)
    - [5. הצגת שני קלפים](#5-הצגת-שני-קלפים)
    - [6. הגדרת טווח](#6-הגדרת-טווח)
    - [7. הימור או דילוג על תור](#7-הימור-או-דילוג-על-תור)
    - [8. שליפת הקלף הבא](#8-שליפת-הקלף-הבא)
    - [9. בדיקת התוצאה](#9-בדיקת-התוצאה)
    - [10. סיום המשחק](#10-סיום-המשחק)
    - [11. הפעלת המשחק](#11-הפעלת-המשחק)
- [מושגים עיקריים בשימוש בקוד](#מושגים-עיקריים-בשימוש-בקוד)

## איך הקוד עובד

---

### 1. ייבוא ספרייה

```python
import random
```

-   **random** - ספרייה ליצירת מספרים אקראיים. היא משמשת לערבוב חפיסת הקלפים ובחירת קלפים אקראיים.

---

### 2. יצירת חפיסת קלפים

```python
def create_deck():
    """
    Args:
        None

    Returns:
        list: חפיסת קלפים מעורבבת.
    """
    ranks = list(range(2, 15))  # קלפים מ-2 עד 14 (אס = 14)
    deck = ranks * 4  # 4 סוגי קלפים
    random.shuffle(deck)
    return deck
```

-   **ranks** - רשימה של ערכי קלפים מ-2 עד 14 (אס = 14).
-   **deck** - נוצר על ידי הכפלת הרשימה `ranks` ב-4, כדי לקבל 4 סוגי קלפים (לבבות, יהלומים, עלים ותלתן).
-   **random.shuffle(deck)** - מערבב את חפיסת הקלפים.
- הפונקציה מחזירה חפיסה מעורבבת.

---

### 3. פלט קלף בפורמט קריא

```python
def card_name(value):
    """
    Args:
        value (int): ערך מספרי של קלף.

    Returns:
        str: ייצוג טקסטואלי של הקלף.
    """
    if value == 11:
        return "ואלט"
    elif value == 12:
        return "גברת"
    elif value == 13:
        return "מלך"
    elif value == 14:
        return "אס"
    else:
        return str(value)
```

-   הפונקציה מקבלת ערך מספרי של קלף (מ-2 עד 14) ומחזירה את הייצוג הטקסטואלי שלו.
-   לדוגמה, 11 ← "ואלט", 14 ← "אס".

---

### 4. לולאת המשחק הראשית

```python
def play_acey_ducey():
    """
    Args:
        None

    Returns:
        None
    """
    print("ברוכים הבאים למשחק Acey Ducey!")
    print("כללים: אתה מהמר, מנחש אם הקלף הבא יהיה בין שני הקלפים שהוצגו.")
    print("אם הקלף שווה לאחד מהקלפים שהוצגו או אס, אתה מפסיד.")
    print("הזן '0' כדי לדלג על תור.\\n")

    money = 100  # הון התחלתי של השחקן
    deck = create_deck()
```

-   **money** - יתרת הפתיחה של השחקן (100 דולר).
-   **deck** - נוצרת חפיסת קלפים באמצעות הפונקציה `create_deck()`.

---

### 5. הצגת שני קלפים

```python
while money > 0 and len(deck) >= 3:
    print(f"היתרה הנוכחית שלך: ${money}")

    # מציגים שני קלפים
    card1 = deck.pop()
    card2 = deck.pop()
    while card1 == card2:  # אם הקלפים זהים, לוקחים חדשים
        deck.insert(0, card1)
        deck.insert(0, card2)
        card1 = deck.pop()
        card2 = deck.pop()

    print(f"קלף ראשון: {card_name(card1)}")
    print(f"קלף שני: {card_name(card2)}")
```

-   **deck.pop()** - שולף את הקלף האחרון מהחפיסה.
-   **while card1 == card2** - בודק אם הקלפים שהוצגו זהים. אם הם זהים, מחזיר אותם לתחילת החפיסה ולוקח חדשים.
-   **card_name(card1)** - ממיר את הערך המספרי של הקלף לייצוג טקסטואלי.

---

### 6. הגדרת טווח

```python
low_card = min(card1, card2)
high_card = max(card1, card2)
```

-   **low_card** - הערך הנמוך ביותר מבין שני הקלפים.
-   **high_card** - הערך הגבוה ביותר מבין שני הקלפים.

---

### 7. הימור או דילוג על תור

```python
try:
    bet = int(input(f"בצע הימור (מ-0 עד {money}) או הזן '0' כדי לדלג על תור: "))
    if bet < 0 or bet > money:
        print("הימור לא חוקי. נסה שוב.")
        continue
    if bet == 0:
        print("דילגת על תור.\\n")
        continue  # מדלגים על התור
except ValueError:
    print("אנא הזן מספר.")
    continue
```

-   **input()** - מבקש מהשחקן להגיש הימור.
-   **try-except** - מטפל בשגיאות, אם השחקן הזין לא מספר.
-   **if bet < 0 or bet > money** - בודק שההימור תקין.
-   **if bet == 0** - אם ההימור הוא 0, השחקן מדלג על התור.

---

### 8. שליפת הקלף הבא

```python
next_card = deck.pop()
print(f"הקלף הבא: {card_name(next_card)}")
```

-   **next_card** - שולף את הקלף הבא מהחפיסה.
-   **card_name(next_card)** - ממיר את ערך הקלף לייצוג טקסטואלי.

---

### 9. בדיקת התוצאה

```python
if next_card == card1 or next_card == card2 or next_card == 14:
    print("הפסדת!")
    money -= bet
elif low_card < next_card < high_card:
    print("ניצחת!")
    money += bet
else:
    print("הפסדת!")
    money -= bet
```

-   **if next_card == card1 or next_card == card2 or next_card == 14** - אם הקלף הבא שווה לאחד מהקלפים שהוצגו או שהוא אס, השחקן מפסיד.
-   **elif low_card < next_card < high_card** - אם הקלף הבא נמצא בין שני הקלפים שהוצגו, השחקן מנצח.
-   **else** - בכל המקרים האחרים השחקן מפסיד.

---

### 10. סיום המשחק

```python
if money <= 0:
    print("נגמר לך הכסף. המשחק נגמר.")
else:
    print(f"המשחק נגמר. היתרה הסופית שלך: ${money}")
```

-   אם נגמר לשחקן הכסף, המשחק מסתיים.
-   אם נגמרה חפיסת הקלפים, המשחק גם מסתיים.

---

### 11. הפעלת המשחק

```python
if __name__ == "__main__":
    play_acey_ducey()
```

-   בלוק זה מפעיל את המשחק אם הקובץ מופעל ישירות (ולא מיובא כיחידה).

---

### מושגים עיקריים בשימוש בקוד:

1.  **פונקציות** - הקוד מחולק לפונקציות לצורך קריאות ושימוש חוזר.
2.  **רשימות** - חפיסת הקלפים מיוצגת כרשימה.
3.  **לולאות** - משמשות לעיבוד מהלכי המשחק.
4.  **תנאים** - בודקים את חוקי המשחק.
5.  **טיפול בחריגות** - משמש לטיפול בשגיאות קלט.
6.  **יצירת מספרים אקראיים** - לערבוב חפיסת הקלפים ובחירת קלפים.