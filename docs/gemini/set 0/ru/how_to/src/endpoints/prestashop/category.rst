Как использовать метод get_parent_categories_list
========================================================================================

Описание
-------------------------
Метод `get_parent_categories_list` получает список родительских категорий для заданной категории в PrestaShop. Он рекурсивно вызывает себя, пока не найдет корневую категорию (id_parent <= 2). Метод использует API PrestaShop для получения данных о категориях.

Шаги выполнения
-------------------------
1. **Получение идентификатора категории:**  Метод принимает в качестве аргумента `id_category`, представляющий идентификатор категории, для которой необходимо получить родительские категории.  Он также принимает необязательный аргумент `parent_categories_list` — список родительских категорий, который используется для рекурсивного вызова.

2. **Проверка идентификатора:** Проверяется наличие значения `id_category`. Если оно пустое, то метод выводит ошибку и возвращает пустой список `parent_categories_list`.

3. **Обращение к API PrestaShop:** Метод использует базовый метод `super().get('categories', resource_id=id_category, display='full', io_format='JSON')` для запроса данных категории по заданному идентификатору с расширенными данными (`display='full'`) и в формате JSON.

4. **Обработка ответа API:** Проверяется, что ответ от API (`category`) не пустой. Если пустой, то выводится ошибка и метод возвращает None.

5. **Получение родительской категории:** Из полученного ответа API извлекается `id_parent` родительской категории.

6. **Добавление родительской категории в список:** Родительская категория добавляется в список `parent_categories_list`.

7. **Рекурсивный вызов:** Если `id_parent` родительской категории больше 2 (не корневая категория), то метод рекурсивно вызывает сам себя с `id_parent` как новым `id_category` и обновлённым списком `parent_categories_list`.

8. **Возврат списка:** Если `id_parent` родительской категории меньше или равно 2 (корневая категория), то метод возвращает собранный список `parent_categories_list`.


Пример использования
-------------------------
.. code-block:: python

    from hypotez.src.endpoints.prestashop.category import PrestaCategory
    # ... (Инициализация PrestaCategory с API_DOMAIN и API_KEY) ...

    prestacategory = PrestaCategory(API_DOMAIN='ваш_домен', API_KEY='ваш_ключ')
    id_category_to_find_parents = 123  # Идентификатор категории
    parent_categories = prestacategory.get_parent_categories_list(id_category_to_find_parents)

    if parent_categories:
        print(f"Родительские категории для категории {id_category_to_find_parents}: {parent_categories}")