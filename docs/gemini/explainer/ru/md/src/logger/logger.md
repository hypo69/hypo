# Описание кода из файла `hypotez/src/logger/logger.py`

Этот файл реализует класс `Logger` для ведения логов в приложении.  Ключевые особенности:

* **Singleton-паттерн:**  Класс `Logger` реализует Singleton-паттерн, гарантируя, что в приложении будет только один экземпляр логгера.  Это делается с помощью `SingletonMeta`.

* **Различные уровни логов:**  Поддерживает стандартные уровни логов (DEBUG, INFO, WARNING, ERROR, CRITICAL).

* **Консольный вывод:** Логи отображаются в консоли с цветовой кодировкой, зависящей от уровня лога.  Используется библиотека `colorama`.

* **Файловый вывод:** Возможность записи логов в отдельные файлы для разных уровней (INFO, DEBUG, ERROR).

* **JSON-формат:** Поддержка записи логов в формате JSON в отдельный файл.  Для этого используется `JsonFormatter`.

* **Обработка исключений:**  При логах ERROR и CRITICAL, а также при указании `exc_info=True`,  в логе записывается подробная информация об исключении, включая файл, функцию и строку, где произошло исключение.

* **Инициализация логгеров:**  Метод `initialize_loggers` позволяет настроить пути к файлам для логов разных уровней и  инициализировать логгер.

**Структура класса `Logger`:**

* `__init__`: Инициализирует поля логгера, но логгеры не создаются.

* `_configure_logger`:  Создаёт и настраивает логгер для файла, принимая имя логгера, путь к файлу, уровень лога и форматирование (по умолчанию используется стандартное).

* `initialize_loggers`:  Инициализирует логгеры для консоли и файлов.  Создание и настройка логгеров для консоли, файла INFO, файла DEBUG, файла ERROR и файла JSON.

* `_format_message`:  Форматирует сообщение с дополнительной информацией о цвете и исключениях (ex).

* `_ex_full_info`: Форматирует подробную информацию об исключении, включая место вызова `log` функции.

* `log`: Общий метод для логирования разных уровней.  Обрабатывает  `ex`, `exc_info`, `color`. Выводит логи в консоль, файл JSON и нужные файлы.

* `info`, `success`, `warning`, `debug`, `error`, `critical`:  Методы для удобного логирования на соответствующих уровнях.  Эти методы вызывают `log` с заданным уровнем и опционально устанавливают цвета.  Обратите внимание на различное использование параметров, как `exc_info`, `colors`.


**Важные моменты:**

* Библиотека `colorama` необходима для цветовой кодировки в консоли.  Убедитесь, что она установлена.
* Пути к файлам логов должны быть корректно заданы в вызовах `initialize_loggers`.
* Метод `_ex_full_info` пока не до конца реализован.
* Использование `exc_info` в логах может влиять на производительность.


**Пример использования:**

```python
import logging
from src.logger import Logger


logger = Logger()
logger.initialize_loggers(info_log_path='info.log', debug_log_path='debug.log', errors_log_path='errors.log', json_log_path='log.json')
logger.info('Это информационное сообщение')
logger.error('Ошибка! ', Exception('Описание ошибки'))
```

Этот код создаст логгеры, настроенные на запись в указанные файлы.  В `info.log` и `log.json` будут записаны информационные сообщения, в `errors.log` — сообщения об ошибках, а в консоль будут выведены соответствующие сообщения с цветовой кодировкой.  В `log.json` будут сообщения в формате JSON.