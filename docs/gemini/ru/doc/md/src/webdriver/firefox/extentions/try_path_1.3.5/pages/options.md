# Модуль options.js

## Обзор

Этот JavaScript-модуль отвечает за отображение и обработку настроек расширения TryXPath. Пользователь может изменить атрибуты и CSS-стили всплывающего окна, а также загрузить значения по умолчанию. Модуль использует API браузера для сохранения настроек в хранилище.


## Функции

### `isValidAttrName`

**Описание**: Проверяет, является ли имя атрибута валидным.

**Параметры**:
- `name` (str): Имя атрибута.

**Возвращает**:
- `boolean`: `true`, если имя атрибута валидное, `false` в противном случае.

**Обрабатываемые исключения**:
- `e`: Если возникнет ошибка при попытке установить атрибут, функция вернет `false`.


### `isValidAttrNames`

**Описание**: Проверяет, являются ли имена всех атрибутов валидными.

**Параметры**:
- `names` (dict): Словарь имен атрибутов.

**Возвращает**:
- `boolean`: `true`, если все имена атрибутов валидны, `false` в противном случае.


### `isValidStyleLength`

**Описание**: Проверяет, является ли длина стиля (ширина/высота) валидной.

**Параметры**:
- `len` (str): Длина стиля.

**Возвращает**:
- `boolean`: `true`, если длина стиля валидная, `false` в противном случае.


### `loadDefaultCss`

**Описание**: Загружает CSS по умолчанию из файла `/css/try_xpath_insert.css`.

**Возвращает**:
- `Promise<string>`: Обещание, содержащее содержимое загруженного CSS.

**Обрабатываемые исключения**:
- `ex`: Если возникает ошибка при загрузке CSS.



### `extractBodyStyles`

**Описание**: Извлекает стили ширины и высоты из CSS строки.

**Параметры**:
- `css` (str): Строка CSS.

**Возвращает**:
- `object`: Объект, содержащий стили ширины и высоты.


### `createPopupCss`

**Описание**: Создает строку CSS для всплывающего окна на основе переданных стилей.

**Параметры**:
- `bodyStyles` (object): Объект со стилями ширины и высоты.

**Возвращает**:
- `string`: Строка CSS для всплывающего окна.



## Обработчики событий

### `window.addEventListener("load", ...)`

**Описание**: Обработчик события `load` для окна. Настраивает элементы управления, запрашивает настройки из хранилища и устанавливает обработчики событий для кнопок сохранения и загрузки значений по умолчанию.


##  Переменные

### `defaultAttributes`

**Описание**: Словарь значений атрибутов по умолчанию.


### `defaultPopupBodyStyles`

**Описание**: Словарь стилей по умолчанию для всплывающего окна.


### `elementAttr`, `contextAttr`, `focusedAttr`, `ancestorAttr`, `frameAttr`, `frameAncestorAttr`


**Описание**: Переменные, представляющие элементы DOM для ввода значений атрибутов.


### `style`, `popupBodyWidth`, `popupBodyHeight`, `message`

**Описание**: Переменные, представляющие элементы DOM для ввода и отображения данных CSS и сообщений.


### `testElement`

**Описание**: Временная переменная, используемая для проверки валидности имен атрибутов.