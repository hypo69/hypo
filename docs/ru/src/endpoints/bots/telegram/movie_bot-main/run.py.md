# Модуль запуска Telegram-бота для поиска фильмов

## Обзор

Этот модуль содержит точку входа для запуска Telegram-бота, предназначенного для поиска фильмов. Он инициализирует и запускает бота, используя библиотеку `aiogram`. Модуль отвечает за настройку логирования, подключение обработчиков и запуск процесса обработки входящих сообщений от пользователей.

## Подробней

Этот код является точкой входа для Telegram-бота. Он выполняет следующие шаги:

1.  Загружает переменные окружения из файла `.env`.
2.  Инициализирует экземпляр `Dispatcher` из библиотеки `aiogram`, который используется для регистрации обработчиков и маршрутизации входящих сообщений.
3.  Создает экземпляр `Bot` с использованием токена, полученного из переменных окружения.
4.  Регистрирует промежуточное ПО (middleware) для управления частотой запросов.
5.  Подключает маршрутизатор с обработчиками сообщений.
6.  Запускает процесс обработки входящих сообщений в асинхронном режиме.
7.  Настраивает базовую конфигурацию логирования для отслеживания работы бота.

## Функции

### `main`

```python
async def main() -> None:
    """
    Инициализирует и запускает Telegram-бота.

    Args:
        None

    Returns:
        None

    Raises:
        Нет.
    """
```

**Как работает функция**:

1.  **Инициализация бота**: Создает экземпляр `Bot` с использованием токена, полученного из переменных окружения (`os.getenv('TOKEN')`).
2.  **Регистрация middleware**: Регистрирует `ThrottlingMiddleware` для управления частотой запросов.
3.  **Подключение маршрутизатора**: Подключает маршрутизатор `router` с обработчиками сообщений (`dp.include_router(router)`).
4.  **Запуск polling**: Запускает процесс обработки входящих сообщений в асинхронном режиме (`await dp.start_polling(bot)`).

**Параметры**:

*   Нет.

**Возвращает**:

*   `None`

**Вызывает исключения**:

*   Нет.

### `if __name__ == "__main__":`

```python
if __name__ == "__main__":
    logging.basic_colorized_config(
        level=logging.INFO,
        format='%(asctime)s - [%(levelname)s] - %(name)s - '
               '(%(filename)s).%(funcName)s(%(lineno)d) - %(message)s',
        datefmt='%H:%M:%S'
    )
    asyncio.run(main())
```

**Как работает функция**:

1.  **Настройка логирования**: Настраивает базовую конфигурацию логирования с использованием `logging.basic_colorized_config`. Устанавливает уровень логирования на `logging.INFO`, формат сообщений и формат даты.
2.  **Запуск асинхронной функции**: Запускает асинхронную функцию `main` с использованием `asyncio.run()`.

**Параметры**:

*   Нет.

**Возвращает**:

*   Нет.

**Вызывает исключения**:

*   Нет.