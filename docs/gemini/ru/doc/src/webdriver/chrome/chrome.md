# Модуль `hypotez/src/webdriver/chrome/chrome.py`

## Обзор

Этот модуль предоставляет реализацию драйвера Chrome WebDriver, используя Selenium. Он интегрирует настройки конфигурации, определенные в файле `chrome.json`, такие как пользовательский агент и настройки профиля браузера, для гибкого и автоматизированного взаимодействия с браузером.

## Классы

### `Chrome`

**Описание**: Класс, представляющий драйвер Chrome WebDriver.  Реализован как синглтон для предотвращения создания нескольких экземпляров драйвера.

**Методы**:

#### `__new__`

**Описание**: Статический метод, отвечающий за создание экземпляра класса. Если экземпляр уже существует, он вызывает метод `window_open()` для открытия нового окна.

**Возвращает**: Экземпляр класса `Chrome`.

#### `__init__`

**Описание**: Инициализирует драйвер Chrome WebDriver со заданными параметрами и профилем.

**Параметры**:
- `user_agent` (Optional[str], необязательно): Строка пользовательского агента. По умолчанию генерируется случайный пользовательский агент.

**Вызывает исключения**:
- `Exception`:  Возникает при ошибках при загрузке конфигурации или инициализации драйвера.  Подробная информация об ошибке логгируется.

#### `_payload`

**Описание**: Загружает исполняемый модуль для локеторов и сценариев JavaScript.

**Возвращает**: None.


## Функции

### `normalize_path`

**Описание**: Заменяет плейсхолдеры в пути на действительные пути в системе.

**Параметры**:
- `path` (str): Строка пути с плейсхолдерами, такими как `%APPDATA%` или `%LOCALAPPDATA%`.

**Возвращает**:
- str:  Нормализованный путь с подставленными переменными окружения. Возвращает пустую строку, если `path` пустой.

## Постоянные значения

- `MODE`: Строка, представляющая режим работы (например, 'dev').


## Модули

- `os`
- `sys`
- `pathlib`
- `typing`
- `types`
- `selenium`
- `selenium.webdriver.chrome.service`
- `selenium.webdriver.chrome.options`
- `fake_useragent`
- `selenium.common.exceptions`
- `header`
- `src.gs`
- `src.webdriver.executor`
- `src.webdriver.js`
- `src.utils.jjson`
- `src.logger`


## Файлы конфигурации

- `chrome.json`: Конфигурационный файл для драйвера Chrome.

## Примечания

- Модуль использует синглтон-паттерн для драйвера Chrome.
- Обработка исключений выполняется с помощью `try...except` блоков.
- Весь код обработки ошибок в методах сопровождается подробными лог-сообщениями для отладки.
- Документация использует Markdown.