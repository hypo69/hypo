# Модуль `post_message.py`

## Обзор

Модуль `post_message.py` предназначен для автоматизации процесса публикации сообщений, включая текст и медиафайлы, на платформе Facebook. Он предоставляет функции для отправки текста, загрузки медиа, обновления подписей и публикации поста.

## Содержание

1.  [Функции](#Функции)
    *   [`post_title`](#post_title)
    *   [`upload_media`](#upload_media)
    *  [`update_images_captions`](#update_images_captions)
    *   [`publish`](#publish)
    *   [`promote_post`](#promote_post)
    *    [`post_message`](#post_message)

## Функции

### `post_title`

**Описание**: Отправляет заголовок и описание кампании в поле ввода сообщения.

**Параметры**:

*   `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
*   `message` (SimpleNamespace | str): Объект, содержащий заголовок и описание, или строка сообщения.

**Возвращает**:

*   `bool | None`: `True`, если заголовок и описание были успешно отправлены, иначе `None`.

**Пример**:

```python
driver = Driver(...)
category = SimpleNamespace(title="Заголовок кампании", description="Описание кампании")
post_title(driver, category)
True
```

### `upload_media`

**Описание**: Загружает медиафайлы в раздел изображений и обновляет подписи.

**Параметры**:

*   `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
*   `media` (SimpleNamespace | List[SimpleNamespace] | str | list[str]): Список объектов, содержащих пути к медиафайлам, или список путей к медиафайлам.
*   `no_video` (bool, optional): Флаг, указывающий, следует ли игнорировать видео. По умолчанию `False`.
*   `without_captions` (bool, optional): Флаг, указывающий, следует ли пропустить обновление подписей. По умолчанию `False`.

**Возвращает**:

*   `bool | None`: `True`, если медиафайлы были успешно загружены, иначе `None`.

**Вызывает исключения**:

*   `Exception`: Если произошла ошибка во время загрузки медиа или обновления подписи.

**Пример**:

```python
driver = Driver(...)
products = [SimpleNamespace(local_saved_image='путь/к/изображению.jpg', ...)]
upload_media(driver, products)
True
```

### `update_images_captions`

**Описание**: Добавляет описания к загруженным медиафайлам.

**Параметры**:

*   `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
*   `media` (List[SimpleNamespace]): Список объектов с информацией о медиафайлах.
*   `textarea_list` (List[WebElement]): Список текстовых областей, куда добавляются подписи.

**Вызывает исключения**:
*   `Exception`: Если произошла ошибка при обновлении подписей медиа.

### `publish`

**Описание**: Опубликовывает сообщение.
**Параметры**:
*    `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
*   `attempts` (int, optional): Количество попыток публикации. По умолчанию `5`.

**Возвращает**:
*   `bool | None`: `True`, если сообщение было успешно отправлено, иначе `None`.

### `promote_post`

**Описание**: Управляет процессом продвижения поста с заголовком, описанием и медиафайлами.

**Параметры**:

*   `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
*   `category` (SimpleNamespace): Объект, содержащий заголовок и описание для поста.
*   `products` (List[SimpleNamespace]): Список объектов с информацией о медиафайлах и их деталях.
*   `no_video` (bool, optional): Флаг, указывающий, следует ли игнорировать видео. По умолчанию `False`.

**Пример**:

```python
driver = Driver(...)
category = SimpleNamespace(title="Заголовок кампании", description="Описание кампании")
products = [SimpleNamespace(local_saved_image='путь/к/изображению.jpg', ...)]
promote_post(driver, category, products)
```

### `post_message`

**Описание**: Управляет процессом публикации сообщения с заголовком, описанием и медиафайлами.

**Параметры**:

*   `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
*   `message` (SimpleNamespace): Объект, содержащий заголовок и описание для поста.
*   `no_video` (bool, optional): Флаг, указывающий, следует ли игнорировать видео. По умолчанию `False`.
*  `images` (Optional[str | list[str]], optional): Список путей к изображениям. По умолчанию `None`.
*   `without_captions` (bool, optional): Флаг, указывающий, следует ли пропустить обновление подписей. По умолчанию `False`.

**Возвращает**:

*   `bool | None`: `True`, если сообщение было успешно отправлено, иначе `None`.

**Пример**:

```python
driver = Driver(...)
message = SimpleNamespace(title="Заголовок кампании", description="Описание кампании")
products = [SimpleNamespace(local_saved_image='путь/к/изображению.jpg', ...)]
post_message(driver, message, products)
```