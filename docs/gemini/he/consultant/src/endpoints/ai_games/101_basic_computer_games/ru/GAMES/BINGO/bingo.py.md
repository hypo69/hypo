# Анализ кода модуля bingo.py
 
 **Качество кода**
 
 - Соответствие требованиям к формату кода (1-10):
   -  **Преимущества**:
         -  Код хорошо структурирован и разбит на логические функции.
         -  Используются описательные имена переменных и функций.
         -  Присутствуют docstring для каждой функции, что облегчает понимание кода.
         -  Реализован алгоритм игры "Бинго" в соответствии с заданным описанием.
   -  **Недостатки**:
         -  Не используются `j_loads` или `j_loads_ns` из `src.utils.jjson`.
         -  Отсутствует импорт и использование `logger` для обработки ошибок.
         -  Не все комментарии соответствуют формату reStructuredText (RST).
         -  Отсутствуют дополнительные комментарии в коде, объясняющие логику работы отдельных блоков.
 
 **Рекомендации по улучшению**
 
 1.  Импортировать и использовать `from src.logger.logger import logger` для обработки ошибок.
 2.  Заменить все `json.load` на `j_loads` или `j_loads_ns` из `src.utils.jjson`, если таковые используются (в данном коде не используются).
 3.  Добавить обработку исключений с использованием `try-except` и логирование ошибок через `logger.error`.
 4.  Преобразовать все docstring в формат reStructuredText (RST).
 5.  Добавить комментарии к важным строкам кода, объясняя их назначение.
 6.  Привести имена переменных и функций в соответствие с ранее обработанными файлами (если это необходимо).
 
 ```python
 """
 Модуль для игры в Бинго
 =========================================================================================
 
 Модуль реализует упрощенную версию игры в Бинго.
 
 Игра "Бинго" представляет собой упрощенную версию классической игры, в которой генерируется случайная карточка 5x5 с числами от 1 до 75 (не включая числа, кратные 10, например, 10, 20, 30 и т.д.).
 Пользователю показывается карточка, затем называются случайные числа от 1 до 75.
 Если названное число есть на карточке, оно отмечается.
 Игра заканчивается, если все числа на карточке отмечены.
 
 Правила игры:
 1. Генерируется игровая карточка 5x5 со случайными числами от 1 до 75, исключая числа, кратные 10.
 2. Игроку поочередно называются случайные числа от 1 до 75.
 3. Если названное число есть на карточке, оно отмечается (заменяется на 0).
 4. Игра продолжается до тех пор, пока все числа на карточке не будут отмечены.
 5. После завершения игры выводится сообщение о победе.
 
 Пример использования:
 
 .. code-block:: python
 
     from bingo import play_bingo
 
     play_bingo()
 """
 
 import random
 from src.logger.logger import logger # Импортируем logger для логирования ошибок
 
 def create_bingo_card():
     """
     Создает и возвращает карточку бинго 5x5.
 
     Карточка содержит уникальные случайные числа от 1 до 75, исключая числа, кратные 10.
 
     :return: Карточка бинго.
     :rtype: list of lists
     """
     card = []
     numbers = [i for i in range(1, 76) if i % 10 != 0] # создаем список чисел от 1 до 75, не кратных 10
     random.shuffle(numbers) # перемешиваем список
 
     # Заполняем карточку числами из перемешанного списка
     for i in range(5):
         row = []
         for j in range(5):
             row.append(numbers.pop())
         card.append(row)
     return card
 
 def print_bingo_card(card):
     """
     Выводит карточку бинго в консоль.
 
     :param card: Карточка бинго для вывода.
     :type card: list of lists
     """
     for row in card:
         print(" ".join(str(x).rjust(2) for x in row))
     print()
     
 def mark_number(card, number):
     """
     Отмечает число на карточке бинго, заменяя его на 0.
 
     :param card: Карточка бинго.
     :type card: list of lists
     :param number: Число для отметки.
     :type number: int
     """
     for i in range(len(card)):
         for j in range(len(card[i])):
             if card[i][j] == number:
                 card[i][j] = 0 # Заменяем найденное число на 0
                 return # Выходим из функции после замены
 
 def is_bingo(card):
     """
     Проверяет, все ли числа на карточке бинго отмечены (заменены на 0).
 
     :param card: Карточка бинго для проверки.
     :type card: list of lists
     :return: True, если все числа отмечены, иначе False.
     :rtype: bool
     """
     for row in card:
         for num in row:
             if num != 0:
                 return False # Если найдено число, не равное 0, возвращаем False
     return True # Если все числа равны 0, возвращаем True
   
 def play_bingo():
     """
     Запускает игру "Бинго".
 
     Создает карточку бинго, выводит ее на экран и генерирует случайные числа.
     Игра заканчивается, когда все числа на карточке отмечены.
     """
     bingo_card = create_bingo_card() # Создаем игровую карточку
     print("Ваша карточка BINGO:")
     print_bingo_card(bingo_card) # Выводим карточку на экран
 
     called_numbers = set() # Набор для отслеживания уже названных чисел
 
     while not is_bingo(bingo_card): # Игровой цикл
         try:
            number = random.randint(1, 75) # Генерируем новое случайное число
            while number in called_numbers:
                number = random.randint(1, 75) # Генерируем новое случайное число, если такое уже вызывалось
 
            called_numbers.add(number) # Записываем номер в уже вызванные
            print(f"Выпало число: {number}")
            mark_number(bingo_card, number) # Отмечаем число на карточке
            print_bingo_card(bingo_card) # Выводим карточку на экран
         except Exception as e:
            logger.error(f'Произошла ошибка во время игры: {e}') # Логируем ошибку
            return
     print("BINGO!")
 
 if __name__ == "__main__":
     play_bingo()
 
 """
 Объяснение кода:
 
 1.  **Импорт модуля `random` и `logger`**:
     -   `import random`: Импортирует модуль `random`, который используется для генерации случайных чисел и перемешивания списков.
     -   `from src.logger.logger import logger`: Импортирует модуль `logger` для логирования ошибок.
 
 2.  **Функция `create_bingo_card()`**:
     -   `def create_bingo_card():`: Определяет функцию, которая создает и возвращает карточку бинго.
     -   `card = []`: Инициализирует пустой список `card`, который будет представлять собой матрицу 5x5 (карточку бинго).
     -   `numbers = [i for i in range(1, 76) if i % 10 != 0]`: Создает список чисел от 1 до 75, исключая числа, кратные 10.
     -   `random.shuffle(numbers)`: Перемешивает список чисел случайным образом.
     -   **Заполнение карточки**:
         -   Вложенные циклы `for i in range(5)` и `for j in range(5)`: Перебирают все ячейки матрицы 5x5.
         -   `row.append(numbers.pop())`: Извлекает последнее число из списка `numbers` и добавляет его в текущую строку карточки.
         -   `card.append(row)`: Добавляет сформированную строку в карточку.
     -   `return card`: Возвращает готовую карточку бинго.
 
 3.  **Функция `print_bingo_card(card)`**:
     -   `def print_bingo_card(card):`: Определяет функцию, которая выводит карточку бинго на экран.
     -   Цикл `for row in card`: Перебирает все строки карточки.
     -   `print(" ".join(str(x).rjust(2) for x in row))`: Выводит текущую строку. `str(x).rjust(2)` преобразует каждое число в строку, выравнивая его по правому краю до 2 символов, и " ".join() вставляет пробелы между числами.
     -   `print()`: Добавляет пустую строку после вывода карточки для лучшего форматирования.
 
 4.  **Функция `mark_number(card, number)`**:
     -  `def mark_number(card, number):`: Определяет функцию, которая отмечает число на карточке бинго.
     -  **Поиск и замена числа**:
         -  Вложенные циклы `for i in range(len(card))` и `for j in range(len(card[i]))`: Перебирают все ячейки карточки.
         -  `if card[i][j] == number:`: Проверяет, равно ли текущее число искомому.
         -  `card[i][j] = 0`: Если число найдено, оно заменяется на 0.
         -  `return`: Завершает функцию после первой замены.
 
 5.  **Функция `is_bingo(card)`**:
     -  `def is_bingo(card):`: Определяет функцию, которая проверяет, все ли числа на карточке отмечены.
     -  **Проверка всех чисел**:
         -  Цикл `for row in card`: Перебирает все строки карточки.
         -  Цикл `for num in row`: Перебирает все числа в текущей строке.
         -  `if num != 0:`: Если найдено неотмеченное число (не равное 0), возвращает `False`.
     -  `return True`: Если все числа отмечены, возвращает `True`.
 
 6.  **Функция `play_bingo()`**:
     -  `def play_bingo():`: Определяет функцию, которая запускает игру "Бинго".
     -  `bingo_card = create_bingo_card()`: Создает карточку бинго.
     -  `print("Ваша карточка BINGO:")`: Выводит сообщение о начале игры.
     -  `print_bingo_card(bingo_card)`: Выводит карточку на экран.
     -  `called_numbers = set()`: Создает множество для хранения уже вызванных чисел, чтобы избежать повторений.
     -  **Игровой цикл**:
         -  `while not is_bingo(bingo_card)`: Выполняется, пока на карточке есть неотмеченные числа.
         - `try:`: Блок для отлова ошибок
         - `number = random.randint(1, 75)`: Генерирует случайное число.
         - `while number in called_numbers`: Генерирует новое число, пока оно уже не было вызвано.
         - `called_numbers.add(number)`: Добавляет число в множество вызванных.
         -  `print(f"Выпало число: {number}")`: Выводит выпавшее число.
         -  `mark_number(bingo_card, number)`: Отмечает число на карточке.
         - `print_bingo_card(bingo_card)`: Выводит обновленную карточку на экран.
         - `except Exception as e`: Ловим все ошибки в блоке try
         - `logger.error(f'Произошла ошибка во время игры: {e}')`: Логируем ошибку
         - `return`: Завершаем функцию.
     -  `print("BINGO!")`: Выводит сообщение о победе, когда все числа отмечены.
 
 7.  **Условный запуск игры**:
     -  `if __name__ == "__main__":`: Проверяет, что файл запущен как основной, а не импортирован как модуль.
     -  `play_bingo()`: Вызывает функцию `play_bingo()` для запуска игры.
 """
 ```