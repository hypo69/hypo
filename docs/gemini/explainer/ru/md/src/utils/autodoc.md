# hypotez/src/utils/autodoc.py

Этот файл содержит модуль `autodoc`, предоставляющий декоратор для автоматического обновления строки документации (docstring) функций.

## Функциональность

Модуль реализует декоратор `autodoc`, который добавляет информацию о времени последнего вызова функции в её docstring.  Это позволяет отслеживать, когда функция была последний раз выполнена.

Декоратор `autodoc` работает следующим образом:

1. Оборачивает исходную функцию с помощью `functools.wraps`. Это сохраняет атрибуты исходной функции, включая её имя и docstring.
2. Внутри обернутой функции `wrapper` вызывается функция `update_docstring(func)`. Это обновляет docstring, добавляя информацию о текущем времени.
3. Возвращает результат вызова исходной функции.

Функция `update_docstring(func)` выполняет следующие действия:

* Получает текущее время с помощью `time.strftime()`.
* Проверяет, существует ли у функции `func` docstring.
* Если docstring существует, добавляет строку с текущим временем в конец docstring.
* Если docstring не существует, устанавливает новую строку с текущим временем в качестве docstring.

## Пример использования

Пример функции `example_function` демонстрирует использование декоратора `autodoc`.  Каждый вызов функции `example_function` обновляет её docstring с информацией о времени последнего вызова:

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")

example_function(1, "test")
print(example_function.__doc__)  # Вывод обновленного docstring
example_function(2, "another test")
print(example_function.__doc__)  # Вывод обновленного docstring
```

При выполнении этого примера на экран будут выведены обновленные docstring с информацией о времени последнего вызова.

## Структура модуля

* **`autodoc(func)`:** Декоратор, обновляющий docstring.
* **`update_docstring(func)`:** Функция, обновляющая docstring.
* **`example_function`:** Пример функции, использующей декоратор `autodoc`.

## Заключение

Модуль `autodoc` полезен для отслеживания активности функций в программном коде, обеспечивая документацию с актуальными временными метками.