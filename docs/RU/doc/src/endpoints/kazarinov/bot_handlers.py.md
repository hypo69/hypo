# Модуль `bot_handlers_parser.py`

## Обзор

Модуль `bot_handlers_parser.py` предназначен для обработки событий, поступающих от телеграм-бота `kazarinov_bot`. Он включает в себя функциональность для работы с URL, полученными от пользователя, в частности, для обработки ссылок OneTab и запуска соответствующих сценариев.

## Оглавление

- [Классы](#классы)
    - [`BotHandler`](#bothandler)
- [Функции](#функции)
    - [`handle_url`](#handle_url)
    - [`handle_next_command`](#handle_next_command)
    - [`fetch_target_urls_onetab`](#fetch_target_urls_onetab)

## Классы

### `BotHandler`

**Описание**: Исполнитель команд, полученных от бота.

**Методы**:
- `__init__`: Инициализация обработчика событий телеграм-бота.
- `handle_url`: Обработка URL, присланного пользователем.
- `handle_next_command`: Обработка команды `--next` и её аналогов.
- `fetch_target_urls_onetab`: Извлечение целевых URL с указанного URL OneTab.

#### `__init__`

**Описание**: Инициализация обработчика событий телеграм-бота.

**Параметры**:
- `webdriver_name` (Optional[str]): Название веб-драйвера для запуска.

**Возвращает**:
- `None`: Метод ничего не возвращает.

#### `handle_url`

**Описание**: Обработка URL, присланного пользователем.

**Параметры**:
- `update` (Update): Объект обновления из телеграма.
- `context` (CallbackContext): Контекст выполнения.

**Возвращает**:
- `Any`: Возвращает `True` в случае успешной обработки ссылки или `None` в случае ошибки.

#### `handle_next_command`

**Описание**: Обработка команды `--next` и её аналогов.

**Параметры**:
- `update` (Update): Объект обновления из телеграма.

**Возвращает**:
- `None`: Метод ничего не возвращает.

**Вызывает исключения**:
- `Exception`:  Возникает при ошибке чтения вопросов.

#### `fetch_target_urls_onetab`

**Описание**: Извлечение целевых URL с указанного URL OneTab.

**Параметры**:
- `one_tab_url` (str): URL страницы OneTab.

**Возвращает**:
- `list[str] | bool`: Список целевых URL или `None` при ошибке.

**Вызывает исключения**:
- `requests.exceptions.RequestException`: Возникает при ошибке выполнения запроса.

## Функции

### `handle_url`

**Описание**: Обработка URL, присланного пользователем.

**Параметры**:
- `update` (Update): Объект обновления из телеграма.
- `context` (CallbackContext): Контекст выполнения.

**Возвращает**:
- `Any`: Возвращает `True` в случае успешной обработки ссылки или `None` в случае ошибки.

### `handle_next_command`

**Описание**: Обработка команды `--next` и её аналогов.

**Параметры**:
- `update` (Update): Объект обновления из телеграма.

**Возвращает**:
- `None`: Метод ничего не возвращает.

**Вызывает исключения**:
- `Exception`: Возникает при ошибке чтения вопросов.

### `fetch_target_urls_onetab`

**Описание**: Извлечение целевых URL с указанного URL OneTab.

**Параметры**:
- `one_tab_url` (str): URL страницы OneTab.

**Возвращает**:
- `list[str] | None`: Список целевых URL или `None` при ошибке.

**Вызывает исключения**:
- `requests.exceptions.RequestException`: Возникает при ошибке выполнения запроса.