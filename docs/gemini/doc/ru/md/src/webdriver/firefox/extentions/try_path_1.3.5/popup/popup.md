# Документация для файла popup.html

## Обзор

Этот HTML-файл представляет собой интерфейс для расширения Firefox, позволяющий выполнять XPath-запросы и JavaScript-команды на странице.  Пользователь может задавать XPath выражения, типы возвращаемых значений, контексты и другие параметры для выполнения запросов.  Результаты запросов отображаются в табличном виде.


## Оглавление

- [Обзор](#обзор)
- [Раздел `Main`](#раздел-main)
- [Раздел `Context`](#раздел-context)
- [Раздел `namespaceResolver`](#раздел-namespaceresolver)
- [Раздел `Frame без id`](#раздел-frame-без-id)
- [Раздел `frameId`](#раздел-frameid)
- [Раздел `Результаты`](#раздел-результаты)


## Раздел `Main`

Этот раздел предназначен для выполнения основных XPath-запросов или JavaScript-команд.


### Выбор метода

`<select id="main-way">` -  Позволяет выбрать метод для выполнения запроса: `evaluate` (для XPath) или `querySelector/querySelectorAll` (для CSS).
* `data-method`:  Метод, который будет использован для выполнения.
* `data-type`: Тип данных ожидаемых результатов.

### Ввод выражения

`<textarea id="main-expression"></textarea>` -  Поле для ввода XPath выражения или JavaScript кода.


## Раздел `Context`

Этот раздел позволяет указать контекст для выполнения XPath или JavaScript запроса.


### Выбор метода

`<select id="context-way">` -  Позволяет выбрать метод выполнения запроса аналогично разделу `Main`.

### Ввод выражения

`<textarea id="context-expression"></textarea>` - Поле для ввода XPath выражения, применяемого к контексту.


## Раздел `namespaceResolver`

Этот раздел позволяет настроить обработку пространств имен для XPath-запросов.


### Ввод выражения

`<input type="text" id="resolver-expression">` - Поле для ввода объекта для `namespaceResolver`.  Обычно это JSON-объект, например `{"x":"http://www.w3.org/1999/xhtml"}`.


## Раздел `Frame без id`

Этот раздел предназначен для работы с фреймами, не имеющими id.


### Ввод выражения

`<input type="text" id="frame-designation-expression">` - Поле для ввода индекса фрейма в виде JSON массива, например `[1, 0]`.


## Раздел `frameId`

Этот раздел позволяет указать фрейм, в котором будет выполняться запрос.


### Кнопки

* `Get all frameId`:  Получение списка frameId.
* `Focus frame`: Выбор фрейма для выполнения запроса.

### Выбор фрейма

`<select id="frame-id-list">` - Список доступных frameId.

### Ввод выражения

`<input type="text" id="frame-id-expression">` - Поле для ввода XPath выражения, выполняемого в выбранном фрейме.

### Кнопки
* `Focus frame`:  Выбрать фрейм для выполнения запроса.
* `Show previous results`: Показать предыдущие результаты.


## Раздел `Результаты`

Этот раздел отображает результаты выполнения запросов.

### Элементы

* `Message`: Сообщение об успехе или ошибке выполнения.
* `Count`: Количество полученных результатов.
* `frameId`: Id фрейма, в котором выполнялся запрос.
* Таблица `context-detail`:  Подробная информация о контексте.
* Таблица `results-details`:  Подробная информация о результатах.
* Кнопки управления результатами: `show-all-results`, `previous-details-page`, `move-details-page`, `next-details-page`, ... - для навигации и отображения результатов.