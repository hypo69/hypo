# Анализ кода модуля `header`

## Качество кода:

- **Соответствие стандартам**: 7
- **Плюсы**:
    - Код выполняет свою основную задачу - определение корневой директории проекта.
    - Используется `pathlib.Path` для работы с путями, что является хорошей практикой.
    - Есть описание модуля и функции.
- **Минусы**:
    - Отсутствует RST-документация для модуля и функции.
    - Не используется `logger` из `src.logger` для логирования.
    - В коде присутствуют магические значения (кортеж `marker_files`).
    - Не используются константы для магических значений.
    - Комментарии не полные.
    - Присутствуют лишние комментарии.
    - Переменные не выравнены.

## Рекомендации по улучшению:

- Добавить RST-документацию для модуля и функции, включая описание параметров, возвращаемых значений и примеры использования.
- Использовать `from src.logger import logger` для логирования ошибок.
- Вынести `marker_files` в константу и дать ей осмысленное название.
- Добавить проверку, что `__file__` существует, и в случае ее отсутствия использовать текущую директорию.
- Улучшить комментарии, добавив объяснения назначения кода.
- Избавиться от лишних комментариев.
- Выравнять названия переменных.

## Оптимизированный код:

```python
"""
Модуль для определения корневой директории проекта.
=====================================================

Модуль предоставляет функцию :func:`set_project_root`, которая определяет корневую директорию проекта,
используя набор маркеров для ее идентификации.

Пример использования
----------------------
.. code-block:: python

    from src.utils.header import __root__
    print(__root__)
"""
import sys
from pathlib import Path

# Маркеры для определения корневой директории проекта
PROJECT_ROOT_MARKERS: tuple[str, ...] = ('__root__', '.git')

def set_project_root(marker_files: tuple[str, ...] = PROJECT_ROOT_MARKERS) -> Path:
    """
    Определяет корневой каталог проекта, начиная с текущего файла,
    просматривая вверх и останавливаясь на первом каталоге, содержащем любой из файлов-маркеров.

    :param marker_files: Кортеж имен файлов или каталогов, идентифицирующих корень проекта.
    :type marker_files: tuple[str, ...]
    :return: Путь к корневому каталогу, если он найден, иначе - каталог, где расположен скрипт.
    :rtype: Path

    :raises FileNotFoundError: Если не удается определить корневой каталог.

    Пример:
        >>> from pathlib import Path
        >>> from src.utils.header import set_project_root
        >>> root_path = set_project_root()
        >>> print(isinstance(root_path, Path))
        True
    """
    current_path: Path
    if '__file__' in locals():
        current_path = Path(__file__).resolve().parent # Получаем путь к директории текущего файла
    else:
        current_path = Path('.').resolve() # Если __file__ не определен, используем текущую директорию
    __root__: Path = current_path # Устанавливаем начальное значение __root__

    for parent in [current_path] + list(current_path.parents): # Проходим по текущему каталогу и всем родительским
        if any((parent / marker).exists() for marker in marker_files): # Проверяем наличие маркеров
            __root__ = parent # Нашли корень проекта, устанавливаем
            break # Выходим из цикла

    if __root__ not in sys.path:
        sys.path.insert(0, str(__root__)) # Добавляем корень проекта в sys.path, если его там нет

    return __root__


# Получаем корневую директорию проекта
__root__: Path = set_project_root()
"""
Path: Путь к корневой директории проекта.
"""
```