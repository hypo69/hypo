# Анализ кода модуля rocket.py

**Качество кода**
7
- Плюсы
    - Код содержит docstring для модуля.
    - Код читаемый и понятный.
    - Присутствует базовая обработка ошибок ввода.
    - Код соответствует логике игры "Ракета".
    - Есть подробное описание алгоритма игры в начале файла.
    - Используется константа `GRAVITY` для ускорения свободного падения.
    - Присутствует блок-схема в формате mermaid.

- Минусы
    - Не используется `j_loads` или `j_loads_ns` из `src.utils.jjson`.
    - Отсутствует логирование ошибок с использованием `from src.logger.logger import logger`.
    - Присутствует избыточное использование стандартного блока `try-except`.
    - Нет docstring для константы GRAVITY.

**Рекомендации по улучшению**
1. Добавить docstring для константы `GRAVITY`.
2.  Заменить стандартный блок `try-except` на обработку ошибок с помощью `logger.error`.
3. Добавить импорт `logger` из `src.logger.logger`.
4. Удалить блок try-except, поскольку ввод данных производится с преобразованием типов float и может выдать ошибку.
5. Привести в соответствие имена переменных с ранее обработанными файлами.
6. Использовать более информативные переменные.

**Оптимизиробанный код**
```python
"""
Модуль для реализации игры "Ракета".
=========================================================================================

В этой игре игрок вводит начальную скорость и угол наклона для запуска ракеты.
Компьютер вычисляет дальность полета и сообщает, достигла ли ракета цели.

Правила игры:
1. Игрок вводит начальную скорость (VELOCITY) и угол наклона (ANGLE).
2. Компьютер вычисляет дальность полета по формуле.
3. Если дальность >= 1000, выводится сообщение "GOOD SHOT".
4. Если дальность < 1000, выводится сообщение "SHORT SHOT".
5. Игра продолжается, пока игрок не введет отрицательную скорость.

Пример использования:

.. code-block:: python

    python rocket.py
"""
import math
# импортируем логер
from src.logger.logger import logger



#: Константа для ускорения свободного падения (в футах в секунду в квадрате).
GRAVITY = 32.2


# Начало игрового цикла
while True:
    try:
        # Запрос у пользователя начальной скорости
        velocity_input = input("Введите начальную скорость ракеты (футы/сек) (отрицательное значение для выхода): ")
        # Преобразуем ввод в число
        velocity = float(velocity_input)

        # Проверка, не хочет ли пользователь выйти из игры
        if velocity < 0:
            print("Игра завершена.")
            break # Если скорость отрицательная, то выходим из цикла
        # Запрос у пользователя угла наклона
        angle_input = input("Введите угол наклона (в градусах): ")
        # Преобразуем ввод в число
        angle = float(angle_input)

        # Преобразование угла из градусов в радианы
        angle_radians = math.radians(angle)

        # Вычисление дальности полета ракеты по формуле
        distance = (velocity**2 * math.sin(2 * angle_radians)) / GRAVITY

        # Вывод рассчитанной дальности
        print(f"Дальность полета ракеты: {distance:.2f} футов")

        # Проверка, достигла ли ракета цели
        if distance >= 1000:
            print("GOOD SHOT")
        else:
            print("SHORT SHOT")

    except ValueError as e:
         # Логирование ошибки, если ввод не является числом.
        logger.error(f"Ошибка ввода. Пожалуйста, введите числовое значение. Ошибка: {e}")