# Инструкция по написанию тестов `pytest`

## Обзор

Данная инструкция описывает процесс написания тестов для Python-кода с использованием фреймворка `pytest`.  Цель - создать полную и надежную тестовую базу, покрывающую различные сценарии работы, включая валидные данные, невалидные данные, граничные случаи и обработку исключений.

## Структура тестов

Тесты должны быть организованы в отдельных файлах `.py` с префиксом `test_`.  Каждый тестовый файл должен соответствовать определенному модулю или функции, которую он тестирует.

### Структура файла тестов

1. **Импорты:** Импортируйте необходимые модули, включая `pytest`.  Также импортируйте тестируемый код.

2. **Фикстуры (при необходимости):** Определите фикстуры для предоставления данных для тестов. Фикстуры полезны для инициализации общих данных или ресурсов для нескольких тестов.


3. **Тестовые функции:** Напишите тестовые функции, следующие принципам `pytest`:
    - Имена функций должны начинаться с `test_`.
    - Функции должны быть ясными и информативными, описывая цель теста.
    - Каждый тест должен быть независимым от других тестов.
    - Используйте `pytest.raises` для проверки обработки исключений.
    - Включайте комментарии, объясняющие логику каждого теста.

4. **Пример тестовой функции:**

```python
import pytest
import your_module  # Импортируйте тестируемый модуль

def test_your_function_valid_input(example_data):  # Пример использования фикстуры
    """Проверяет корректную работу функции с валидным вводом."""
    assert your_module.your_function(example_data['input']) == example_data['expected_output']


@pytest.mark.parametrize("input_value, expected_output", [
    (1, 2),
    (2, 4),
])
def test_your_function_multiple_inputs(input_value, expected_output):
    """Тест с использованием параметризации."""
    assert your_module.your_function(input_value) == expected_output


@pytest.mark.parametrize('input_val, expected', [
        (1, 11),
        (0, 0)
        ])
def test_your_function_positive_and_zero(input_val, expected):
    """Проверка для входных значений 1 и 0."""
    assert your_module.your_function(input_val) == expected


def test_your_function_ex_division_by_zero():
    """Проверяет обработку исключения ZeroDivisionError."""
    with pytest.raises(ZeroDivisionError):
        your_module.your_function(0)  # Или другое значение, вызывающее исключение
```

**Важно:** Замените `your_module` и `your_function` на имена вашего модуля и функции, которые вы тестируете.


## Обработка исключений

Используйте `pytest.raises` для проверки обработки исключений.  Это позволит убедиться, что ваш код корректно обрабатывает ошибки.  Примеры показаны в примере тестовой функции выше.

## Параметризация

Используйте `@pytest.mark.parametrize` для создания наборов входных данных и ожидаемых результатов, что позволит тестировать функцию с разными значениями.

## Пример использования `pytest.mark.skip`

```python
import pytest

def test_function_to_be_skipped():
    pytest.skip("This test is skipped for now.")
```

##  Правила наименования

Используйте ясные и описательные имена для тестовых функций, чтобы облегчить понимание их цели.

##  Фикстуры

Определите фикстуры для предоставления необходимых данных для тестов.  Примеры использования фикстур показаны в тестовых функциях.

##  Документация к тестам

Документируйте каждое тестовое утверждение с помощью комментариев `Docstrings`. Это важно для понимания цели и логики теста.


## Подробнее о pytest


Для более углубленного понимания pytest обратитесь к документации по [pytest](https://docs.pytest.org/en/stable/).  Вы можете изучить дополнительные возможности, такие как фикстуры, параметризацию, а также применение pytest для различных типов тестирования.