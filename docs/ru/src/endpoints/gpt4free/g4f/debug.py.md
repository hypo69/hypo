# Модуль отладки

## Обзор

Модуль `debug.py` предназначен для отладки и логирования в проекте `hypotez`. Он содержит функции для логирования сообщений, ошибок, а также настройки для ведения журнала.

## Подробнее

Модуль предоставляет простые функции для управления логированием, что позволяет включать или отключать ведение журнала, а также обрабатывать сообщения об ошибках. Все сообщения, переданные в функции логирования, будут обработаны в соответствии с настройками, определенными в модуле.

## Переменные модуля

- `logging` (bool): Флаг, определяющий, включено ли логирование. По умолчанию `False`.
- `version_check` (bool): Флаг, определяющий, нужно ли проверять версию. По умолчанию `True`.
- `version` (Optional[str]): Текущая версия. По умолчанию `None`.
- `log_handler` (Callable): Функция-обработчик для логирования. По умолчанию `print`.
- `logs` (List[str]): Список для хранения логов.

## Функции

### `log`

```python
def log(*text: Any, file: Optional[Any] = None) -> None:
    """Log a message if logging is enabled."""
```

**Назначение**:
Функция `log` используется для логирования сообщений, если включено логирование.

**Параметры**:
- `*text` (Any): Переменное количество аргументов, которые будут объединены в сообщение для логирования.
- `file` (Optional[Any], optional): Необязательный параметр для указания файла, в который будет производиться запись. По умолчанию `None`.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Как работает функция**:

1. Проверяется, включено ли логирование через переменную `logging`.
2. Если логирование включено, вызывается функция `log_handler` с аргументами `*text` и `file=file`.

**Пример**:

```python
import debug

debug.logging = True  # Включаем логирование
debug.log("Это сообщение будет записано в лог")

```
ASCII flowchart:
```
    Начало
    ↓
    Проверка: logging == True?
    ↓ Да
    Вызов log_handler(*text, file=file)
    ↓
    Конец
```

### `error`

```python
def error(*error: Any, name: Optional[str] = None) -> None:
    """Log an error message to stderr."""
```

**Назначение**:
Функция `error` используется для логирования сообщений об ошибках в стандартный поток ошибок (stderr).

**Параметры**:
- `*error` (Any): Переменное количество аргументов, представляющих сообщение об ошибке.
- `name` (Optional[str], optional): Необязательное имя ошибки или типа исключения. По умолчанию `None`.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Как работает функция**:

1. Формируется список сообщений об ошибках, преобразуя каждый элемент в строку. Если `name` не указан, используется имя типа исключения.
2. Вызывается функция `log` с сформированным сообщением и указанием стандартного потока ошибок (`sys.stderr`).

**Пример**:

```python
import debug
import sys

try:
    raise ValueError("Некорректное значение")
except ValueError as ex:
    debug.error(ex, name="ValueError")
    #или
    debug.error("Обнаружена ошибка", file = sys.stderr)
```

ASCII flowchart:

```
    Начало
    ↓
    Преобразование сообщений об ошибках в строку
    ↓
    Вызов log(*error, file=sys.stderr)
    ↓
    Конец