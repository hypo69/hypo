# Класс `Supplier`

## Обзор

Этот класс служит основой для работы с поставщиками данных. Он предоставляет общие методы и атрибуты, которые могут быть использованы или переопределены конкретными реализациями поставщиков (например, Amazon, AliExpress, Walmart).  Класс обеспечивает абстракцию для работы с различными источниками данных, скрывая специфику каждого поставщика.

## Оглавление

* [Класс `Supplier`](#класс-supplier)
    * [Обзор](#обзор)
    * [Атрибуты](#атрибуты)
    * [Методы](#методы)
    * [Пример Использования](#пример-использования)
    * [Визуальное Представление](#визуальное-представление)
    * [Заключение](#заключение)


## Атрибуты

### `supplier_id`

Уникальный идентификатор поставщика.

### `supplier_prefix`

Префикс для поставщика (например, `aliexpress` или `amazon`).

### `supplier_settings`

Настройки для поставщика, загруженные из файла конфигурации.

### `locale`

Код локализации (например, `en` для английского, `ru` для русского).

### `price_rule`

Правило для расчета цены (например, добавление НДС или скидки).

### `related_modules`

Модуль, содержащий специфические для поставщика функции.

### `scenario_files`

Список файлов сценариев, которые должны быть выполнены.

### `current_scenario`

Текущий сценарий выполнения.

### `login_data`

Данные для входа на сайт поставщика (если требуется).

### `locators`

Локаторы для веб-элементов на страницах сайта поставщика.

### `driver`

Веб-драйвер для взаимодействия с сайтом поставщика.

### `parsing_method`

Метод парсинга данных (например, `webdriver`, `api`, `xls`, `csv`).


## Методы

### `__init__`

Конструктор класса. Инициализирует атрибуты на основе префикса поставщика и других параметров.

```python
def __init__(self, supplier_prefix: str, locale: str = 'en', webdriver: str | Driver | bool = 'default', *attrs, **kwargs):
    """
    Args:
        supplier_prefix (str): Префикс поставщика.
        locale (str, optional): Код локализации. По умолчанию 'en'.
        webdriver (str | Driver | bool, optional): Наименование веб-драйвера или объект драйвера. По умолчанию 'default'.
        *attrs: Дополнительные аргументы.
        **kwargs: Дополнительные ключевые аргументы.
    """
    # Инициализация префикса поставщика, локали и веб-драйвера
```

### `_payload`

Загружает настройки поставщика, конфигурационные файлы и инициализирует веб-драйвер.

```python
def _payload(self, webdriver: str | Driver | bool, *attrs, **kwargs) -> bool:
    """
    Загружает конфигурационные файлы и инициализирует веб-драйвер.

    Args:
        webdriver (str | Driver | bool): Наименование веб-драйвера или объект драйвера.
        *attrs: Дополнительные аргументы.
        **kwargs: Дополнительные ключевые аргументы.

    Returns:
        bool: True, если загрузка успешна, иначе False.
    """
    # Загрузка конфигурационных файлов и инициализация веб-драйвера
```

### `login`

Метод для выполнения входа на сайт поставщика (если требуется).

```python
def login(self) -> bool:
    """
    Выполнение входа на сайт поставщика.

    Returns:
        bool: True, если вход успешен, иначе False.
    """
    # Выполнение входа на сайт
```

### `run_scenario_files`

Запускает выполнение файлов сценариев.

```python
def run_scenario_files(self, scenario_files: str | List[str] = None) -> bool:
    """
    Запускает выполнение сценариев из файлов.

    Args:
        scenario_files (str | List[str], optional): Имя файла сценария или список имен файлов. По умолчанию None.

    Returns:
        bool: True, если выполнение успешно, иначе False.
    """
    # Выполнение сценариев из файлов
```

### `run_scenarios`

Запускает один или несколько сценариев.

```python
def run_scenarios(self, scenarios: dict | list[dict]) -> bool:
    """
    Запускает заданные сценарии.

    Args:
        scenarios (dict | list[dict]): Словарь или список словарей с параметрами сценария.

    Returns:
        bool: True, если выполнение успешно, иначе False.
    """
    # Выполнение заданных сценариев
```


## Пример Использования

```python
# Создаем объект для поставщика 'aliexpress'
supplier = Supplier(supplier_prefix='aliexpress', locale='en', webdriver='chrome')

# Выполняем вход на сайт поставщика
supplier.login()

# Запускаем сценарии из файлов
supplier.run_scenario_files(['example_scenario.json'])

# Или запускаем сценарии по определенным условиям
supplier.run_scenarios([{'action': 'scrape', 'target': 'product_list'}])
```


## Визуальное Представление

Класс `Supplier` можно представить как абстрактный класс, который определяет интерфейс для работы с различными поставщиками данных.  Конкретные реализации (например, `AliExpressSupplier`, `AmazonSupplier`) наследуют этот класс и предоставляют специфическую функциональность для каждого поставщика.


## Заключение

Класс `Supplier` служит в качестве базового класса для взаимодействия с различными поставщиками данных, обеспечивая общую логику и структуру.  Наследование от этого класса позволяет создать специализированные классы для каждого поставщика, что улучшает организацию и повторное использование кода.