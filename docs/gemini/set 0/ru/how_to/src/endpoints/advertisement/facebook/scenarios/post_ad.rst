Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код определяет функцию `post_ad`, которая предназначена для публикации рекламного сообщения в группе Facebook. Функция принимает экземпляр драйвера `Driver` и объект `SimpleNamespace` `message`, содержащий данные для публикации (заголовок, описание, путь к изображению). Она последовательно вызывает функции `post_message_title`, `upload_post_media` и `message_publish` для выполнения необходимых действий. Важно, что код обрабатывает возможные ошибки (возврат `False` из функций), учитывая лимит попыток, чтобы предотвратить бесконечный цикл при проблемах.


Шаги выполнения
-------------------------
1. **Получает данные:** Функция `post_ad` принимает драйвер `d` и объект `message` с данными для публикации (текст и, возможно, путь к изображению).

2. **Опубликовывает заголовок:**  Функция `post_message_title` используется для публикации заголовка сообщения. Если операция завершается ошибкой (возвращает `False`), увеличивается счетчик ошибок `fails`. Если количество ошибок превышает 15, выполнение функции прерывается. В противном случае, выполнение продолжается.

3. **Загружает медиа:** Если в объекте `message` указан путь к изображению (`message.image_path`), функция `upload_post_media` загружает изображение.  Результат операции проверяется, и если есть ошибка, функция сразу возвращает `None`.

4. **Опубликовывает сообщение:** Если предыдущие шаги выполнены успешно, функция `message_publish` публикует само сообщение. Если публикация завершается ошибкой, функция возвращает `None`.

5. **Обработка ошибок и сброс счетчика:** Если все этапы выполнены успешно, функция `post_ad` сбрасывает счетчик ошибок `fails` и возвращает `True`.


Пример использования
-------------------------
.. code-block:: python

    from src import gs
    from src.webdriver import Driver
    from src.endpoints.advertisement.facebook.scenarios import post_ad
    from types import SimpleNamespace
    import os

    # ... (код для инициализации драйвера) ...
    driver = Driver()

    # Создаем объект message
    message = SimpleNamespace(
        description="Это рекламное сообщение",
        image_path=os.path.join(gs.path.media, "advertisement_image.jpg")
    )


    if post_ad(driver, message):
        print("Сообщение опубликовано успешно.")
    else:
        print("Ошибка при публикации сообщения.")

    # ... (код для завершения работы с драйвером) ...