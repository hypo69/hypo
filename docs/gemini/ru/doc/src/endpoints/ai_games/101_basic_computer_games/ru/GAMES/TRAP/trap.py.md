# Модуль `trap.py`

## Обзор

Модуль `trap.py` реализует игру "Ловушка" для двух игроков. Цель игры - окружить клетку противника своими клетками. Если игрок окружает клетку противника со всех сторон, клетка противника захватывается.

## Оглавление

- [Константы](#константы)
- [Функции](#функции)
  - [`create_board`](#create_board)
  - [`display_board`](#display_board)
  - [`is_valid_move`](#is_valid_move)
  - [`is_cell_empty`](#is_cell_empty)
  - [`get_neighbors`](#get_neighbors)
  - [`can_capture`](#can_capture)
  - [`capture_cell`](#capture_cell)
  - [`make_move`](#make_move)
  - [`switch_player`](#switch_player)
  - [`is_board_full`](#is_board_full)
  - [`calculate_scores`](#calculate_scores)
  - [`determine_winner`](#determine_winner)
  - [`play_trap_game`](#play_trap_game)

## Константы

### `BOARD_SIZE`
Размер игрового поля. Установлен в значение 7, что означает игровое поле 7x7.

## Функции

### `create_board`
   
**Описание**:
Создает и возвращает пустое игровое поле в виде двумерного списка, заполненного нулями.

**Параметры**:
- Нет параметров.

**Возвращает**:
- `list[list[int]]`: Двумерный список (матрица) с размерами `BOARD_SIZE` x `BOARD_SIZE`, заполненный нулями.

**Вызывает исключения**:
- Нет исключений.

### `display_board`
   
**Описание**:
Выводит текущее состояние игрового поля в консоль, используя символы '.' для пустых клеток, '1' для меток первого игрока и '2' для меток второго игрока.

**Параметры**:
- `board` (list[list[int]]): Двумерный список, представляющий игровое поле.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- Нет исключений.

### `is_valid_move`
   
**Описание**:
Проверяет, находятся ли координаты (row, col) в пределах игрового поля.

**Параметры**:
- `row` (int): Координата строки.
- `col` (int): Координата столбца.

**Возвращает**:
- `bool`: `True`, если координаты действительны, иначе `False`.

**Вызывает исключения**:
- Нет исключений.

### `is_cell_empty`
   
**Описание**:
Проверяет, является ли клетка с координатами (row, col) пустой (равна 0).

**Параметры**:
- `board` (list[list[int]]): Двумерный список, представляющий игровое поле.
- `row` (int): Координата строки.
- `col` (int): Координата столбца.

**Возвращает**:
- `bool`: `True`, если клетка пуста, иначе `False`.

**Вызывает исключения**:
- Нет исключений.

### `get_neighbors`
   
**Описание**:
Возвращает список координат соседних клеток для заданной клетки (сверху, снизу, слева и справа).

**Параметры**:
- `row` (int): Координата строки.
- `col` (int): Координата столбца.

**Возвращает**:
- `list[tuple[int, int]]`: Список координат соседних клеток.

**Вызывает исключения**:
- Нет исключений.

### `can_capture`
   
**Описание**:
Проверяет, может ли клетка противника (с координатами row, col) быть захвачена текущим игроком.

**Параметры**:
- `board` (list[list[int]]): Двумерный список, представляющий игровое поле.
- `row` (int): Координата строки.
- `col` (int): Координата столбца.
- `current_player` (int): Номер текущего игрока (1 или 2).

**Возвращает**:
- `bool`: `True`, если клетка может быть захвачена, иначе `False`.

**Вызывает исключения**:
- Нет исключений.

### `capture_cell`
   
**Описание**:
Захватывает клетку противника, изменяя её значение на значение текущего игрока.

**Параметры**:
- `board` (list[list[int]]): Двумерный список, представляющий игровое поле.
- `row` (int): Координата строки.
- `col` (int): Координата столбца.
- `current_player` (int): Номер текущего игрока (1 или 2).

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- Нет исключений.

### `make_move`
   
**Описание**:
Размещает метку текущего игрока на выбранной клетке. Проверяет и захватывает соседние клетки противника, если они могут быть захвачены.

**Параметры**:
- `board` (list[list[int]]): Двумерный список, представляющий игровое поле.
- `row` (int): Координата строки.
- `col` (int): Координата столбца.
- `current_player` (int): Номер текущего игрока (1 или 2).

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- Нет исключений.

### `switch_player`
   
**Описание**:
Меняет текущего игрока (с 1 на 2 или с 2 на 1).

**Параметры**:
- `current_player` (int): Номер текущего игрока (1 или 2).

**Возвращает**:
- `int`: Номер следующего игрока.

**Вызывает исключения**:
- Нет исключений.

### `is_board_full`
   
**Описание**:
Проверяет, заполнено ли все игровое поле.

**Параметры**:
- `board` (list[list[int]]): Двумерный список, представляющий игровое поле.

**Возвращает**:
- `bool`: `True`, если все клетки заняты, иначе `False`.

**Вызывает исключения**:
- Нет исключений.

### `calculate_scores`
   
**Описание**:
Подсчитывает количество меток каждого игрока на игровом поле.

**Параметры**:
- `board` (list[list[int]]): Двумерный список, представляющий игровое поле.

**Возвращает**:
- `tuple[int, int]`: Кортеж, содержащий количество очков первого и второго игроков.

**Вызывает исключения**:
- Нет исключений.

### `determine_winner`
   
**Описание**:
Определяет победителя на основе подсчитанных очков.

**Параметры**:
- `player1_score` (int): Количество очков первого игрока.
- `player2_score` (int): Количество очков второго игрока.

**Возвращает**:
- `str`: Сообщение о победителе или ничьей.

**Вызывает исключения**:
- Нет исключений.

### `play_trap_game`
   
**Описание**:
Основная функция, управляющая ходом игры. Инициализирует игровое поле, текущего игрока, и запускает основной игровой цикл. Запрашивает ходы игроков, обрабатывает их, проверяет на корректность, захватывает клетки и переключает игроков. Выводит текущее состояние игрового поля и результаты игры.

**Параметры**:
- Нет параметров.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- `ValueError`: Если введены некорректные значения координат.