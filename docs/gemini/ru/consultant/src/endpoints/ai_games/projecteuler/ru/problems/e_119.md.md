# Анализ кода модуля e_119.md

**Качество кода**
7
- Плюсы
    - Код содержит описание задачи и примеры.
    - Структура файла соответствует формату .md.
- Минусы
    - Отсутствует исполняемый код на Python для решения задачи.
    - Нет комментариев в формате reStructuredText (RST).
    - Нет обработки ошибок и логирования.
    - Не используются функции `j_loads` или `j_loads_ns` (так как кода на Python нет).
    - Отсутствуют импорты.

**Рекомендации по улучшению**

1.  **Добавить исполняемый код на Python:**  Реализовать функцию, которая будет находить числа, удовлетворяющие условию задачи, и возвращать a(30).
2.  **Документировать код в RST:**  Включить описание модуля, функций и переменных в формате reStructuredText (RST).
3.  **Добавить логирование ошибок:**  Использовать `from src.logger.logger import logger` для записи ошибок и отладки.
4.  **Обработка ошибок:**  Добавить блоки try-except для обработки возможных ошибок во время выполнения.
5.  **Использовать j_loads если необходим парсинг json:** Если в задаче требуется чтение данных из файла, использовать `j_loads` или `j_loads_ns`.
6.  **Оптимизация кода:** Оптимизировать алгоритм для ускорения поиска a(30).
7.  **Добавление проверки на валидность данных:** Проверять корректность входных данных и результатов.

**Оптимизированный код**

```python
"""
Модуль для решения задачи 119 Project Euler.
=========================================================================================

Этот модуль находит n-е число, у которого сумма цифр в определённой степени равна основанию.

Пример использования
--------------------

.. code-block:: python

    from src.endpoints.ai_games.projecteuler.ru.problems.e_119 import find_a_n

    result = find_a_n(30)
    print(f"a(30) = {result}")
"""
from src.logger.logger import logger
from typing import List

def sum_digits(n: int) -> int:
    """
    Вычисляет сумму цифр числа.

    :param n: Исходное число.
    :return: Сумма цифр числа.
    """
    s = 0
    while n:
        s += n % 10
        n //= 10
    return s

def find_a_n(n: int) -> int:
    """
    Находит n-е число, у которого сумма цифр в определённой степени равна основанию.

    :param n: Номер искомого числа в последовательности.
    :return: n-е число в последовательности a(n).
    """
    found: List[int] = []
    num = 2
    try:
      while len(found) < n:
          for power in range(2, 10):
              val = num ** power
              if sum_digits(val) == num:
                  found.append(val)
                  break # чтобы не считать лишние степени
          num += 1
    except Exception as ex:
      logger.error('Ошибка при вычислении a(n)', ex)
      return -1
    # Сортировка и возврат
    found.sort()
    return found[n-1]


if __name__ == '__main__':
    result = find_a_n(30)
    print(f"a(30) = {result}")
```