# Модуль `hypotez/src/suppliers/aliexpress/affiliated_products_generator.py`

## Обзор

Этот модуль содержит класс `AliAffiliatedProducts`, предназначенный для сбора данных о продуктах с сайта AliExpress, включая аффилированные ссылки и сохраненные изображения/видео. Класс наследуется от `AliApi` и предоставляет метод `process_affiliate_products` для обработки списка идентификаторов продуктов, возвращая список обработанных продуктов с аффилированными ссылками и сохраненными изображениями.

## Классы

### `AliAffiliatedProducts`

**Описание**: Класс для сбора полных данных о продуктах с AliExpress по URL или идентификаторам продуктов. Подробнее о создании шаблонов для рекламных кампаний см. раздел "Управление рекламными кампаниями на AliExpress".

**Атрибуты**:

- `language`: Язык кампании (по умолчанию 'EN').
- `currency`: Валюта кампании (по умолчанию 'USD').

**Методы**:

#### `__init__`

**Описание**: Инициализирует класс `AliAffiliatedProducts`.

**Параметры**:

- `language` (str | dict, optional): Язык кампании (по умолчанию 'EN').
- `currency` (str, optional): Валюта кампании (по умолчанию 'USD').

**Возвращает**:

- None

#### `process_affiliate_products`

**Описание**: Обрабатывает список идентификаторов продуктов (или URL) и возвращает список продуктов с аффилированными ссылками и сохраненными изображениями.

**Параметры**:

- `prod_ids` (list[str]): Список URL или идентификаторов продуктов.
- `category_root` (Path | str): Путь к корневой директории категории.

**Возвращает**:

- list[SimpleNamespace]: Список обработанных продуктов с аффилированными ссылками и сохраненными изображениями.

**Примеры использования**:

```python
campaign = SimpleNamespace(category={})
category_name = "electronics"
prod_ids = ["http://example.com/product1", "http://example.com/product2"]
products = campaign.process_affiliate_products(category_name, prod_ids)
for product in products:
    print(product.product_title)
```

**Возможные исключения**:

- `Exception`: Если имя категории не найдено в кампании.


## Функции

(Список функций и методов, если они есть, добавить сюда)


## Модульные переменные


- `MODE`: Строковая переменная, хранящая режим работы (например, 'dev').



**Примечание**: Документация содержит подробное описание алгоритма обработки, включая блок-схему.  Необходимо добавить документацию для других функций и методов, если они есть.