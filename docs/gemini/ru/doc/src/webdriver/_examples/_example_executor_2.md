# Модуль hypotez/src/webdriver/_examples/_example_executor_2.py

## Обзор

Этот модуль содержит примеры использования класса `ExecuteLocator` для различных сценариев тестирования. В нем показаны примеры создания экземпляра `ExecuteLocator`, выполнения различных задач с его помощью, включая получение элементов по XPath, отправку сообщений, работу с событиями, обработку исключений и использование списка локаторов. Приведены примеры для различных уровней сложности, от простых до сложных, с подробными комментариями.


## Оглавление

* [Примеры использования](#Примеры-использования)
    * [Простой пример](#Простой-пример)
    * [Пример использования с различными событиями и атрибутами](#Пример-использования-с-различными-событиями-и-атрибутами)
    * [Пример обработки ошибки и продолжения на ошибки](#Пример-обработки-ошибки-и-продолжения-на-ошибки)
    * [Пример использования с `send_message`](#Пример-использования-с-send_message)
    * [Пример с использованием списка локаторов](#Пример-с-использованием-списка-локаторов)
    * [Пример использования `evaluate_locator`](#Пример-использования-evaluate_locator)
    * [Пример с обработкой исключений](#Пример-с-обработкой-исключений)
    * [Полный пример теста](#Полный-пример-теста)


## Примеры использования

### Простой пример

Этот пример демонстрирует базовое использование класса `ExecuteLocator` для получения элемента по XPath и получения его текстового содержимого.

```python
# Создание экземпляра WebDriver (например, Chrome)
# ...

# Создание экземпляра ExecuteLocator
# ...

# Простой локатор для получения элемента по XPath
simple_locator = {
    "by": "XPATH",
    "selector": "//h1",
    "attribute": "textContent",
    "timeout": 0,  #Временной лимит
    "timeout_for_event": "presence_of_element_located",  #событие
    "event": None,  #событие
    "if_list": "first",  #в случае списка - выбор первого элемента
    "use_mouse": False,
    "mandatory": True,
    "locator_description": "Получение заголовка страницы"
}

# Выполнение локатора
result = locator.execute_locator(simple_locator)
print(f"Результат выполнения простого локатора: {result}")
```

**Описание**: Создается и используется `ExecuteLocator` для получения текста заголовка страницы.


### Пример использования с различными событиями и атрибутами

Пример использования `ExecuteLocator` с более сложной структурой локатора, включающей в себя навигацию по страницам.

```python
# Пример локатора для отправки сообщения и получения атрибута
complex_locator = {
    # ... (Сложная структура локатора)
}

# Выполнение локатора
result = locator.execute_locator(complex_locator)
print(f"Результат выполнения сложного локатора: {result}")
```

**Описание**: Использование `ExecuteLocator` для выполнения сложных операций с веб-элементами, таких как клик по элементам пагинации и получение ссылок на продукты.


### Пример обработки ошибки и продолжения на ошибки

Демонстрация обработки исключения `ExecuteLocatorException` и возможности продолжения выполнения кода при ошибке.

```python
try:
    locator.execute_locator(complex_locator, continue_on_error=True)
except ExecuteLocatorException as ex:
    print(f"Произошла ошибка: {ex}")
```

**Описание**: Обработка исключений, возникающих при выполнении локатора, для продолжения работы программы.


### Пример использования с `send_message`

Демонстрация использования метода `send_message` для отправки сообщений в текстовые поля.

```python
# Пример отправки сообщения в текстовое поле
message_locator = {
    # ...
}
# Отправка сообщения с использованием метода send_message
message = "Купить новый телефон"
result = locator.send_message(message_locator, message, typing_speed=0.05, continue_on_error=True)
print(f"Результат отправки сообщения: {result}")
```

**Описание**: Отправка текста в поле ввода с учетом скорости набора.


### Пример с использованием списка локаторов

Пример работы с множественными локаторами в одном запросе.

```python
# Пример работы с множественными локаторами
multi_locator = {
    # ...
}
# Выполнение локатора с несколькими элементами
results = locator.execute_locator(multi_locator)
print(f"Результаты выполнения множества локаторов: {results}")
```

**Описание**: Одновременная работа с несколькими элементами (клик, ввод текста).


### Пример использования `evaluate_locator`

Пример использования метода `evaluate_locator` для получения значений атрибутов элементов.

```python
# Пример оценки локатора
attribute_locator = {
    # ...
}
# Оценка локатора и получение атрибута
attribute_value = locator.evaluate_locator(attribute_locator['attribute'])
print(f"Значение атрибута: {attribute_value}")
```


### Пример с обработкой исключений

Пример обработки исключений при выполнении локатора.

```python
try:
    locator.execute_locator(simple_locator)
except ExecuteLocatorException as ex:
    print(f"Произошла ошибка при выполнении локатора: {ex}")
```


### Полный пример теста

Пример использования всех функциональных возможностей `ExecuteLocator` в одном тесте.

```python
# ... (Полный пример теста)
```

**Описание**: Полный пример демонстрирующий использование всех функциональностей модуля.


## Функции

### `execute_locator`


**Описание**:  Выполнение локатора.


**Параметры**:

- `locator (dict)`: Локатор для поиска элемента.
- `continue_on_error (bool, optional)`: Продолжать выполнение, даже если произошла ошибка. По умолчанию `False`.


**Возвращает**:

- `object | None`: Результат выполнения, либо `None` при ошибке.


**Вызывает исключения**:

- `ExecuteLocatorException`: При ошибке выполнения локатора.