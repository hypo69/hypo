# Модуль `category`

## Обзор

Модуль `category` предназначен для работы с категориями товаров, в основном для PrestaShop. Он содержит классы и функции для взаимодействия и обработки данных категорий товаров.

## Оглавление
1. [Классы](#классы)
   - [`Category`](#category)
2. [Функции](#функции)
   - [`compare_and_print_missing_keys`](#compare_and_print_missing_keys)
   
## Классы

### `Category`

**Описание**: Класс `Category` предназначен для обработки категорий товаров и наследуется от `PrestaCategory`.

**Методы**:

- `__init__`: Инициализирует объект `Category`.
- `get_parents`: Получает список родительских категорий.
- `crawl_categories_async`: Асинхронно обходит категории, строя иерархический словарь.
- `crawl_categories`: Рекурсивно обходит категории, строя иерархический словарь.
- `_is_duplicate_url`: Проверяет, существует ли URL в словаре категорий.

#### `__init__`
   
**Описание**: Инициализирует объект `Category`.
   
**Параметры**:
   - `api_credentials` (dict): Учетные данные API для доступа к данным категории.
   - `*args`: Произвольный список аргументов (не используется).
   - `**kwargs`: Произвольный словарь аргументов (не используется).
   
#### `get_parents`

**Описание**: Получает список родительских категорий.

**Параметры**:
    - `id_category` (int): ID категории, для которой нужно получить родительские категории.
    - `dept` (int): Уровень глубины категории (не используется).

**Возвращает**:
    - `list`: Список родительских категорий.

#### `crawl_categories_async`
   
**Описание**: Асинхронно обходит категории, строя иерархический словарь.
   
**Параметры**:
   - `url` (str): URL страницы категории.
   - `depth` (int): Глубина рекурсии.
   - `driver` (selenium.webdriver.remote.webdriver.WebDriver): Экземпляр Selenium WebDriver.
   - `locator` (str): XPath-локатор для ссылок на категории.
   - `dump_file` (str): Путь к файлу JSON для сохранения результатов.
   - `default_category_id` (int): ID категории по умолчанию.
   - `category` (dict, optional): Существующий словарь категории (по умолчанию `None`).
   
**Возвращает**:
    - `dict`: Обновленный или новый словарь категории.
   
**Вызывает исключения**:
    - `Exception`: В случае ошибки во время обхода категорий.
   
#### `crawl_categories`

**Описание**: Рекурсивно обходит категории, строя иерархический словарь.

**Параметры**:
    - `url` (str): URL страницы для обхода.
    - `depth` (int): Глубина рекурсии.
    - `driver` (selenium.webdriver.remote.webdriver.WebDriver): Экземпляр Selenium WebDriver.
    - `locator` (str): XPath-локатор для поиска ссылок на категории.
    - `dump_file` (str): Путь к файлу для сохранения иерархического словаря.
    - `id_category_default` (int): ID категории по умолчанию.
    - `category` (dict, optional): Словарь категории (по умолчанию пустой).

**Возвращает**:
    - `dict`: Иерархический словарь категорий и их URL.

**Вызывает исключения**:
    - `Exception`: В случае ошибки во время обхода категорий.

#### `_is_duplicate_url`

**Описание**: Проверяет, существует ли URL в словаре категорий.

**Параметры**:
    - `category` (dict): Словарь категорий.
    - `url` (str): URL для проверки.

**Возвращает**:
    - `bool`: `True`, если URL является дубликатом, иначе `False`.

## Функции

### `compare_and_print_missing_keys`

**Описание**: Сравнивает текущий словарь с данными в файле и печатает отсутствующие ключи.

**Параметры**:
    - `current_dict` (dict): Текущий словарь.
    - `file_path` (str): Путь к файлу с данными.

**Возвращает**:
    - `None`

**Вызывает исключения**:
    - `Exception`: В случае ошибки при загрузке данных из файла.