# Модуль для работы с URL

## Обзор

Модуль `src.utils.string.url` предоставляет инструменты для работы с URL строками, включая извлечение параметров запроса, проверку на валидность URL и сокращение ссылок. Он включает в себя функции для парсинга URL, проверки валидности URL и сокращения длинных URL с использованием сервиса TinyURL.

## Подробней

Этот модуль предназначен для упрощения работы с URL в проекте `hypotez`. Он позволяет извлекать параметры из URL для дальнейшей обработки, проверять, является ли строка валидным URL, и сокращать длинные URL для удобства использования. Модуль использует библиотеки `urllib.parse`, `validators` и `requests` для выполнения этих задач.

## Функции

### `extract_url_params`

```python
def extract_url_params(url: str) -> dict | None:
    """ Извлекает параметры из строки URL.

    Args:
        url (str): Строка URL для парсинга.

    Returns:
        dict | None: Словарь параметров запроса и их значений или `None`, если URL не содержит параметров.
    """
    # Не выводи тело функции. только документацию и примеры вызова функции;
```

**Описание**: Извлекает параметры из заданной URL строки.

**Параметры**:
- `url` (str): URL строка, из которой требуется извлечь параметры.

**Возвращает**:
- `dict | None`: Словарь, содержащий параметры запроса и их значения. Если URL не содержит параметров, возвращает `None`.

**Как работает функция**:

```
    +-------------------+
    |  Начало           |
    +-------------------+
         |
         V
    +-------------------+
    |  Парсинг URL      |
    +-------------------+
         |
         V
    +-------------------+
    |  Извлечение query |
    +-------------------+
         |
         V
    +-------------------+
    |  Парсинг query    |
    +-------------------+
         |
         V
    +-------------------+
    |  Проверка params   |
    +-------------------+
         |
     +--Y--+
     |     |
     |     V
     | +-------------------+
     | |  Обработка params |
     | +-------------------+
     |     |
     |     V
     | +-------------------+
     | |  Возврат params   |
     | +-------------------+
     |     |
     +-----+
         |
     +--N--+
     |     |
     |     V
     | +-------------------+
     | |  Возврат None     |
     | +-------------------+
     |     |
     +-----+
         V
    +-------------------+
    |  Конец            |
    +-------------------+
```

**Примеры**:

```python
url = "https://example.com?param1=value1&param2=value2"
params = extract_url_params(url)
print(params)  # Вывод: {'param1': 'value1', 'param2': 'value2'}

url = "https://example.com"
params = extract_url_params(url)
print(params)  # Вывод: None
```

### `is_url`

```python
def is_url(text: str) -> bool:
    """ Проверяет, является ли переданный текст валидным URL с использованием библиотеки validators.

    Args:
        text (str): Строка для проверки.

    Returns:
        bool: `True` если строка является валидным URL, иначе `False`.
    """
    # Не выводи тело функции. только документацию и примеры вызова функции;
```

**Описание**: Проверяет, является ли переданная строка валидным URL.

**Параметры**:
- `text` (str): Строка, которую необходимо проверить на валидность URL.

**Возвращает**:
- `bool`: `True`, если строка является валидным URL, иначе `False`.

**Как работает функция**:

```
    +-------------------+
    |  Начало           |
    +-------------------+
         |
         V
    +-------------------+
    |  Проверка URL     |
    +-------------------+
         |
         V
    +-------------------+
    |  Возврат bool     |
    +-------------------+
         |
         V
    +-------------------+
    |  Конец            |
    +-------------------+
```

**Примеры**:

```python
url = "https://example.com"
is_valid = is_url(url)
print(is_valid)  # Вывод: True

url = "not a url"
is_valid = is_url(url)
print(is_valid)  # Вывод: False
```

### `url_shortener`

```python
def url_shortener(long_url: str) -> str | None:
    """ Сокращает длинный URL с использованием сервиса TinyURL.

    Args:
        long_url (str): Длинный URL для сокращения.

    Returns:
        str | None: Сокращённый URL или `None`, если произошла ошибка.
    """
    # Не выводи тело функции. только документацию и примеры вызова функции;
```

**Описание**: Сокращает длинный URL с использованием сервиса TinyURL.

**Параметры**:
- `long_url` (str): Длинный URL, который необходимо сократить.

**Возвращает**:
- `str | None`: Сокращенный URL. Если произошла ошибка, возвращает `None`.

**Как работает функция**:

```
    +-----------------------+
    |       Начало          |
    +-----------------------+
         |
         V
    +-----------------------+
    |  Формирование URL     |
    +-----------------------+
         |
         V
    +-----------------------+
    |  GET запрос TinyURL   |
    +-----------------------+
         |
         V
    +-----------------------+
    |  Проверка status_code |
    +-----------------------+
         |
     +--Y--+
     |     |
     |     V
     | +-------------------+
     | |  Возврат URL      |
     | +-------------------+
     |     |
     +-----+
         |
     +--N--+
     |     |
     |     V
     | +-------------------+
     | |  Возврат None     |
     | +-------------------+
     |     |
     +-----+
         V
    +-----------------------+
    |        Конец          |
    +-----------------------+
```

**Примеры**:

```python
long_url = "https://example.com/very/long/url"
short_url = url_shortener(long_url)
print(short_url)  # Вывод: http://tinyurl.com/xxxxx (или None в случае ошибки)