Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Данный код тестирует сценарий мозгового штурма в рамках системы TinyTroupe. Он инициализирует виртуальный мир, транслирует в него задачу на мозговой штурм, запускает симуляцию, получает ответ агента (в данном случае, агента "Lisa"), извлекает результаты из ответа, и проверяет, соответствует ли результат заданному утверждению.

Шаги выполнения
-------------------------
1. **Импортирование необходимых библиотек:** Код импортирует модули, необходимые для работы с TinyTroupe, включая классы для агентов, мира, сети и обработчика результатов.
2. **Настройка окружения:** Устанавливаются пути к необходимым файлам и папкам.
3. **Инициализация мира:** Создается объект `TinyWorld`, который представляет собой виртуальную среду для взаимодействия агентов.
4. **Трансляция задачи:** В мир передается сообщение с задачей мозгового штурма о необходимости обсудить идеи для новой функции в Microsoft Word.
5. **Запуск симуляции:** Симуляция запускается на 1 шаг, что позволяет агентам среагировать на заданную задачу.
6. **Получение агента:** Из мира извлекается агент "Lisa" для дальнейшего взаимодействия.
7. **Получение запроса:** Агент "Lisa" получает запрос на подведение итогов обсуждения.
8. **Извлечение результатов:** Используя класс `ResultsExtractor`, из ответа агента извлекаются результаты мозгового штурма. При этом, задается цель извлечения и контекст (цель - обобщить идеи, объяснить плюсы и минусы каждой).
9. **Вычисление результатов:** Извлеченные результаты записываются в переменную `results`.
10. **Проверка результата:** Проверяется, соответствует ли результат утверждению. Утверждение проверяет, содержит ли результат идеи новых функций для продукта. Если результат не соответствует утверждению, то выводится соответствующее сообщение об ошибке.

Пример использования
-------------------------
.. code-block:: python

    import pytest
    import logging
    logger = logging.getLogger("tinytroupe")

    # ... (импорты и setup, как в исходном коде) ...

    def test_brainstorming_scenario(setup, focus_group_world):
        # ... (код как в исходном коде) ...

        results = extractor.extract_results_from_agent(agent,
                                    extraction_objective="Summarize the the ideas that the group came up with, explaining each idea as an item of a list. Describe in details the benefits and drawbacks of each.",
                                    situation="A focus group to brainstorm ideas for a new product.")

        assert proposition_holds(f"The following contains some ideas for new product features or entirely new products: \'{results}\'"), f"Proposition is false according to the LLM."