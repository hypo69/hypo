# src.endpoints.hypo69.code_assistant.make_summary

## Обзор

Модуль `make_summary.py` предназначен для создания файла `SUMMARY.md`, который используется для компиляции документации с помощью `mdbook`. Этот файл содержит оглавление, структурированное на основе файлов Markdown, находящихся в указанной директории. Модуль позволяет фильтровать файлы по языку (русский или английский), чтобы в оглавление включались только файлы, соответствующие выбранному языку.

## Подробнее

Модуль `make_summary.py` выполняет следующие шаги:

1.  Получает путь к исходной директории (`src_dir`) и язык фильтрации (`lang`) в качестве аргументов командной строки.
2.  Формирует путь к файлу `SUMMARY.md` в директории `docs`, заменяя часть пути `src` на `docs`.
3.  Рекурсивно обходит директорию `src_dir` в поисках файлов с расширением `.md`.
4.  Фильтрует файлы по языку, чтобы включить в оглавление только файлы, соответствующие выбранному языку.
5.  Создает файл `SUMMARY.md` с главами на основе найденных файлов `.md`.

Этот модуль важен для автоматизации процесса создания документации, позволяя генерировать оглавление на основе структуры файлов в проекте.

## Функции

### `make_summary`

```python
def make_summary(docs_dir: Path, lang: str = 'en') -> None:
    """
    Создает файл SUMMARY.md, рекурсивно обходя папку.

    Args:
        docs_dir (Path): Путь к исходной директории 'src'.
        lang (str): Язык фильтрации файлов. Возможные значения: 'ru' или 'en'.
    """
```

**Описание**: Создает файл `SUMMARY.md`, рекурсивно обходя указанную папку.

**Параметры**:

*   `docs_dir` (Path): Путь к исходной директории `'src'`.
*   `lang` (str): Язык фильтрации файлов. Возможные значения: `'ru'` или `'en'`. По умолчанию `'en'`.

**Возвращает**:

*   `None`

**Примеры**:

```python
from pathlib import Path
docs_dir = Path('./src')
make_summary(docs_dir, lang='ru')
```

### `_make_summary`

```python
def _make_summary(src_dir: Path, summary_file: Path, lang: str = 'en') -> bool:
    """
    Рекурсивно обходит папку и создает файл SUMMARY.md с главами на основе .md файлов.

    Args:
        src_dir (Path): Путь к папке с исходниками .md.
        summary_file (Path): Путь для сохранения файла SUMMARY.md.
        lang (str): Язык фильтрации файлов. Возможные значения: 'ru' или 'en'.
    """
```

**Описание**: Рекурсивно обходит папку и создает файл `SUMMARY.md` с главами на основе `.md` файлов.

**Параметры**:

*   `src_dir` (Path): Путь к папке с исходниками `.md`.
*   `summary_file` (Path): Путь для сохранения файла `SUMMARY.md`.
*   `lang` (str): Язык фильтрации файлов. Возможные значения: `'ru'` или `'en'`. По умолчанию `'en'`.

**Возвращает**:

*   `bool`: `True`, если файл успешно создан, `False` в случае ошибки.

**Примеры**:

```python
from pathlib import Path
src_dir = Path('./src')
summary_file = Path('./docs/SUMMARY.md')
_make_summary(src_dir, summary_file, lang='en')
```

### `prepare_summary_path`

```python
def prepare_summary_path(src_dir: Path, file_name: str = 'SUMMARY.md') -> Path:
    """
    Формирует путь к файлу, заменяя часть пути 'src' на 'docs' и добавляя имя файла.

    Args:
        src_dir (Path): Исходный путь с 'src'.
        file_name (str): Имя файла, который нужно создать. По умолчанию 'SUMMARY.md'.

    Returns:
        Path: Новый путь к файлу.
    """
```

**Описание**: Формирует путь к файлу `SUMMARY.md`, заменяя часть пути `'src'` на `'docs'` и добавляя имя файла.

**Параметры**:

*   `src_dir` (Path): Исходный путь с `'src'`.
*   `file_name` (str): Имя файла, который нужно создать. По умолчанию `'SUMMARY.md'`.

**Возвращает**:

*   `Path`: Новый путь к файлу.

**Примеры**:

```python
from pathlib import Path
src_dir = Path('./src')
summary_file = prepare_summary_path(src_dir)
print(summary_file)  # Вывод: Path('./docs/SUMMARY.md')