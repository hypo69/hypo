# Модуль: src.endpoints.advertisement.facebook.post_message_async

## Обзор

Этот модуль является частью проекта `hypotez` и предназначен для автоматизации процесса публикации сообщений в Facebook. Он взаимодействует со страницей Facebook, используя локаторы для выполнения различных действий, таких как отправка сообщений, загрузка медиафайлов и обновление подписей.

## Подробней

Данный модуль автоматизирует процесс создания и продвижения постов в Facebook. Он позволяет отправлять заголовок и описание, загружать медиафайлы (изображения и видео) и обновлять подписи к ним. Модуль предназначен для упрощения и ускорения процесса публикации рекламных материалов.

## Структура модуля

Модуль содержит следующие функции:

- `post_title`: Отправляет заголовок и описание кампании в поле сообщения Facebook.
- `upload_media`: Загружает медиафайлы на Facebook и обновляет их подписи.
- `update_images_captions`: Асинхронно добавляет описания к загруженным медиафайлам.
- `promote_post`: Управляет процессом продвижения поста с заголовком, описанием и медиафайлами.

## Классы

В данном модуле классы отсутствуют

## Функции

### `post_title`

```python
def post_title(d: Driver, category: SimpleNamespace) -> bool:
    """
    Отправляет заголовок и описание кампании в поле сообщения Facebook.

    Args:
        d (Driver): Инстанс `Driver`, используемый для взаимодействия с веб-страницей.
        category (SimpleNamespace): Объект, содержащий заголовок и описание для отправки.

    Returns:
        bool: `True`, если заголовок и описание успешно отправлены, иначе `None`.

    Как работает функция:
    1. Функция извлекает заголовок и описание из объекта `category`.
    2. Использует локаторы для поиска поля ввода заголовка и поля ввода описания на странице Facebook.
    3. Отправляет заголовок и описание в соответствующие поля ввода.
    4. Функция возвращает `True`, если заголовок и описание были успешно отправлены, в противном случае возвращается `None`.
    """
    ...
```

**Параметры**:
- `d` (Driver): Инстанс `Driver`, используемый для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Объект, содержащий заголовок и описание для отправки.

**Возвращает**:
- `bool`: `True`, если заголовок и описание успешно отправлены, иначе `None`.

### `upload_media`

```python
def upload_media(d: Driver, products: List[SimpleNamespace], no_video: bool = False) -> bool:
    """
    Загружает медиафайлы на Facebook и обновляет их подписи.

    Args:
        d (Driver): Инстанс `Driver`, используемый для взаимодействия с веб-страницей.
        products (List[SimpleNamespace]): Список объектов, содержащих пути к медиафайлам.
        no_video (bool): Флаг, указывающий, следует ли пропускать загрузку видео. По умолчанию `False`.

    Returns:
        bool: `True`, если медиафайлы были успешно загружены, иначе `None`.
    """
    ...
```

**Параметры**:
- `d` (Driver): Инстанс `Driver`, используемый для взаимодействия с веб-страницей.
- `products` (List[SimpleNamespace]): Список объектов, содержащих пути к медиафайлам.
- `no_video` (bool): Флаг, указывающий, следует ли пропускать загрузку видео. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если медиафайлы были успешно загружены, иначе `None`.

### `update_images_captions`

```python
def update_images_captions(d: Driver, products: List[SimpleNamespace], textarea_list: List[WebElement]) -> None:
    """
    Асинхронно добавляет описания к загруженным медиафайлам.

    Args:
        d (Driver): Инстанс `Driver`, используемый для взаимодействия с веб-страницей.
        products (List[SimpleNamespace]): Список объектов с деталями для обновления.
        textarea_list (List[WebElement]): Список текстовых полей, куда добавляются подписи.
    """
    ...
```

**Параметры**:
- `d` (Driver): Инстанс `Driver`, используемый для взаимодействия с веб-страницей.
- `products` (List[SimpleNamespace]): Список объектов с деталями для обновления.
- `textarea_list` (List[WebElement]): Список текстовых полей, куда добавляются подписи.

### `promote_post`

```python
def promote_post(d: Driver, category: SimpleNamespace, products: List[SimpleNamespace], no_video: bool = False) -> bool:
    """
    Управляет процессом продвижения поста с заголовком, описанием и медиафайлами.

    Args:
        d (Driver): Инстанс `Driver`, используемый для взаимодействия с веб-страницей.
        category (SimpleNamespace): Детали категории, используемые для заголовка и описания поста.
        products (List[SimpleNamespace]): Список объектов, содержащих медиа и детали для публикации.
        no_video (bool): Флаг, указывающий, следует ли пропускать загрузку видео. По умолчанию `False`.

    Returns:
        bool: `True`, если пост был успешно продвинут, иначе `None`.
    """
    ...
```

**Параметры**:
- `d` (Driver): Инстанс `Driver`, используемый для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Детали категории, используемые для заголовка и описания поста.
- `products` (List[SimpleNamespace]): Список объектов, содержащих медиа и детали для публикации.
- `no_video` (bool): Флаг, указывающий, следует ли пропускать загрузку видео. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если пост был успешно продвинут, иначе `None`.

## Пример использования

```python
from src.webdriver.driver import Driver
from types import SimpleNamespace

# Инициализация драйвера
driver = Driver(...)

# Загрузка категории и продуктов
category = SimpleNamespace(title="Заголовок кампании", description="Описание кампании")
products = [SimpleNamespace(local_image_path='путь/к/изображению.jpg', ...)]

# Отправка заголовка
post_title(driver, category)

# Загрузка медиа и продвижение поста
await promote_post(driver, category, products)
```

## Зависимости

- `selenium`: Для автоматизации веб-страниц.
- `asyncio`: Для асинхронных операций.
- `pathlib`: Для обработки путей к файлам.
- `types`: Для создания простых пространств имен.
- `typing`: Для аннотаций типов.