Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код инициализирует Angular приложение для взаимодействия с моделью OpenAI. Он загружает список доступных ассистентов с сервера и позволяет пользователю отправить сообщение выбранному ассистенту, получая ответ от модели.  Код использует AngularJS, $http для HTTP-запросов, и предполагает наличие FastAPI сервера для обработки запросов.

Шаги выполнения
-------------------------
1. **Инициализация Angular приложения**: Код создает Angular модуль `openaiApp` и контроллер `MainController`.
2. **Инициализация переменных**:  Инициализируются переменные для хранения сообщений, ответов, списка ассистентов и выбранного ассистента.
3. **Загрузка списка ассистентов**: Функция `loadAssistants` выполняет GET-запрос на сервер (`http://localhost:8000/assistants`) для получения списка доступных ассистентов. Полученные данные записываются в массив `$scope.assistants`.
4. **Вызов функции загрузки ассистентов при старте**:  Функция `loadAssistants()` вызывается сразу после инициализации контроллера для загрузки списка ассистентов.
5. **Обработка отправки сообщений**: Функция `sendMessage` обрабатывает отправку сообщений модели.
    - Создаёт объект `data` с сообщением пользователя, инструкцией для модели, и идентификатором выбранного ассистента.
    - Выполняет POST-запрос на сервер (`http://localhost:8000/ask`) с данными.
    - Обрабатывает полученный ответ от сервера, записывая его в переменную `$scope.response`.
    - Обрабатывает возможные ошибки при запросе, выводит сообщение об ошибке в `$scope.response`.
6. **Обновление интерфейса**: Изменения в `$scope.response` обновляют отображение ответа в интерфейсе Angular.

Пример использования
-------------------------
.. code-block:: javascript
    
    // Внутри Angular шаблона (например, в div с ng-controller="MainController"):
    <div>
        <select ng-model="selectedAssistant">
            <option ng-repeat="assistant in assistants" value="{{assistant}}">{{assistant.name}}</option>
        </select>
        <input type="text" ng-model="message">
        <button ng-click="sendMessage()">Отправить</button>
        <div>{{response}}</div>
    </div>

    // Дополнительные примеры использования и настройки Angular компонентов будут зависеть от вашего конкретного проекта и структуры.