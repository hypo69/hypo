## tslib - Руководство по использованию

Этот документ описывает библиотеку `tslib`, которая является runtime-библиотекой для TypeScript, содержащей все вспомогательные функции TypeScript.  Она используется главным образом с флагом `--importHelpers` в TypeScript.

**Зачем использовать `tslib`?**

Флаг `--importHelpers` в TypeScript позволяет избежать дублирования объявлений таких функций, как `__extends`, `__assign` и других, в коде.  Это приводит к:

* **Меньшим файлам:**  Отсутствуют дублируемые определения функций, что оптимизирует размер итоговых файлов.
* **Меньшей нагрузке на runtime:**  Исключается необходимость повторного определения вспомогательных функций.
* **Поддержка оптимизации:** Важно для создания оптимизированных пакетов с TypeScript.

**Установка**

Для установки `tslib` используйте пакетный менеджер (npm, yarn или bower):

**npm:**

```bash
# TypeScript 3.9.2 или более поздней версии
npm install tslib

# TypeScript 3.8.4 или более ранней версии
npm install tslib@^1

# TypeScript 2.3.2 или более ранней версии
npm install tslib@1.6.1
```

**yarn:**

```bash
# TypeScript 3.9.2 или более поздней версии
yarn add tslib

# TypeScript 3.8.4 или более ранней версии
yarn add tslib@^1

# TypeScript 2.3.2 или более ранней версии
yarn add tslib@1.6.1
```

**bower:**

```bash
# TypeScript 3.9.2 или более поздней версии
bower install tslib

# TypeScript 3.8.4 или более ранней версии
bower install tslib@^1

# TypeScript 2.3.2 или более ранней версии
bower install tslib@1.6.1
```

**jspm:**

```bash
# TypeScript 3.9.2 или более поздней версии
jspm install tslib

# TypeScript 3.8.4 или более ранней версии
jspm install tslib@^1

# TypeScript 2.3.2 или более ранней версии
jspm install tslib@1.6.1
```

**Использование**

Укажите опцию `importHelpers` в командной строке `tsc`:

```bash
tsc --importHelpers file.ts
```

Или в файле `tsconfig.json`:

```json
{
  "compilerOptions": {
    "importHelpers": true
  }
}
```

**Настройка для bower и JSPM**

Пользователям `bower` и `jspm` необходимо добавить mapping для `tslib` в `tsconfig.json`:

**bower:**

```json
{
  "compilerOptions": {
    "module": "amd",
    "importHelpers": true,
    "baseUrl": "./",
    "paths": {
      "tslib": ["bower_components/tslib/tslib.d.ts"]
    }
  }
}
```

**jspm:**

```json
{
  "compilerOptions": {
    "module": "system",
    "importHelpers": true,
    "baseUrl": "./",
    "paths": {
      "tslib": ["jspm_packages/npm/tslib@2.x.y/tslib.d.ts"]
    }
  }
}
```

Замените `2.x.y` на актуальную версию `tslib`.  Важно указать правильное расположение `.d.ts` файла.


**Развертывание**

1. Выберите новую версию.
2. Обновите `package.json` и `bower.json`.
3. Создайте тег в Git: `git tag [version]`.
4. Отправьте тег: `git push --tags`.
5. Создайте релиз на GitHub.
6. Выполните рабочий процесс публикации на npm (как указано в документации).

**Вклад в проект**

Вы можете внести вклад в проект, как описано в документации: https://github.com/Microsoft/TypeScript/blob/master/CONTRIBUTING.md.


**Документация**

Для более подробной информации посетите:

* [Руководство по TypeScript](http://www.typescriptlang.org/Handbook)
* [Документация TypeScript](http://www.typescriptlang.org/)


**Важно:**  Обратите внимание на использование `tslib@2.x.y` в примере для `jspm`,  и заменяйте `2.x.y` на актуальную версию.  Это критически важно для корректной работы.
