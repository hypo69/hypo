# Руководство для Тестера `DriverBase`

## Введение

Данное руководство описывает процесс тестирования класса `DriverBase` с использованием фреймворка `pytest`.  Описаны шаги установки, запуска и интерпретации результатов тестов.

## Предварительные условия

Перед началом тестирования необходимо убедиться в наличии следующих компонентов:

1. **Python 3.12**:  Установите Python 3.12.  Проверьте текущую версию с помощью:
   ```bash
   python --version
   ```

2. **pytest**: Установите `pytest`:
   ```bash
   pip install pytest
   ```

3. **unittest.mock**: Библиотека `unittest.mock` входит в стандартную библиотеку Python начиная с версии 3.3.  Не требует отдельной установки.


## Структура проекта

Структура проекта выглядит следующим образом:

```
src/
├── webdriver/
│   ├── driver.py
│   ├── javascript/
│   └── executor/
├── logger.py
└── utils/
    └── jjson.py
tests/
└── test_driver.py
```

## Настройка окружения

1. **Клонирование репозитория**: Скопируйте репозиторий на локальную машину:
   ```bash
   git clone <URL_вашего_репозитория>
   cd <имя_проекта>
   ```

2. **Виртуальное окружение**: Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # На Windows: venv\Scripts\activate
   ```

3. **Установка зависимостей**: (Если файл `requirements.txt` существует)
   ```bash
   pip install -r requirements.txt
   ```


## Написание и запуск тестов

1. **Написание тестов**:  Тесты для `DriverBase` находятся в файле `tests/test_driver.py`. Примеры тестов могут покрывать методы `driver_payload`, `scroll`, `locale` и другие.  **Важно**:  Тесты должны быть написаны в соответствии с принципами `pytest`, например, используя декораторы `@pytest.mark.parametrize` для параметризации.

2. **Запуск тестов**: Для запуска тестов в корне проекта:
   ```bash
   pytest tests/test_driver.py
   ```

3. **Интерпретация результатов**:  `pytest` выводит отчет о результатах.  Пример:
   ```
   ============================== test session starts ==============================
   platform linux -- Python 3.12.0, pytest-7.0.0, pluggy-0.13.1
   rootdir: /path/to/your/project
   collected 9 items

   tests/test_driver.py ........                                        [100%]

   =============================== 9 passed in 1.23s ================================
   ```
   Если тест не пройден, `pytest` предоставит детали ошибки (включая трассировку стека).

## Полезные команды

* **Запуск всех тестов**:
   ```bash
   pytest
   ```

* **Запуск тестов с подробным выводом**:
   ```bash
   pytest -v
   ```

* **Запуск тестов с отчетом о покрытии кода**:
   * Установите `pytest-cov`:
     ```bash
     pip install pytest-cov
     ```
   * Запустите тесты с отчетом о покрытии:
     ```bash
     pytest --cov=src tests/
     ```  Отчет о покрытии будет сохранен в `htmlcov/` каталоге.


## Заключение

Тестирование - неотъемлемая часть разработки.  Использование `pytest` и данного руководства позволяет эффективно тестировать `DriverBase`, повышая надежность кода и предотвращая регрессии.  **Важно**:  Проверьте корректность реализации тестов и обеспечивайте полное покрытие кода.