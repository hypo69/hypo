# Модуль `gemini_chat.py`

## Обзор

Модуль `gemini_chat.py` предназначен для управления обучением моделей и ведения диалогов с использованием Google Generative AI для проекта Kazarinov. Он включает в себя классы и функции для загрузки обучающих данных, настройки модели и взаимодействия с пользователем.

## Содержание

- [Классы](#классы)
  - [`KazarinovAI`](#kazarinovai)
- [Функции](#функции)
  - [`chat`](#chat)

## Классы

### `KazarinovAI`

**Описание**: Класс `KazarinovAI` управляет обучением модели и генерацией диалогов для проекта Kazarinov, используя Google Generative AI.

**Атрибуты**:
- `api_key` (str): API ключ для доступа к Google Gemini.
- `base_path` (Path): Базовый путь к файлам инструкций и обучения.
- `system_instruction_list` (list): Список системных инструкций, полученных из текстовых файлов.
- `history_file` (str): Имя файла истории.
- `gemini_1` (GoogleGenerativeAI): Первый экземпляр Google Generative AI.
- `gemini_2` (GoogleGenerativeAI): Второй экземпляр Google Generative AI.
- `timestamp` (str): Метка времени инициализации.

**Методы**:

#### `__init__`
**Описание**: Инициализирует класс `KazarinovAI` с заданными системными инструкциями и конфигурацией генерации.
```python
def __init__(self, system_instruction: str = None, generation_config: dict | list[dict] = {"response_mime_type": "text/plain"}):
```
**Параметры**:
- `system_instruction` (str, optional): Инструкция для системы модели. По умолчанию `None`.
- `generation_config` (dict | list[dict], optional): Конфигурация для генерации контента. По умолчанию `{"response_mime_type": "text/plain"}`.

#### `train`

**Описание**: Обучает модель, разбивая обучающие данные на части заданного размера и отправляя их модели.
```python
def train(self):
```
**Параметры**:
- Нет

#### `question_answer`

**Описание**: Обрабатывает процесс вопросов и ответов, используя предоставленные обучающие файлы.
```python
def question_answer(self):
```
**Параметры**:
- Нет

#### `dialog`

**Описание**: Запускает диалог на основе заранее определенных вопросов, перемешивая вопросы на разных языках.
```python
def dialog(self):
```
**Параметры**:
- Нет

#### `ask`

**Описание**: Запрашивает ответ у модели с возможностью отключения логирования и предварительного обучения.
```python
def ask(self, q: str, no_log: bool = False, with_pretrain: bool = True) -> bool:
```
**Параметры**:
- `q` (str): Вопрос для модели.
- `no_log` (bool, optional): Флаг отключения логирования запроса. По умолчанию `False`.
- `with_pretrain` (bool, optional): Флаг включения предварительного обучения. По умолчанию `True`.

**Возвращает**:
- `bool`: Ответ модели.

## Функции

### `chat`

**Описание**: Инициирует сессию чата с AI ассистентом Kazarinov. Читает системные инструкции из файлов и обрабатывает ввод пользователя.

```python
def chat():
```

**Параметры**:
- Нет

**Вызывает исключения**:
- `Exception`: Если возникают проблемы при чтении файлов с системными инструкциями.