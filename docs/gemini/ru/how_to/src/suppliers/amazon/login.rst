Как использовать функцию login
========================================================================================

Описание
-------------------------
Функция `login` предназначена для авторизации на сайте Amazon через веб-драйвер. Она принимает объект `Supplier` как аргумент и возвращает `True`, если авторизация успешна, и `False` в противном случае.  Функция взаимодействует с веб-драйвером для нахождения и клика по элементам на странице, необходимым для входа в систему.

Шаги выполнения
-------------------------
1. Функция получает локаторы элементов для входа (`_l`) из хранилища локаторов объекта `Supplier` по ключу 'login'.
2. Получает веб-драйвер (`_d`) из объекта `Supplier`.
3. Переключается на активное окно браузера (`_d.window_focus()`).
4. Переходит на страницу Amazon (`_d.get_url('https://amazon.com/')`).
5. **Поиск и клик по кнопке входа:**
   - Пытается кликнуть по кнопке открытия формы входа (`_l['open_login_inputs']`).
   - Если клик не удался, обновляет страницу (`_d.refresh()`) и повторяет попытку. Если повторная попытка не удалась, выводит отладочное сообщение, что нужно искать кнопку в другом месте, и вероятно, обрабатывает этот случай (используется `...`).
6. **Ввод данных для авторизации:**
   - Поочередно пытается найти поля для ввода электронной почты (`_l['email_input']`), пароля (`_l['password_input']`), и выполнить дополнительные действия, такие как нажатие кнопки "Продолжить" (`_l['continue_button']`),  галочки "Запомнить меня" (`_l['keep_signed_in_checkbox']`) и нажать кнопку входа (`_l['success_login_button']`).
   - В случае неудачи на любом шаге, добавляет обработку `...` для дальнейшей логики.
7. **Проверка результата авторизации:**
   - Проверяет текущий URL страницы. Если URL остается `https://www.amazon.com/ap/signin`, значит авторизация не удалась, и выводится ошибка в лог (`logger.error`).
8. Если авторизация успешна, увеличивает размер окна браузера до максимального (`_d.maximize_window()`).
9. Записывает информацию об успешном логине в лог (`logger.info`).
10. Возвращает `True`.


Пример использования
-------------------------
.. code-block:: python

    from src.suppliers.amazon import login
    from src.supplier import Supplier  # Предполагая, что у вас есть класс Supplier

    # Создаем объект Supplier
    supplier = Supplier(...)
    supplier.locators_store['login'] = {
        'open_login_inputs': 'locator_open_login',
        'email_input': 'locator_email',
        'continue_button': 'locator_continue',
        'password_input': 'locator_password',
        'keep_signed_in_checkbox': 'locator_checkbox',
        'success_login_button': 'locator_submit',
    }
    # Предполагая, что у вас есть объект драйвера supplier.driver
    # Например, используя Selenium:
    # supplier.driver = webdriver.Chrome()

    success = login(supplier)

    if success:
        print("Авторизация прошла успешно!")
    else:
        print("Ошибка авторизации.")

    # Не забудьте закрыть драйвер:
    # supplier.driver.quit()