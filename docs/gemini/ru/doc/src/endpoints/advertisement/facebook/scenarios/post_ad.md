# Модуль post_ad

## Обзор

Модуль `post_ad` отвечает за публикацию рекламного сообщения в группах Facebook.  Он использует Selenium-драйвер для взаимодействия с веб-страницей Facebook и выполняет последовательность действий: отправку заголовка, загрузку медиа (если есть) и публикацию сообщения. Модуль содержит логику обработки ошибок и повторных попыток при возникновении проблем.

## Оглавление

* [Функции](#функции)


## Функции

### `post_ad`

**Описание**: Функция `post_ad` осуществляет публикацию рекламного сообщения. Она принимает объект драйвера `Driver` и данные сообщения `SimpleNamespace`.

**Параметры**:

* `d` (Driver): Объект драйвера для взаимодействия с веб-страницей.
* `message` (SimpleNamespace): Объект, содержащий данные для публикации (описание, путь к изображению (необязательно)).

**Возвращает**:

* `bool`: `True`, если публикация прошла успешно; `None` - в случае ошибок.

**Обрабатывает исключения**:

*  Возможные исключения при взаимодействии с Facebook обрабатываются внутри функции `post_message_title`, `upload_post_media`, и `message_publish`.  Они не возвращаются напрямую, но логируются и могут привести к возврату `None` из этих функций, а также к увеличению счетчика ошибок `fails`.
* Ограничение на 15 неудачных попыток предотвращает бесконечные циклы в случае непреодолимых проблем.

**Пример использования**:

```python
from src.webdriver.driver import Driver
from src.endpoints.advertisement.facebook.scenarios.post_ad import post_ad
# ... (инициализация драйвера) ...
message = SimpleNamespace(description='Описание объявления', image_path='путь_к_изображению.jpg')
if post_ad(driver, message):
    print('Сообщение опубликовано успешно.')
else:
    print('Ошибка при публикации сообщения.')
```
```