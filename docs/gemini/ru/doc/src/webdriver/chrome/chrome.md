# Модуль `hypotez/src/webdriver/chrome/chrome.py`

## Обзор

Этот модуль предоставляет класс `Chrome` для управления браузером Chrome с помощью Selenium.  Он позволяет использовать пользовательские настройки, загруженные из файла `chrome.json`, такие как user-agent и настройки профиля браузера, что обеспечивает гибкость и автоматизацию взаимодействия с браузером. Модуль интегрирует функциональность поиска элементов, выполнения JavaScript кода и обработки исключений.

## Классы

### `Chrome`

**Описание**: Класс `Chrome` расширяет класс `webdriver.Chrome` и реализует единичный экземпляр драйвера.  Он загружает настройки из файла `chrome.json` и инициализирует драйвер с учетом этих настроек.

**Методы**:

- `__new__`: Статический метод, гарантирующий, что экземпляр класса `Chrome` создаётся только один раз.  Если экземпляр уже существует, он вызывает `window_open()`.
- `__init__`: Инициализирует драйвер Chrome.
- `_payload`: Загружает вспомогательные методы для работы с локаторами и JavaScript.
- `window_open`: Открывает новое окно в браузере.

**Параметры `__init__`**:

- `user_agent (Optional[str], optional):` Строка user-agent. По умолчанию случайный user-agent.


**Возвращает `__new__`**:

- `Chrome`: Экземпляр класса `Chrome`.


**Возможные исключения**:

- `WebDriverException`: Возникает при ошибках инициализации драйвера.
- `Exception`: Возникает при других общих ошибках.


## Функции

###  `normalize_path`

**Описание**: Функция для нормализации путей, заменяя плейсхолдеры переменными окружения.


**Параметры**:

- `path (str)`: Путь, который может содержать плейсхолдеры, такие как `%APPDATA%` или `%LOCALAPPDATA%`.

**Возвращает**:

- `str`: Нормализованный путь с подставленными переменными окружения. Или пустую строку, если входной путь пустой.


## Полезные ссылки

- [Документация Selenium](https://selenium-python.readthedocs.io/): Полная информация о Selenium.
- [Документация fake-useragent](https://pypi.org/project/fake-useragent/): Информация об использовании библиотек для создания фейковых user-agent.


## Дополнительные детали

- Модуль использует JSON файл `chrome.json` для настройки параметров драйвера.
- В `chrome.json` должны быть заданы поля `profile_directory`, `binary_location`, `options` и `headers`.
- Модуль использует `SimpleNamespace` для обработки настроек из файла `chrome.json`.
-  Используется логгирование для отслеживания действий и ошибок.
- `_payload` метод инициализирует вспомогательные методы `JavaScript` и `ExecuteLocator` для управления браузером.