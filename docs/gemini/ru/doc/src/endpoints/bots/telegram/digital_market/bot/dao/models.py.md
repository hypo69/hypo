# Модуль `models.py`

## Обзор

Модуль `models.py` содержит определения моделей базы данных, используемых для представления пользователей, категорий продуктов, самих продуктов и покупок. Модели используют SQLAlchemy ORM для взаимодействия с базой данных.

## Оглавление
1.  [Класс `User`](#класс-user)
2.  [Класс `Category`](#класс-category)
3.  [Класс `Product`](#класс-product)
4.  [Класс `Purchase`](#класс-purchase)

## Классы

### `User`

**Описание**: Представляет пользователя в системе.

**Атрибуты**:
-   `telegram_id` (int): Уникальный идентификатор пользователя в Telegram.
-   `username` (str | None): Имя пользователя в Telegram (может быть `None`).
-   `first_name` (str | None): Имя пользователя (может быть `None`).
-   `last_name` (str | None): Фамилия пользователя (может быть `None`).
-   `purchases` (List['Purchase']): Список покупок, связанных с пользователем.

**Методы**:
-   `__repr__`: Возвращает строковое представление объекта `User`.

### `Category`

**Описание**: Представляет категорию товаров.

**Атрибуты**:
-   `category_name` (str): Название категории.
-   `products` (List["Product"]): Список продуктов, относящихся к данной категории.

**Методы**:
-   `__repr__`: Возвращает строковое представление объекта `Category`.

### `Product`

**Описание**: Представляет товар.

**Атрибуты**:
-   `name` (str): Название товара.
-   `description` (str): Описание товара.
-   `price` (int): Цена товара.
-   `file_id` (str | None): Идентификатор файла (например, в Telegram) (может быть `None`).
-   `category_id` (int): Идентификатор категории, к которой относится товар.
-   `hidden_content` (str): Скрытое содержимое, связанное с товаром.
-  `category` (Category):  Категория, к которой относится товар.
-  `purchases` (List['Purchase']): Список покупок, связанных с продуктом.

**Методы**:
-   `__repr__`: Возвращает строковое представление объекта `Product`.

### `Purchase`

**Описание**: Представляет запись о покупке.

**Атрибуты**:
-   `user_id` (int): Идентификатор пользователя, совершившего покупку.
-   `product_id` (int): Идентификатор купленного товара.
-   `price` (int): Цена покупки.
-   `payment_type` (str): Тип оплаты.
-   `payment_id` (str): Уникальный идентификатор платежа.
-   `user` (User): Пользователь, совершивший покупку.
-  `product` (Product): Купленный продукт.

**Методы**:
-   `__repr__`: Возвращает строковое представление объекта `Purchase`.