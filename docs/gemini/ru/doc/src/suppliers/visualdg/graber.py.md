# Модуль `graber.py`

## Обзор

Модуль `graber.py` предназначен для сбора информации о товарах с сайта `visualdg.co.il`. Он расширяет функциональность базового класса `Graber`, предоставляя возможность переопределять методы обработки полей товара для нестандартных случаев. Модуль также включает механизмы для выполнения предварительных действий перед отправкой запросов к веб-драйверу, используя декораторы.

## Подробней

Этот модуль является частью системы сбора данных о товарах с различных сайтов. Он специализируется на сайте `visualdg.co.il` и использует веб-драйвер для получения информации о товарах. Основная логика работы заключается в определении методов для извлечения значений различных полей товара, таких как название, описание, цена и т.д.

Для обеспечения гибкости и возможности адаптации к изменениям в структуре сайта, модуль предоставляет возможность переопределять методы обработки полей товара. Если для какого-то поля требуется нестандартная обработка, можно создать свою функцию в этом классе, которая будет вызываться вместо стандартной.

Также, модуль предоставляет механизм для выполнения предварительных действий перед отправкой запроса к веб-драйверу. Это может быть полезно, например, для закрытия всплывающих окон или выполнения других действий, которые могут повлиять на получение информации о товаре. Для этого используются декораторы, которые позволяют обернуть функцию обработки поля товара дополнительной логикой.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для операций захвата данных с сайта `visualdg.co.il`. Он наследуется от базового класса `Graber` (`Grbr`) и переопределяет некоторые его методы для адаптации к особенностям сайта `visualdg.co.il`.

**Методы**:
- `__init__`: Инициализирует экземпляр класса `Graber`.

**Параметры**:
- `driver` (Driver): Экземпляр веб-драйвера для взаимодействия с сайтом.
- `lang_index` (int): Индекс языка, используемого на сайте.

**Примеры**
```python
from src.webdriver.driver import Driver
from src.suppliers.visualdg.graber import Graber

# Пример создания экземпляра класса Graber
driver = Driver()
graber = Graber(driver, lang_index=0)
```

## Функции

### `__init__`

```python
def __init__(self, driver: Driver, lang_index):
    """Инициализация класса сбора полей товара."""
    self.supplier_prefix = 'visualdg'
    super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)
    # Устанавливаем глобальные настройки через Context
    Context.locator_for_decorator = None # <- если будет уастановлено значение - то оно выполнится в декораторе `@close_pop_up`
```

**Описание**: Инициализирует класс `Graber`, устанавливая префикс поставщика и вызывая конструктор родительского класса.

**Параметры**:
- `driver` (Driver): Экземпляр веб-драйвера, используемый для взаимодействия с сайтом.
- `lang_index` (int): Индекс языка, используемого на сайте.

**Возвращает**:
- `None`

**Вызывает исключения**:
- Отсутствуют

**Примеры**:
```python
from src.webdriver.driver import Driver
from src.suppliers.visualdg.graber import Graber

driver = Driver()
lang_index = 0
graber = Graber(driver, lang_index)