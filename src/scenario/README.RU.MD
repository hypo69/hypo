Модуль `src.scenario` предназначен для автоматизации взаимодействия с поставщиками, используя сценарии, описанные в JSON-файлах. Основная задача модуля — адаптировать процесс извлечения и обработки данных о продуктах с веб-сайтов поставщиков и синхронизировать эту информацию с базой данных вашей системы. 

### Основные функции модуля

1. **Чтение сценариев**: Модуль загружает сценарии из JSON-файлов, которые содержат информацию о различных категориях продуктов и их URL на сайте поставщика.

2. **Взаимодействие с веб-сайтами**: Используя указанные в сценариях URL, модуль переходит на страницы с продуктами и извлекает необходимые данные.

3. **Обработка данных**: Модуль обрабатывает полученные данные о продуктах, преобразует их в нужный формат и сохраняет в базе данных вашей системы (например, в PrestaShop).

4. **Запись журнала выполнения**: Модуль ведет журнал выполнения сценариев, записывая детали выполнения и результаты работы, что помогает отслеживать успешность выполнения и выявлять ошибки.

### Основные компоненты модуля

1. **`run_scenario_files(s, scenario_files_list)`**:
   - Принимает список файлов сценариев и выполняет их по очереди.
   - Вызывает `run_scenario_file` для обработки каждого файла сценария.

2. **`run_scenario_file(s, scenario_file)`**:
   - Загружает сценарии из указанного файла и вызывает `run_scenario` для каждого сценария в файле.

3. **`run_scenario(s, scenario)`**:
   - Обрабатывает отдельный сценарий.
   - Переходит по URL, указанному в сценарии, и извлекает данные о продуктах.
   - Сохраняет извлеченные данные в базе данных.

4. **`dump_journal(s, journal)`**:
   - Сохраняет журнал выполнения сценариев в файл для последующего анализа.

5. **`main()`**:
   - Основная функция для запуска модуля.

### Пример сценария

Пример сценария JSON описывает, как взаимодействовать с определенными категориями продуктов на веб-сайте. Он включает:
- **URL страницы**: Для перехода и извлечения данных.
- **Название категории**: Для идентификации категории.
- **`presta_categories`**: Идентификаторы категорий в базе данных PrestaShop, в которые будут сохраняться продукты.

```json
{
    "scenarios": {
        "מינרל+לחויותלפניםמינרליםותמציותצמחים": {
            "url": "https://hbdeadsea.co.il/product-category/facial/moisture-face/",
            "name": "מינרל+לחויותלפניםמינרליםותמציותצמחים",
            "presta_categories": {
                "default_category": 11245,
                "additional_categories": [11288]
            }
        }
    }
}
```

### Как это работает

1. **Загрузка сценариев**: Модуль загружает сценарии из файлов и анализирует их.

2. **Извлечение данных**: Переходит по URL из сценария, извлекает ссылки на продукты и собирает информацию о них.

3. **Сохранение данных**: Обрабатывает и сохраняет собранные данные в базу данных, используя информацию о категориях из сценария.

4. **Отчеты и журналирование**: Ведет журнал выполнения сценариев, чтобы можно было отслеживать процесс и фиксировать ошибки.

Этот модуль позволяет автоматизировать процессы сбора и обработки данных о продуктах из разных источников, что упрощает интеграцию с различными поставщиками и системами управления товарами.