# Модуль `hypotez/src/utils/csv.py`

## Обзор

Этот модуль предоставляет функции для работы с CSV и JSON файлами. Он включает в себя методы для сохранения данных в CSV, чтения данных из CSV, конвертации CSV в JSON и преобразования CSV в словарь.

## Функции

### `save_csv_file`

**Описание**: Сохраняет список словарей в CSV файл.  Поддерживает дозапись (append) и перезапись (overwrite) данных.

**Параметры**:

- `data` (List[Dict[str, str]]): Список словарей, которые нужно сохранить.  Должен быть списком словарей.
- `file_path` (Union[str, Path]): Путь к CSV файлу.
- `mode` (str, optional): Режим открытия файла ('a' для добавления, 'w' для перезаписи). По умолчанию 'a'.
- `exc_info` (bool, optional): Включать информацию о трассировке стека в логах. По умолчанию True.


**Возвращает**:

- bool: True, если сохранение прошло успешно, иначе False.


**Возможные исключения**:

- `TypeError`: Если входные данные не являются списком словарей.
- `ValueError`: Если входные данные пустые.


### `read_csv_file`

**Описание**: Читает содержимое CSV файла как список словарей.

**Параметры**:

- `file_path` (Union[str, Path]): Путь к CSV файлу.
- `exc_info` (bool, optional): Включать информацию о трассировке стека в логах. По умолчанию True.

**Возвращает**:

- List[Dict[str, str]] | None: Список словарей, содержащий данные из CSV файла, или None, если произошла ошибка.

**Возможные исключения**:

- `FileNotFoundError`: Если файл не найден.


### `read_csv_as_json`

**Описание**: Конвертирует CSV файл в JSON формат и сохраняет результат в новый файл.

**Параметры**:

- `csv_file_path` (Union[str, Path]): Путь к CSV файлу.
- `json_file_path` (Union[str, Path]): Путь для сохранения JSON файла.
- `exc_info` (bool, optional): Включать информацию о трассировке стека в логах. По умолчанию True.

**Возвращает**:

- bool: True, если конвертация прошла успешно, иначе False.


### `read_csv_as_dict`

**Описание**: Преобразует содержимое CSV файла в словарь.

**Параметры**:

- `csv_file` (Union[str, Path]): Путь к CSV файлу.

**Возвращает**:

- dict | None: Словарь, представляющий содержимое CSV файла, или None, если произошла ошибка.


### `read_csv_as_ns`

**Описание**: Загружает данные из CSV файла в список словарей с помощью Pandas.

**Параметры**:

- `file_path` (Union[str, Path]): Путь к CSV файлу.

**Возвращает**:

- List[dict]: Список словарей, представляющих содержимое CSV файла.
- Возможные исключения:
    - `FileNotFoundError`: Если файл не найден.
    
**Примечания**: Использует `Pandas` для эффективной работы с данными. Возвращает пустой список при ошибке.


## Использование

Пример использования функций из модуля:

```python
# Пример сохранения данных в CSV:
data = [
    {'name': 'Alice', 'age': 30},
    {'name': 'Bob', 'age': 25},
]
save_csv_file(data, 'my_data.csv', mode='w')

# Пример чтения данных из CSV:
data = read_csv_file('my_data.csv')
if data:
    print(data)


# Пример конвертации CSV в JSON:
read_csv_as_json('my_data.csv', 'my_data.json')

# Пример преобразования CSV в словарь
csv_dict = read_csv_as_dict("my_data.csv")
if csv_dict:
   print(csv_dict["data"])

# Пример загрузки с помощью Pandas
csv_ns = read_csv_as_ns("my_data.csv")
print(csv_ns)
```
```