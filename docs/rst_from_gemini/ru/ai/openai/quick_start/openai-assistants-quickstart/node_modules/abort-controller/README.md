## abort-controller

[![npm version](https://img.shields.io/npm/v/abort-controller.svg)](https://www.npmjs.com/package/abort-controller)
[![Downloads/month](https://img.shields.io/npm/dm/abort-controller.svg)](http://www.npmtrends.com/abort-controller)
[![Build Status](https://travis-ci.org/mysticatea/abort-controller.svg?branch=master)](https://travis-ci.org/mysticatea/abort-controller)
[![Coverage Status](https://codecov.io/gh/mysticatea/abort-controller/branch/master/graph/badge.svg)](https://codecov.io/gh/mysticatea/abort-controller)
[![Dependency Status](https://david-dm.org/mysticatea/abort-controller.svg)](https://david-dm.org/mysticatea/abort-controller)

Реализация интерфейса [WHATWG AbortController](https://dom.spec.whatwg.org/#interface-abortcontroller).

```javascript
import AbortController from "abort-controller"

const controller = new AbortController()
const signal = controller.signal

signal.addEventListener("abort", () => {
  console.log("Отменено!")
})

controller.abort()
```

> [Пример](https://jsfiddle.net/1r2994qp/1/)

## Установка

Используйте [npm](https://www.npmjs.com/), а затем используйте инструмент сборки.

```bash
npm install abort-controller
```

Или загрузите из папки [`dist`](./dist).

- [dist/abort-controller.mjs](dist/abort-controller.mjs) — версия ES модулей.
- [dist/abort-controller.js](dist/abort-controller.js) — версия CommonJS.
- [dist/abort-controller.umd.js](dist/abort-controller.umd.js) — версия UMD (Universal Module Definition). Эта версия транспилируется [Babel](https://babeljs.io/) для совместимости с IE 11.

## Использование

### Базовое

```javascript
import AbortController from "abort-controller"
// или
const AbortController = require("abort-controller")

// или для UMD версии, глобальная переменная:
const AbortController = window.AbortControllerShim
```

Если ваш инструмент сборки распознаёт поле `browser` в файле `package.json`, импортированный `AbortController` является родным и не содержит подмены (даже если родное решение было пустым).
Если вам нужна подмена `AbortController` для IE, используйте `abort-controller/polyfill`.

### Подмена

Импортирование `abort-controller/polyfill` присваивает подмену `AbortController` глобальной переменной `AbortController`, если родной имплементации нет.

```javascript
import "abort-controller/polyfill"
// или
require("abort-controller/polyfill")
```

### API

#### `AbortController`

> [https://dom.spec.whatwg.org/#interface-abortcontroller](https://dom.spec.whatwg.org/#interface-abortcontroller)

##### `controller.signal`

Объект [AbortSignal](https://dom.spec.whatwg.org/#interface-AbortSignal), связанный с этим контроллером.

##### `controller.abort()`

Уведомляет слушателей об событии `abort`, что `signal` был прерван.


## Изменения

- См. [выпуски на GitHub](https://github.com/mysticatea/abort-controller/releases).

## Содействие

Содействие приветствуется ❤️

Пожалуйста, используйте проблемы/pull-реквесты на GitHub.

### Инструменты разработки

- `npm install` устанавливает зависимости для разработки.
- `npm test` запускает тесты и измеряет покрытие кода.
- `npm run clean` удаляет временные файлы тестов.
- `npm run coverage` открывает отчет о покрытии кода в вашем браузере.
- `npm run lint` запускает ESLint.
- `npm run build` генерирует код в папке `dist`.
- `npm run watch` запускает тесты при каждом изменении файла.


**Изменения:**

* Добавлены теги `![...](...)` для отображения метрик в README.
* Исправлена пунктуация и стиль.
* Переведено на русский язык.
* Добавлена ссылка на пример.
* Улучшен синтаксис кода примера.
* Улучшен стиль заголовков и пунктов.
* Исправлены мелкие ошибки перевода.
* Добавлена информация о UMD версии.
* Добавлена информация о использовании с bundlers.
* Добавлена информация о полифилле.
* Использование `console.log` заменено на русскоязычную версию.
