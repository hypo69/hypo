# Анализ кода модуля `change.py`

**Качество кода**
8
-  Плюсы
    - Код игры реализован в соответствии с описанием.
    - Присутствуют основные игровые механики: случайное размещение Хёркла, ввод координат игроком, расчет расстояния, вывод направления и расстояния до Хёркла.
    - Код прокомментирован, что облегчает понимание его работы.
    - Имеется обработка ошибок ввода (не числовых значений), с помощью `try-except`.
-  Минусы
    - Код не соответствует требованиям к оформлению документации.
    - Отсутствует логирование.
    - Избыточное использование стандартных блоков `try-except` вместо логирования ошибок с помощью `logger.error`.
    - Не все комментарии переписаны в формате reStructuredText (RST).

**Рекомендации по улучшению**
1.  Переписать все комментарии в формате reStructuredText (RST).
2.  Добавить импорт `from src.logger.logger import logger` для логирования ошибок.
3.  Избегать избыточного использования стандартных блоков `try-except`, использовать обработку ошибок с помощью `logger.error`.
4.  Переписать docstring для модуля.
5.  Привести в соответствие имена переменных с ранее обработанными файлами.

**Оптимизированный код**

```python
"""
Модуль реализует игру "Хёркл".
=========================================================================================

Игра "Хёркл" - это игра-поиск, в которой игрок пытается найти компьютер, который "прячется" в случайном месте на сетке 10x10.
Игрок получает подсказки о направлении (север, юг, восток, запад) и расстоянии до Хёркла после каждого хода.
Игрок побеждает, когда находит Хёркла.

Правила игры:
1. Компьютер размещает Хёркла в случайной точке на сетке 10x10 (координаты от 1 до 10 по x и y).
2. Игрок вводит координаты своей попытки найти Хёркла.
3. Компьютер вычисляет расстояние между позицией игрока и позицией Хёркла и выдает подсказки:
    - Направление (север, юг, восток, запад или их комбинации).
    - Расстояние до Хёркла.
4. Игрок продолжает делать попытки, пока не найдет Хёркла, т.е. координаты его попытки не совпадут с координатами Хёркла.
-----------------
Алгоритм:
1. Инициализировать координаты Хёркла случайными целыми числами от 1 до 10 для x и y.
2. Начать цикл "пока Хёркл не найден":
    2.1 Запросить у игрока координаты его попытки (x и y).
    2.2 Если координаты игрока совпадают с координатами Хёркла, вывести сообщение о победе и завершить игру.
    2.3 Иначе вычислить расстояние между координатами игрока и координатами Хёркла.
    2.4 Вычислить и вывести направление до Хёркла (комбинация N, S, E, W).
    2.5 Вывести расстояние до Хёркла.
3. Конец игры.
-----------------
"""
import random
import math
from src.logger.logger import logger #  импортируем logger для логирования ошибок

# 1. Инициализация координат Хёркла случайными целыми числами от 1 до 10
hurkle_x = random.randint(1, 10) #  случайное целое число от 1 до 10 для координаты X Хёркла
hurkle_y = random.randint(1, 10) #  случайное целое число от 1 до 10 для координаты Y Хёркла

# 2. Основной игровой цикл (пока Хёркл не найден)
while True:
    # 2.1 Запрос у игрока координат его попытки
    try:
        user_x = int(input("Введите X координату (от 1 до 10): ")) #  запрашивает у игрока X координату
        user_y = int(input("Введите Y координату (от 1 до 10): ")) #  запрашивает у игрока Y координату
    except ValueError as ex:
        logger.error('Ошибка ввода, необходимо ввести целые числа', ex) #  логирование ошибки ввода
        print("Пожалуйста, введите целые числа.")
        continue

    # Проверка ввода координат
    if not (1 <= user_x <= 10 and 1 <= user_y <= 10): #  проверяет, что координаты находятся в диапазоне от 1 до 10
        print("Координаты должны быть в диапазоне от 1 до 10.")
        continue
    # 2.2 Проверка, угадал ли игрок позицию Хёркла
    if user_x == hurkle_x and user_y == hurkle_y: #  проверяет, совпадают ли координаты игрока и Хёркла
        print("YOU FOUND HIM!")
        break  # Завершение игры, если Хёркл найден

    # 2.3 Вычисление расстояния между позицией игрока и позицией Хёркла
    distance_x = user_x - hurkle_x #  вычисляет разницу координат X
    distance_y = user_y - hurkle_y #  вычисляет разницу координат Y
    distance = math.sqrt(distance_x**2 + distance_y**2) #  вычисляет расстояние по теореме Пифагора

    # 2.4 Определение направления до Хёркла (комбинация N, S, E, W)
    direction = "" #  инициализирует пустую строку для хранения направления
    if distance_y > 0: #  если разница Y положительная, добавляет "N" (север)
        direction += "N"
    if distance_y < 0: #  если разница Y отрицательная, добавляет "S" (юг)
        direction += "S"
    if distance_x > 0: #  если разница X положительная, добавляет "E" (восток)
        direction += "E"
    if distance_x < 0: #  если разница X отрицательная, добавляет "W" (запад)
        direction += "W"

    # 2.5 Вывод подсказки (направление и расстояние) до Хёркла
    print(f"{direction if direction else 'Здесь'}, расстояние: {distance:.2f}") #  выводит направление (если есть, иначе выводит "Здесь") и расстояние до Хёркла
```