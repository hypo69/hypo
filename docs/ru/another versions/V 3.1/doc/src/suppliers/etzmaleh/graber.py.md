# Модуль `graber.py`

## Обзор

Модуль `graber.py` предназначен для сбора данных о товарах с сайта `etzmaleh.co.il`. Он расширяет функциональность базового класса `Graber` и предназначен для обработки специфических полей и элементов на страницах товаров этого поставщика. Модуль включает в себя механизм для предварительной обработки страницы перед сбором данных, например, для закрытия всплывающих окон.

## Подробней

Этот модуль является частью системы сбора данных о товарах от различных поставщиков. Он специализируется на парсинге данных с сайта `etzmaleh.co.il`. Основная задача модуля заключается в адаптации общих методов сбора данных, унаследованных от класса `Graber`, к специфической структуре и особенностям страниц товаров `etzmaleh.co.il`.

Использование декораторов позволяет выполнять предварительные действия перед началом сбора данных, такие как закрытие всплывающих окон. Это делается для обеспечения стабильности и корректности процесса парсинга.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для операций сбора данных с сайта `etzmaleh.co.il`. Он наследуется от базового класса `Graber` (`Grbr`) и переопределяет некоторые методы для адаптации к особенностям сайта поставщика.

**Методы**:
- `__init__`: Инициализирует экземпляр класса `Graber`, устанавливает префикс поставщика и вызывает конструктор родительского класса.

**Параметры**:
- `driver` (Driver): Экземпляр веб-драйвера для управления браузером.
- `lang_index` (int): Индекс языка, используемый для локализации контента.

**Примеры**:
```python
from src.webdriver.driver import Driver
from src.config.main import get_config

cfg = get_config()
driver = Driver(cfg.webdriver)
graber = Graber(driver, lang_index=0)
```

## Функции

### `close_pop_up`

```python
# def close_pop_up(value: Any = None) -> Callable:
#     """Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

#     Args:
#         value (Any): Дополнительное значение для декоратора.

#     Returns:
#         Callable: Декоратор, оборачивающий функцию.
#     """
#     def decorator(func: Callable) -> Callable:
#         @wraps(func)
#         async def wrapper(*args, **kwargs):\
#             try:
#                 # await Context.driver.execute_locator(Context.locator.close_pop_up)  # Await async pop-up close  
#                 ... 
#             except ExecuteLocatorException as e:
#                 logger.debug(f'Ошибка выполнения локатора: {e}')
#             return await func(*args, **kwargs)  # Await the main function
#         return wrapper
#     return decorator
```

**Описание**: Функция `close_pop_up` создает декоратор, который закрывает всплывающие окна перед выполнением основной логики функции сбора данных.

**Параметры**:
- `value` (Any, optional): Дополнительное значение для декоратора. По умолчанию `None`.

**Возвращает**:
- `Callable`: Декоратор, который оборачивает функцию.

**Примеры**:
```python
# Пример использования декоратора для закрытия всплывающих окон
# @close_pop_up()
# async def get_data(self):
#     ...