# Анализ кода модуля `ugly.py`

**Качество кода**

-  **Соответствие требованиям к формату кода (1-10):**
   -  **Преимущества:**
        - Код хорошо документирован в виде docstring в начале файла, описывающего логику игры и её алгоритм.
        - Присутствует блок-схема, которая визуализирует процесс игры, что облегчает понимание кода.
        - Код использует понятные имена переменных, такие как `targetNumber` и `userGuess`, что делает его легко читаемым.
        - Используется стандартный цикл `while True` для организации игрового процесса, а также блоки `if`, `elif`, `else` для проверки условий.
        - Код корректно обрабатывает ошибки ввода пользователя с помощью `try-except`, предотвращая сбои при вводе некорректных данных.
        - Код разделен на логические блоки, что облегчает понимание и отслеживание хода выполнения программы.
   - **Недостатки:**
        - Отсутствуют явные импорты из `src.utils.jjson` и `src.logger.logger`, которые требуются в соответствии с инструкциями.
        - Docstring не использует формат RST.
        - Отсутствуют аннотации типов.
        - Присутствуют комментарии после `#`, которые не соответствуют формату reStructuredText.
        - Используется стандартный `print` для вывода сообщений, что затрудняет журналирование и отладку.

**Рекомендации по улучшению**

1.  **Импорт:** Добавить необходимые импорты из `src.utils.jjson` и `src.logger.logger`.
2.  **Форматирование Docstring:** Переписать docstring в начале файла и для всех функций/методов в формате RST.
3.  **Обработка ошибок:** Заменить `print` на `logger.error` для журналирования ошибок ввода.
4.  **Аннотации типов:** Добавить аннотации типов для переменных и функций.
5.  **Форматирование комментариев:** Переписать все комментарии в формате RST.
6.  **Общая структуризация:** Убрать лишние разделители.

**Улучшенный код**

```python
"""
Модуль игры "UGLY"
=========================================================================================

Игра "UGLY" - это простая игра-угадайка, где компьютер генерирует случайное число,
а игрок должен угадать это число. После каждой попытки игроку сообщается, было ли
его предположение выше или ниже загаданного числа.

Правила игры:
-------------------
1. Компьютер генерирует случайное целое число от 1 до 100.
2. Игрок вводит свое предположение о загаданном числе.
3. После каждой попытки компьютер сообщает, было ли введенное число "TOO HIGH"
   (слишком высоко) или "TOO LOW" (слишком низко).
4. Игра заканчивается, когда игрок угадывает число.

Алгоритм:
-------------------
1. Сгенерировать случайное число в диапазоне от 1 до 100 и сохранить его в переменной `target_number`.
2. Начать цикл "пока не угадано":
   2.1 Запросить у игрока ввод числа и сохранить его в переменной `user_guess`.
   2.2 Если `user_guess` равно `target_number`, вывести сообщение "YOU GOT IT!" и перейти к шагу 3.
   2.3 Если `user_guess` меньше `target_number`, вывести сообщение "TOO LOW".
   2.4 Если `user_guess` больше `target_number`, вывести сообщение "TOO HIGH".
3. Завершить игру.

Блок-схема:
-------------------
.. graphviz::

   digraph ugly_game {
      rankdir=TB;
      node [shape=box, style="rounded,filled", fillcolor=lightblue];
      Start [label="Начало"];
      InitializeTargetNumber [label="Инициализация:\n target_number = random(1, 100)"];
      LoopStart [label="Начало цикла:\n пока не угадано", shape=diamond];
      InputGuess [label="Ввод числа пользователем:\n user_guess"];
      CheckGuess [label="Проверка:\n user_guess == target_number?", shape=diamond];
      OutputWin [label="Вывод сообщения:\n YOU GOT IT!"];
      End [label="Конец", shape=oval];
      CheckLow [label="Проверка:\n user_guess < target_number?", shape=diamond];
      OutputLow [label="Вывод сообщения:\n TOO LOW"];
      OutputHigh [label="Вывод сообщения:\n TOO HIGH"];

      Start -> InitializeTargetNumber;
      InitializeTargetNumber -> LoopStart;
      LoopStart -> InputGuess;
      InputGuess -> CheckGuess;
      CheckGuess -> OutputWin [label="Да"];
      OutputWin -> End;
      CheckGuess -> CheckLow [label="Нет"];
      CheckLow -> OutputLow [label="Да"];
      OutputLow -> LoopStart;
      CheckLow -> OutputHigh [label="Нет"];
      OutputHigh -> LoopStart;
    }

Легенда:
-------------------
    * Start - Начало программы.
    * InitializeTargetNumber - Инициализация переменной target_number случайным целым числом от 1 до 100.
    * LoopStart - Начало цикла, который продолжается, пока число не угадано.
    * InputGuess - Запрос у пользователя ввода числа и сохранение его в переменной user_guess.
    * CheckGuess - Проверка, равно ли введенное число user_guess загаданному числу target_number.
    * OutputWin - Вывод сообщения о победе, если числа равны.
    * End - Конец программы.
    * CheckLow - Проверка, меньше ли введенное число user_guess загаданного числа target_number.
    * OutputLow - Вывод сообщения "TOO LOW", если введенное число меньше загаданного.
    * OutputHigh - Вывод сообщения "TOO HIGH", если введенное число больше загаданного.
"""
import random  # Импорт модуля random для генерации случайных чисел
from src.logger.logger import logger  # Импорт логгера для записи ошибок #
# from src.utils.jjson import j_loads  #  #TODO: Не используется, убрать, если точно не нужен

def play_ugly_game() -> None:
    """
    Запускает игру "Угадай число".

    :return: None
    """
    target_number: int = random.randint(1, 100)  # Генерация случайного числа от 1 до 100
    while True:  # Бесконечный цикл, пока игрок не угадает число
        try:
            user_guess: int = int(input('Угадай число: '))  # Запрос ввода числа от пользователя
        except ValueError as e:
            logger.error('Некорректный ввод, введите целое число', exc_info=True) # логирование ошибки, если ввод не является числом
            continue
        if user_guess == target_number: # проверка, равно ли введенное число загаданному
            print('YOU GOT IT!')  #  вывод сообщения о победе
            break  # выход из цикла, если число угадано
        elif user_guess < target_number: # проверка, меньше ли введенное число загаданного
            print('TOO LOW') #  вывод подсказки о том, что число меньше
        else: # если число не меньше и не угадано, значит оно больше
            print('TOO HIGH') #  вывод подсказки о том, что число больше
# Комментарий для пояснения алгоритма игры
"""
Объяснение кода:
-------------------
1.  Импорт модуля `random`:
    - Импортируется модуль `random`, который используется для генерации случайного числа.
2.  Генерация случайного числа:
    - Генерируется случайное целое число в диапазоне от 1 до 100 и сохраняется в переменной `target_number`.
3.  Основной цикл `while True:`:
    - Создается бесконечный цикл, который продолжается, пока игрок не угадает число.
    - Ввод данных:
        - Блок `try-except` обрабатывает возможные ошибки ввода. Если пользователь введет не целое число,
          то выводится сообщение об ошибке.
        - Запрашивается у пользователя ввод числа и сохраняется в переменной `user_guess`.
    - Проверка условия победы:
        - Проверяется, равно ли введенное число загаданному.
        - Выводится сообщение о победе.
        - Цикл завершается, если число угадано.
    - Подсказки:
        - Проверяется, если введенное число меньше загаданного.
        - Выводится подсказка, что нужно ввести число больше.
        - Если число не угадано и не меньше загаданного, то оно больше.
        - Выводится подсказка, что нужно ввести число меньше.
"""
if __name__ == '__main__':
    play_ugly_game()
```