# instruction_code_checker.md

## Обзор

Этот модуль содержит инструкции для проверки Python-кода и улучшения его читабельности и эффективности. Он предоставляет рекомендации по улучшению кода, добавлению документации и обработке ошибок.

## Требования

### Основные требования

1. **Формат документации**: Используйте reStructuredText (RST) для всех комментариев и docstrings.  Всегда используйте одинарные кавычки (`'`) в Python-коде.

2. **Сохранение комментариев**: Все существующие комментарии после символа `#` должны быть сохранены без изменений. Кодовые блоки, требующие изменений, должны быть закомментированы построчно с использованием символа `#`.

3. **Обработка данных**: Используйте `j_loads` или `j_loads_ns` из `src.utils.jjson` вместо стандартного `json.load` для чтения файлов. Оставьте все `...` в коде без изменений, как точки остановки.

4. **Анализ структуры**: Проверьте и добавьте недостающие импорты в код. Убедитесь, что имена функций, переменных и импортов соответствуют ранее обработанным файлам.

5. **Рефакторинг и улучшения**: Добавьте RST-форматированные комментарии ко всем функциям, методам и классам. Используйте `from src.logger import logger` для ведения журнала ошибок. Избегайте чрезмерного использования стандартных блоков `try-except`; предпочтительнее использовать обработку ошибок с помощью `logger.error`. В комментариях избегайте нечетких слов, таких как 'get' или 'do'; используйте вместо них конкретные термины, такие как 'валидация', 'выполнение' или 'отправка'.

6. **Шаблон ответа**: Ответ должен включать три раздела:
    - **Полученный код** — исходный код без изменений.
    - **Улучшенный код** — код с добавленными комментариями и исправлениями.
    - **Изменения, внесенные** — подробный список внесенных изменений.
    - **ПОЛНЫЙ код** — полный код со всеми улучшениями.

7. **Окончательный код**: Окончательный раздел ответа должен содержать полный код (исходный код с улучшениями) в одном блоке, готовом к копированию и вставке в качестве замены исходному коду. Все измененные части кода должны быть закомментированы построчно с использованием символа `#` в этом блоке.

8. **Примеры кода**: Включите примеры RST-документации и возможные улучшения в формате `TODO`.

9. **Дополнительные инструкции**: Перепишите все комментарии для модулей, функций, методов и переменных в формате RST. Это включает:
    - Описание модуля в начале файла.
    - Документацию для каждой функции, метода и переменной.
    - Соблюдение стандартов Python docstrings (например, в стиле Sphinx).
    - Строки, закомментированные с помощью `#`, должны предоставлять подробное объяснение блока кода, которому они предшествуют.


## Пример документации модуля

```python
"""
Модуль для функциональности помощника программиста
=========================================================================================

Этот модуль содержит :class:`CodeAssistant`, который работает с различными моделями ИИ,
такими как Google Gemini и OpenAI, для обработки задач обработки кода.

Пример использования
--------------------

Пример использования класса `CodeAssistant`:

.. code-block:: python

    assistant = CodeAssistant(role='code_checker', lang='en', model=['gemini'])
    assistant.process_files()
"""
```

## Пример документации функции

```python
def example_function(param1: str, param2: int) -> str:
    """
    Выполняет примерную задачу.

    :param param1: Описание параметра 1.
    :param param2: Описание параметра 2.
    :return: Описание возвращаемого значения.
    """
    ...
```
```
```
```
```
```
```