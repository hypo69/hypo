# Модуль `graber`

## Обзор

Модуль `graber` предназначен для сбора данных о товарах с сайта `etzmaleh.co.il`. Он расширяет функциональность родительского класса `Graber` из модуля `src.suppliers.graber`, переопределяя методы для обработки специфичных полей и элементов на страницах товаров этого поставщика.

## Подробней

Модуль предоставляет класс `Graber`, который наследуется от `Graber` (который, в свою очередь, импортируется как `Grbr` из `src.suppliers.graber`). Он предназначен для извлечения информации о товарах с веб-страниц `etzmaleh.co.il`. Основная цель - автоматизировать процесс сбора данных, предоставляя возможность переопределения методов обработки полей для учета особенностей структуры сайта.

Ключевые аспекты:

-   **Наследование**: Класс `Graber` наследует общую функциональность от базового класса `Graber` (`Grbr`), что позволяет повторно использовать общую логику сбора данных.
-   **Переопределение методов**: Для специфичных полей, требующих нестандартной обработки, методы могут быть переопределены в классе `Graber`.
-   **Декораторы**: Поддерживается использование декораторов для выполнения предварительных действий перед отправкой запроса к веб-драйверу, например, для закрытия всплывающих окон.

## Классы

### `Graber`

**Описание**: Класс для выполнения операций захвата данных с сайта `etzmaleh.co.il`.

**Методы**:

-   `__init__`: Инициализирует экземпляр класса `Graber`.

**Параметры**:

-   `driver` (`Driver`): Экземпляр веб-драйвера для управления браузером.
-   `lang_index` (`int`): Индекс языка, используемый для локализации.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.suppliers.etzmaleh.graber import Graber

# Пример инициализации класса Graber
driver = Driver()
graber = Graber(driver=driver, lang_index=1)
```

## Функции

### `close_pop_up`

```python
# def close_pop_up(value: Any = None) -> Callable:
#     """Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

#     Args:
#         value (Any): Дополнительное значение для декоратора.

#     Returns:
#         Callable: Декоратор, оборачивающий функцию.
#     """
```

**Описание**: Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.
```python
    supplier_prefix: str

    def __init__(self, driver: Driver, lang_index):
        """Инициализация класса сбора полей товара."""
        self.supplier_prefix = 'etzmaleh'
        super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)
        # Устанавливаем глобальные настройки через Context
        
        Context.locator_for_decorator = None # <- если будет уастановлено значение - то оно выполнится в декораторе `@close_pop_up`
```
**Описание**: Инициализация класса сбора полей товара.

**Параметры**:

-   `driver` (`Driver`): Драйвер, используемый для управления браузером.
-   `lang_index` (`int`): Индекс языка для локализации.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.suppliers.etzmaleh.graber import Graber

driver = Driver()
lang_index = 1
graber = Graber(driver, lang_index)