# Руководство для Тестирования DriverBase с использованием pytest

## Обзор

Данное руководство описывает процесс тестирования класса `DriverBase` с использованием фреймворка `pytest`. Оно включает в себя установку необходимых библиотек, настройку окружения, описание структуры проекта и пошаговую инструкцию по запуску тестов.

## Структура проекта

Проект имеет следующую структуру:

```
src/
|-- webdriver/
|   |-- driver.py
|   |-- javascript/
|   |-- executor/
|-- logger.py
|-- utils/
|   |-- jjson.py
tests/
|-- test_driver.py
```

## Предварительные условия

Перед началом тестирования убедитесь, что у вас установлены следующие компоненты:

1. **Python 3.12:** Убедитесь, что установлена версия Python 3.12. Проверьте текущую версию с помощью команды:
   ```bash
   python --version
   ```

2. **pytest:** Установите `pytest`, если он еще не установлен:
   ```bash
   pip install pytest
   ```

3. **unittest.mock:** Библиотека `unittest.mock` входит в стандартную библиотеку Python, начиная с версии 3.3. Она не требует отдельной установки.


## Настройка окружения

1. **Клонирование репозитория:** Склонируйте репозиторий на локальную машину:
   ```bash
   git clone <URL_вашего_репозитория>
   cd <имя_проекта>
   ```

2. **Создание и активация виртуального окружения:**
   Создайте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # На Windows используйте: venv\Scripts\activate
   ```

3. **Установка зависимостей:** Установите необходимые зависимости, перечисленные в `requirements.txt` (если таковой имеется):
   ```bash
   pip install -r requirements.txt
   ```

## Написание и запуск тестов

### Файл `test_driver.py`

Тесты для `DriverBase` находятся в файле `tests/test_driver.py`.  Примеры тестов включают тестирование методов `driver_payload`, `scroll`, `locale` и других.

### Запуск тестов

1. **Запуск тестов:** Для запуска тестов выполните следующую команду в корневой директории проекта:
   ```bash
   pytest tests/test_driver.py
   ```

2. **Интерпретация результатов:** `pytest` предоставит отчет о результатах. Пример:
   ```
   ============================== test session starts ===============================\
   platform linux -- Python 3.12.0, pytest-7.0.0, pluggy-0.13.1
   rootdir: /path/to/your/project
   collected 9 items

   tests/test_driver.py ........                                        [100%]

   =============================== 9 passed in 1.23s ================================
   ```
   В случае ошибок `pytest` отобразит подробную информацию об ошибках.


## Полезные команды

1. **Запуск всех тестов:**
   ```bash
   pytest
   ```

2. **Запуск тестов с подробным выводом:**
   ```bash
   pytest -v
   ```

3. **Запуск тестов с отчетом о покрытии кода:**
   - Установите `pytest-cov`:
     ```bash
     pip install pytest-cov
     ```
   - Запустите тесты с отчетом о покрытии:
     ```bash
     pytest --cov=src tests/
     ```


## Заключение

Это руководство поможет вам эффективно тестировать класс `DriverBase` с использованием `pytest`, обеспечивая его корректную работу и предотвращая регрессии.