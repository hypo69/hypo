# Модуль `graber.py`

## Обзор

Модуль `graber.py` предназначен для сбора значений полей на странице товара `gearbest.com`. Он содержит класс `Graber`, который наследуется от родительского класса `Graber` (Grbr) и переопределяет некоторые методы для нестандартной обработки полей, если это необходимо. Модуль также включает функциональность для выполнения предварительных действий перед отправкой запроса к веб-драйверу через декоратор.

## Подробней

Этот модуль является частью системы для сбора и обработки данных о товарах с различных онлайн-платформ. Класс `Graber` специализируется на извлечении информации с сайта `gearbest.com`.  Перед отправкой запроса к вебдрайверу, можно выполнить предварительные действия, используя декораторы. Это позволяет, например, закрывать всплывающие окна или выполнять другие подготовительные шаги.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `gearbest.com`. Он наследуется от класса `Graber` (Grbr) и может переопределять его методы для специфической обработки данных.

**Как работает класс**:
1.  **Инициализация**: При инициализации класса устанавливается префикс поставщика (`supplier_prefix`) как `'etzmaleh'`.
2.  **Наследование**: Класс наследует методы родительского класса `Graber` (Grbr), которые предоставляют базовую функциональность для сбора данных о товарах.
3.  **Переопределение методов**: При необходимости, методы родительского класса могут быть переопределены для нестандартной обработки полей на странице товара `gearbest.com`.
4.  **Декораторы**: Перед отправкой запроса к веб-драйверу можно выполнить предварительные действия, используя декораторы. Декоратор по умолчанию находится в родительском классе.

**Методы**:

*   `__init__`: Инициализирует экземпляр класса `Graber`.

**Параметры**:

*   `driver` (Driver): Экземпляр веб-драйвера для управления браузером.
*   `lang_index`: Индекс языка.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.suppliers.gearbest.graber import Graber

# Пример создания экземпляра класса Graber
driver = Driver()
graber = Graber(driver, lang_index='ru')
```

## Функции

### `__init__`

```python
def __init__(self, driver: Driver, lang_index):
    """Инициализация класса сбора полей товара."""
```

**Описание**: Инициализирует экземпляр класса `Graber`, устанавливает префикс поставщика и вызывает конструктор родительского класса.

**Как работает функция**:

1.  Устанавливает атрибут `supplier_prefix` равным `'etzmaleh'`.
2.  Вызывает конструктор родительского класса `Graber` (Grbr) с установленным префиксом поставщика, драйвером и индексом языка.
3.  Устанавливает глобальные настройки через `Context`, в частности, `Context.locator_for_decorator` устанавливается в `None`, что означает, что декоратор `@close_pop_up` не будет выполняться, если не будет установлено другое значение.

**Параметры**:

*   `driver` (Driver): Экземпляр веб-драйвера для управления браузером.
*   `lang_index`: Индекс языка.

**Возвращает**:

*   `None`

**Вызывает исключения**:

*   `Exception`: Если возникает ошибка при инициализации родительского класса.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.suppliers.gearbest.graber import Graber

# Пример создания экземпляра класса Graber
driver = Driver()
graber = Graber(driver, lang_index='ru')
```