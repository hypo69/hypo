Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код определяет класс `JupyterCampaignEditorWidgets`, который предоставляет виджеты для управления кампаниями AliExpress в Jupyter Notebook.  Класс позволяет пользователю выбирать кампанию, категорию, язык и валюту, инициализировать редактор кампании, сохранять данные и отображать продукты.  Код взаимодействует с классом `AliCampaignEditor` для доступа к данным кампаний.  Он использует ipywidgets для создания интерактивных элементов управления (выпадающих списков, кнопок) и `webbrowser` для открытия Google Spreadsheet.

Шаги выполнения
-------------------------
1. **Импортирует необходимые библиотеки:** Импортируются необходимые библиотеки для работы с виджетами Jupyter,  работой с путями,  доступ к данным,  и логгированием.

2. **Определяет класс `JupyterCampaignEditorWidgets`:**  Этот класс отвечает за создание и управление виджетами.

3. **Инициализирует виджеты:**  Создаются виджеты для выбора кампании, категории, языка/валюты, кнопок инициализации редактора, сохранения кампании, отображения продуктов и открытия Google Spreadsheet.  Путь к каталогу кампаний проверяется на существование.

4. **Настраивает callbacks:**  Назначаются функции-обработчики событий (callbacks) для каждого виджета.  Когда пользователь изменяет выбор в выпадающем списке или нажимает кнопку, соответствующая функция-обработчик вызывается.

5. **Инициализирует редактор кампании:**  При инициализации класса  выполняется `initialize_campaign_editor()` для настройки редактора кампании по выбранным параметрам.

6. **`initialize_campaign_editor()`:**  Функция, вызываемая при изменении параметров выбора, инициализирует `AliCampaignEditor`, получая имя кампании, язык и валюту.  Она также обновляет выпадающий список категорий для текущей кампании и загружает категории и продукты.

7. **`update_category_dropdown()`:** Функция обновляет выпадающий список категорий на основе выбранной кампании.

8. **`on_campaign_name_change()`, `on_category_change()`, `on_language_change()`:** Функции-обработчики событий для выпадающих списков, которые вызываются при изменении выбора. Они обновляют внутренние переменные класса и вызывают `initialize_campaign_editor()` для переинициализации редактора с новыми параметрами.

9. **`save_campaign()`:** Функция сохраняет данные кампании и ее категорий в Google Таблицу, используя `AliCampaignEditor`. Обрабатывает ошибки при сохранении.

10. **`show_products()`:** Функция отображает продукты, выбранные из Google Таблицы по заданной категории. Обрабатывает ошибки.

11. **`open_spreadsheet()`:** Функция открывает выбранную Google Таблицу в браузере, используя `webbrowser`. Проверяет наличие `campaign_editor` перед открытием.

12. **`setup_callbacks()`:** Настраивает обработчики событий для всех виджетов.

13. **`display_widgets()`:** Отображает все созданные виджеты в Jupyter Notebook. Автоматически инициализирует редактор кампании с первой доступной кампанией.


Пример использования
-------------------------
.. code-block:: python

    from hypotez.src.suppliers.aliexpress.campaign.ali_campaign_editor_jupyter_widgets import JupyterCampaignEditorWidgets

    # Создаем экземпляр класса
    editor_widgets = JupyterCampaignEditorWidgets()

    # Отображаем виджеты
    editor_widgets.display_widgets()