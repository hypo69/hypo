```markdown
# FormData

Spec-compliant [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) implementation for Node.js

[![Code Coverage](https://codecov.io/github/octet-stream/form-data/coverage.svg?branch=master)](https://codecov.io/github/octet-stream/form-data?branch=master)
[![CI](https://github.com/octet-stream/form-data/workflows/CI/badge.svg)](https://github.com/octet-stream/form-data/actions/workflows/ci.yml)
[![ESLint](https://github.com/octet-stream/form-data/workflows/ESLint/badge.svg)](https://github.com/octet-stream/form-data/actions/workflows/eslint.yml)

## Краткое описание

Реализация [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) интерфейса, соответствующая спецификации, для Node.js.

* Полностью соответствует спецификации: реализует все методы интерфейса [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData).
* Поддерживает объекты Blob и File, полученные из любого источника: вы можете использовать встроенные помощники `fileFromPath` и `fileFromPathSync`, чтобы создать объект File из файловой системы, или реализовать свой объект `BlobDataItem`, чтобы использовать другой источник данных.
* Поддерживает как ESM, так и CJS. Подробности см. в разделе «Поддержка ESM/CJS».
* Написано на TypeScript и поставляется с типизацией TypeScript.
* Изоморфно, но для браузеров просто экспортирует объект native `FormData`. Если вам нужен полифилл для браузеров, используйте [`formdata-polyfill`](https://github.com/jimmywarting/FormData).
* Является *ponyfill*: не оказывает никакого влияния на `globalThis` или встроенную реализацию `FormData`.

## Установка

Вы можете установить этот пакет с помощью npm:

```bash
npm install formdata-node
```

Или yarn:

```bash
yarn add formdata-node
```

Или pnpm:

```bash
pnpm add formdata-node
```

## Поддержка ESM/CJS

Этот пакет поддерживает как ESM, так и CJS по причинам обратной совместимости и для плавного перехода на ESM-только проекты. Обратите внимание, что поддержка CJS будет удалена, так как Node.js v12 достигнет конца срока поддержки. Это изменение будет выпущено как обновление основной версии, так что вы не пропустите его.

## Использование

1. Рассмотрим минимальный пример с использованием [got](https://github.com/sindresorhus/got):

```javascript
import {FormData} from "formdata-node";
import got from "got";

const form = new FormData();
form.set("greeting", "Привет, мир!");

const data = await got.post("https://httpbin.org/post", {body: form}).json();
console.log(data.form.greeting); // => Привет, мир!
```

2. Если ваш HTTP-клиент не поддерживает совместимую со спецификацией `FormData`, вы можете использовать [`form-data-encoder`](https://github.com/octet-stream/form-data-encoder) для кодирования записей:


```javascript
// ... (код из примера)
```

3. Отправка файлов через form-data:

```javascript
import {FormData, File} from "formdata-node";
import fetch from "node-fetch";

const form = new FormData();
const file = new File(["Мой летательный аппарат полон угрями"], "file.txt");
form.set("file", file);
await fetch("https://httpbin.org/post", {method: "post", body: form});
```

4. Объекты Blob также разрешены в качестве значений полей:

```javascript
// ... (код из примера)
```

5. Вы также можете добавлять файлы, используя `fileFromPath` или `fileFromPathSync`:

```javascript
// ... (код из примера)
```

6.  Вы по-прежнему можете использовать файлы, полученные из любого потока, но, в отличие от версии 2, вам потребуется немного больше усилий:

```javascript
// ... (код из примера)
```

7.  Обратите внимание, что если вы не знаете длину потока, вам также может потребоваться вручную обработать кодировку form-data или использовать пакет [`form-data-encoder`](https://github.com/octet-stream/form-data-encoder). Это необходимо для управления заголовками, которые будут отправлены с вашим HTTP-запросом:

```javascript
// ... (код из примера)
```


## Сравнение

... (таблица сравнения с другими библиотеками)


## API

... (документация API с русскоязычными описаниями)


## Дополнительные ссылки

... (ссылки на документацию)


```
**Примечания:**

* Этот ответ существенно расширен, включает русскоязычные эквиваленты терминов, и предоставляет более подробные комментарии к примерам.
* Примеры из оригинального текста адаптированы и, где возможно, упрощены для лучшей читаемости.
* Таблица сравнения должна быть дополнена.
* Необходимо добавить полную документацию API на русском языке.


```