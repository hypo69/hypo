# Модуль `hypotez/src/utils/convertors/html2text.py`

## Обзор

Модуль `html2text` преобразует HTML-код в эквивалентный текстовый формат, структурированный по принципам Markdown. Поддерживает различные параметры для настройки отображения, включая обработку ссылок, изображений, списков и т.д.

## Параметры

Модуль использует несколько параметров для настройки поведения преобразования, такие как `UNICODE_SNOB`, `LINKS_EACH_PARAGRAPH`, `BODY_WIDTH`, `SKIP_INTERNAL_LINKS`, `INLINE_LINKS`, `GOOGLE_LIST_INDENT`, `IGNORE_ANCHORS`, `IGNORE_IMAGES`.  Полное описание параметров представлено в коде в виде комментариев.

## Функции

### `has_key`

**Описание**: Проверяет наличие ключа в словаре или объекте, поддерживающем метод `has_key()`.

**Параметры**:

- `x` (object): Словарь или объект, в котором ищем ключ.
- `y` (object): Ключ для поиска.

**Возвращает**:

- `bool`: `True`, если ключ найден, `False` иначе.


### `name2cp`

**Описание**: Преобразует имя сущности HTML в ее код символа.

**Параметры**:

- `k` (str): Имя сущности HTML.

**Возвращает**:

- `int`: Код символа.

**Обрабатываемые исключения**:

- `KeyError`: Если имя сущности не найдено.

### `charref`

**Описание**: Преобразует числовую ссылку HTML в соответствующий символ.

**Параметры**:

- `name` (str): Числовая ссылка HTML.

**Возвращает**:

- `str`: Символ.

### `entityref`

**Описание**: Преобразует именованную ссылку HTML в соответствующий символ.

**Параметры**:

- `c` (str): Именованная ссылка HTML.

**Возвращает**:

- `str`: Символ.

**Обрабатываемые исключения**:

- `KeyError`: Если имя сущности не найдено.


### `replaceEntities`

**Описание**: Заменяет сущности в строке.

**Параметры**:

- `s` (str): Строка с сущностями.

**Возвращает**:

- `str`: Строка без сущностей.


### `unescape`

**Описание**: Удаляет HTML сущности из строки.

**Параметры**:

- `s` (str): Строка с HTML сущностями.

**Возвращает**:

- `str`: Строка без HTML сущностей.


### `onlywhite`

**Описание**: Проверяет, состоит ли строка только из пробельных символов.

**Параметры**:

- `line` (str): Строка для проверки.

**Возвращает**:

- `bool`: `True`, если строка состоит только из пробельных символов, `False` иначе.

### `optwrap`

**Описание**: Обёртывает абзацы в текст для заданной ширины.

**Параметры**:

- `text` (str): Текст для обёртывания.

**Возвращает**:

- `str`: Текст с обёрнутыми абзацами.


### `hn`

**Описание**: Определяет, является ли тег заголовком и возвращает его уровень.

**Параметры**:

- `tag` (str): Тег HTML.

**Возвращает**:

- `int`: Уровень заголовка (1-9) или 0, если не заголовок.

### `dumb_property_dict`

**Описание**: Преобразует строку CSS-стилей в словарь.

**Параметры**:

- `style` (str): Строка CSS-стилей.

**Возвращает**:

- `dict`: Словарь CSS-стилей.

### `dumb_css_parser`

**Описание**: Парсит CSS-строку и возвращает словарь стилей.

**Параметры**:

- `data` (str): Строка CSS.

**Возвращает**:

- `dict`: Словарь CSS-стилей.


### `element_style`

**Описание**: Объединяет стили родительского и текущего элемента.

**Параметры**:

- `attrs` (dict): Атрибуты текущего элемента.
- `style_def` (dict): Словарь определений стилей.
- `parent_style` (dict): Словарь стилей родительского элемента.

**Возвращает**:

- `dict`: Объединённый словарь стилей элемента.



### `google_list_style`

**Описание**: Определяет тип списка (упорядоченный/неупорядоченный) по стилям Google Doc.


### `google_nest_count`

**Описание**: Определяет уровень вложенности списка Google Doc по стилям.


### `google_has_height`

**Описание**: Проверяет наличие стилей высоты у элемента.



### `google_text_emphasis`

**Описание**: Возвращает список модификаторов начертания текста для элемента.

**Параметры**:
- `style` (dict): Стили элемента.

**Возвращает**:
- `list`: Список модификаторов начертания.

### `google_fixed_width_font`

**Описание**: Проверяет использование шрифтов с фиксированной шириной (например, Courier New).

**Параметры**:
- `style` (dict): Стили элемента.

**Возвращает**:
- `bool`: `True`, если используется шрифт с фиксированной шириной, `False` иначе.


### `list_numbering_start`

**Описание**: Извлекает значение старта нумерации для элемента списка.


### `_html2text`

**Описание**: Класс для парсинга HTML и преобразования в Markdown.

**Методы**: (Подробное описание методов см. в коде)


### `html2text_file`

**Описание**: Преобразует HTML-файл в Markdown.


### `html2text`

**Описание**: Преобразует HTML-строку в Markdown.

### `wrapwrite`


**Описание**: Записывает текст в стандартный вывод.


### `html2text_file`


**Описание**: Преобразует HTML-строку или файл в Markdown.


## Классы (неполный список)

### `Storage`

**Описание**: Класс для хранения параметров.


## Примеры (неполный список)

Примеры использования функций и классов приведены в коде в виде тестов.

```
```
```