# Модуль `test_tinyworld.py`

## Обзор

Данный модуль содержит тесты для класса `TinyWorld` из модуля `tinytroupe.environment`. Тесты проверяют корректность работы методов `run`, `broadcast`, `encode_complete_state` и `decode_complete_state` в различных сценариях.  Модуль использует `pytest` для запуска тестов.


## Функции

### `test_run`

**Описание**: Проверяет работу метода `run` для пустого мира и мира с агентами. Проверяет, что агенты не отправляют сообщения себе.

**Параметры**:
- `setup`:  (object): Набор данных, созданный установкой pytest.
- `focus_group_world`: (TinyWorld): Объект `TinyWorld` с агентами.

**Вызывает исключения**:
- `AssertionError`: Если обнаружены сообщения с указанием агента в качестве целевого объекта.

### `test_broadcast`

**Описание**: Проверяет работу метода `broadcast` для отправки сообщения всем агентам в мире. Проверяет, что все агенты получили сообщение.

**Параметры**:
- `setup`: (object): Набор данных, созданный установкой pytest.
- `focus_group_world`: (TinyWorld): Объект `TinyWorld` с агентами.


**Вызывает исключения**:
- `AssertionError`: Если агент не получил ожидаемое сообщение.


### `test_encode_complete_state`

**Описание**: Проверяет корректность кодирования состояния мира с помощью метода `encode_complete_state`.

**Параметры**:
- `setup`: (object): Набор данных, созданный установкой pytest.
- `focus_group_world`: (TinyWorld): Объект `TinyWorld` с агентами.

**Вызывает исключения**:
- `AssertionError`: Если закодированное состояние равно None, или не содержит имя мира или агентов.


### `test_decode_complete_state`

**Описание**: Проверяет корректность декодирования состояния мира с помощью метода `decode_complete_state`.  Тест имитирует изменения в мире и проверяет, что декодирование восстанавливает исходное состояние.

**Параметры**:
- `setup`: (object): Набор данных, созданный установкой pytest.
- `focus_group_world`: (TinyWorld): Объект `TinyWorld` с агентами.


**Вызывает исключения**:
- `AssertionError`: Если декодированный мир равен None, или имеет другое имя или количество агентов, чем исходный мир.


## Импорты

- `pytest`
- `logging`
- `sys`
- `create_lisa_the_data_scientist`, `create_oscar_the_architect`, `create_marcos_the_physician` (из `tinytroupe.examples`)
- `TinyWorld` (из `tinytroupe.environment`)
- `testing_utils` (не описан в коде, предположительно, вспомогательный модуль для тестирования)

##  Примечания

- Метод `setup` и `focus_group_world`  представляют собой переменные, которые передаются для запуска тестов (часто создаются фреймворком `pytest`).
- Должны быть импортированы необходимые вспомогательные классы и функции из `tinytroupe.examples` и `testing_utils`.
- В коде присутствуют `TODO` комментарии, указывающие на необходимость проверки целостности стимулов в будущем.
- Пути импорта (`sys.path.append`) предполагают определенную структуру папок проекта.