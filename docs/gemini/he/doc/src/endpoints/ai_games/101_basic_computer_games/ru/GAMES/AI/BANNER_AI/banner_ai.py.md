# Модуль `banner_ai.py`

## Обзор

Этот модуль реализует интерактивную игру "Banner", которая позволяет пользователю создавать текстовые баннеры с помощью моделей Google Generative AI. Пользователь может выбрать стиль оформления баннера (символы `*`, `~` или `#`) и ввести текст, который будет преобразован в баннер.

## Содержание

- [Классы](#classes)
    - [GoogleGenerativeAI](#googlegenerativeai)
- [Функции](#functions)
- [Основная часть программы](#main-program)

## Классы

### `GoogleGenerativeAI`

**Описание**: Класс для взаимодействия с моделями Google Generative AI.

**Методы**:

- `__init__`: Инициализация модели GoogleGenerativeAI.
- `ask`: Отправка запроса модели и получение ответа.

#### `__init__`

```python
def __init__(self, api_key: str, system_instruction: str, model_name: str = 'gemini-2.0-flash-exp'):
    """
    Args:
        api_key (str): Ключ API для доступа к Gemini.
        system_instruction (str): Инструкция для модели (системный промпт).
        model_name (str, optional): Название используемой модели Gemini. По умолчанию 'gemini-2.0-flash-exp'.
    """
```
**Описание**: Инициализирует объект класса `GoogleGenerativeAI`.

**Параметры**:
- `api_key` (str): Ключ API для доступа к Gemini.
- `system_instruction` (str): Инструкция для модели (системный промпт).
- `model_name` (str, optional): Название используемой модели Gemini. По умолчанию `gemini-2.0-flash-exp`.

#### `ask`

```python
def ask(self, q: str) -> str:
    """
    Args:
        q (str): Текст запроса.

    Returns:
        str: Ответ модели или сообщение об ошибке.
    """
```
**Описание**: Отправляет запрос к модели и возвращает полученный ответ.

**Параметры**:
- `q` (str): Текст запроса.

**Возвращает**:
- `str`: Ответ модели или сообщение об ошибке.

**Raises**:
- `Exception`: Возникает при ошибке во время выполнения запроса к модели.

## Функции

В данном модуле нет отдельных функций, основная логика содержится в классе `GoogleGenerativeAI` и в основной части программы.

## Основная часть программы

**Описание**: Основная логика программы, которая выполняется при запуске скрипта.

**Логика**:
1. **Инициализация**:
    - Определяет относительный и абсолютный путь к директории с ресурсами.
    - Загружает API-ключ из переменных окружения или запрашивает его у пользователя. Если ключ введен пользователем, он сохраняется в файл `.env`.
2. **Выбор стиля оформления**:
    - Предлагает пользователю выбрать стиль оформления баннера (символы `*`, `~`, `#`).
    - Загружает инструкцию для модели из файла на основе выбранного стиля. Если выбор неверный, используется стиль по умолчанию.
3. **Взаимодействие с моделью**:
    - Создает экземпляр класса `GoogleGenerativeAI` с выбранной инструкцией.
    - Запрашивает у пользователя текст для баннера.
    - Отправляет текст модели и выводит результат.
4. **Обработка ошибок**:
   - Если пользователь не ввел текст, выводится сообщение об ошибке.
   - Все ошибки при взаимодействии с моделью обрабатываются и выводятся пользователю.

```python
if __name__ == '__main__':
    # ...
    # Пример использования класса GoogleGenerativeAI и основной логики программы
    # ...
```