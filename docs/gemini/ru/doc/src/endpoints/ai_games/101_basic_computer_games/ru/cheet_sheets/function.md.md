# Функции в Python

## Обзор

Данный документ представляет собой обзор функций в Python, включая их объявление, параметры, возврат значений, работу с локальными и глобальными переменными, вложенные функции, рекурсию и обработку исключений.

## Содержание

1.  [Объявление функции](#объявление-функции)
2.  [Параметры функции](#параметры-функции)
    - [Виды параметров](#виды-параметров)
3.  [Возврат значения](#возврат-значения)
4.  [Локальные и глобальные переменные](#локальные-и-глобальные-переменные)
5.  [Вложенные функции](#вложенные-функции)
6.  [Рекурсия](#рекурсия)
7.  [Обработка исключений с `try` и `except`](#обработка-исключений-с-try-и-except)
8.  [Пример использования функций](#пример-использования-функций)

## Объявление функции

### `название_функции`

**Описание**: Функция объявляется с помощью ключевого слова `def`, за которым следует имя функции, список параметров в круглых скобках и двоеточие. Тело функции пишется с отступом.

```python
def название_функции(параметры):
    # действия
    return результат
```
**Пример:**

```python
def сложение(a: int, b: int) -> int:
    """Возвращает сумму двух чисел."""
    return a + b
```

**Параметры**:
- `a` (int): Первый параметр функции - целое число.
- `b` (int): Второй параметр функции - целое число.

**Возвращает**:
- `int`: Возвращает сумму двух целых чисел.

## Параметры функции

### `приветствие`

**Описание**: Функции могут принимать параметры, которые представляют собой входные данные. Они указываются в скобках после имени функции.

**Пример**

```python
def приветствие(имя: str) -> str:
    """Приветствует пользователя по имени."""
    return f"Привет, {имя}!"
```

**Параметры**:
- `имя` (str): Имя пользователя.

**Возвращает**:
- `str`: Приветствие пользователя по имени.

### Виды параметров

**Описание:**
1. **Обязательные параметры** - должны быть переданы при вызове функции.
2. **Необязательные параметры** - могут иметь значения по умолчанию.

**Пример с необязательными параметрами:**
```python
def приветствие(имя: str, возраст: int = 18) -> str:
   """Приветствует пользователя по имени с указанием возраста."""
   return f"Привет, {имя}! Тебе {возраст} лет."
```
**Параметры:**
- `имя` (str): Имя пользователя.
- `возраст` (int, optional): Возраст пользователя. По умолчанию `18`.

**Возвращает**:
- `str`: Приветствие с именем и возрастом.

## Возврат значения

### `умножение`

**Описание**: Функция может возвращать значение с помощью ключевого слова `return`. Если `return` не используется, функция по умолчанию возвращает `None`.

**Пример:**
```python
def умножение(a: int, b: int) -> int:
    """Возвращает произведение двух чисел."""
    return a * b
```

**Параметры**:
- `a` (int): Первый параметр функции - целое число.
- `b` (int): Второй параметр функции - целое число.

**Возвращает**:
- `int`: Возвращает произведение двух чисел.

## Локальные и глобальные переменные

**Описание**:
- **Локальная переменная** — это переменная, которая существует только внутри функции. Она создается и уничтожается при каждом вызове функции.
- **Глобальная переменная** — это переменная, которая доступна во всем коде, включая функции.

### `показать_x`

**Описание**: Пример использования глобальной переменной.

```python
x = 10  # Глобальная переменная

def показать_x() -> int:
    """Возвращает значение глобальной переменной."""
    return x  # Обращение к глобальной переменной
```

**Возвращает**:
- `int`: Возвращает значение глобальной переменной `x`.

### `изменить_x`

**Описание**: Пример изменения глобальной переменной внутри функции.

```python
x = 10  # Глобальная переменная

def изменить_x() -> None:
    """Изменяет значение глобальной переменной."""
    global x
    x = 20
```

**Параметры**:
- Нет параметров

**Возвращает**:
- `None`: Функция ничего не возвращает.

## Вложенные функции

### `внешний`

**Описание**: Функция, которая использует вложенную функцию для вычисления разницы.

```python
def внешний(a: int, b: int) -> int:
    """Функция, которая использует вложенную функцию для вычисления разницы."""
    
    def вложенный(x: int, y: int) -> int:
        """Вложенная функция, возвращающая разницу."""
        return x - y
    
    return вложенный(a, b)
```

**Параметры**:
- `a` (int): Первый параметр функции - целое число.
- `b` (int): Второй параметр функции - целое число.

**Возвращает**:
- `int`: Возвращает результат вызова вложенной функции.

### `вложенный`

**Описание**: Вложенная функция, возвращающая разницу.

**Параметры**:
- `x` (int): Первый параметр вложенной функции - целое число.
- `y` (int): Второй параметр вложенной функции - целое число.

**Возвращает**:
- `int`: Возвращает разницу между `x` и `y`.

## Рекурсия

### `факториал`

**Описание**: Вычисляет факториал числа с использованием рекурсии.

```python
def факториал(n: int) -> int:
    """Вычисляет факториал числа с использованием рекурсии."""
    if n == 0:
        return 1  # Базовый случай
    return n * факториал(n - 1)  # Рекурсивный вызов
```

**Параметры**:
- `n` (int): Число, факториал которого нужно вычислить.

**Возвращает**:
- `int`: Возвращает факториал числа `n`.

## Обработка исключений с `try` и `except`

### `деление`

**Описание**: Делит одно число на другое, обрабатывая возможные ошибки.

```python
def деление(a: int, b: int) -> float | str:
    """Делит одно число на другое, обрабатывая возможные ошибки."""
    try:
        result = a / b
    except ZeroDivisionError:
        return "Ошибка: деление на ноль"
    except Exception as ex:
        return f"Произошла ошибка: {ex}"
    return result
```
**Параметры**:
- `a` (int): Делимое.
- `b` (int): Делитель.

**Возвращает**:
- `float | str`: Возвращает результат деления или сообщение об ошибке в виде строки.

**Вызывает исключения**:
- `ZeroDivisionError`: Возникает, если `b` равно нулю.
- `Exception`: Возникает при любых других исключениях.

## Пример использования функций

**Описание**: Примеры использования ранее описанных функций.

```python
# Сложение двух чисел
print(сложение(5, 3))  # 8

# Вложенная функция
print(внешний(10, 4))  # 6

# Рекурсия для вычисления факториала
print(факториал(5))  # 120

# Обработка исключений при делении
print(деление(10, 2))  # 5.0
print(деление(10, 0))  # Ошибка: деление на ноль
```

[К оглавлению](https://github.com/hypo69/101_python_computer_games_ru/blob/master/cheat_sheets#readme)