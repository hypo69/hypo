# Модуль `test_utils`

## Обзор

Данный модуль содержит тесты для функций `name_or_empty`, `extract_json` и `repeat_on_error` из модуля `tinytroupe.utils`.

## Функции

### `test_extract_json`

**Описание**: Тестирует функцию `extract_json` на различных входных данных, включая корректные JSON-строки, JSON-массивы, экранированные символы, некорректные JSON-строки и отсутствие JSON в строке.

**Тестируемые сценарии**:
- Строка с корректным JSON-объектом.
- Строка с корректным JSON-массивом.
- Строка с экранированными символами в JSON.
- Строка с некорректным JSON (с синтаксической ошибкой).
- Строка без JSON.

**Ассерты**: Проверяет, что функция `extract_json` возвращает ожидаемый JSON-объект или пустой словарь в зависимости от входных данных.


### `test_name_or_empty`

**Описание**: Тестирует функцию `name_or_empty` на предмет правильной обработки входных данных.

**Тестируемые сценарии**:
- Входной параметр - экземпляр класса `MockEntity` с именем.
- Входной параметр - значение `None`.


**Ассерты**: Проверяет, что функция возвращает имя объекта, если он задан, и пустую строку, если объект равен `None`.


### `test_repeat_on_error`

**Описание**: Тестирует функцию декоратор `repeat_on_error` на корректное поведение при повторных вызовах функции и различных исключениях.

**Тестируемые сценарии**:
- Функция вызывает исключение, указанное в списке исключений.
- Функция вызывает исключение, не указанное в списке исключений.
- Функция выполняется без ошибок.


**Ассерты**:
- При исключении, указанном в списке исключений, проверяет, что функция вызывается заданное количество раз.
- При исключении, не указанном в списке исключений, проверяет, что функция вызывается только один раз.
- При отсутствии исключений проверяет, что функция вызывается только один раз.


## Использование

Для запуска тестов используйте pytest:

```bash
pytest tests/unit/test_utils.py
```

## Замечания

- Модуль `testing_utils` импортируется, но его содержимое не документировано, так как оно не входит в scope задачи документирования `test_utils.py`.
- Комментарии `# TODO` требуют дополнительной обработки.
- Пути импорта (`sys.path.append`)  требуют дополнительного анализа.
```