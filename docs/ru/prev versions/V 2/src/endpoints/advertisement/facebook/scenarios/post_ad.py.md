# Модуль `post_ad.py`

## Обзор

Модуль `post_ad.py` предназначен для публикации рекламных сообщений в группах Facebook. Он использует Selenium для взаимодействия с веб-страницей Facebook и выполняет последовательность действий: отправку заголовка сообщения, загрузку медиафайлов (изображений) и публикацию сообщения.

## Содержание

- [Обзор](#обзор)
- [Функции](#функции)
    - [`post_ad`](#post_ad)

## Функции

### `post_ad`

**Описание**: Отправляет заголовок события, загружает медиафайлы (если они есть) и публикует сообщение в Facebook.

**Параметры**:
- `d` (`Driver`): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `message` (`SimpleNamespace`): Объект, содержащий данные сообщения, включая описание и путь к изображению (если есть).

**Возвращает**:
- `bool`: `True`, если сообщение успешно опубликовано, иначе `None`.

**Пример использования**:
```python
driver = Driver(...)
message = SimpleNamespace(description="Описание сообщения", image_path="path/to/image.jpg")
post_ad(driver, message)
```

**Детали реализации**:
-   Глобальная переменная `fails` используется для отслеживания количества неудачных попыток отправки сообщения.
-   Функция использует `post_message_title` для отправки заголовка сообщения.
-   Функция использует `upload_post_media` для загрузки медиафайла, если он указан.
-   Функция использует `message_publish` для публикации сообщения.
-   В случае неудачи при отправке заголовка, увеличивает счетчик `fails`. Если количество неудачных попыток превышает 15, выполнение прерывается.
-   После успешной публикации счетчик `fails` сбрасывается.