# Модуль `testing_utils`

## Обзор

Этот модуль содержит вспомогательные функции для тестирования компонентов проекта Tiny Troupe. Он предоставляет инструменты для проверки действий, стимулов, а также для проверки конфигураций агентов.  Также модуль включает функции для работы с файлами и фикстуры для создания тестовых сред.

## Функции

### `contains_action_type`

**Описание**: Проверяет, содержит ли список действий действие заданного типа.

**Параметры**:
- `actions` (list): Список словарей, представляющих действия. Каждый словарь должен содержать ключ `"action"` со значением словаря, описывающего действие.  В этом вложенном словаре должен быть ключ `"type"`.
- `action_type` (str): Тип действия, который ищется.

**Возвращает**:
- `bool`: `True`, если действие заданного типа найдено в списке действий, `False` в противном случае.

### `contains_action_content`

**Описание**: Проверяет, содержит ли список действий действие с заданным содержимым.

**Параметры**:
- `actions` (list): Список словарей, представляющих действия. Каждый словарь должен содержать ключ `"action"` со значением словаря, описывающего действие. В этом вложенном словаре должен быть ключ `"content"`.
- `action_content` (str): Содержимое действия, которое ищется.

**Возвращает**:
- `bool`: `True`, если действие с заданным содержимым найдено в списке действий, `False` в противном случае.


### `contains_stimulus_type`

**Описание**: Проверяет, содержит ли список стимулов стимул заданного типа.

**Параметры**:
- `stimuli` (list): Список словарей, представляющих стимулы. Каждый словарь должен содержать ключ `"type"`.
- `stimulus_type` (str): Тип стимула, который ищется.

**Возвращает**:
- `bool`: `True`, если стимул заданного типа найдено в списке стимулов, `False` в противном случае.

### `contains_stimulus_content`

**Описание**: Проверяет, содержит ли список стимулов стимул с заданным содержимым.

**Параметры**:
- `stimuli` (list): Список словарей, представляющих стимулы. Каждый словарь должен содержать ключ `"content"`.
- `stimulus_content` (str): Содержимое стимула, которое ищется.

**Возвращает**:
- `bool`: `True`, если стимул с заданным содержимым найдено в списке стимулов, `False` в противном случае.


### `terminates_with_action_type`

**Описание**: Проверяет, заканчивается ли список действий действием заданного типа.

**Параметры**:
- `actions` (list): Список словарей, представляющих действия. Каждый словарь должен содержать ключ `"action"` со значением словаря, описывающего действие. В этом вложенном словаре должен быть ключ `"type"`.
- `action_type` (str): Тип действия, который ищется.

**Возвращает**:
- `bool`: `True`, если список действий заканчивается действием заданного типа, `False` в противном случае.


### `proposition_holds`

**Описание**: Проверяет, является ли данное утверждение истинным с помощью вызова LLM.

**Параметры**:
- `proposition` (str): Утверждение, которое нужно проверить.

**Возвращает**:
- `bool`: `True`, если утверждение истинно, `False` - если ложно.  Возможны исключения, если LLM возвращает непредсказуемый результат.

**Вызывает исключения**:
- `Exception`: Если LLM возвращает неожиданный результат.

### `only_alphanumeric`

**Описание**: Возвращает строку, содержащую только буквенно-цифровые символы из входной строки.

**Параметры**:
- `string` (str): Входная строка.

**Возвращает**:
- `str`: Строка, содержащая только буквенно-цифровые символы.


### `create_test_system_user_message`

**Описание**: Создаёт список, содержащий одно системное сообщение и одно пользовательское сообщение.

**Параметры**:
- `user_prompt` (str, optional): Пользовательский запрос. По умолчанию `None`.
- `system_prompt` (str, optional): Системный запрос. По умолчанию "You are a helpful AI assistant.".

**Возвращает**:
- `list`: Список системного и пользовательского сообщений.


### `agents_configs_are_equal`

**Описание**: Проверяет, равны ли конфигурации двух агентов.

**Параметры**:
- `agent1`: Первый агент.
- `agent2`: Второй агент.
- `ignore_name` (bool, optional): Игнорировать сравнение имени агента. По умолчанию `False`.


**Возвращает**:
- `bool`: `True`, если конфигурации равны, `False` - в противном случае.


### `remove_file_if_exists`

**Описание**: Удаляет файл по заданному пути, если он существует.

**Параметры**:
- `file_path` (str): Путь к файлу.


### `get_relative_to_test_path`

**Описание**: Возвращает путь к файлу теста с заданным суффиксом.


**Параметры**:
- `path_suffix` (str): Суффикс пути.

**Возвращает**:
- `str`: Абсолютный путь к файлу теста.


## Фикстуры

### `focus_group_world`

**Описание**: Создаёт тестовую среду "Focus group" с набором персонажей.

**Возвращает**:
- `TinyWorld`: Тестовая среда с персонажем.


### `setup`

**Описание**: Фикстура для очистки агентов и сред перед тестами.

```