# Модуль управления категориями Aliexpress

Этот модуль предоставляет функциональные возможности для управления категориями на AliExpress. Он позволяет извлекать URL-адреса продуктов, обновлять списки категорий и взаимодействовать с платформой AliExpress для синхронизации категорий.

## Обзор

Модуль содержит различные функции и методы для взаимодействия с категориями продуктов на AliExpress, включая извлечение URL-адресов продуктов, обновление категорий в файлах сценариев и управление данными категорий в базе данных.

### Основные функции:

-   **Получение URL-адресов продуктов**: собирает URL-адреса продуктов со страниц категорий.
-   **Синхронизация категорий**: сравнивает и обновляет категории на сайте с категориями в локальных файлах сценариев.
-   **Взаимодействие с базой данных**: предлагает операции базы данных для управления категориями.

## Функции

### `get_list_products_in_category(s: Supplier) -> list[str, str]`

Извлекает список URL-адресов продуктов со страницы категории, включая пагинацию.

#### Параметры:

-   `s` (`Supplier`): экземпляр поставщика с драйвером браузера и локаторами.

#### Возвращает:

-   Список URL-адресов продуктов со страницы категории.

---

### `get_prod_urls_from_pagination(s: Supplier) -> list[str]`

Получает URL-адреса продуктов со страниц категорий, обрабатывая пагинацию.

#### Параметры:

-   `s` (`Supplier`): экземпляр поставщика с драйвером браузера и локаторами.

#### Возвращает:

-   Список URL-адресов продуктов.

---

### `update_categories_in_scenario_file(s: Supplier, scenario_filename: str) -> bool`

Сравнивает категории на сайте с категориями в предоставленном файле сценария и обновляет файл любыми изменениями.

#### Параметры:

-   `s` (`Supplier`): экземпляр поставщика с драйвером браузера и локаторами.
-   `scenario_filename` (`str`): имя файла сценария, который необходимо обновить.

#### Возвращает:

-   `True`, если категории были успешно обновлены, `False` в противном случае.

---

### `get_list_categories_from_site(s: Supplier, scenario_file: str, brand: str = '') -> list`

Получает список категорий с сайта AliExpress на основе предоставленного файла сценария.

#### Параметры:

-   `s` (`Supplier`): экземпляр поставщика с драйвером браузера и локаторами.
-   `scenario_file` (`str`): файл сценария, содержащий информацию о категории.
-   `brand` (`str`, optional): фильтр бренда для категорий.

#### Возвращает:

-   Список категорий с сайта.

---

## Классы

### `DBAdaptor`

Предоставляет методы для взаимодействия с базой данных, позволяя выполнять стандартные операции, такие как `SELECT`, `INSERT`, `UPDATE` и `DELETE` для записей `AliexpressCategory`.

#### Методы:

-   `select`: извлекает записи из таблицы `AliexpressCategory`.
-   `insert`: вставляет новую запись в таблицу `AliexpressCategory`.
-   `update`: обновляет существующую запись в таблице `AliexpressCategory`.
-   `delete`: удаляет запись из таблицы `AliexpressCategory`.

---

## Зависимости

Этот модуль зависит от нескольких других модулей для различных функциональных возможностей:

-   `src.db.manager_categories.suppliers_categories`: для управления категориями в базе данных.
-   `src.utils.jjson`: для работы с данными JSON.
-   `src.logger`: для регистрации ошибок и сообщений.
-   `requests`: для выполнения HTTP-запросов для получения данных о категориях с сайта AliExpress.

---

## Пример использования

```python
from src.suppliers.aliexpress.category import get_list_products_in_category, update_categories_in_scenario_file

# Пример использования
supplier_instance = Supplier()
category_urls = get_list_products_in_category(supplier_instance)
update_categories_in_scenario_file(supplier_instance, 'example_scenario.json')
```

---

## Лицензия

Этот модуль лицензирован в соответствии с лицензией MIT.