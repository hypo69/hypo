# Класс Supplier

## Обзор

Данный документ описывает класс `Supplier`, который является базовым классом для работы с поставщиками данных. Он предоставляет общий интерфейс для взаимодействия с различными поставщиками (например, Amazon, AliExpress, Walmart) и содержит методы для загрузки настроек, входа на сайт, выполнения сценариев парсинга и обработки данных.

## Содержание

[TOC]

## Классы

### `Supplier`

**Описание**: Базовый класс для работы с поставщиками данных.  Он предоставляет общие методы и атрибуты для взаимодействия с сайтами поставщиков.

**Атрибуты**:

- `supplier_id` (str): Уникальный идентификатор поставщика.
- `supplier_prefix` (str): Префикс для поставщика (например, `aliexpress`, `amazon`).
- `supplier_settings` (dict): Настройки для поставщика, загруженные из конфигурационного файла.
- `locale` (str): Код локализации (например, `en`, `ru`).
- `price_rule` (function): Правило для расчета цены (например, добавление НДС или скидки).
- `related_modules` (module): Модуль, содержащий специфические для поставщика функции.
- `scenario_files` (list[str]): Список файлов сценариев, которые должны быть выполнены.
- `current_scenario` (str): Текущий сценарий выполнения.
- `login_data` (dict): Данные для входа на сайт поставщика (если требуется).
- `locators` (dict): Локаторы для веб-элементов на страницах сайта поставщика.
- `driver` (webdriver): Веб-драйвер для взаимодействия с сайтом поставщика.
- `parsing_method` (str): Метод парсинга данных (например, `webdriver`, `api`, `xls`, `csv`).

**Методы**:

- `__init__(self, supplier_prefix: str, locale: str = 'en', webdriver: str | webdriver.WebDriver | bool = 'default', *attrs, **kwargs)`
    - **Описание**: Конструктор класса, инициализирующий атрибуты на основе префикса поставщика и других параметров.
    - **Параметры**:
        - `supplier_prefix` (str): Префикс для поставщика.
        - `locale` (str, optional): Код локализации. По умолчанию 'en'.
        - `webdriver` (str | webdriver.WebDriver | bool, optional):  Тип веб-драйвера или строковое имя драйвера, используется для инициализации. По умолчанию 'default'.
    - **Возвращаемое значение**: None


- `_payload(self, webdriver: str | webdriver.WebDriver | bool, *attrs, **kwargs) -> bool`
    - **Описание**: Загружает настройки поставщика, конфигурационные файлы и инициализирует веб-драйвер.
    - **Параметры**:
        - `webdriver` (str | webdriver.WebDriver | bool): Тип веб-драйвера или строковое имя драйвера.
    - **Возвращаемое значение**: bool: True, если загрузка прошла успешно, иначе False.


- `login(self) -> bool`
    - **Описание**: Метод для выполнения входа на сайт поставщика (если требуется).
    - **Возвращаемое значение**: bool: True, если вход успешен, иначе False.


- `run_scenario_files(self, scenario_files: str | List[str] = None) -> bool`
    - **Описание**: Запускает выполнение файлов сценариев.
    - **Параметры**:
        - `scenario_files` (str | List[str], optional): Список файлов сценариев.
    - **Возвращаемое значение**: bool: True, если выполнение прошло успешно, иначе False.

- `run_scenarios(self, scenarios: dict | list[dict]) -> bool`
    - **Описание**: Запускает один или несколько сценариев.
    - **Параметры**:
        - `scenarios` (dict | list[dict]): Словарь или список словарей, описывающие сценарии.
    - **Возвращаемое значение**: bool: True, если выполнение прошло успешно, иначе False.


## Функции

(Нет функций в данном коде, только класс `Supplier`)