```markdown
# zwitch

Handle values based on a field.

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][size-badge]][size]


## Contents

* [What is this?](#what-is-this)
* [When should I use this?](#when-should-i-use-this)
* [Install](#install)
* [Usage](#usage)
* [API](#api)
    * [`zwitch(key[, options])`](#zwitchkey-options)
    * [`one(value[, ...args])`](#onevalue-args)
* [Types](#types)
* [Compatibility](#compatibility)
* [Related](#related)
* [Contribute](#contribute)
* [Security](#security)
* [License](#license)


## What is this?

This is a tiny package that allows conditional handling of values based on a specified key.  It provides a concise alternative to `switch` statements for handling values based on a field within those values.


## When should I use this?

This package is particularly useful when mapping or transforming data structures, where you need to perform different operations based on a specific property or key within the data.  It's an elegant solution for `switch`-like logic without the verbosity of nested `if-else` or multiple `switch` statements.


## Usage

```javascript
import { zwitch } from 'zwitch';

const handler = zwitch('type', {
  invalid: () => console.log('Invalid input.'),
  unknown: () => console.log('Unknown type.'),
  handlers: {
    alpha: () => console.log('Handling alpha type.'),
    beta: () => console.log('Handling beta type.')
  }
});

handler({type: 'alpha'}); // Output: Handling alpha type.
handler({type: 'beta'});  // Output: Handling beta type.
handler({});             // Output: Invalid input.
handler({otherKey: 'value'}); // Output: Invalid input.
handler({type: 'gamma'}); // Output: Unknown type.
```


## Install

```bash
npm install zwitch
```

Or for ESM import:

```javascript
import { zwitch } from 'https://esm.sh/zwitch@2';
```


## API

### `zwitch(key[, options])`

Creates a switch handler based on the specified `key`.

#### Parameters

*   `key`: The key to use for switching (`string`).
*   `options`: (Optional) An object with optional settings for the handler.

#### Options

*   `options.handlers`: (Optional) A `Record<string, Function>` mapping keys to handler functions.
*   `options.unknown`: (Optional) A `Function` to handle cases where the specified `key` isn't found in the object.
*   `options.invalid`: (Optional) A `Function` to handle cases where the input `value` isn't an object or doesn't have a `key` property.


#### Returns

A function (`one`) that handles the value based on the specified `key`.


### `one(value[, ...args])`

Handles a single value.

#### Parameters

*   `value`: The value to handle.
*   `...args`: Additional arguments to pass to the handler function.

#### Returns

The return value of the handler function, or `undefined` if `invalid` or `unknown` handlers are invoked.


## Types

This package uses TypeScript types for better developer experience.  See the source code for type definitions.

## Compatibility

This package is designed to work with various environments and has support for Node.js 14.14+ and 16.0+, Deno, and modern browsers.

## Related

* [`mapz`](https://github.com/wooorm/mapz) – Functional mapping utilities.

## Contribute

Contributions are welcome!  See [CONTRIBUTING.md](CONTRIBUTING.md) for details.

## Security

This package is designed with security best practices in mind.

## License

[MIT](LICENSE) © [Titus Wormer](https://wooorm.com)
```