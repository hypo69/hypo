# Модуль: Авторизация в Amazon

## Обзор

Модуль `login.py` предназначен для автоматизации процесса авторизации пользователя на сайте Amazon с использованием веб-драйвера. Он содержит функцию `login`, которая выполняет шаги по входу в систему, такие как ввод учетных данных и нажатие кнопок.

## Подробнее

Этот модуль является частью системы автоматизации для поставщиков (suppliers) и обеспечивает возможность автоматического входа в аккаунт Amazon. Он использует локаторы элементов веб-страницы для взаимодействия с интерфейсом Amazon.

## Функции

### `login(s)`

```python
def login(s) -> bool:
    """ Функция логин. 
   @param
        s - Supplier
    @returns
        True if login else False

   """
    ...
```

**Назначение**: 
Автоматизирует процесс входа пользователя в систему Amazon.

**Параметры**:
- `s` (Supplier): Объект поставщика, содержащий необходимые данные, такие как локаторы элементов и инстанс драйвера.

**Возвращает**:
- `bool`: `True`, если вход выполнен успешно, иначе `False`.

**Как работает функция**:

1. **Инициализация**:
   - Извлекает локаторы для элементов страницы входа из `s.locators_store['login']` и присваивает их переменной `_l`.
   - Получает инстанс драйвера из `s.driver` и присваивает его переменной `_d`.
2. **Подготовка к входу**:
   - Переводит фокус на окно браузера.
   - Открывает страницу Amazon (`https://amazon.com/`).
3. **Взаимодействие с элементами страницы**:
   - Кликает на кнопку открытия формы ввода логина (`_l['open_login_inputs']`). Если клик не удается, обновляет страницу и повторяет попытку.
   - Выполняет ввод email в поле ввода email (`_l['email_input']`).
   - Кликает на кнопку продолжения (`_l['continue_button']`).
   - Выполняет ввод пароля в поле ввода пароля (`_l['password_input']`).
   - Кликает на чекбокс "оставаться в системе" (`_l['keep_signed_in_checkbox']`).
   - Кликает на кнопку подтверждения входа (`_l['success_login_button']`).
4. **Проверка результата**:
   - Проверяет, не остался ли текущий URL страницы входа. Если да, логирует ошибку и завершает функцию.
   - Максимизирует окно браузера.
5. **Завершение**:
   - Логирует сообщение об успешном входе.
   - Возвращает `True`.

Внутри функции происходят следующие действия и преобразования:

`Получение_локаторов` --> `Фокус_на_окно` --> `Открытие_страницы` --> `Клик_по_кнопке_логина` --> `Ввод_email` --> `Клик_на_продолжение` --> `Ввод_пароля` --> `Клик_на_чекбокс` --> `Клик_на_подтверждение` --> `Проверка_URL` --> `Логирование_успеха`

**Примеры**:

```python
# Пример вызова функции login
from src.suppliers.amazon.login import login

# Предположим, что у нас есть объект поставщика supplier
# login(supplier)
```