# Модуль `src.utils.file`

## Обзор

Модуль `src.utils.file` предоставляет набор функций для выполнения операций с файлами, включая чтение, запись, поиск и обработку содержимого файлов и каталогов.

## Оглавление

- [Функции](#Функции)
    - [`save_text_file`](#save_text_file)
    - [`read_text_file`](#read_text_file)
    - [`get_filenames`](#get_filenames)
    - [`recursively_yield_file_path`](#recursively_yield_file_path)
    - [`recursively_get_file_path`](#recursively_get_file_path)
    - [`recursively_read_text_files`](#recursively_read_text_files)
    - [`get_directory_names`](#get_directory_names)
    - [`read_files_content`](#read_files_content)
    - [`remove_bom`](#remove_bom)
    - [`traverse_and_clean`](#traverse_and_clean)
    - [`main`](#main)

## Функции

### `save_text_file`

**Описание**: Сохраняет данные в текстовый файл.

**Параметры**:
- `data` (str | list[str] | dict): Данные для записи (могут быть строкой, списком строк или словарем).
- `file_path` (str | Path): Путь, где будет сохранен файл.
- `mode` (str, optional): Режим записи (`w` для записи, `a` для добавления). По умолчанию `w`.
- `exc_info` (bool, optional): Если `True`, то будет логировать traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `bool`: `True`, если файл был успешно сохранен, `False` в противном случае.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках записи в файл.

### `read_text_file`

**Описание**: Читает содержимое файла.

**Параметры**:
- `file_path` (str | Path): Путь к файлу или директории.
- `as_list` (bool, optional): Если `True`, возвращает содержимое в виде списка строк. По умолчанию `False`.
- `extensions` (list[str], optional): Список расширений файлов для включения, если читается директория. По умолчанию `None`.
- `exc_info` (bool, optional): Если `True`, то будет логировать traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `str | list[str] | None`: Содержимое файла в виде строки или списка строк, или `None`, если произошла ошибка.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках чтения файла.

### `get_filenames`

**Описание**: Возвращает список имен файлов в директории, опционально фильтруя по расширению.

**Параметры**:
- `directory` (str | Path): Директория для поиска.
- `extensions` (str | list[str], optional): Расширения для фильтрации. По умолчанию `*`.
- `exc_info` (bool, optional): Если `True`, то будет логировать traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `list[str]`: Список имен файлов, найденных в директории.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках чтения файлов.

### `recursively_yield_file_path`

**Описание**: Рекурсивно возвращает пути к файлам, соответствующие заданным шаблонам.

**Параметры**:
- `root_dir` (str | Path): Корневая директория для поиска.
- `patterns` (str | list[str]): Шаблоны для фильтрации файлов.
- `exc_info` (bool, optional): Если `True`, то будет логировать traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `Generator[Path, None, None]`: Генератор путей файлов, соответствующих шаблонам.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках поиска файлов.

### `recursively_get_file_path`

**Описание**: Рекурсивно получает пути к файлам, соответствующие заданным шаблонам.

**Параметры**:
- `root_dir` (str | Path): Корневая директория для поиска.
- `patterns` (str | list[str]): Шаблоны для фильтрации файлов.
- `exc_info` (bool, optional): Если `True`, то будет логировать traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `list[Path]`: Список путей файлов, соответствующих шаблонам.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках поиска файлов.

### `recursively_read_text_files`

**Описание**: Рекурсивно читает текстовые файлы из указанной корневой директории, которые соответствуют заданным шаблонам.

**Параметры**:
- `root_dir` (str | Path): Путь к корневой директории для поиска.
- `patterns` (str | list[str]): Шаблон(ы) имен файлов для фильтрации.
- `as_list` (bool, optional): Если `True`, возвращает содержимое файла в виде списка строк. По умолчанию `False`.
- `exc_info` (bool, optional): Если `True`, включает информацию об исключении в предупреждения. По умолчанию `True`.

**Возвращает**:
- `list[str]`: Список содержимого файлов (или строк, если `as_list=True`), соответствующих заданным шаблонам.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках чтения файлов.

### `get_directory_names`

**Описание**: Извлекает имена всех директорий из указанной директории.

**Параметры**:
- `directory` (str | Path): Путь к директории, из которой нужно получить имена директорий.
- `exc_info` (bool, optional): Если `True`, логирует информацию о traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `list[str]`: Список имен директорий, найденных в указанной директории.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках чтения директорий.

### `read_files_content`

**Описание**: Читает содержимое файлов, соответствующих заданным шаблонам.

**Параметры**:
- `root_dir` (str | Path): Корневая директория для поиска.
- `patterns` (str | list[str]): Шаблоны файлов для сопоставления.
- `as_list` (bool, optional): Возвращает содержимое в виде списка строк. По умолчанию `False`.
- `exc_info` (bool, optional): Если `True`, то будет логировать traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `list[str]`: Список содержимого файлов.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках чтения файлов.

### `remove_bom`

**Описание**: Удаляет BOM из текстового файла.

**Параметры**:
- `file_path` (str | Path): Файл для обработки.
- `exc_info` (bool, optional): Если `True`, то будет логировать traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках работы с файлом.

### `traverse_and_clean`

**Описание**: Проходит по директории и удаляет BOM из Python-файлов.

**Параметры**:
- `directory` (str | Path): Корневая директория для обработки.
- `exc_info` (bool, optional): Если `True`, то будет логировать traceback в случае ошибки. По умолчанию `True`.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках работы с файлами.

### `main`

**Описание**: Точка входа для удаления BOM в Python-файлах.

**Параметры**:
- None

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- `Exception`: Возникает при ошибках работы с файлами.