# Анализ кода модуля wekday

**Качество кода**
*   **Соответствие требованиям к формату кода (1-10):** 
    -   **Преимущества:**
        *   Код достаточно простой и понятный.
        *   Присутствует логическая структура, разделение на блоки ввода, вычислений и вывода.
        *   Есть подробное объяснение работы кода в конце, хотя и не в формате RST.
        *   Используются блоки `try-except` для обработки ошибок ввода.
    -   **Недостатки:**
        *   Отсутствуют docstring для модуля, что является нарушением требований.
        *   Не используется reStructuredText (RST) для комментариев.
        *   Код не использует `j_loads` или `j_loads_ns`.
        *   Не используется `logger` для регистрации ошибок.
        *   Используются стандартные `print` для вывода, вместо логирования.
        *   Необходимо переработать комментарии в формате reStructuredText (RST).
        *   В коде отсутствуют импорты.

**Рекомендации по улучшению**
1.  Добавить docstring к модулю в формате RST.
2.  Переписать все комментарии в формате RST.
3.  Использовать `logger.error` вместо стандартных `print` для обработки ошибок.
4.  Добавить обработку ошибок с помощью `logger.error` и использовать `logger.debug` для отладочных сообщений.
5.  Использовать `j_loads` или `j_loads_ns` для чтения данных, если необходимо (в данном коде не требуется, но требование нужно учитывать).
6.  Избегать излишнего использования `try-except`, применяя его в более критических местах.
7.  Добавить проверки на корректность ввода данных (хотя в коде они есть, можно их улучшить).
8.  Привести названия переменных и функций к общепринятому стилю, используемому в предыдущих файлах.
9.  Импортировать все необходимые модули, в том числе `logger`.

**Улучшенный код**
```python
"""
Модуль для определения дня недели по номеру дня в году.
=========================================================================================

Модуль запрашивает у пользователя номер дня в году и год, а затем вычисляет и выводит день недели.
Учитывает високосные годы.

Пример использования
--------------------

.. code-block:: python

    python wekday.py

"""
__author__ = 'hypo69 (hypo69@davidka.net)'

from src.logger.logger import logger # Импорт модуля logger
from src.utils.jjson import j_loads, j_loads_ns # Импорт функций из jjson
# Запрашиваем у пользователя номер дня в году
try:
    day_of_year = int(input("Введите номер дня в году (1-366): ")) # Запрос номера дня в году
    if not 1 <= day_of_year <= 366: # Проверка на корректный ввод номера дня
        logger.error("Пожалуйста, введите число от 1 до 366.") # Вывод ошибки с помощью logger
        exit() # Завершение программы в случае ошибки
except ValueError as ex: # Обработка исключения ValueError
    logger.error("Пожалуйста, введите целое число.", exc_info=ex) # Вывод сообщения об ошибке в лог
    exit() # Завершение программы в случае ошибки


# Запрашиваем у пользователя год
try:
    year = int(input("Введите год: ")) # Запрос года
except ValueError as ex:  # Обработка исключения ValueError
    logger.error("Пожалуйста, введите целое число.", exc_info=ex) # Вывод сообщения об ошибке в лог
    exit() # Завершение программы в случае ошибки


# Определяем, является ли год високосным
is_leap_year = (year % 4 == 0 and year % 100 != 0) or (year % 400 == 0) # Проверка, является ли год високосным

# Вычисляем день недели
if is_leap_year:
    day_of_week = (day_of_year + 2) % 7 # 1 января високосного года - понедельник (второй день недели), поэтому добавляем 2
else:
    day_of_week = (day_of_year + 1) % 7 # 1 января обычного года - воскресенье (первый день недели), поэтому добавляем 1

# Сопоставляем число дня недели со строковым представлением
days = ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"] # Список дней недели
day_of_week_str = days[day_of_week] if day_of_week > 0 else days[6]  # Если 0, то это суббота # Преобразование номера дня недели в строковый вид


# Выводим результат
print(f"Это {day_of_week_str}.") # Вывод результата
"""
Объяснение кода:
1.  **Ввод данных**:
    -   `try...except ValueError`: Блоки `try...except` используются для обработки возможных ошибок при вводе данных пользователем. Если пользователь вводит что-то, что нельзя преобразовать в целое число, программа выведет сообщение об ошибке и завершится.
    -   `day_of_year = int(input("Введите номер дня в году (1-366): "))`: Запрашивает у пользователя ввод номера дня в году и преобразует ввод в целое число.
    -    `if not 1 <= day_of_year <= 366`: Проверяет, является ли введенное число допустимым днем в году (1-366). Если нет, выводит сообщение об ошибке и завершает программу.
    -   `year = int(input("Введите год: "))`: Запрашивает у пользователя ввод года и преобразует ввод в целое число.
2.  **Определение високосного года**:
    -   `is_leap_year = (year % 4 == 0 and year % 100 != 0) or (year % 400 == 0)`: Определяет, является ли введенный год високосным. Год является високосным, если он делится на 4, но не делится на 100, или если он делится на 400.
3.  **Вычисление дня недели**:
    -   `if is_leap_year:`: Проверяет, является ли год високосным.
        - `day_of_week = (day_of_year + 2) % 7`: Если год високосный, добавляем 2 к номеру дня, так как 1 января високосного года - понедельник. Вычисляем остаток от деления на 7, что дает нам день недели (0 - воскресенье, 1 - понедельник, ..., 6 - суббота).
    -   `else:`: Если год не високосный.
        -   `day_of_week = (day_of_year + 1) % 7`:  Если год не високосный, добавляем 1 к номеру дня, так как 1 января обычного года - воскресенье. Также вычисляем остаток от деления на 7.
4.  **Преобразование числа дня недели в строку**:
     -   `days = ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"]`: Список названий дней недели.
     - `day_of_week_str = days[day_of_week] if day_of_week > 0 else days[6]`: Преобразуем число дня недели в строку, используя список `days`.  Если `day_of_week` равен 0, устанавливаем день недели как "Суббота".
5.  **Вывод результата**:
    -   `print(f"Это {day_of_week_str}.")`: Выводит сообщение с днем недели на экран.
"""
```