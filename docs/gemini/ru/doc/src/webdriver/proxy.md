# Модуль proxy

## Обзор

Модуль `proxy` предназначен для работы с прокси-серверами. Он предоставляет функции для загрузки списка прокси из внешнего источника, парсинга загруженного файла и проверки работоспособности прокси.

## Функции

### `download_proxies_list`

**Описание**: Загружает файл с прокси-адресами по указанному URL и сохраняет его в заданном пути.

**Параметры**:
- `url` (str): URL файла для загрузки. По умолчанию `https://raw.githubusercontent.com/proxifly/free-proxy-list/main/proxies/all/data.txt`.
- `save_path` (Path): Путь для сохранения загруженного файла. По умолчанию `./src/webdriver/proxies.txt`.

**Возвращает**:
- `bool`: `True`, если загрузка прошла успешно, иначе `False`.

**Вызывает исключения**:
- `RequestException`: Возникает при ошибках запроса к внешнему ресурсу.
- `Exception`: Возникает при других ошибках во время выполнения.


### `get_proxies_dict`

**Описание**: Парсит файл с прокси-адресами и распределяет их по категориям (HTTP, SOCKS4, SOCKS5).

**Параметры**:
- `file_path` (Path): Путь к файлу с прокси-адресами. По умолчанию `./src/webdriver/proxies.txt`.

**Возвращает**:
- `Dict[str, List[Dict[str, Any]]]`: Словарь, где ключи - типы прокси (`http`, `socks4`, `socks5`), а значения - списки словарей с информацией о каждом прокси (protocol, host, port).


**Вызывает исключения**:
- `FileNotFoundError`: Возникает, если файл не найден.
- `Exception`: Возникает при других ошибках во время выполнения.


### `check_proxy`

**Описание**: Проверяет работоспособность прокси-сервера.

**Параметры**:
- `proxy` (dict): Словарь с данными прокси (host, port, protocol).

**Возвращает**:
- `bool`: `True`, если прокси работает, иначе `False`.

**Вызывает исключения**:
- `ProxyError`: Возникает при ошибках соединения с прокси-сервером.
- `RequestException`: Возникает при других ошибках во время запроса.


## Конфигурация

### `MODE`

**Описание**: Переменная, определяющая режим работы модуля.  Значение `'dev'` указывает на режим разработки.

### `url`

**Описание**: URL файла со списком прокси-серверов.

### `proxies_list_path`

**Описание**: Путь к файлу, в котором хранится список прокси-серверов.


## Использование

```python
# Загрузка списка прокси и парсинг
if download_proxies_list():
    parsed_proxies = get_proxies_dict()
    logger.info(f'Обработано {sum(len(v) for v in parsed_proxies.values())} прокси.')
```

В примере показано, как использовать функции `download_proxies_list` и `get_proxies_dict` для загрузки и парсинга списка прокси. Результат парсинга - словарь `parsed_proxies`, который содержит информацию о прокси. Далее можно использовать функцию `check_proxy` для проверки работоспособности каждого прокси.
```
```