# Модуль `proxy.py`

## Обзор

Модуль `proxy.py` предназначен для работы с прокси-серверами. Он включает функции для загрузки списка прокси из сети, парсинга этого списка, разделения прокси по типам (HTTP, SOCKS4, SOCKS5), и проверки работоспособности отдельных прокси.

## Содержание

- [Обзор](#обзор)
- [Функции](#функции)
    - [`download_proxies_list`](#download_proxies_list)
    - [`get_proxies_dict`](#get_proxies_dict)
    - [`check_proxy`](#check_proxy)

## Функции

### `download_proxies_list`

**Описание**: Загружает файл по указанному URL и сохраняет его в заданный путь.

**Параметры**:
- `url` (str, optional): URL файла для загрузки. По умолчанию `https://raw.githubusercontent.com/proxifly/free-proxy-list/main/proxies/all/data.txt`.
- `save_path` (Path, optional): Путь для сохранения загруженного файла. По умолчанию `gs.path.src / 'webdriver' / 'proxies.txt'`.

**Возвращает**:
- `bool`: `True`, если файл успешно загружен и сохранён, `False` в случае ошибки.

**Вызывает исключения**:
- `Exception`: Возникает при ошибке загрузки или сохранения файла.

### `get_proxies_dict`

**Описание**: Парсит файл с прокси-адресами и распределяет их по категориям (http, socks4, socks5).

**Параметры**:
- `file_path` (Path, optional): Путь к файлу с прокси. По умолчанию `gs.path.src / 'webdriver' / 'proxies.txt'`.

**Возвращает**:
- `Dict[str, List[Dict[str, Any]]]`: Словарь, где ключи - это типы прокси ('http', 'socks4', 'socks5'), а значения - списки словарей с информацией о прокси.

**Вызывает исключения**:
- `FileNotFoundError`: Возникает, если файл с прокси не найден.
- `Exception`: Возникает при ошибке парсинга прокси.

### `check_proxy`

**Описание**: Проверяет работоспособность прокси-сервера, отправляя тестовый запрос.

**Параметры**:
- `proxy` (dict): Словарь с данными прокси, содержащий ключи `protocol`, `host`, `port`.

**Возвращает**:
- `bool`: `True`, если прокси работает, `False` в случае ошибки или неработоспособности.

**Вызывает исключения**:
- `ProxyError`: Возникает при ошибке прокси-сервера.
- `RequestException`: Возникает при общей ошибке запроса.