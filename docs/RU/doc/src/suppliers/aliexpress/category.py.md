# Модуль `category.py`

## Обзор

Модуль `category.py` предназначен для управления категориями товаров на сайте AliExpress. Он включает функции для сбора URL товаров из категорий, обновления информации о категориях на основе данных с сайта, а также адаптер для работы с базой данных категорий.

## Оглавление

- [Функции](#функции)
    - [`get_list_products_in_category`](#get_list_products_in_category)
    - [`get_prod_urls_from_pagination`](#get_prod_urls_from_pagination)
    - [`update_categories_in_scenario_file`](#update_categories_in_scenario_file)
    - [`get_list_categories_from_site`](#get_list_categories_from_site)
- [Классы](#классы)
    - [`DBAdaptor`](#dbadaptor)

## Функции

### `get_list_products_in_category`

**Описание**:
Считывает URL товаров со страницы категории, перелистывая страницы при необходимости.

**Параметры**:
- `s` (`Supplier`): Экземпляр поставщика.

**Возвращает**:
- `list[str, str]`: Список URL собранных товаров. Может быть пустым, если в категории нет товаров.

### `get_prod_urls_from_pagination`

**Описание**:
Собирает ссылки на товары со страницы категории, перелистывая страницы.

**Параметры**:
- `s` (`Supplier`): Экземпляр поставщика.

**Возвращает**:
- `list[str]`: Список ссылок на товары, собранных со страницы категории.

### `update_categories_in_scenario_file`

**Описание**:
Проверяет и обновляет изменения в категориях на сайте, сравнивая их с данными в файле сценария.

**Параметры**:
- `s` (`Supplier`): Экземпляр поставщика.
- `scenario_filename` (`str`): Имя файла сценария.

**Возвращает**:
- `bool`: `True`, если обновление выполнено.

### `get_list_categories_from_site`

**Описание**:
Получает список категорий с сайта.

**Параметры**:
- `s`: Экземпляр поставщика.
- `scenario_file`: Имя файла сценария.
- `brand` (str): Бренд (по умолчанию пустая строка).

**Возвращает**:
- `None`: Функция не возвращает значения явно.

## Классы

### `DBAdaptor`

**Описание**:
Класс-адаптер для взаимодействия с базой данных категорий. Предоставляет методы для выполнения операций SELECT, INSERT, UPDATE и DELETE.

**Методы**:

- `select`
    
  **Описание**:
    Выбирает записи из таблицы `AliexpressCategory`.

    **Параметры**:
     - `cat_id` (int, optional): ID категории. По умолчанию `None`.
     - `parent_id` (int, optional): ID родительской категории. По умолчанию `None`.
     - `project_cat_id` (int, optional): ID категории проекта. По умолчанию `None`.

- `insert`

  **Описание**:
  Вставляет новую запись в таблицу `AliexpressCategory`.

- `update`

  **Описание**:
  Обновляет запись в таблице `AliexpressCategory`.

- `delete`

  **Описание**:
  Удаляет запись из таблицы `AliexpressCategory`.