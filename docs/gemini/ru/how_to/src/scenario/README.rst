Как использовать модуль `src.scenario`
========================================================================================

Описание
-------------------------
Модуль `src.scenario` автоматизирует взаимодействие с поставщиками на основе сценариев, описанных в файлах JSON. Он отвечает за извлечение и обработку данных о продуктах с веб-сайтов поставщиков и синхронизацию этой информации с базой данных вашей системы (например, PrestaShop).

Шаги выполнения
-------------------------
1. **Загрузка сценариев**: Модуль загружает сценарии из файлов JSON, содержащих информацию о различных категориях продуктов и URL-адресах страниц с продуктами на веб-сайте поставщика.

2. **Взаимодействие с веб-сайтами**: Используя URL-адреса, указанные в сценариях, модуль переходит на страницы продуктов и извлекает необходимые данные.

3. **Обработка данных**: Модуль обрабатывает извлеченные данные о продуктах, преобразует их в необходимый формат и сохраняет в базу данных вашей системы.

4. **Ведение журнала выполнения**: Модуль сохраняет журнал выполнения сценариев, записывая детали выполнения и результаты. Это помогает отслеживать успешность и идентифицировать ошибки.

5. **Выполнение сценариев**: Модуль может выполнять сценарии, загруженные из файлов JSON, или сценарии, предоставленные напрямую в виде списка словарей.

6. **Вставка данных в базу данных PrestaShop**:  Извлеченные данные о продуктах вставляются в базу данных PrestaShop с использованием идентификаторов категорий, указанных в сценариях.

Пример использования
-------------------------
.. code-block:: python

    from pathlib import Path
    from your_module import Supplier  # Замените 'your_module' на реальное имя модуля

    # Создание экземпляра класса Supplier для определенного поставщика (например, 'aliexpress')
    s = Supplier('aliexpress')

    # Выполнение сценариев из файлов
    scenario_files = [Path("path/to/scenario1.json"), Path("path/to/scenario2.json")]
    s.run_scenario_files(scenario_files)

    # Выполнение списка сценариев напрямую (без загрузки из файла)
    scenarios = [
        {'url': 'https://example.com/category1', 'name': 'Категория 1', 'presta_categories': {'default_category': 123}},
        {'url': 'https://example.com/category2', 'name': 'Категория 2', 'presta_categories': {'default_category': 456}}
    ]
    s.run_scenarios(scenarios)

    # Пример выполнения сценария из одного файла
    scenario_file = Path("path/to/scenario.json")
    s.run_scenario_file(scenario_file)



    # Важно: Приведенный пример предполагает, что вы импортировали необходимый модуль (`your_module`) и определили класс `Supplier`. Подставьте корректное имя модуля и класс.