# SALVO I

## סקירה כללית

משחק "קרב ימי" (SALVO I) הוא משחק טקסטואלי שבו השחקן מנסה להטביע ספינות שהוצבו על ידי המחשב על לוח משחק בגודל 10 על 10. השחקן מזין קואורדינטות ירי והמחשב מודיע על התוצאה (פגיעה, החטאה או פגיעה קודמת). המשחק מסתיים כאשר כל ספינות היריב הוטבעו.

## תוכן עניינים

1. [סקירה כללית](#סקירה-כללית)
2. [פונקציות](#פונקציות)
3. [משתנים](#משתנים)
4. [קוד](#קוד)

## פונקציות

אין פונקציות מוגדרות במודול זה.

## משתנים

### `board`
**Description**: לוח המשחק. רשימה דו-ממדית בגודל 10x10, המייצגת את הים. כל תא מכיל:
- 0: ים ריק.
- 1: פגיעה בספינה.
- 2: החטאה.
- 3: ספינה.

### `ships`
**Description**: רשימה של קואורדינטות הספינות. כל קואורדינטה היא טופל המכיל את x ו-y של מיקום הספינה בלוח.

### `hits`
**Description**: מונה מספר הפגיעות בספינות. מתחיל ב-0 וגדל בכל פגיעה.

### `coordinates_input`
**Description**: קלט המשתמש לקואורדינטות הירי בצורה של מחרוזת "x,y".

### `x`
**Description**: הקואורדינטה האופקית (x) שנלקחה מקלט המשתמש.

### `y`
**Description**: הקואורדינטה האנכית (y) שנלקחה מקלט המשתמש.

## קוד

```python
import sys



# Инициализация игрового поля 10x10 нулями
board = [[0 for _ in range(10)] for _ in range(10)]

# Координаты кораблей (жестко заданы)
ships = [(2, 2), (2, 4), (2, 6), (4, 2), (4, 8)]

# Размещение кораблей на поле, отметив их значением 3
for ship_x, ship_y in ships:
    board[ship_x][ship_y] = 3


# Счетчик попаданий
hits = 0
# Основной игровой цикл
while hits < 5:
    try:
        # Запрашиваем координаты выстрела
        coordinates_input = input("Введите координаты выстрела (x,y): ")
        x, y = map(int, coordinates_input.split(','))
        # Проверка на корректность ввода координат
        if not (0 <= x < 10 and 0 <= y < 10):
            print("Некорректные координаты. Пожалуйста, введите значения от 0 до 9.")
            continue

        # Проверяем, был ли уже произведен выстрел в эти координаты
        if board[x][y] == 1 or board[x][y] == 2:
            print("ALREADY HIT")
            continue
        # Проверяем, попали ли мы в корабль
        if board[x][y] == 3:
            hits += 1 # Увеличиваем счетчик попаданий
            print("HIT")
            board[x][y] = 1 # Отмечаем попадание на поле (значение 1)
        else:
            print("MISS")
            board[x][y] = 2  # Отмечаем промах на поле (значение 2)
    except ValueError as ex:
        print("Неверный формат ввода. Введите координаты в формате x,y")
    except KeyboardInterrupt as ex:
       print("\nИгра прервана пользователем.")
       sys.exit()

# Вывод сообщения о победе
print("YOU SANK ALL MY SHIPS!")
```

### הסבר קוד:

1.  **אתחול לוח המשחק**:
    -   `board = [[0 for _ in range(10)] for _ in range(10)]`: יוצר רשימה דו-ממדית (מטריצה) 10x10 המייצגת את לוח המשחק. כל התאים מאותחלים ל-0, מה שמסמל ים ריק.
2.  **מיקום ספינות**:
    -   `ships = [(2, 2), (2, 4), (2, 6), (4, 2), (4, 8)]`: מוגדרות קואורדינטות מיקום הספינות על הלוח.
    -   לולאת `for` עוברת על קואורדינטות הספינות ומציבה את הערך 3 בתאים המתאימים בלוח המשחק, מה שמסמל ספינה.
3.  **מונה פגיעות**:
    -   `hits = 0`: מאתחל משתנה `hits` לספירת כמות הפגיעות.
4.  **לולאת משחק ראשית `while hits < 5:`**:
    -   הלולאה ממשיכה כל עוד מספר הפגיעות קטן מ-5 (כל עוד לא הוטבעו כל הספינות).
    -   **קלט קואורדינטות**:
        -   `coordinates_input = input("Введите координаты выстрела (x,y): ")`: מבקשת מהמשתמש להזין קואורדינטות ירי בצורה "x,y".
        -   `x, y = map(int, coordinates_input.split(','))`: מפריד את המחרוזת לשני מספרים (x ו-y) וממיר אותם למספרים שלמים.
        -   **בדיקת תקינות קואורדינטות**:
            -   `if not (0 <= x < 10 and 0 <= y < 10):`: בודק שהקואורדינטות נמצאות בטווח לוח המשחק (מ-0 עד 9). אם הקואורדינטות לא תקינות, מוצגת הודעת שגיאה והלולאה ממשיכה לאיטרציה הבאה.
    -   **בדיקת ירי קודם**:
        -   `if board[x][y] == 1 or board[x][y] == 2:`: בודק האם כבר היה ירי בתא זה (ערכים 1 ו-2 מייצגים פגיעה והחטאה בהתאמה). אם היה ירי, מוצגת הודעה "ALREADY HIT" והלולאה ממשיכה לאיטרציה הבאה.
    -   **בדיקת פגיעה**:
        -   `if board[x][y] == 3:`: בודק האם הירי פגע בספינה (ערך 3).
            -   `hits += 1`: מגדיל את מונה הפגיעות ב-1.
            -   `print("HIT")`: מציג הודעה על פגיעה.
            -   `board[x][y] = 1`: מסמן את הפגיעה על הלוח על ידי הצבת הערך 1.
    -   **החטאה**:
        -   `else:`: אם הירי לא פגע בספינה.
            -   `print("MISS")`: מציג הודעה על החטאה.
            -   `board[x][y] = 2`: מסמן את ההחטאה על הלוח על ידי הצבת הערך 2.
     - **טיפול בשגיאות קלט**
        - `except ValueError as ex`: מטפל בשגיאת `ValueError`, שעלולה להתרחש אם המשתמש לא יזין ערכים מספריים. מוצגת הודעת שגיאה.
        - `except KeyboardInterrupt as ex`: מטפל במקרה שהמשתמש מפריע למשחק (לדוגמא, לחיצה על Ctrl+C). מוצגת הודעה והמשחק מסתיים.
5.  **סיום משחק**:
    -   `print("YOU SANK ALL MY SHIPS!")`: לאחר שהלולאה מסתיימת (כל 5 הספינות הוטבעו), מוצגת הודעת ניצחון.