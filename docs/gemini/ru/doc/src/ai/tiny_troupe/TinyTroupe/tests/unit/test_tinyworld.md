# Модуль `test_tinyworld.py`

## Обзор

Этот модуль содержит тесты для класса `TinyWorld`, проверяющие его основные функциональности, включая обработку пустого мира, взаимодействие агентов, рассылку сообщений и кодирование/декодирование состояния.

## Функции

### `test_run`

**Описание**: Тестирует метод `run` класса `TinyWorld` для пустого мира и мира с агентами. Проверяет, что агенты не отправляют сообщения сами себе.

**Параметры**:
- `setup`: Набор данных для настройки тестирования.
- `focus_group_world`: Экземпляр `TinyWorld` с набором агентов.

**Вызывает исключения**:
- `AssertionError`: Если агенты отправляют сообщения сами себе или ожидавшееся условие не выполняется.

### `test_broadcast`

**Описание**: Тестирует метод `broadcast` класса `TinyWorld`. Проверяет, что все агенты получили рассылаемое сообщение.

**Параметры**:
- `setup`: Набор данных для настройки тестирования.
- `focus_group_world`: Экземпляр `TinyWorld` с набором агентов.

**Вызывает исключения**:
- `AssertionError`: Если какое-либо сообщение не было получено агентом.


### `test_encode_complete_state`

**Описание**: Тестирует метод `encode_complete_state` класса `TinyWorld`. Проверяет корректность кодирования состояния мира.

**Параметры**:
- `setup`: Набор данных для настройки тестирования.
- `focus_group_world`: Экземпляр `TinyWorld` с набором агентов.

**Вызывает исключения**:
- `AssertionError`: Если кодирование состояния выполнилось неуспешно (например, `state` равно `None`), или данные состояния некорректны.

### `test_decode_complete_state`

**Описание**: Тестирует метод `decode_complete_state` класса `TinyWorld`. Проверяет корректность декодирования состояния мира.

**Параметры**:
- `setup`: Набор данных для настройки тестирования.
- `focus_group_world`: Экземпляр `TinyWorld` с набором агентов.

**Вызывает исключения**:
- `AssertionError`: Если декодирование состояния выполнилось неуспешно (например, `world_2` равно `None`), или данные состояния некорректны.


## Импорты

- `pytest`
- `logging`
- `sys`
- `create_lisa_the_data_scientist`, `create_oscar_the_architect`, `create_marcos_the_physician` из `tinytroupe.examples`
- `TinyWorld` из `tinytroupe.environment`
- `*` из `testing_utils`


## Замечания

- `setup` и `focus_group_world` являются параметрами, предполагается, что они определены в другом модуле для настройки тестирования.
- Методы `test_run`, `test_broadcast`, `test_encode_complete_state`, `test_decode_complete_state` зависят от корректной реализации методов `run`, `broadcast`, `encode_complete_state`, `decode_complete_state` в классе `TinyWorld`.
- Комментарии `TODO` указывают на необходимость проверки целостности стимулов в методе `test_run`.