### **–ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –º–æ–¥—É–ª—è `translate_readme.py`**

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:** `hypotez/src/endpoints/gpt4free/etc/tool/translate_readme.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ñ–∞–π–ª–∞ `README.md` –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π —è–∑—ã–∫ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –Ω–µ–º–µ—Ü–∫–∏–π) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI-–º–æ–¥–µ–ª–∏. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `g4f` –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –º–æ–¥–µ–ª—å—é –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ —á–∞—Å—Ç—è–º–∏, —É—á–∏—Ç—ã–≤–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏–π –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

**–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:**
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º**: 6/10
- **–ü–ª—é—Å—ã**:
  - –ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É –ø–µ—Ä–µ–≤–æ–¥–∞ `README.md` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `g4f` –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å AI-–º–æ–¥–µ–ª—è–º–∏.
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏–π –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.
- **–ú–∏–Ω—É—Å—ã**:
  - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç docstring –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –∫–æ–¥–∞.
  - –ñ–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `iso`, `language`, `provider`, `blocklist`, `allowlist`. –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª.
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `access_token` –∏–∑ `g4f.debug`, —á—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π.
  - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å AI-–º–æ–¥–µ–ª—å—é.
  - –ù–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–º–µ—é—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é**:

1.  **–î–æ–±–∞–≤–∏—Ç—å docstring –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤**:
    *   –î–æ–±–∞–≤–∏—Ç—å docstring –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π, –≤–∫–ª—é—á–∞—è –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
    *   –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
2.  **–í—ã–Ω–µ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏**:
    *   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `iso`, `language`, `provider`, `blocklist`, `allowlist` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º –∏ —É–¥–æ–±–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
3.  **–£–¥–∞–ª–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `access_token`**:
    *   –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `access_token` –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ —Ñ—É–Ω–∫—Ü–∏—é `translate`.
4.  **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π**:
    *   –î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫–∏ `try...except` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å AI-–º–æ–¥–µ–ª—å—é –∏ —á—Ç–µ–Ω–∏–∏/–∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `logger.error` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫.
5.  **–†–∞–∑–±–∏—Ç—å –∫–æ–¥ –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
    *   –§—É–Ω–∫—Ü–∏—è `translate_part` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É, –ø–µ—Ä–µ–≤–æ–¥). –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–±–∏—Ç—å –µ–µ –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É.
6.  **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `j_loads` –¥–ª—è —á—Ç–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**:
    *   –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `blocklist` –∏ `allowlist` —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `j_loads` –¥–ª—è –∏—Ö —á—Ç–µ–Ω–∏—è.
7.  **–£–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞**:
    *   –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

**–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥**:

```python
import sys
from pathlib import Path
import asyncio
from typing import List

sys.path.append(str(Path(__file__).parent.parent.parent))

import g4f
from g4f.models import Model
from g4f.providers.base import ProviderInterface

from src.logger import logger  # Import logger
# from src.utils.json_utils import j_loads # –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ç–∞–∫–æ–π –º–æ–¥—É–ª—å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ JSON


# –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
project_dir = Path(__file__).resolve().parent.parent.parent

# g4f.debug.logging = True #–≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞, –µ—Å–ª–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ g4f.
# from g4f.debug import access_token # access_token –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é. –õ—É—á—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä

# iso = "GE" # –ö–æ–¥ —Å—Ç—Ä–∞–Ω—ã, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ –∏–º–µ–Ω–∏ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.
# language = "german" # –Ø–∑—ã–∫, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω README.md.
# provider = g4f.Provider.OpenaiChat # –ü—Ä–æ–≤–∞–π–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞.

async def translate_readme_file(
    input_file: Path,
    output_file: Path,
    iso: str,
    language: str,
    provider: ProviderInterface,
    blocklist: List[str],
    allowlist: List[str],
    model: Model = None
) -> None:
    """
    –ü–µ—Ä–µ–≤–æ–¥–∏—Ç README.md —Ñ–∞–π–ª –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π —è–∑—ã–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI-–º–æ–¥–µ–ª–∏.

    Args:
        input_file (Path): –ü—É—Ç—å –∫ –≤—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É README.md.
        output_file (Path): –ü—É—Ç—å –∫ –≤—ã—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É –ø–µ—Ä–µ–≤–æ–¥–∞.
        iso (str): –ö–æ–¥ —Å—Ç—Ä–∞–Ω—ã –¥–ª—è –∏–º–µ–Ω–∏ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.
        language (str): –Ø–∑—ã–∫, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ README.md.
        provider (ProviderInterface): –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, g4f.Provider.OpenaiChat).
        blocklist (List[str]): –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å.
        allowlist (List[str]): –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ blocklist.
        model (Model): –ú–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, g4f.Model.gpt_4).

    Returns:
        None

    Raises:
        Exception: –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏, –ø–µ—Ä–µ–≤–æ–¥–µ –∏–ª–∏ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–∞.
    """
    try:
        translate_prompt = f"""
        Translate this markdown document to {language}.
        Don't translate or change inline code examples.
        ```md
        """
        keep_note = "Keep this: [!Note] as [!Note].\\n"

        with open(input_file, "r", encoding="utf-8") as fp:
            readme = fp.read()

        logger.info("Translate readme...")
        translated_readme = await translate_readme(readme, translate_prompt, keep_note, provider, blocklist, allowlist, model)

        with open(output_file, "w", encoding="utf-8") as fp:
            fp.write(translated_readme)
        logger.info(f'"{output_file}" saved')

    except Exception as ex:
        logger.error("Error during translation process", ex, exc_info=True)
        raise

async def translate_readme(
    readme: str,
    translate_prompt: str,
    keep_note: str,
    provider: ProviderInterface,
    blocklist: List[str],
    allowlist: List[str],
    model: Model = None
) -> str:
    """
    –†–∞–∑–±–∏–≤–∞–µ—Ç README –Ω–∞ —á–∞—Å—Ç–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å, —É—á–∏—Ç—ã–≤–∞—è blocklist –∏ allowlist.

    Args:
        readme (str): –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ README.md.
        translate_prompt (str): Prompt –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞.
        keep_note (str): –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è [!Note].
        provider (ProviderInterface): –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
        blocklist (List[str]): –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å.
        allowlist (List[str]): –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ blocklist.
        model (Model): –ú–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, g4f.Model.gpt_4).

    Returns:
        str: –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π README.
    """
    parts = readme.split('\\n## ')
    logger.info(f"{len(parts)} parts...")
    translated_parts = await asyncio.gather(
        *[translate_part("## " + part, i, translate_prompt, keep_note, provider, blocklist, allowlist, model) for i, part in enumerate(parts)]
    )
    return "\\n\\n".join(translated_parts)

async def translate_part(
    part: str,
    i: int,
    translate_prompt: str,
    keep_note: str,
    provider: ProviderInterface,
    blocklist: List[str],
    allowlist: List[str],
    model: Model = None
) -> str:
    """
    –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –æ–¥–Ω—É —á–∞—Å—Ç—å README, —É—á–∏—Ç—ã–≤–∞—è blocklist –∏ allowlist.

    Args:
        part (str): –û–¥–Ω–∞ —á–∞—Å—Ç—å README.
        i (int): –ò–Ω–¥–µ–∫—Å —á–∞—Å—Ç–∏.
        translate_prompt (str): Prompt –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞.
        keep_note (str): –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è [!Note].
        provider (ProviderInterface): –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
        blocklist (List[str]): –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å.
        allowlist (List[str]): –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ blocklist.
        model (Model): –ú–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, g4f.Model.gpt_4).

    Returns:
        str: –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å README.
    """
    try:
        blocklisted = False
        for headline in blocklist:
            if headline in part:
                blocklisted = True
        if blocklisted:
            lines = part.split('\\n')
            lines[0] = await translate(lines[0], translate_prompt, keep_note, provider, model)
            part = '\\n'.join(lines)
            for trans in allowlist:
                if trans in part:
                    part = part.replace(trans, await translate(trans, translate_prompt, keep_note, provider, model))
        else:
            part = await translate(part, translate_prompt, keep_note, provider, model)
        logger.info(f"[{i}] translated")
        return part
    except Exception as ex:
        logger.error(f"Error translating part {i}", ex, exc_info=True)
        return part  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ö–æ–¥–Ω—É—é —á–∞—Å—Ç—å, —á—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å

async def translate(
    text: str,
    translate_prompt: str,
    keep_note: str,
    provider: ProviderInterface,
    model: Model = None
) -> str:
    """
    –ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI-–º–æ–¥–µ–ª–∏.

    Args:
        text (str): –¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞.
        translate_prompt (str): Prompt –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞.
        keep_note (str): –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è [!Note].
        provider (ProviderInterface): –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
        model (Model): –ú–æ–¥–µ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, g4f.Model.gpt_4).

    Returns:
        str: –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç.
    """
    try:
        prompt = translate_prompt + text.strip() + '\\n```'
        if "[!Note]" in text:
            prompt = keep_note + prompt
        result = read_text(await provider.create_async(
            model=model,
            messages=[{"role": "user", "content": prompt}],
        ))
        if text.endswith("```") and not result.endswith("```"):
            result += "\\n```"
        return result
    except Exception as ex:
        logger.error("Error during translation", ex, exc_info=True)
        return text  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å

def read_text(text: str) -> str:
    """
    –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ markdown-–±–ª–æ–∫–∞.

    Args:
        text (str): Markdown-—Ç–µ–∫—Å—Ç.

    Returns:
        str: –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç.
    """
    start = end = 0
    new = text.strip().split('\\n')
    for i, line in enumerate(new):
        if line.startswith('```'):
            if not start:
                start = i + 1
            end = i
    return '\\n'.join(new[start:end]).strip()


def main():
    """
    –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ README.md.
    """
    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ª—É—á—à–µ –±—Ä–∞—Ç—å –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
    iso = "GE"
    language = "german"
    provider = g4f.Provider.OpenaiChat
    model = g4f.models.gpt_4
    blocklist = [
        '## ¬©Ô∏è Copyright',
        '## üöÄ Providers and Models',
        '## üîó Related GPT4Free Projects'
    ]
    allowlist = [
        "### Other",
        "### Models"
    ]

    input_file = project_dir / "README.md"
    output_file = project_dir / f"README-{iso}.md"

    asyncio.run(
        translate_readme_file(
            input_file,
            output_file,
            iso,
            language,
            provider,
            blocklist,
            allowlist,
            model
        )
    )

if __name__ == "__main__":
    main()