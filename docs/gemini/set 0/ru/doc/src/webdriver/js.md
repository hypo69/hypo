# Модуль `hypotez/src/webdriver/js.py`

## Обзор

Модуль `hypotez/src/webdriver/js.py` предоставляет функции на JavaScript для взаимодействия с веб-страницей, расширяя возможности Selenium WebDriver.  Он позволяет управлять видимостью элементов DOM, получать метаданные о странице (состояние загрузки, referrer, язык) и управлять фокусом браузера.

## Классы

### `JavaScript`

**Описание**: Класс `JavaScript` предоставляет набор функций для выполнения JavaScript кода в браузере через Selenium WebDriver.

**Методы**:

#### `__init__(self, driver: WebDriver)`

**Описание**: Инициализирует помощника JavaScript с экземпляром Selenium WebDriver.

**Параметры**:

- `driver` (WebDriver): Экземпляр Selenium WebDriver для выполнения JavaScript кода.

#### `unhide_DOM_element(self, element: WebElement) -> bool`

**Описание**: Делает невидимый элемент DOM видимым, изменяя его свойства стиля.

**Параметры**:

- `element` (WebElement): Объект WebElement, который необходимо сделать видимым.

**Возвращает**:

- `bool`: `True`, если скрипт выполняется успешно, `False` в противном случае.

**Вызывает исключения**:

- `Exception`: Любые ошибки при выполнении JavaScript кода.  Ошибка записывается в лог.

#### `ready_state(self) -> str`

**Описание**: Возвращает состояние загрузки документа.

**Возвращает**:

- `str`: `'loading'`, если документ загружается, или `'complete'`, если загрузка завершена.

**Вызывает исключения**:

- `Exception`: Любые ошибки при выполнении JavaScript кода. Ошибка записывается в лог.


#### `window_focus(self) -> None`

**Описание**: Устанавливает фокус на окно браузера с помощью JavaScript.

**Вызывает исключения**:

- `Exception`: Любые ошибки при выполнении JavaScript кода. Ошибка записывается в лог.


#### `get_referrer(self) -> str`

**Описание**: Возвращает URL referrer текущего документа.

**Возвращает**:

- `str`: URL referrer или пустая строка, если он недоступен.

**Вызывает исключения**:

- `Exception`: Любые ошибки при выполнении JavaScript кода. Ошибка записывается в лог.


#### `get_page_lang(self) -> str`

**Описание**: Возвращает язык текущей страницы.

**Возвращает**:

- `str`: Код языка страницы или пустая строка, если он недоступен.

**Вызывает исключения**:

- `Exception`: Любые ошибки при выполнении JavaScript кода. Ошибка записывается в лог.


## Переменные

### `MODE`

**Описание**: Переменная, хранящая режим работы.


## Импорты

- `header`:  Неизвестный модуль, не описан в коде.
- `gs`: Модуль `gs`, не описан в коде.
- `logger`: Модуль `logger`, не описан в коде.
- `WebDriver`: Класс `WebDriver` из `selenium.webdriver.remote.webdriver`.
- `WebElement`: Класс `WebElement` из `selenium.webdriver.remote.webelement`.


## Дополнительные заметки

Обратите внимание на обработку исключений с использованием `ex` вместо `e` в блоках `try...except`.  Использование `logger` предполагает наличие соответствующего модуля для логирования ошибок.