# Модуль driver_1

## Обзор

Данный модуль определяет метакласс `DriverMeta` для динамического создания класса `Driver`, который наследует как от базового класса `Driver`, так и от указанного класса Selenium WebDriver (`Chrome`, `Firefox` или `Edge`). Метакласс отвечает за создание правильной комбинации этих классов.

## Метакласс `DriverMeta`

Метакласс в Python – это класс класса, определяющий поведение класса. Здесь `DriverMeta` используется для управления созданием нового класса `Driver`.

### Метод `__call__`

Метод `__call__` в метаклассе вызывается при создании экземпляра класса. В данном случае он используется для создания нового класса `Driver`, который наследует как от базового класса `Driver`, так и от одного из классов Selenium WebDriver (`Chrome`, `Firefox`, или `Edge`).

- `cls`: Класс, который создается, в данном случае `Driver`.
- `webdriver_cls`: Класс Selenium WebDriver, от которого необходимо наследовать (`Chrome`, `Firefox`, или `Edge`).
- `*args` и `**kwargs`: Аргументы и ключевые аргументы, передаваемые в конструктор класса `Driver`.

### Проверки

- `assert isinstance(webdriver_cls, type)`: Убеждается, что `webdriver_cls` действительно является классом.
- `assert issubclass(webdriver_cls, Chrome | Firefox | Edge)`: Убеждается, что `webdriver_cls` является подклассом одного из разрешенных классов WebDriver (`Chrome`, `Firefox`, или `Edge`).

### Динамическое создание класса

Внутри метода `__call__` динамически определяется новый класс с именем `Driver`. Этот новый класс наследует как от `cls` (базового класса `Driver`), так и от `webdriver_cls` (указанного класса WebDriver).

#### Класс `Driver`

Конструктор динамически созданного класса `Driver`.

- `__init__`: Конструктор динамически созданного класса `Driver`.
  - Логирует инициализацию WebDriver с его именем и аргументами.
  - Вызывает конструкторы родительских классов с помощью `super()`.
  - Вызывает метод `driver_payload`.

#### Метод `driver_payload`

Этот метод определяется внутри динамически созданного класса `Driver` и вызывает метод `driver_payload` из родительского класса `Driver`. Это гарантирует выполнение любых дополнительных инициализаций, необходимых классу `Driver`.

#### Возвращение динамического класса

Созданный класс `Driver` создается и возвращается с предоставленными аргументами.

## Пример использования

Когда вы создаёте экземпляр класса `Driver` с `DriverMeta` в качестве метакласса и передаёте класс WebDriver, он динамически создаст новый класс, который наследует как от базового класса `Driver`, так и от указанного класса WebDriver.

Например:

```python
# Создание экземпляра Driver с Chrome как классом WebDriver
chrome_driver = Driver(Chrome, *args, **kwargs)

# Создание экземпляра Driver с Firefox как классом WebDriver
firefox_driver = Driver(Firefox, *args, **kwargs)
```

Это позволяет создать класс `Driver`, который имеет все методы и свойства как базового класса `Driver`, так и указанного класса Selenium WebDriver (`Chrome`, `Firefox`, или `Edge`), обеспечивая гибкую и динамическую инициализацию WebDriver с дополнительной настраиваемой функциональностью.