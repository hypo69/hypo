# Документация модуля normalizer

## Обзор

Модуль `normalizer` предоставляет функции для нормализации различных типов данных, включая строки, булевы значения, целые числа и числа с плавающей запятой. Он также включает вспомогательные функции для обработки текста.

## Подробней

Модуль предназначен для предобработки данных перед их использованием в различных задачах, таких как машинное обучение, анализ данных или сохранение в базе данных. Он обеспечивает консистентность и чистоту данных, что повышает надежность и качество результатов.

## Функции модуля

### `normalize_boolean`

```python
def normalize_boolean(input_data: Any) -> bool:
    """
    Преобразует входное значение в булево значение.

    Args:
        input_data (Any): Данные, которые могут представлять булево значение (строка, число, булев тип).

    Returns:
        bool: Преобразованное булево значение.
    """
```

**Назначение**: Преобразует входные данные в булево значение. Поддерживает различные типы входных данных, такие как строки ("yes", "no", "true", "false"), числа (0 и 1) и булевы значения.

**Параметры**:
- `input_data` (Any): Данные, которые необходимо преобразовать в булево значение.

**Возвращает**:
- `bool`: Булево значение, полученное из входных данных.

**Как работает функция**:

1. Функция принимает входные данные `input_data`.
2. Проверяет тип данных и преобразует их в булево значение на основе определенных правил (например, строка "yes" преобразуется в `True`, число 0 в `False`).

**Примеры**:

```python
normalize_boolean('yes')  # Результат: True
normalize_boolean(0)      # Результат: False
normalize_boolean(True)   # Результат: True
```

### `normalize_string`

```python
def normalize_string(input_data: str | list) -> str:
    """
    Преобразует строку или список строк в нормализованную строку, удаляя лишние пробелы, HTML теги и специальные символы.

    Args:
        input_data (str | list): Строка или список строк.

    Returns:
        str: Очищенная строка в кодировке UTF-8.
    """
```

**Назначение**: Преобразует входную строку или список строк в нормализованную строку, удаляя лишние пробелы, HTML теги и специальные символы.

**Параметры**:
- `input_data` (str | list): Строка или список строк для нормализации.

**Возвращает**:
- `str`: Очищенная строка в кодировке UTF-8.

**Как работает функция**:

1. Функция принимает входные данные `input_data`, которые могут быть строкой или списком строк.
2. Если входные данные - список, объединяет их в одну строку.
3. Удаляет HTML теги из строки.
4. Удаляет специальные символы из строки.
5. Удаляет лишние пробелы в начале и конце строки, а также между словами.
6. Возвращает очищенную строку.

**Примеры**:

```python
normalize_string(['  Example string  ', '<b>with HTML</b>'])  # Результат: 'Example string with HTML'
normalize_string('  Hello   World!  ')  # Результат: 'Hello World'
```

### `normalize_int`

```python
def normalize_int(input_data: str | int | float | Decimal) -> int:
    """
    Преобразует входное значение в целое число.

    Args:
        input_data (str | int | float | Decimal): Число или его строковое представление.

    Returns:
        int: Преобразованное целое число.
    """
```

**Назначение**: Преобразует входное значение в целое число.

**Параметры**:
- `input_data` (str | int | float | Decimal): Число или его строковое представление.

**Возвращает**:
- `int`: Преобразованное целое число.

**Как работает функция**:

1. Функция принимает входные данные `input_data`, которые могут быть строкой, целым числом, числом с плавающей запятой или Decimal.
2. Если входные данные - строка, пытается преобразовать её в число.
3. Преобразует число в целое число, отбрасывая дробную часть.
4. Возвращает преобразованное целое число.

**Примеры**:

```python
normalize_int('42')  # Результат: 42
normalize_int(3.14)  # Результат: 3
```

### `normalize_float`

```python
def normalize_float(value: Any) -> float | List[float] | None:
    """
    Преобразует входное значение в число с плавающей запятой.

    Args:
        value (Any): Число, строка или список чисел.

    Returns:
        float | List[float] | None: Число с плавающей запятой, список чисел с плавающей запятой или `None` в случае ошибки.
    """
```

**Назначение**: Преобразует входное значение в число с плавающей запятой. Поддерживает преобразование одиночных чисел, строк и списков чисел.

**Параметры**:
- `value` (Any): Число, строка или список чисел для преобразования.

**Возвращает**:
- `float | List[float] | None`: Число с плавающей запятой, список чисел с плавающей запятой или `None` в случае ошибки.

**Как работает функция**:

1. Функция принимает входное значение `value`, которое может быть числом, строкой или списком чисел.
2. Если входное значение - строка, пытается преобразовать её в число с плавающей запятой.
3. Если входное значение - список, преобразует каждый элемент списка в число с плавающей запятой.
4. Возвращает преобразованное число с плавающей запятой или список чисел с плавающей запятой.

**Примеры**:

```python
normalize_float('3.14')         # Результат: 3.14
normalize_float([1, '2.5', 3])  # Результат: [1.0, 2.5, 3.0]
```

### `remove_line_breaks`

```python
def remove_line_breaks(input_str: str) -> str:
    """
    Удаляет символы новой строки из строки.

    Args:
        input_str (str): Входная строка.

    Returns:
        str: Строка без символов новой строки.
    """
```

**Назначение**: Удаляет символы новой строки (`\n`, `\r`) из входной строки.

**Параметры**:
- `input_str` (str): Входная строка, из которой нужно удалить символы новой строки.

**Возвращает**:
- `str`: Строка без символов новой строки.

**Как работает функция**:

1. Функция принимает входную строку `input_str`.
2. Заменяет все символы новой строки (`\n`, `\r`) на пустую строку.
3. Возвращает строку без символов новой строки.

**Примеры**:

```python
remove_line_breaks('String\nwith line breaks\r')  # Результат: 'String with line breaks'
```

### `remove_html_tags`

```python
def remove_html_tags(input_html: str) -> str:
    """
    Удаляет HTML теги из строки.

    Args:
        input_html (str): Входная строка с HTML тегами.

    Returns:
        str: Строка без HTML тегов.
    """
```

**Назначение**: Удаляет HTML теги из входной строки.

**Параметры**:
- `input_html` (str): Входная строка, содержащая HTML теги.

**Возвращает**:
- `str`: Строка без HTML тегов.

**Как работает функция**:

1. Функция принимает входную строку `input_html`, содержащую HTML теги.
2. Использует регулярное выражение для поиска и удаления всех HTML тегов.
3. Возвращает строку без HTML тегов.

**Примеры**:

```python
remove_html_tags('<p>Example text</p>')  # Результат: 'Example text'
```

### `remove_special_characters`

```python
def remove_special_characters(input_str: str | list) -> str | list:
    """
    Удаляет специальные символы из строки или списка строк.

    Args:
        input_str (str | list): Строка или список строк.

    Returns:
        str | list: Строка или список строк без специальных символов.
    """
```

**Назначение**: Удаляет специальные символы из строки или списка строк.

**Параметры**:
- `input_str` (str | list): Строка или список строк, из которых нужно удалить специальные символы.

**Возвращает**:
- `str | list`: Строка или список строк без специальных символов.

**Как работает функция**:

1. Функция принимает входные данные `input_str`, которые могут быть строкой или списком строк.
2. Если входные данные - строка, удаляет из неё все специальные символы с помощью регулярного выражения.
3. Если входные данные - список строк, применяет операцию удаления специальных символов к каждой строке в списке.
4. Возвращает очищенную строку или список строк.

**Примеры**:

```python
remove_special_characters('Hello@World!')  # Результат: 'HelloWorld'
remove_special_characters(['Hello@', 'World!'])  # Результат: ['Hello', 'World']
```

### `normalize_sql_date`

```python
def normalize_sql_date(input_data: str | datetime) -> str:
    """
    Преобразует строку или объект `datetime` в стандартный формат SQL даты (`YYYY-MM-DD`).

    Args:
        input_data (str | datetime): Строка или объект `datetime`, представляющий дату.

    Returns:
        str: Нормализованная дата в формате строки `YYYY-MM-DD`.
    """
```

**Назначение**: Преобразует входные данные (строку или объект `datetime`) в строку, представляющую дату в формате SQL (`YYYY-MM-DD`).

**Параметры**:
- `input_data` (str | datetime): Дата в виде строки или объекта `datetime`.

**Возвращает**:
- `str`: Нормализованная дата в формате `YYYY-MM-DD`.

**Как работает функция**:

1. Функция принимает входные данные `input_data`, которые могут быть строкой или объектом `datetime`.
2. Если входные данные - строка, пытается преобразовать её в объект `datetime`.
3. Форматирует объект `datetime` в строку формата `YYYY-MM-DD`.
4. Возвращает строку с датой в формате `YYYY-MM-DD`.

**Примеры**:

```python
normalize_sql_date('2024-12-06')  # Результат: '2024-12-06'
normalize_sql_date(datetime(2024, 12, 6))  # Результат: '2024-12-06'
```