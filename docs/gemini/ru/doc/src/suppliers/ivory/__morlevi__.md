# Модуль hypotez/src/suppliers/ivory/__morlevi__.py

## Обзор

Этот модуль содержит функции для работы с поставщиком Morlevi, включая авторизацию, получение данных о продуктах и категориях.  Он использует Selenium для взаимодействия с веб-сайтом поставщика.

## Функции

### `login`

**Описание**: Функция для входа на сайт Morlevi. Она пытается войти, а затем обрабатывает возможные модальные окна и ошибки входа.

**Параметры**:

- `supplier` (Supplier): Объект, содержащий информацию о поставщике и драйвер Selenium.

**Возвращает**:

- `bool`: `True`, если вход успешен, `None` в случае ошибки.

**Вызывает исключения**:

- `Exception`: В случае возникновения ошибок при обработке модальных окон или ошибках входа.


### `_login`

**Описание**: Вспомогательная функция для обработки процесса входа на сайт Morlevi.

**Параметры**:

- `_s` (Supplier): Объект, содержащий информацию о поставщике и драйвер Selenium.

**Возвращает**:

- `bool`: `True`, если вход успешен, `None` в случае ошибки.

**Вызывает исключения**:

- `Exception`: В случае возникновения ошибок при поиске и нажатии кнопок входа.


### `grab_product_page`

**Описание**: Функция для получения данных о продукте с сайта Morlevi.  Собирает информацию о товаре, включая SKU, название, описание, стоимость и т.д.

**Параметры**:

- `s` (Supplier): Объект, содержащий информацию о поставщике и драйвер Selenium.

**Возвращает**:

- `Product`: Объект `Product`, содержащий собранные данные о продукте. Возвращает `None` в случае ошибки.

**Вызывает исключения**:

- `Exception`: В случае ошибок при взаимодействии с сайтом или сборе данных.


### `list_products_in_category_from_pagination`

**Описание**: Функция для получения списка ссылок на все продукты в заданной категории, учитывая возможность пагинации.

**Параметры**:

- `supplier` (Supplier): Объект, содержащий информацию о поставщике и драйвер Selenium.

**Возвращает**:

- `list`: Список ссылок на продукты. Возвращает пустой список, если нет продуктов в категории.

**Вызывает исключения**:

- `Exception`: В случае ошибок при взаимодействии с сайтом или сборе данных.


### `get_list_products_in_category`

**Описание**: Функция для получения списка продуктов в заданной категории.

**Параметры**:

- `s` (Supplier): Объект, содержащий информацию о поставщике.
- `scenario`: JSON.
- `presath`: PrestaShopWebServiceDict.

**Возвращает**:

- `list`: Список ссылок на продукты.

**Вызывает исключения**:

- `Exception`: При возникновении ошибок.



### `get_list_categories_from_site`

**Описание**: Функция, которую нужно документировать (нет достаточной информации).

**Параметры**:

- `s`: Объект поставщика.
- `scenario_file`:  JSON.
- `brand` (опционально): Строка.

**Возвращает**:

- ... (необходимо уточнить возвращаемое значение).

**Вызывает исключения**:

- `Exception`: При возникновении ошибок.



## Классы

### `Product`

**Описание**:  Класс для хранения данных о продукте. (Подробности о классе необходимо уточнить, просмотрев его реализацию).

## Модули

### `pathlib`
### `requests`
### `pandas`
### `selenium.webdriver.remote.webelement`
### `selenium.webdriver.common.keys`
### `settings`
### `StringFormatter`
### `Product`


##  Примечания

- Функции используют переменные `_s`, `_d` для упрощения чтения кода (предположительно это сокращения для `supplier` и `driver`).
-  Для обработки исключений используется `try...except Exception as ex` и `logger.error()`.
-  Есть функции `_login`, которая скрывает часть логики.
- Документация к недостающим функциям `set_...()` в `grab_product_page` должна быть дополнена (недостаточно информации о их предназначении и аргументах).
- `Supplier` - предположительно класс, содержащий информацию о поставщике и драйвер Selenium. Его методы `locators`, `driver`, `get_url`, `execute_locator`, `wait` , `save_and_send_via_ftp`, `settings`  следует документировать в отдельном разделе.
- `StringFormatter.clear_price` следует документировать.
- Необходимо уточнить использование `eval` в `set_cost_price` и способы его безопасности.
- Требуется подробная информация о `PrestaShopWebServiceDict` и структуре данных в  `scenario`,  `scenario_file`.
- Необходимо дополнить документацию кода, особенно для функций `set_...()`, чтобы понять, что они делают.
- Необходимо добавить информацию о логике работы пагинации в `list_products_in_category_from_pagination`.
- Добавьте информацию о `locators` и  других атрибутах класса `Supplier`.
-  Опишите, что делает `s.settings['price_rule']`