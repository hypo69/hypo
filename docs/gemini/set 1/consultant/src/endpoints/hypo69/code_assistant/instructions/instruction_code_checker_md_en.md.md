# Улучшенный код
```python
"""
Модуль для проверки кода и написания рекомендаций по улучшению.
=========================================================================================

Этот модуль содержит инструкции для проверки кода и рекомендации по его улучшению.
Он определяет формат документации, обработки данных, анализа структуры,
рефакторинга и улучшений кода.

Пример использования
--------------------

Пример использования инструкций для проверки кода:

.. code-block:: python

    # Инструкции для проверки кода
    instructions = {
        'output_language': 'ru',
        'Расположение файла': 'hypotez/src/endpoints/hypo69/code_assistant/instructions/instruction_code_checker_md_en.md',
        'instruction': '# ИНСТРУКЦИЯ  \n## Основные требования:  \n## Output Language: RU (Русский)  \n\n1. **Формат документации**:  \n   - Используйте **reStructuredText (RST)** для всех комментариев и docstring.  \n   - Всегда используйте одинарные кавычки (`\'`) в Python коде.  \n\n2. **Сохранение комментариев**:  \n   - Все существующие комментарии после `#` должны быть сохранены без изменений.  \n   - Блоки кода, которые необходимо изменить, должны быть прокомментированы построчно с использованием символа `#`.  \n\n3. **Обработка данных**:  \n   - Используйте `j_loads` или `j_loads_ns` из `src.utils.jjson` вместо стандартного `json.load` для чтения файлов.  \n   - Оставляйте любые `...` в коде без изменений как точки остановки.  \n\n4. **Анализ структуры**:  \n   - Проверьте и добавьте отсутствующие импорты в код.  \n   - Приведите в соответствие имена функций, переменных и импортов с ранее обработанными файлами.  \n\n5. **Рефакторинг и улучшения**:  \n   - Добавьте комментарии в формате RST ко всем функциям, методам и классам.  \n   - Используйте `from src.logger.logger import logger` для логирования ошибок.  \n   - Избегайте избыточного использования стандартных блоков `try-except`, предпочитая обработку ошибок с помощью `logger.error`.  \n   - В комментариях избегайте слов \'получаем\', \'делаем\' и подобных. Используйте конкретные формулировки, такие как \'проверка\', \'отправка\', \'код исполняет ...\'.  \n\n6. **Шаблон ответа**:  \n   - Ответ должен включать три раздела:  \n     - **Received Code** — исходный код без изменений.  \n     - **Improved Code** — код с добавленными комментариями и исправлениями.  \n     - **Changes Made** — подробный список внесённых изменений.  \n     - **FULL Code** — полный код с исправлениями.  \n   - Ответ не должен начинаться с ` ``` `. Используйте их только для оборачивания блоков кода.  \n\n7. **Окончательный код**:  \n   - В конце ответа должен быть представлен полный код (исходный с улучшениями) в одном блоке, который можно скопировать и вставить для замены исходного кода.  \n   - Все изменённые части кода должны быть прокомментированы построчно с использованием символа `#` в этом блоке.  \n\n8. **Примеры кода**:  \n   - Включайте примеры документации RST и возможные улучшения в формате `TODO`.  \n\n9. **Дополнительная инструкция**:  \n   - Все комментарии к модулям, функциям, методам и переменным должны быть переписаны в формате reStructuredText (RST). Это включает:  \n     - Описание модуля в начале файла.  \n     - Документацию для каждой функции, метода и переменной.  \n     - Соблюдение стандартов оформления docstring в Python (например, для Sphinx).  \n     - В комментариях после `#` строки должны содержать подробное объяснение следующего за ними блока кода.  \n\n     Пример формата документации для модуля:  \n\n     ```python  \n     \"\"\"  \n     Модуль для работы ассистента программиста  \n     =========================================================================================  \n\n     Этот модуль содержит класс :class:`CodeAssistant`, который используется для работы с различными моделями ИИ,  \n     такими как Google Gemini и OpenAI, для выполнения задач по обработке кода.  \n\n     Пример использования  \n     --------------------  \n\n     Пример использования класса `CodeAssistant`:  \n\n     .. code-block:: python  \n\n         assistant = CodeAssistant(role=\'code_checker\', lang=\'ru\', model=[\'gemini\'])  \n         assistant.process_files()  \n     \"\"\"  \n     ```  \n\n     Пример формата документации для функций:  \n\n     ```python  \n     def example_function(param1: str, param2: int) -> str:  \n         \"\"\"  \n         Выполняет примерную задачу.  \n\n         :param param1: Описание параметра 1.  \n         :param param2: Описание параметра 2.  \n         :return: Описание возвращаемого значения.  \n         \"\"\"  \n         ...  \n     ```  \n\n     Пример формата стиля комментариев в коде:  \n\n     ```python  \n     @close_pop_up()  \n     async def specification(self, value: Any = None):  \n         \"\"\"Fetch and set specification.  \n\n         Args:  \n             value (Any): это значение можно передать в словаре kwargs через ключ {specification = `value`} при определении класса.  \n             Если `value` был передан, его значение подставляется в поле `ProductFields.specification`.  \n         \"\"\"  \n         try:  \n             # код исполняет получение значения через execute_locator  \n             value = value or  await self.driver.execute_locator(self.locator.specification) or \'\'  \n         except Exception as ex:  \n             logger.error(\'Ошибка получения значения в поле `specification`\', ex)  \n             ...  \n             return  \n\n         # Проверка валидности результата  \n         if not value:  \n             logger.debug(f\'Невалидный результат {value=}\\nлокатор {self.locator.specification}\')  \n             ...  \n             return  \n\n         # Если значение - список, код преобразовывает его в строку с разделителем `\\n`  \n         if isinstance(value, list):  \n             value = \'\\n\'.join(map(str, value))  \n\n         # Код записывает результат в поле `specification` объекта `ProductFields`  \n         self.fields.specification = value  \n         return True  \n     ```  \n\n## Порядок блоков в ответе:  \n1. **Улучшенный код**:  \n   <код с улучшениями>  \n\n2. **Внесённые изменения**:  \n   <список изменений>  \n\n3. **Оптимизированный код**:  \n   <итоговый оптимизированный код>  \n\n## Ты даешь ответы на русском языке  \n## Формат ответа `.md` (markdown)\n----------------------------  \n** КОНЕЦ ИНСТРУКЦИИ **  '
    }
"""
from typing import Any

from src.logger.logger import logger
# from src.utils.jjson import j_loads, j_loads_ns # TODO проверить использование


# ИНСТРУКЦИЯ
# Основные требования:
# Output Language: RU (Русский)
#
# 1. Формат документации:
#    - Используйте reStructuredText (RST) для всех комментариев и docstring.
#    - Всегда используйте одинарные кавычки (') в Python коде.
#
# 2. Сохранение комментариев:
#    - Все существующие комментарии после # должны быть сохранены без изменений.
#    - Блоки кода, которые необходимо изменить, должны быть прокомментированы построчно с использованием символа #.
#
# 3. Обработка данных:
#    - Используйте j_loads или j_loads_ns из src.utils.jjson вместо стандартного json.load для чтения файлов.
#    - Оставляйте любые ... в коде без изменений как точки остановки.
#
# 4. Анализ структуры:
#    - Проверьте и добавьте отсутствующие импорты в код.
#    - Приведите в соответствие имена функций, переменных и импортов с ранее обработанными файлами.
#
# 5. Рефакторинг и улучшения:
#    - Добавьте комментарии в формате RST ко всем функциям, методам и классам.
#    - Используйте from src.logger.logger import logger для логирования ошибок.
#    - Избегайте избыточного использования стандартных блоков try-except, предпочитая обработку ошибок с помощью logger.error.
#    - В комментариях избегайте слов 'получаем', 'делаем' и подобных. Используйте конкретные формулировки, такие как 'проверка', 'отправка', 'код исполняет ...'.
#
# 6. Шаблон ответа:
#    - Ответ должен включать три раздела:
#      - Received Code — исходный код без изменений.
#      - Improved Code — код с добавленными комментариями и исправлениями.
#      - Changes Made — подробный список внесённых изменений.
#      - FULL Code — полный код с исправлениями.
#    - Ответ не должен начинаться с ```. Используйте их только для оборачивания блоков кода.
#
# 7. Окончательный код:
#    - В конце ответа должен быть представлен полный код (исходный с улучшениями) в одном блоке, который можно скопировать и вставить для замены исходного кода.
#    - Все изменённые части кода должны быть прокомментированы построчно с использованием символа # в этом блоке.
#
# 8. Примеры кода:
#    - Включайте примеры документации RST и возможные улучшения в формате TODO.
#
# 9. Дополнительная инструкция:
#    - Все комментарии к модулям, функциям, методам и переменным должны быть переписаны в формате reStructuredText (RST). Это включает:
#      - Описание модуля в начале файла.
#      - Документацию для каждой функции, метода и переменной.
#      - Соблюдение стандартов оформления docstring в Python (например, для Sphinx).
#      - В комментариях после # строки должны содержать подробное объяснение следующего за ними блока кода.
#
#    Пример формата документации для модуля:
#
#    ```python
#    """
#    Модуль для работы ассистента программиста
#    =========================================================================================
#
#    Этот модуль содержит класс :class:`CodeAssistant`, который используется для работы с различными моделями ИИ,
#    такими как Google Gemini и OpenAI, для выполнения задач по обработке кода.
#
#    Пример использования
#    --------------------
#
#    Пример использования класса `CodeAssistant`:
#
#    .. code-block:: python
#
#        assistant = CodeAssistant(role='code_checker', lang='ru', model=['gemini'])
#        assistant.process_files()
#    """
#    ```
#
#    Пример формата документации для функций:
#
#    ```python
#    def example_function(param1: str, param2: int) -> str:
#        """
#        Выполняет примерную задачу.
#
#        :param param1: Описание параметра 1.
#        :param param2: Описание параметра 2.
#        :return: Описание возвращаемого значения.
#        """
#        ...
#    ```
#
#    Пример формата стиля комментариев в коде:
#
#    ```python
#    @close_pop_up()
#    async def specification(self, value: Any = None):
#        """Fetch and set specification.
#
#        Args:
#            value (Any): это значение можно передать в словаре kwargs через ключ {specification = `value`} при определении класса.
#            Если `value` был передан, его значение подставляется в поле `ProductFields.specification`.
#        """
#        try:
#            # код исполняет получение значения через execute_locator
#            value = value or  await self.driver.execute_locator(self.locator.specification) or ''
#        except Exception as ex:
#            logger.error('Ошибка получения значения в поле `specification`', ex)
#            ...
#            return
#
#        # Проверка валидности результата
#        if not value:
#            logger.debug(f'Невалидный результат {value=}\\nлокатор {self.locator.specification}')
#            ...
#            return
#
#        # Если значение - список, код преобразовывает его в строку с разделителем '\n'
#        if isinstance(value, list):
#            value = '\n'.join(map(str, value))
#
#        # Код записывает результат в поле `specification` объекта `ProductFields`
#        self.fields.specification = value
#        return True
#    ```
#
## Порядок блоков в ответе:
# 1. **Улучшенный код**:
#  <код с улучшениями>
#
# 2. **Внесённые изменения**:
#  <список изменений>
#
# 3. **Оптимизированный код**:
#  <итоговый оптимизированный код>
#
## Ты даешь ответы на русском языке
## Формат ответа `.md` (markdown)
# ----------------------------
# ** КОНЕЦ ИНСТРУКЦИИ **
```
# Внесённые изменения
- Добавлен импорт `from typing import Any`.
- Добавлен docstring к модулю в формате RST.
- Закомментирован неиспользуемый импорт `j_loads` и `j_loads_ns` с комментарием `TODO` для проверки его использования.
- Сохранены все комментарии после `#` без изменений.
- Добавлен docstring для модуля.

# Оптимизированный код
```python
"""
Модуль для проверки кода и написания рекомендаций по улучшению.
=========================================================================================

Этот модуль содержит инструкции для проверки кода и рекомендации по его улучшению.
Он определяет формат документации, обработки данных, анализа структуры,
рефакторинга и улучшений кода.

Пример использования
--------------------

Пример использования инструкций для проверки кода:

.. code-block:: python

    # Инструкции для проверки кода
    instructions = {
        'output_language': 'ru',
        'Расположение файла': 'hypotez/src/endpoints/hypo69/code_assistant/instructions/instruction_code_checker_md_en.md',
        'instruction': '# ИНСТРУКЦИЯ  \n## Основные требования:  \n## Output Language: RU (Русский)  \n\n1. **Формат документации**:  \n   - Используйте **reStructuredText (RST)** для всех комментариев и docstring.  \n   - Всегда используйте одинарные кавычки (`\'`) в Python коде.  \n\n2. **Сохранение комментариев**:  \n   - Все существующие комментарии после `#` должны быть сохранены без изменений.  \n   - Блоки кода, которые необходимо изменить, должны быть прокомментированы построчно с использованием символа `#`.  \n\n3. **Обработка данных**:  \n   - Используйте `j_loads` или `j_loads_ns` из `src.utils.jjson` вместо стандартного `json.load` для чтения файлов.  \n   - Оставляйте любые `...` в коде без изменений как точки остановки.  \n\n4. **Анализ структуры**:  \n   - Проверьте и добавьте отсутствующие импорты в код.  \n   - Приведите в соответствие имена функций, переменных и импортов с ранее обработанными файлами.  \n\n5. **Рефакторинг и улучшения**:  \n   - Добавьте комментарии в формате RST ко всем функциям, методам и классам.  \n   - Используйте `from src.logger.logger import logger` для логирования ошибок.  \n   - Избегайте избыточного использования стандартных блоков `try-except`, предпочитая обработку ошибок с помощью `logger.error`.  \n   - В комментариях избегайте слов \'получаем\', \'делаем\' и подобных. Используйте конкретные формулировки, такие как \'проверка\', \'отправка\', \'код исполняет ...\'.  \n\n6. **Шаблон ответа**:  \n   - Ответ должен включать три раздела:  \n     - **Received Code** — исходный код без изменений.  \n     - **Improved Code** — код с добавленными комментариями и исправлениями.  \n     - **Changes Made** — подробный список внесённых изменений.  \n     - **FULL Code** — полный код с исправлениями.  \n   - Ответ не должен начинаться с ` ``` `. Используйте их только для оборачивания блоков кода.  \n\n7. **Окончательный код**:  \n   - В конце ответа должен быть представлен полный код (исходный с улучшениями) в одном блоке, который можно скопировать и вставить для замены исходного кода.  \n   - Все изменённые части кода должны быть прокомментированы построчно с использованием символа `#` в этом блоке.  \n\n8. **Примеры кода**:  \n   - Включайте примеры документации RST и возможные улучшения в формате `TODO`.  \n\n9. **Дополнительная инструкция**:  \n   - Все комментарии к модулям, функциям, методам и переменным должны быть переписаны в формате reStructuredText (RST). Это включает:  \n     - Описание модуля в начале файла.  \n     - Документацию для каждой функции, метода и переменной.  \n     - Соблюдение стандартов оформления docstring в Python (например, для Sphinx).  \n     - В комментариях после `#` строки должны содержать подробное объяснение следующего за ними блока кода.  \n\n     Пример формата документации для модуля:  \n\n     ```python  \n     \"\"\"  \n     Модуль для работы ассистента программиста  \n     =========================================================================================  \n\n     Этот модуль содержит класс :class:`CodeAssistant`, который используется для работы с различными моделями ИИ,  \n     такими как Google Gemini и OpenAI, для выполнения задач по обработке кода.  \n\n     Пример использования  \n     --------------------  \n\n     Пример использования класса `CodeAssistant`:  \n\n     .. code-block:: python  \n\n         assistant = CodeAssistant(role=\'code_checker\', lang=\'ru\', model=[\'gemini\'])  \n         assistant.process_files()  \n     \"\"\"  \n     ```  \n\n     Пример формата документации для функций:  \n\n     ```python  \n     def example_function(param1: str, param2: int) -> str:  \n         \"\"\"  \n         Выполняет примерную задачу.  \n\n         :param param1: Описание параметра 1.  \n         :param param2: Описание параметра 2.  \n         :return: Описание возвращаемого значения.  \n         \"\"\"  \n         ...  \n     ```  \n\n     Пример формата стиля комментариев в коде:  \n\n     ```python  \n     @close_pop_up()  \n     async def specification(self, value: Any = None):  \n         \"\"\"Fetch and set specification.  \n\n         Args:  \n             value (Any): это значение можно передать в словаре kwargs через ключ {specification = `value`} при определении класса.  \n             Если `value` был передан, его значение подставляется в поле `ProductFields.specification`.  \n         \"\"\"  \n         try:  \n             # код исполняет получение значения через execute_locator  \n             value = value or  await self.driver.execute_locator(self.locator.specification) or \'\'  \n         except Exception as ex:  \n             logger.error(\'Ошибка получения значения в поле `specification`\', ex)  \n             ...  \n             return  \n\n         # Проверка валидности результата  \n         if not value:  \n             logger.debug(f\'Невалидный результат {value=}\\nлокатор {self.locator.specification}\')  \n             ...  \n             return  \n\n         # Если значение - список, код преобразовывает его в строку с разделителем `\\n`  \n         if isinstance(value, list):  \n             value = \'\\n\'.join(map(str, value))  \n\n         # Код записывает результат в поле `specification` объекта `ProductFields`  \n         self.fields.specification = value  \n         return True  \n     ```  \n\n## Порядок блоков в ответе:  \n1. **Улучшенный код**:  \n   <код с улучшениями>  \n\n2. **Внесённые изменения**:  \n   <список изменений>  \n\n3. **Оптимизированный код**:  \n   <итоговый оптимизированный код>  \n\n## Ты даешь ответы на русском языке  \n## Формат ответа `.md` (markdown)\n----------------------------  \n** КОНЕЦ ИНСТРУКЦИИ **  '
    }
"""
# Модуль для проверки кода и написания рекомендаций по улучшению.
# =========================================================================================
#
# Этот модуль содержит инструкции для проверки кода и рекомендации по его улучшению.
# Он определяет формат документации, обработки данных, анализа структуры,
# рефакторинга и улучшений кода.
#
# Пример использования
# --------------------
#
# Пример использования инструкций для проверки кода:
#
# .. code-block:: python
#
#     # Инструкции для проверки кода
#     instructions = {
#         'output_language': 'ru',
#         'Расположение файла': 'hypotez/src/endpoints/hypo69/code_assistant/instructions/instruction_code_checker_md_en.md',
#         'instruction': '# ИНСТРУКЦИЯ  \n## Основные требования:  \n## Output Language: RU (Русский)  \n\n1. **Формат документации**:  \n   - Используйте **reStructuredText (RST)** для всех комментариев и docstring.  \n   - Всегда используйте одинарные кавычки (`\'`) в Python коде.  \n\n2. **Сохранение комментариев**:  \n   - Все существующие комментарии после `#` должны быть сохранены без изменений.  \n   - Блоки кода, которые необходимо изменить, должны быть прокомментированы построчно с использованием символа `#`.  \n\n3. **Обработка данных**:  \n   - Используйте `j_loads` или `j_loads_ns` из `src.utils.jjson` вместо стандартного `json.load` для чтения файлов.  \n   - Оставляйте любые `...` в коде без изменений как точки остановки.  \n\n4. **Анализ структуры**:  \n   - Проверьте и добавьте отсутствующие импорты в код.  \n   - Приведите в соответствие имена функций, переменных и импортов с ранее обработанными файлами.  \n\n5. **Рефакторинг и улучшения**:  \n   - Добавьте комментарии в формате RST ко всем функциям, методам и классам.  \n   - Используйте `from src.logger.logger import logger` для логирования ошибок.  \n   - Избегайте избыточного использования стандартных блоков `try-except`, предпочитая обработку ошибок с помощью `logger.error`.  \n   - В комментариях избегайте слов \'получаем\', \'делаем\' и подобных. Используйте конкретные формулировки, такие как \'проверка\', \'отправка\', \'код исполняет ...\'.  \n\n6. **Шаблон ответа**:  \n   - Ответ должен включать три раздела:  \n     - **Received Code** — исходный код без изменений.  \n     - **Improved Code** — код с добавленными комментариями и исправлениями.  \n     - **Changes Made** — подробный список внесённых изменений.  \n     - **FULL Code** — полный код с исправлениями.  \n   - Ответ не должен начинаться с ` ``` `. Используйте их только для оборачивания блоков кода.  \n\n7. **Окончательный код**:  \n   - В конце ответа должен быть представлен полный код (исходный с улучшениями) в одном блоке, который можно скопировать и вставить для замены исходного кода.  \n   - Все изменённые части кода должны быть прокомментированы построчно с использованием символа `#` в этом блоке.  \n\n8. **Примеры кода**:  \n   - Включайте примеры документации RST и возможные улучшения в формате `TODO`.  \n\n9. **Дополнительная инструкция**:  \n   - Все комментарии к модулям, функциям, методам и переменным должны быть переписаны в формате reStructuredText (RST). Это включает:  \n     - Описание модуля в начале файла.  \n     - Документацию для каждой функции, метода и переменной.  \n     - Соблюдение стандартов оформления docstring в Python (например, для Sphinx).  \n     - В комментариях после `#` строки должны содержать подробное объяснение следующего за ними блока кода.  \n\n     Пример формата документации для модуля:  \n\n     ```python  \n     \"\"\"  \n     Модуль для работы ассистента программиста  \n     =========================================================================================  \n\n     Этот модуль содержит класс :class:`CodeAssistant`, который используется для работы с различными моделями ИИ,  \n     такими как Google Gemini и OpenAI, для выполнения задач по обработке кода.  \n\n     Пример использования  \n     --------------------  \n\n     Пример использования класса `CodeAssistant`:  \n\n     .. code-block:: python  \n\n         assistant = CodeAssistant(role=\'code_checker\', lang=\'ru\', model=[\'gemini\'])  \n         assistant.process_files()  \n     \"\"\"  \n     ```  \n\n     Пример формата документации для функций:  \n\n     ```python  \n     def example_function(param1: str, param2: int) -> str:  \n         \"\"\"  \n         Выполняет примерную задачу.  \n\n         :param param1: Описание параметра 1.  \n         :param param2: Описание параметра 2.  \n         :return: Описание возвращаемого значения.  \n         \"\"\"  \n         ...  \n     ```  \n\n     Пример формата стиля комментариев в коде:  \n\n     ```python  \n     @close_pop_up()  \n     async def specification(self, value: Any = None):  \n         \"\"\"Fetch and set specification.  \n\n         Args:  \n             value (Any): это значение можно передать в словаре kwargs через ключ {specification = `value`} при определении класса.  \n             Если `value` был передан, его значение подставляется в поле `ProductFields.specification`.  \n         \"\"\"  \n         try:  \n             # код исполняет получение значения через execute_locator  \n             value = value or  await self.driver.execute_locator(self.locator.specification) or \'\'  \n         except Exception as ex:  \n             logger.error(\'Ошибка получения значения в поле `specification`\', ex)  \n             ...  \n             return  \n\n         # Проверка валидности результата  \n         if not value:  \n             logger.debug(f\'Невалидный результат {value=}\\nлокатор {self.locator.specification}\')  \n             ...  \n             return  \n\n         # Если значение - список, код преобразовывает его в строку с разделителем `\\n`  \n         if isinstance(value, list):  \n             value = \'\\n\'.join(map(str, value))  \n\n         # Код записывает результат в поле `specification` объекта `ProductFields`  \n         self.fields.specification = value  \n         return True  \n     ```  \n\n## Порядок блоков в ответе:  \n1. **Улучшенный код**:  \n   <код с улучшениями>  \n\n2. **Внесённые изменения**:  \n   <список изменений>  \n\n3. **Оптимизированный код**:  \n   <итоговый оптимизированный код>  \n\n## Ты даешь ответы на русском языке  \n## Формат ответа `.md` (markdown)\n----------------------------  \n** КОНЕЦ ИНСТРУКЦИИ **  '
    }
"""
from typing import Any
# from src.utils.jjson import j_loads, j_loads_ns # TODO проверить использование
from src.logger.logger import logger
# ИНСТРУКЦИЯ
# Основные требования:
# Output Language: RU (Русский)
#
# 1. Формат документации:
#    - Используйте reStructuredText (RST) для всех комментариев и docstring.
#    - Всегда используйте одинарные кавычки (') в Python коде.
#
# 2. Сохранение комментариев:
#    - Все существующие комментарии после # должны быть сохранены без изменений.
#    - Блоки кода, которые необходимо изменить, должны быть прокомментированы построчно с использованием символа #.
#
# 3. Обработка данных:
#    - Используйте j_loads или j_loads_ns из src.utils.jjson вместо стандартного json.load для чтения файлов.
#    - Оставляйте любые ... в коде без изменений как точки остановки.
#
# 4. Анализ структуры:
#    - Проверьте и добавьте отсутствующие импорты в код.
#    - Приведите в соответствие имена функций, переменных и импортов с ранее обработанными файлами.
#
# 5. Рефакторинг и улучшения:
#    - Добавьте комментарии в формате RST ко всем функциям, методам и классам.
#    - Используйте from src.logger.logger import logger для логирования ошибок.
#    - Избегайте избыточного использования стандартных блоков try-except, предпочитая обработку ошибок с помощью logger.error.
#    - В комментариях избегайте слов 'получаем', 'делаем' и подобных. Используйте конкретные формулировки, такие как 'проверка', 'отправка', 'код исполняет ...'.
#
# 6. Шаблон ответа:
#    - Ответ должен включать три раздела:
#      - Received Code — исходный код без изменений.
#      - Improved Code — код с добавленными комментариями и исправлениями.
#      - Changes Made — подробный список внесённых изменений.
#      - FULL Code — полный код с исправлениями.
#    - Ответ не должен начинаться с ```. Используйте их только для оборачивания блоков кода.
#
# 7. Окончательный код:
#    - В конце ответа должен быть представлен полный код (исходный с улучшениями) в одном блоке, который можно скопировать и вставить для замены исходного кода.
#    - Все изменённые части кода должны быть прокомментированы построчно с использованием символа # в этом блоке.
#
# 8. Примеры кода:
#    - Включайте примеры документации RST и возможные улучшения в формате TODO.
#
# 9. Дополнительная инструкция:
#    - Все комментарии к модулям, функциям, методам и переменным должны быть переписаны в формате reStructuredText (RST). Это включает:
#      - Описание модуля в начале файла.
#      - Документацию для каждой функции, метода и переменной.
#      - Соблюдение стандартов оформления docstring в Python (например, для Sphinx).
#      - В комментариях после # строки должны содержать подробное объяснение следующего за ними блока кода.
#
#    Пример формата документации для модуля:
#
#    ```python
#    """
#    Модуль для работы ассистента программиста
#    =========================================================================================
#
#    Этот модуль содержит класс :class:`CodeAssistant`, который используется для работы с различными моделями ИИ,
#    такими как Google Gemini и OpenAI, для выполнения задач по обработке кода.
#
#    Пример использования
#    --------------------
#
#    Пример использования класса `CodeAssistant`:
#
#    .. code-block:: python
#
#        assistant = CodeAssistant(role='code_checker', lang='ru', model=['gemini'])
#        assistant.process_files()
#    """
#    ```
#
#    Пример формата документации для функций:
#
#    ```python
#    def example_function(param1: str, param2: int) -> str:
#        """
#        Выполняет примерную задачу.
#
#        :param param1: Описание параметра 1.
#        :param param2: Описание параметра 2.
#        :return: Описание возвращаемого значения.
#        """
#        ...
#    ```
#
#    Пример формата стиля комментариев в коде:
#
#    ```python
#    @close_pop_up()
#    async def specification(self, value: Any = None):
#        """Fetch and set specification.
#
#        Args:
#            value (Any): это значение можно передать в словаре kwargs через ключ {specification = `value`} при определении класса.
#            Если `value`