# Модуль `executor`

## Обзор

Этот модуль предоставляет функции для управления сценариями, обработки файлов сценариев, работы с продуктами и взаимодействия с API PrestaShop.  Примеры использования демонстрируют запуск сценариев, обработку файлов сценариев, вставку данных о продуктах в PrestaShop и добавление купонов.

## Оглавление

* [Модуль `executor`](#модуль-executor)
* [Функции](#функции)
    * [`run_scenario_files`](#run_scenario_files)
    * [`run_scenario_file`](#run_scenario_file)
    * [`run_scenario`](#run_scenario)
    * [`insert_grabbed_data`](#insert_grabbed_data)
    * [`execute_PrestaShop_insert`](#execute_prestashop_insert)
    * [`execute_PrestaShop_insert_async`](#execute_prestashop_insert_async)
    * [`add_coupon`](#add_coupon)


## Функции

### `run_scenario_files`

**Описание**: Запускает список файлов сценариев.

**Параметры**:
- `supplier` (MockSupplier): Экземпляр класса, содержащий информацию о поставщике и сценариях.
- `scenario_files` (list[Path]): Список путей к файлам сценариев.

**Возвращает**:
- `bool`: `True`, если все сценарии были успешно выполнены, `False` в противном случае.

**Вызывает исключения**:
- `TypeError`: Если предоставлены некорректные типы данных.
- `FileNotFoundError`: Если файл сценария не найден.
- `Exception`: При возникновении любой другой ошибки во время выполнения сценария.


### `run_scenario_file`

**Описание**: Запускает один файл сценария.

**Параметры**:
- `supplier` (MockSupplier): Экземпляр класса, содержащий информацию о поставщике и сценариях.
- `scenario_file` (Path): Путь к файлу сценария.

**Возвращает**:
- `bool`: `True`, если сценарий был успешно выполнен, `False` в противном случае.

**Вызывает исключения**:
- `TypeError`: Если предоставлены некорректные типы данных.
- `FileNotFoundError`: Если файл сценария не найден.
- `Exception`: При возникновении любой другой ошибки во время выполнения сценария.


### `run_scenario`

**Описание**: Выполняет один сценарий.

**Параметры**:
- `supplier` (MockSupplier): Экземпляр класса, содержащий информацию о поставщике и сценариях.
- `scenario` (dict): Словарь, представляющий сценарий.

**Возвращает**:
- `bool`: `True`, если сценарий был успешно выполнен, `False` в противном случае.

**Вызывает исключения**:
- `TypeError`: Если предоставлены некорректные типы данных.
- `Exception`: При возникновении любой другой ошибки во время выполнения сценария.



### `insert_grabbed_data`

**Описание**: Вставляет данные о продукте в PrestaShop.

**Параметры**:
- `product_fields` (ProductFields): Объект, содержащий данные о продукте.

**Возвращает**:
- Не используется.

**Вызывает исключения**:
- `TypeError`: Если предоставлены некорректные типы данных.
- `PrestaShopError`: При возникновении ошибки в API PrestaShop.
- `Exception`: При возникновении любой другой ошибки во время вставки данных.


### `execute_PrestaShop_insert`

**Описание**: Синхронно выполняет вставку данных о продукте в PrestaShop.

**Параметры**:
- `product_fields` (ProductFields): Объект, содержащий данные о продукте.

**Возвращает**:
- `bool`: `True`, если вставка выполнена успешно, `False` - в противном случае.

**Вызывает исключения**:
- `TypeError`: Если предоставлены некорректные типы данных.
- `PrestaShopError`: При возникновении ошибки в API PrestaShop.
- `Exception`: При возникновении любой другой ошибки во время вставки данных.



### `execute_PrestaShop_insert_async`

**Описание**: Асинхронно выполняет вставку данных о продукте в PrestaShop.

**Параметры**:
- `product_fields` (ProductFields): Объект, содержащий данные о продукте.

**Возвращает**:
- Не используется.

**Вызывает исключения**:
- `TypeError`: Если предоставлены некорректные типы данных.
- `PrestaShopError`: При возникновении ошибки в API PrestaShop.
- `Exception`: При возникновении любой другой ошибки во время вставки данных.


### `add_coupon`

**Описание**: Добавляет купон в базу данных PrestaShop.

**Параметры**:
- `credentials` (dict): Словарь с данными для аутентификации в API PrestaShop.
- `reference` (str): Идентификатор продукта.
- `coupon_code` (str): Код купона.
- `start_date` (str): Дата начала действия купона (формат YYYY-MM-DD).
- `end_date` (str): Дата окончания действия купона (формат YYYY-MM-DD).

**Возвращает**:
- Не используется.

**Вызывает исключения**:
- `TypeError`: Если предоставлены некорректные типы данных.
- `PrestaShopError`: При возникновении ошибки в API PrestaShop.
- `Exception`: При возникновении любой другой ошибки во время добавления купона.


## Классы

### `MockSupplier`

**Описание**: Моковая реализация класса `Supplier` для тестирования.

### `MockRelatedModules`

**Описание**: Моковая реализация класса, содержащего методы для работы с продуктами.

### `MockDriver`

**Описание**: Моковая реализация класса `Driver` для тестирования.


### `ProductFields`

**Описание**:  Класс для представления данных о продукте.


## Замечания

В примерах используются моковые классы (`MockSupplier`, `MockRelatedModules`, `MockDriver`) для демонстрации использования функций.  В реальном проекте необходимо использовать соответствующие классы и объекты.