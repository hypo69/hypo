# Настройки и инициализация Telegram-бота

## Обзор

Этот файл содержит настройки для Telegram-бота, включая токены, идентификаторы администраторов, URL-адреса, параметры логирования и базы данных. Он также инициализирует бота и диспетчер, а также настраивает логирование.

## Оглавление

1. [Классы](#классы)
    - [`Settings`](#settings)
2. [Переменные](#переменные)
    - [`settings`](#settings-1)
    - [`bot`](#bot)
    - [`dp`](#dp)
    - [`admins`](#admins)
    - [`log_file_path`](#log_file_path)
    - [`database_url`](#database_url)

## Классы

### `Settings`

**Описание**:
Класс для загрузки и хранения настроек приложения из переменных окружения.

**Методы**:

- `get_webhook_url`: Динамически формирует URL для вебхука бота.
- `get_provider_hook_url`: Динамически формирует URL для вебхука провайдера.

**Параметры**:
    - `BOT_TOKEN` (str): Токен Telegram-бота.
    - `ADMIN_IDS` (List[int]): Список идентификаторов администраторов бота.
    - `PROVIDER_TOKEN` (str): Токен провайдера платежей.
    - `FORMAT_LOG` (str, optional): Формат записи логов. По умолчанию `"{time:YYYY-MM-DD at HH:mm:ss} | {level} | {message}"`.
    - `LOG_ROTATION` (str, optional): Размер файла лога, после которого происходит ротация. По умолчанию `"10 MB"`.
    - `DB_URL` (str, optional): URL для подключения к базе данных. По умолчанию `'sqlite+aiosqlite:///data/db.sqlite3'`.
    - `SITE_URL` (str): URL сайта.
    - `SITE_HOST` (str): Хост сайта.
    - `SITE_PORT` (int): Порт сайта.
    - `MRH_LOGIN` (str): Логин для MRH.
    - `MRH_PASS_1` (str): Первый пароль для MRH.
    - `MRH_PASS_2` (str): Второй пароль для MRH.
    -  `IN_TEST` (int): Флаг, указывающий на тестовую среду.

#### `get_webhook_url`

**Описание**:
Динамически формирует путь для вебхука на основе токена и URL сайта.

**Возвращает**:
- `str`: URL для вебхука бота.

#### `get_provider_hook_url`

**Описание**:
Динамически формирует путь для вебхука на основе токена и URL сайта.

**Возвращает**:
- `str`: URL для вебхука провайдера.

## Переменные

### `settings`

**Описание**:
Экземпляр класса `Settings`, содержащий загруженные настройки.

### `bot`

**Описание**:
Экземпляр `aiogram.Bot`, инициализированный с токеном и настройками парсинга HTML.

### `dp`

**Описание**:
Экземпляр `aiogram.Dispatcher`, использующий `MemoryStorage` для хранения состояний.

### `admins`

**Описание**:
Список идентификаторов администраторов, загруженный из настроек.

### `log_file_path`

**Описание**:
Путь к файлу логов.

### `database_url`

**Описание**:
URL для подключения к базе данных, загруженный из настроек.