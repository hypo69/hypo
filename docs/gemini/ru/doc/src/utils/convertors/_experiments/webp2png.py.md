# Модуль для конвертации WebP изображений в PNG формат

## Обзор

Модуль `webp2png.py` предназначен для конвертации изображений из формата WebP в формат PNG. Он содержит функцию `convert_images`, которая принимает директорию с WebP изображениями и директорию для сохранения PNG изображений. Модуль использует функции из других модулей проекта, таких как `get_filenames` для получения списка файлов и `webp2png` для выполнения конвертации.

## Подробней

Модуль позволяет автоматизировать процесс конвертации большого количества WebP изображений в PNG, что может быть полезно для обеспечения совместимости с системами, не поддерживающими WebP формат. Он предназначен для работы в окружении проекта `hypotez` и использует его структуру каталогов и модули.

## Функции

### `convert_images`

```python
def convert_images(webp_dir: Path, png_dir: Path) -> None:
    """ Convert all WebP images in the specified directory to PNG format.

    Args:
        webp_dir (Path): Directory containing the source WebP images.
        png_dir (Path): Directory to save the converted PNG images.

    Example:
        convert_images(
            gs.path.google_drive / 'emil' / 'raw_images_from_openai',
            gs.path.google_drive / 'emil' / 'converted_images'
        )
    """
    ...
```

**Назначение**: Конвертирует все WebP изображения в указанной директории в формат PNG.

**Параметры**:

-   `webp_dir` (Path): Директория, содержащая исходные WebP изображения.
-   `png_dir` (Path): Директория для сохранения конвертированных PNG изображений.

**Возвращает**:

-   `None`: Функция ничего не возвращает.

**Вызывает исключения**:

-   Функция не вызывает исключений напрямую, но исключения могут быть вызваны функциями `get_filenames` и `webp2png`.

**Как работает функция**:

1.  Функция получает список WebP файлов из указанной директории `webp_dir` с помощью функции `get_filenames`.
2.  Для каждого WebP файла формируется путь к PNG файлу в директории `png_dir`. Имя PNG файла формируется из имени WebP файла (без расширения) с добавлением расширения ".png".
3.  Вызывается функция `webp2png` для конвертации WebP файла в PNG.
4.  Результат конвертации выводится на экран.

**Примеры**:

```python
from pathlib import Path
from src import gs
# Определение директорий для WebP и PNG изображений
webp_dir = gs.path.google_drive / 'emil' / 'raw_images_from_openai'
png_dir = gs.path.google_drive / 'emil' / 'converted_images'

# Запуск конвертации
convert_images(webp_dir, png_dir)
```

**Внутренние функции**:

Внутри функции `convert_images` не определены внутренние функции.

```
 A (Получение списка WebP файлов)
 |
 B (Цикл по WebP файлам)
 |
 C (Формирование пути к PNG файлу)
 |
 D (Конвертация WebP в PNG)
 |
 E (Вывод результата конвертации)
```

Где:

*   `A`: Получение списка WebP файлов из директории `webp_dir` с использованием функции `get_filenames`.
*   `B`: Цикл по каждому WebP файлу в полученном списке.
*   `C`: Формирование пути к PNG файлу, где будет сохранено конвертированное изображение.
*   `D`: Вызов функции `webp2png` для выполнения конвертации WebP файла в PNG.
*   `E`: Вывод результата конвертации в консоль.