Как использовать модуль image
========================================================================================

Описание
-------------------------
Модуль `image` предоставляет асинхронные функции для загрузки, сохранения и получения данных изображений.  Он поддерживает работу с PNG изображениями.

Шаги выполнения
-------------------------
1. **Загрузка изображения по URL:** Функция `save_png_from_url` загружает изображение по заданному URL и сохраняет его локально в формате PNG.
    - Функция принимает в качестве аргументов `image_url` (URL изображения) и `filename` (имя файла для сохранения).
    - Функция использует библиотеку `aiohttp` для асинхронной загрузки изображения.
    - Функция обрабатывает ошибки при загрузке и возвращает путь к сохранённому файлу или `None`, если произошла ошибка.

2. **Сохранение изображения из данных:** Функция `save_png` сохраняет изображение из предоставленных бинарных данных в формате PNG.
    - Функция принимает в качестве аргументов `image_data` (бинарные данные изображения) и `file_name` (имя файла для сохранения).
    - Функция создаёт необходимые директории, если они не существуют.
    - Функция записывает бинарные данные в файл.
    - Функция проверяет, был ли файл создан и не пуст ли он.
    - Функция сохраняет изображение из бинарных данных используя PIL (Pillow).
    - Функция возвращает путь к сохранённому файлу или `None`, если произошла ошибка.

3. **Получение данных изображения:** Функция `get_image_data` возвращает бинарные данные изображения из указанного файла.
    - Функция принимает имя файла `file_name`.
    - Функция проверяет существование файла.
    - Функция открывает файл в бинарном режиме и считывает все данные.
    - Функция возвращает бинарные данные или `None`, если файл не найден или произошла ошибка.


Пример использования
-------------------------
.. code-block:: python

    import asyncio
    from pathlib import Path

    async def main():
        # Пример загрузки изображения по URL
        result = await save_png_from_url("https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Example.png/1280px-Example.png", "downloaded_image.png")
        if result:
            print(f"Изображение успешно сохранено по пути: {result}")

        # Пример сохранения изображения из данных
        with open("example_image.png", "rb") as f:
            image_data = f.read()
        result = await save_png(image_data, "saved_image.png")
        if result:
          print(f"Изображение успешно сохранено по пути: {result}")

        # Пример получения данных изображения
        image_bytes = get_image_data("saved_image.png")
        if image_bytes:
          print(f"Данные изображения: {image_bytes[:10]}...")  # Выведем первые 10 байтов для примера

    asyncio.run(main())