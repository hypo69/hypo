```json
{
  "title": "p-timeout",
  "description": "Timeout a promise after a specified amount of time.",
  "installation": {
    "command": "npm install p-timeout",
    "package": "p-timeout"
  },
  "usage": {
    "example": [
      {
        "code": "```javascript\nconst delay = require('delay');\nconst pTimeout = require('p-timeout');\n\nconst delayedPromise = delay(200);\n\npTimeout(delayedPromise, 50).then(() => 'foo');\n//=> [TimeoutError: Promise timed out after 50 milliseconds]\n```",
        "description": "This example demonstrates the basic usage of `p-timeout`.  It creates a promise that delays for 200ms and attempts to timeout it after 50ms. The result is a rejection with a `TimeoutError`."
      },
      {
        "code": "```javascript\nconst delay = require('delay');\nconst pTimeout = require('p-timeout');\n\nconst delayedPromise = () => delay(200);\n\npTimeout(delayedPromise(), 50, () => {\n\treturn pTimeout(delayedPromise(), 300);\n});\n```",
        "description": "This example shows how to use the `fallback` option to retry the promise in case of timeout."
      },
      {
        "code": "```javascript\nconst pTimeout = require('p-timeout');\nconst sinon = require('sinon');\n\n(async () => {\n\tconst originalSetTimeout = setTimeout;\n\tconst originalClearTimeout = clearTimeout;\n\n\tsinon.useFakeTimers();\n\n\t// Use `pTimeout` without being affected by `sinon.useFakeTimers()`:\n\tawait pTimeout(doSomething(), 2000, undefined, {\n\t\tcustomTimers: {\n\t\t\tsetTimeout: originalSetTimeout,\n\t\t\tclearTimeout: originalClearTimeout\n\t\t}\n\t});\n})();\n```",
        "description": "This example demonstrates how to use the `customTimers` option to work around `sinon.useFakeTimers()`."
      }
    ]
  },
  "api": {
    "functions": [
      {
        "name": "pTimeout(input, milliseconds, message?, options?)",
        "description": "Returns a decorated `input` that times out after `milliseconds` time. It has a `.clear()` method that clears the timeout.",
        "parameters": [
          {
            "name": "input",
            "type": "Promise",
            "description": "Promise to decorate."
          },
          {
            "name": "milliseconds",
            "type": "number",
            "description": "Milliseconds before timing out. Passing `Infinity` will cause it to never time out."
          },
          {
            "name": "message",
            "type": "string | Error",
            "description": "Custom error message or error.  If a custom error, subclass `pTimeout.TimeoutError`.",
            "default": "'Promise timed out after 50 milliseconds'"
          },
          {
            "name": "fallback",
            "type": "Function",
            "description": "Do something other than rejecting with an error on timeout."
          },
          {
            "name": "options",
            "type": "object",
            "description": "Optional configuration options, including `customTimers` for custom timeout implementations.",
            "properties": [
              {
                "name": "customTimers",
                "type": "object",
                "description": "Custom `setTimeout` and `clearTimeout` implementations.",
                "example": "```javascript\n{\n  setTimeout: originalSetTimeout,\n  clearTimeout: originalClearTimeout\n}```"
              }
            ]
          }
        ]
      },
      {
        "name": "pTimeout.TimeoutError",
        "description": "Exposed for instance checking and sub-classing."
      }
    ]
  },
  "related": [
    "delay",
    "p-min-delay",
    "p-retry",
    "promise-fun"
  ]
}
```