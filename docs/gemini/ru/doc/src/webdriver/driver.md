# Модуль hypotez/src/webdriver/driver.py

## Обзор

Модуль `hypotez/src/webdriver/driver.py` предоставляет класс `Driver` для работы с веб-драйверами Selenium.  Класс обеспечивает унифицированный интерфейс для инициализации, навигации, работы с куки и обработки исключений при работе с веб-драйверами. Поддерживаются различные типы веб-драйверов (например, Chrome, Firefox, Edge).

## Классы

### `Driver`

**Описание**:  Класс `Driver` предназначен для работы с веб-драйверами Selenium. Он предоставляет методы для взаимодействия с веб-страницей, такие как навигация по URL, прокрутка и извлечение контента.  Обеспечивает единый интерфейс для работы с различными драйверами.

**Атрибуты**:

- `driver` (selenium.webdriver): Экземпляр Selenium WebDriver.

**Методы**:

#### `__init__(self, webdriver_cls, *args, **kwargs)`

**Описание**: Инициализирует экземпляр класса `Driver`.

**Параметры**:

- `webdriver_cls` (type): Класс WebDriver, например `Chrome` или `Firefox`.  Ожидается, что `webdriver_cls` является допустимым классом WebDriver.
- `*args`: Позиционные аргументы для драйвера.
- `**kwargs`: Ключевые аргументы для драйвера.

**Пример**:

```python
from selenium.webdriver import Chrome
driver = Driver(Chrome, executable_path='/path/to/chromedriver')
```

#### `__init_subclass__(cls, *, browser_name=None, **kwargs)`

**Описание**: Автоматически вызывается при создании подкласса `Driver`.

**Параметры**:

- `browser_name` (str, необязательно): Имя браузера. Необходим для работы, если не указан, генерируется ошибка.
- `**kwargs`: Дополнительные аргументы.


**Исключения**:

- `ValueError`: Если `browser_name` не указан.


#### `__getattr__(self, item)`

**Описание**: Прокси для доступа к атрибутам драйвера.

**Параметры**:

- `item` (str): Имя атрибута.

**Пример**:

```python
driver.current_url
```

#### `scroll(self, scrolls=1, frame_size=600, direction='both', delay=.3)`

**Описание**: Прокручивает страницу в указанном направлении.

**Параметры**:

- `scrolls` (int, по умолчанию 1): Количество прокруток.
- `frame_size` (int, по умолчанию 600): Размер прокрутки в пикселях.
- `direction` (str, по умолчанию 'both'): Направление прокрутки ('both', 'down', 'up').
- `delay` (float, по умолчанию 0.3): Задержка между прокрутками в секундах.

**Возвращает**:

- `bool`: `True`, если прокрутка успешна, `False` иначе.

**Пример**:

```python
driver.scroll(scrolls=3, direction='down')
```

#### `locale(self)`

**Описание**: Определяет язык страницы.

**Возвращает**:

- `Optional[str]`: Код языка (например, 'en'), если найден, иначе `None`.

**Пример**:

```python
lang = driver.locale
print(lang)
```

#### `get_url(self, url: str) -> bool`

**Описание**: Переходит по указанному URL.

**Параметры**:

- `url` (str): URL для перехода.

**Возвращает**:

- `bool`: `True`, если переход успешен, `False` иначе.

**Исключения**:

- `WebDriverException`: При ошибках работы с WebDriver.
- `InvalidArgumentException`: Если URL некорректен.
- `Exception`: При других ошибках.


#### `window_open(self, url: Optional[str] = None)`

**Описание**: Открывает новую вкладку и переключается на неё.

**Параметры**:

- `url` (Optional[str], необязательно): URL для открытия в новой вкладке. По умолчанию `None`.

#### `wait(self, delay: float = .3)`

**Описание**: Ожидание в течение указанного времени.

**Параметры**:

- `delay` (float, по умолчанию 0.3): Время задержки в секундах.

#### `_save_cookies_localy(self)`

**Описание**: Сохраняет куки в локальный файл.

**Возвращает**:

- `None`

**Исключения**:

- `Exception`: При ошибках сохранения куки.

#### `fetch_html(self, url: str) -> Optional[bool]`

**Описание**: Извлекает HTML-контент из файла или веб-страницы.

**Параметры**:

- `url` (str): Путь к файлу или URL.

**Возвращает**:

- `Optional[bool]`: `True` если контент успешно получен, `None` в противном случае.


**Исключения**:

- `Exception`: При ошибках при извлечении контента.

## Функции

(Нет функций в этом модуле)