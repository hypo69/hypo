# Инструкция по генерации документации в формате RST

Эта инструкция описывает процесс генерации документации для Python-файлов в формате reStructuredText (RST) для последующего использования со Sphinx.

## Требования

1. **Формат документации:**
   - Используйте стандарт RST.
   - Каждый файл должен начинаться с заголовка и краткого описания его содержимого.
   - Для всех функций и классов используйте следующие комментарии в формате docstrings:

```python
def function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:
    """
    Args:
        param (str): Описание параметра `param`.
        param1 (Optional[str | dict | str], optional): Описание параметра `param1`. По умолчанию `None`.

    Returns:
        dict | None: Описание возвращаемого значения. Возвращает словарь или `None`.

    Raises:
        SomeError: Описание ситуации, в которой возникает исключение `SomeError`.
    """
    # Тело функции
    pass
```
   - Используйте `ex` вместо `e` в блоках обработки исключений.

2. **Структура TOC:**
   - Создавайте файлы `index.rst` для каждого модуля, содержащие оглавление.
   - Используйте директиву `.. toctree::` для включения ссылок на другие файлы документации.
   - Структура оглавления должна включать ссылки на все описания модулей.  Пример в `index.rst`:

```rst
.. toctree::
   :maxdepth: 2
   :caption: Содержание

   module1
   module2
```

3. **Форматирование документации:**
   - Используйте директивы Sphinx (`.. automodule::`, `.. autofunction::`, `.. autoclass::`) для автоматической генерации документации для функций и классов.  
   - Пример:
     ```rst
     .. automodule:: module_name
         :members:
         :undoc-members:
         :show-inheritance:
     ```

4. **Уровни заголовков:**
   - Используйте заголовки первого уровня (`= ... =`), второго уровня (`- ... -`), третьего уровня (`~ ... ~`), и четвёртого уровня (`^ ... ^`) в соответствии со стилем RST.


## Пример файла `index.rst`

```rst
Модуль `example`
=================

.. automodule:: example
    :members:
    :undoc-members:
    :show-inheritance:

.. toctree::
   :maxdepth: 2
   :caption: Содержание

   example
```

## Пример файла `example.py`

```python
def my_function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:
    """
    Описание функции.
    """
    return {'result': param}

class MyClass:
    """Описание класса."""
    def my_method(self, arg: int) -> int:
        """Описание метода."""
        return arg * 2
```

##  Важные замечания

* Этот шаблон предполагает использование Sphinx для генерации документации.
* Обязательно установите Sphinx и необходимые пакеты.
* Подробнее о директивах Sphinx, таких как `.. automodule::`, `.. autofunction::`, `.. autoclass::` и `.. toctree::` см. документацию Sphinx.
* Следите за правильным форматированием RST.

```