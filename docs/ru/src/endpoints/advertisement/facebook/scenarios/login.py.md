# Модуль `login`

## Обзор

Модуль `login` предназначен для выполнения сценария авторизации в Facebook. Он использует веб-драйвер для автоматического заполнения полей логина и пароля и нажатия кнопки входа. Модуль предназначен для использования в рамках проекта `hypotez` для автоматизации задач, связанных с рекламой в Facebook.

## Подробней

Модуль содержит функцию `login`, которая принимает экземпляр драйвера веб-браузера и использует его для взаимодействия с элементами веб-страницы Facebook.  Функция загружает локаторы веб-элементов из JSON-файла, расположенного в директории `src/endpoints/advertisement/facebook/locators`.  В случае успешной авторизации функция возвращает `True`, иначе `False`. В случае возникновения ошибок в процессе ввода логина, пароля или нажатия кнопки входа, функция логирует ошибки и возвращает `False`.

## Функции

### `login`

```python
def login(d: Driver) -> bool:
    """ Выполняет вход на Facebook.

    Функция использует переданный `Driver` для выполнения авторизации на Facebook, заполняя
    логин и пароль, а затем нажимает кнопку входа.

    Args:
        d (Driver): Экземпляр драйвера для взаимодействия с веб-элементами.

    Returns:
        bool: `True`, если авторизация прошла успешно, иначе `False`.

    Raises:
        Exception: Если возникает ошибка при вводе логина, пароля или нажатии кнопки.
    """
```

**Назначение**: Выполнение авторизации на Facebook.

**Параметры**:

-   `d` (Driver): Экземпляр драйвера веб-браузера, используемый для взаимодействия с веб-элементами на странице Facebook.

**Возвращает**:

-   `bool`: `True`, если авторизация прошла успешно, иначе `False`.

**Вызывает исключения**:

-   `Exception`: Возникает при ошибке ввода логина, пароля или нажатия кнопки.

**Как работает функция**:

1.  Извлекает учетные данные Facebook (логин и пароль) из `gs.facebook_credentials[0]`.
2.  Вводит логин, используя метод `d.send_key_to_webelement` и локатор `locators.email`.
3.  Ожидает 1.3 секунды.
4.  Вводит пароль, используя метод `d.send_key_to_webelement` и локатор `locators['password']`.
5.  Ожидает 0.5 секунды.
6.  Нажимает кнопку входа, используя метод `d.execute_locator` и локатор `locators['button']`.
7.  Возвращает `True` в случае успеха, `False` в случае ошибки.

```
A: Извлечение учетных данных
│
└──> B: Ввод логина
│
└──> C: Ожидание
│
└──> D: Ввод пароля
│
└──> E: Ожидание
│
└──> F: Нажатие кнопки входа
│
└──> G: Возврат результата
```

**Примеры**:

```python
from src.webdriver.driver import Driver, Chrome
from src.endpoints.advertisement.facebook.scenarios.login import login

# Создание инстанса драйвера (пример с Chrome)
driver = Driver(Chrome)
# Вызов функции login
success = login(driver)
if success:
    print("Авторизация прошла успешно")
else:
    print("Авторизация не удалась")