# Модуль `hypotez/src/utils/file.py`

## Обзор

Модуль `hypotez/src/utils/file.py` предоставляет функции для работы с файлами, включая чтение, запись, поиск и обработку файлов в каталогах. Он поддерживает различные типы данных для входных данных, включая строки, списки строк и словари.  Модуль также интегрирован с логгером для записи сообщений об ошибках и предупреждениях.

## Оглавление

* [Функции](#функции)


## Функции

### `save_text_file`

**Описание**: Сохраняет данные в текстовый файл. Поддерживает различные типы данных: строки, списки строк и словари.  Автоматически создаёт родительскую директорию, если она не существует.

**Параметры**:
- `data` (str | list[str] | dict): Данные для записи. Может быть строкой, списком строк или словарем.
- `file_path` (Union[str, Path]): Путь к файлу для сохранения.
- `mode` (str, optional): Режим записи (`w` для записи, `a` для добавления). По умолчанию `'w'`.
- `exc_info` (bool, optional): Если True, выводит подробную информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- bool: `True`, если файл был успешно сохранен, `False` в противном случае.

**Вызывает исключения**:
- Различные исключения при возникновении проблем с файловой системой или обработкой данных.


### `read_text_file`

**Описание**: Читает содержимое файла или каталога.  Если указан каталог, то считывает все файлы в каталоге (и вложенных подкаталогах) по заданным расширениям (по умолчанию все файлы). Если файл, то возвращает строку или список строк (в зависимости от флага `as_list`).

**Параметры**:
- `file_path` (Union[str, Path]): Путь к файлу или каталогу.
- `as_list` (bool, optional): Если True, возвращает содержимое файла как список строк. По умолчанию `False`.
- `extensions` (Optional[list[str]], optional): Список расширений файлов для включения, если считывается каталог. По умолчанию `None` (все расширения).
- `exc_info` (bool, optional): Если True, выводит подробную информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- Union[str, list[str], None]: Содержимое файла как строка или список строк, или `None`, если произошла ошибка.

**Вызывает исключения**:
- Различные исключения при возникновении проблем с файловой системой или обработкой данных.


### `get_filenames`

**Описание**: Возвращает список имён файлов в заданном каталоге, опционально отфильтрованных по расширению.

**Параметры**:
- `directory` (Union[str, Path]): Каталог для поиска.
- `extensions` (Union[str, list[str]], optional): Расширения для фильтрации. По умолчанию `'*'`, то есть все расширения.
- `exc_info` (bool, optional): Если True, выводит подробную информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[str]: Список имён файлов, найденных в каталоге.

**Вызывает исключения**:
- Различные исключения при возникновении проблем с файловой системой.


### `recursively_yield_file_path`

**Описание**: Рекурсивно генерирует пути к файлам, соответствующим заданным шаблонам в заданном каталоге.

**Параметры**:
- `root_dir` (Union[str, Path]): Корневой каталог для поиска.
- `patterns` (Union[str, list[str]], optional): Шаблоны для фильтрации файлов. По умолчанию `'*'`, то есть все файлы.
- `exc_info` (bool, optional): Если True, выводит подробную информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- Generator[Path, None, None]: Итератор по путям к файлам, соответствующим шаблонам.

**Вызывает исключения**:
- Различные исключения при возникновении проблем с файловой системой.


### `recursively_get_file_path`

**Описание**: Рекурсивно получает пути к файлам, соответствующим заданным шаблонам в заданном каталоге.

**Параметры**:
- `root_dir` (Union[str, Path]): Корневой каталог для поиска.
- `patterns` (Union[str, list[str]], optional): Шаблоны для фильтрации файлов. По умолчанию `'*'`, то есть все файлы.
- `exc_info` (bool, optional): Если True, выводит подробную информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[Path]: Список путей к файлам, соответствующим шаблонам.

**Вызывает исключения**:
- Различные исключения при возникновении проблем с файловой системой.


### `recursively_read_text_files`

**Описание**: Рекурсивно считывает содержимое текстовых файлов из заданного каталога, соответствующих заданным шаблонам.

**Параметры**:
- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str]): Шаблоны для фильтрации файлов.
- `as_list` (bool, optional): Возвращать содержимое файлов как список строк. По умолчанию `False`.
- `exc_info` (bool, optional): Если True, выводит подробную информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[str]: Список содержимого файлов (или строк, если `as_list=True`) соответствующих шаблонам.

**Вызывает исключения**:
- Различные исключения при возникновении проблем с файловой системой.


### `get_directory_names`

**Описание**: Возвращает список имён подкаталогов в заданном каталоге.

**Параметры**:
- `directory` (str | Path): Каталог для поиска подкаталогов.
- `exc_info` (bool, optional): Если True, выводит подробную информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[str]: Список имён подкаталогов.

**Вызывает исключения**:
- Различные исключения при возникновении проблем с файловой системой.


### `read_files_content`

**Описание**: Читает содержимое файлов, соответствующих шаблонам, в заданном каталоге рекурсивно.

**Параметры**:
- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str]): Шаблоны для фильтрации файлов.
- `as_list` (bool, optional): Возвращать содержимое файлов как список строк. По умолчанию `False`.
- `exc_info` (bool, optional): Если True, выводит подробную информацию об ошибке в лог. По умолчанию `True`.

**Возвращает**:
- list[str]: Список содержимого файлов.

**Вызывает исключения**:
- Различные исключения при возникновении проблем с файловой системой.


### `remove_bom`

**Описание**: Удаляет BOM (Byte Order Mark) из текстового файла.

**Параметры**:
- `file_path` (str | Path): Путь к файлу.

**Возвращает**:
- None

**Вызывает исключения**:
- `Exception` при возникновении проблем с файлом.


### `traverse_and_clean`

**Описание**: Обходит каталог и удаляет BOM из файлов `.py`.

**Параметры**:
- `directory` (str | Path): Путь к каталогу.

**Возвращает**:
- None

**Вызывает исключения**:
- `Exception` при возникновении проблем с файлом.


### `main`

**Описание**: Точка входа для удаления BOM из файлов Python.

**Параметры**:
- Нет

**Возвращает**:
- None