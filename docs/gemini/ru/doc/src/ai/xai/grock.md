# Модуль grock.py

## Обзор

Этот модуль предоставляет класс `XAI`, который позволяет взаимодействовать с API x.ai для обработки запросов на завершение чата, включая потоковую передачу результатов.

## Классы

### `XAI`

**Описание**: Класс `XAI` обеспечивает взаимодействие с API x.ai.  Он хранит API ключ и базовый URL, а также предоставляет методы для отправки запросов и обработки ответов.

**Методы**:

#### `__init__(self, api_key)`

**Описание**: Инициализирует экземпляр класса `XAI`.

**Параметры**:

- `api_key` (str): Ключ API для аутентификации.

#### `_send_request(self, method, endpoint, data=None)`

**Описание**: Отправляет запрос к API x.ai.

**Параметры**:

- `method` (str): Метод HTTP (GET, POST, PUT, DELETE).
- `endpoint` (str): Конечная точка API.
- `data` (Optional[dict], optional): Данные для отправки в теле запроса (для POST и PUT). По умолчанию `None`.

**Возвращает**:

- `dict`: Ответ от API в формате JSON.

**Вызывает исключения**:

- `requests.exceptions.HTTPError`: Возникает, если HTTP запрос не успешен (статус код не 2xx).


#### `chat_completion(self, messages, model="grok-beta", stream=False, temperature=0)`

**Описание**: Запрашивает завершение чата.

**Параметры**:

- `messages` (list): Список словарей с сообщениями в формате `{"role": "user/system", "content": "..." }`.
- `model` (str, optional): Модель для использования. По умолчанию "grok-beta".
- `stream` (bool, optional): Флаг для включения потоковой передачи. По умолчанию `False`.
- `temperature` (float, optional): Температура для генерации ответа. По умолчанию `0`.

**Возвращает**:

- `dict`: Ответ от API в формате JSON.


#### `stream_chat_completion(self, messages, model="grok-beta", temperature=0)`

**Описание**: Запрашивает завершение чата с потоковой передачей результатов.

**Параметры**:

- `messages` (list): Список словарей с сообщениями в формате `{"role": "user/system", "content": "..." }`.
- `model` (str, optional): Модель для использования. По умолчанию "grok-beta".
- `temperature` (float, optional): Температура для генерации ответа. По умолчанию `0`.

**Возвращает**:

- `Iterator[str]`: Итератор строк, представляющих потоковые ответы от API в формате JSON.

## Пример использования

```python
# ... (пример использования из кода)
```


```
```
```