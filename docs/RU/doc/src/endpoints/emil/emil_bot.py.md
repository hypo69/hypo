# Модуль `emil_bot.py`

## Обзор

Модуль `emil_bot.py` реализует Telegram-бота для проекта `emil-design.com`. Бот предназначен для получения URL поставщиков и обработки различных типов сообщений, включая текстовые и голосовые. В модуле используется асинхронное программирование для эффективной работы с Telegram API.

## Содержание

- [Классы](#классы)
    - [`EmilTelegramBot`](#emiltelegrambot)
- [Функции](#функции)
    - [`main`](#main)

## Классы

### `EmilTelegramBot`

**Описание**:
Класс `EmilTelegramBot` представляет собой кастомного Telegram-бота, разработанного для проекта `emil-design.com`. Он наследует функциональность от `TelegramBot` и добавляет специфичные для проекта обработчики.

**Параметры**:
- `token` (str): Токен Telegram-бота.
- `config` (SimpleNamespace): Конфигурация бота, загруженная из `emil.json`.
- `model` (GoogleGenerativeAI): Модель Google Gemini для диалога с пользователем.
- `bot_handler` (BotHandler): Обработчик сообщений бота.

**Методы**:

#### `__init__`
**Описание**:
Инициализирует экземпляр класса `EmilTelegramBot`.

**Параметры**:
- `mode` (Optional[str], optional): Режим работы бота (`'test'` или `'production'`). По умолчанию `None`, используется значение из конфигурации.
- `webdriver_name` (Optional[str], optional): Название вебдрайвера, используемого `BotHandler`. По умолчанию `'firefox'`.

**Возвращает**:
- None

#### `handle_message`
**Описание**:
Обрабатывает текстовые сообщения, перенаправляя их в `bot_handler`.

**Параметры**:
- `update` (Update): Объект обновления Telegram.
- `context` (CallbackContext): Контекст обратного вызова.

**Возвращает**:
- None

#### `handle_log`
**Описание**:
Обрабатывает сообщения, содержащие логи.

**Параметры**:
- `update` (Update): Объект обновления Telegram.
- `context` (CallbackContext): Контекст обратного вызова.

**Возвращает**:
- None

#### `handle_voice`
**Описание**:
Обрабатывает голосовые сообщения, вызывая родительский метод для предварительной обработки,  и запускает транскрибацию.

**Параметры**:
- `update` (Update): Объект обновления Telegram.
- `context` (CallbackContext): Контекст обратного вызова.

**Возвращает**:
- None

#### `transcribe_voice`
**Описание**:
Транскрибирует голосовое сообщение в текст. В текущей реализации возвращает заглушку.

**Параметры**:
- `file_path` (Path): Путь к файлу голосового сообщения.

**Возвращает**:
- `str`: Транскрибированный текст (заглушка).

## Функции

### `main`

**Описание**:
Основная функция для запуска бота с использованием вебхуков.

**Параметры**:
- None

**Возвращает**:
- None