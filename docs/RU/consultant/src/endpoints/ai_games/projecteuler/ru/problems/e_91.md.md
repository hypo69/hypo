# Анализ кода модуля e_91.md

**Качество кода**
8
- Плюсы
    - Код содержит четкое описание задачи Project Euler №91.
    - Условия задачи понятны и хорошо структурированы.
- Минусы
    - Отсутствует Python-код, необходимый для решения задачи.
    - Нет импортов, функций или классов, необходимых для реализации решения.
    - Нет документации в формате reStructuredText.

**Рекомендации по улучшению**
1.  Добавить Python-код, реализующий решение задачи.
2.  Добавить docstrings к модулю, функциям и классам в формате RST.
3.  Использовать `from src.logger.logger import logger` для логирования ошибок, если это потребуется при реализации кода.
4.  Предоставить примеры использования.

**Оптимизированный код**
```python
"""
Модуль для решения задачи Project Euler №91.
=========================================================================================

Задача состоит в нахождении количества прямоугольных треугольников с вершинами в точках
с целочисленными координатами (0,0), (p, q) и (r, s), где 0 ≤ p, q, r, s ≤ 50.

Пример использования
--------------------

.. code-block:: python

    count = count_right_triangles(50)
    print(f"Количество прямоугольных треугольников: {count}")
"""

from src.logger.logger import logger
from typing import Tuple

def is_right_triangle(p: Tuple[int, int], q: Tuple[int, int], r: Tuple[int, int]) -> bool:
    """
    Проверяет, является ли треугольник с вершинами в точках p, q и r прямоугольным.

    :param p: Координаты первой вершины.
    :param q: Координаты второй вершины.
    :param r: Координаты третьей вершины.
    :return: True, если треугольник прямоугольный, иначе False.
    """
    try:
        # код вычисляет векторы сторон треугольника
        v1 = (q[0] - p[0], q[1] - p[1])
        v2 = (r[0] - p[0], r[1] - p[1])
        v3 = (r[0] - q[0], r[1] - q[1])

        # код вычисляет скалярные произведения векторов
        dot1 = v1[0] * v2[0] + v1[1] * v2[1]
        dot2 = v1[0] * v3[0] + v1[1] * v3[1]
        dot3 = v2[0] * v3[0] + v2[1] * v3[1]

        # код проверяет, равно ли скалярное произведение 0 (условие перпендикулярности)
        return dot1 == 0 or dot2 == 0 or dot3 == 0
    except Exception as e:
        logger.error(f"Ошибка при проверке треугольника: {e}")
        return False


def count_right_triangles(max_coord: int) -> int:
    """
    Подсчитывает количество прямоугольных треугольников с вершинами в (0,0), (p, q) и (r, s),
    где 0 <= p, q, r, s <= max_coord.

    :param max_coord: Максимальное значение координат.
    :return: Количество прямоугольных треугольников.
    """
    count = 0
    try:
        # код перебирает все возможные комбинации точек
        for p in range(max_coord + 1):
            for q in range(max_coord + 1):
                for r in range(max_coord + 1):
                    for s in range(max_coord + 1):
                        # Исключаем вырожденные треугольники (когда точки совпадают)
                        if (p, q) == (0, 0) or (r, s) == (0, 0) or (p, q) == (r, s):
                            continue
                        # Код проверяет, является ли треугольник прямоугольным
                        if is_right_triangle((0, 0), (p, q), (r, s)):
                            count += 1
    except Exception as e:
      logger.error(f'Ошибка в подсчёте треугольников {e}')
    # Код возвращает общее количество найденных прямоугольных треугольников, деленное на 2 для устранения дубликатов.
    return count // 2

if __name__ == '__main__':
    max_coord = 50
    # Код вычисляет и печатает количество прямоугольных треугольников для max_coord = 50
    count = count_right_triangles(max_coord)
    print(f"Количество прямоугольных треугольников для max_coord = {max_coord}: {count}")

```