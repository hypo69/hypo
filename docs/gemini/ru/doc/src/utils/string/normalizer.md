# Модуль `hypotez/src/utils/string/normalizer.py`

## Обзор

Этот модуль предоставляет функции для нормализации строк, булевых значений, целых чисел и чисел с плавающей точкой. Он также включает вспомогательные методы для обработки текста, включая удаление HTML-тегов и специальных символов.

## Функции

### `normalize_boolean`

**Описание**: Нормализует входные данные в булево значение.

**Параметры**:
- `input_data` (Any): Данные, которые могут представлять булево значение (например, bool, строка, целое число).

**Возвращает**:
- `bool`: Булевое представление входных данных.

**Примеры**:
```python
>>> normalize_boolean('yes')
True
>>> normalize_boolean(1)
True
>>> normalize_boolean('no')
False
```


**Обрабатываемые исключения**:
- `Exception`: Возникает при ошибке преобразования входных данных в булево значение. Ошибка логируется с помощью `logger`. В этом случае возвращается исходное значение `input_data`.


### `normalize_string`

**Описание**: Нормализует строку или список строк.

**Параметры**:
- `input_data` (str | list): Входные данные, которые могут быть строкой или списком строк.

**Возвращает**:
- `str`: Очищенная и нормализованная строка в формате UTF-8.

**Примеры**:
```python
>>> normalize_string(" Пример строки <b>с HTML</b> ")
'Пример строки с HTML'
>>> normalize_string(['Hello', '  World!  '])
'Hello World!'
```

**Обрабатываемые исключения**:
- `TypeError`: Возникает, если `input_data` не является строкой или списком строк. Ошибка логируется с помощью `logger`. В случае ошибки возвращается исходное значение `input_data`.


### `normalize_int`

**Описание**: Нормализует входные данные в целое число.

**Параметры**:
- `input_data` (str | int | float | Decimal): Входные данные, которые могут быть числом или его строковым представлением.

**Возвращает**:
- `int`: Целочисленное представление входных данных.

**Примеры**:
```python
>>> normalize_int('42')
42
>>> normalize_int(42.5)
42
```

**Обрабатываемые исключения**:
- `ValueError`, `TypeError`, `InvalidOperation`: Возникают при ошибке преобразования входных данных в целое число. Ошибка логируется с помощью `logger`. В случае ошибки возвращается исходное значение `input_data`.


### `normalize_float`

**Описание**: Безопасно преобразует входные значения в число с плавающей точкой или список чисел с плавающей точкой.

**Параметры**:
- `value` (Any): Входное значение, которое может быть одиночным числом или строкой, или итерируемым объектом (списком/кортежем).

**Возвращает**:
- `float | List[float] | None`: Значение с плавающей точкой, список чисел с плавающей точкой или `None`, если преобразование не удалось.

**Примеры**:
```python
>>> normalize_float("3.14")
3.14
>>> normalize_float([1, '2.5', 3])
[1.0, 2.5, 3.0]
```

**Обрабатываемые исключения**:
- `ValueError`, `TypeError`: Возникают при ошибке преобразования входных данных в число с плавающей точкой. Ошибка логируется с предупреждением. В случае ошибки возвращается исходное значение `value`.


### `normalize_sql_date`

**Описание**: Нормализует данные в формате даты SQL (ГГГГ-ММ-ДД).

**Параметры**:
- `input_data` (str): Данные, которые могут представлять дату (например, строка, объект `datetime`).

**Возвращает**:
- `str`: Нормализованная дата в формате SQL (ГГГГ-ММ-ДД) или исходное значение, если преобразование не удалось.

**Примеры**:
```python
>>> normalize_sql_date('2024-12-06')
'2024-12-06'
>>> normalize_sql_date('12/06/2024')
'2024-12-06'
```

**Обрабатываемые исключения**:
- `Exception`: Возникают при ошибке преобразования входных данных в формат даты SQL. Ошибка логируется с помощью `logger`. В случае ошибки возвращается исходное значение `input_data`.


### `simplify_string`

**Описание**: Упрощает строку, оставляя только буквы, цифры и заменяя пробелы подчеркиваниями.

**Параметры**:
- `input_str` (str): Строка для упрощения.

**Возвращает**:
- `str`: Упрощенная строка.

**Обрабатываемые исключения**:
- `Exception`: Возникает при ошибке упрощения строки. Ошибка логируется с помощью `logger`. В случае ошибки возвращается исходная строка.


### `remove_line_breaks`

**Описание**: Удаляет символы перевода строки из строки.

**Параметры**:
- `input_str` (str): Входная строка.

**Возвращает**:
- `str`: Строка без символов перевода строки.


### `remove_html_tags`

**Описание**: Удаляет HTML-теги из строки.

**Параметры**:
- `input_html` (str): Входная строка с HTML-тегами.

**Возвращает**:
- `str`: Строка без HTML-тегов.


### `remove_special_characters`

**Описание**: Удаляет указанные специальные символы из строки или списка строк.

**Параметры**:
- `input_str` (str | list): Входная строка или список строк.
- `chars` (list[str], optional): Список символов для удаления. По умолчанию `['#']`.

**Возвращает**:
- `str | list`: Обработанная строка или список с удаленными символами.