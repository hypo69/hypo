# Модуль для генерации таблиц в формате Markdown для документации

## Обзор

Модуль предназначен для создания таблиц в формате Markdown, используемых для документирования провайдеров и моделей в проекте `g4f` (GPT4Free). Он содержит функции для получения информации о провайдерах и моделях, а также для форматирования этой информации в виде таблиц Markdown.

## Подробнее

Модуль предоставляет функции для автоматического создания документации о доступных провайдерах и моделях, что упрощает поддержку актуальной информации о поддерживаемых ресурсах. Код модуля взаимодействует с внутренними структурами `g4f` для получения данных и генерирует Markdown-форматированный вывод, который затем записывается в файлы документации.

## Функции

### `test_async`

```python
async def test_async(provider: ProviderType) -> bool:
    """
    Проверяет работоспособность асинхронного провайдера.

    Args:
        provider (ProviderType): Провайдер для проверки.

    Returns:
        bool: `True`, если провайдер работает, `False` в противном случае.

    Как работает функция:
    1. Проверяет, активен ли провайдер (`provider.working`).
    2. Отправляет асинхронный запрос к провайдеру с сообщением "Hello Assistant!".
    3. Возвращает `True`, если получен ответ в течение 30 секунд, иначе - `False`.
    4. Ловит исключения, которые могут возникнуть при запросе, и выводит их в консоль при включенном режиме отладки.

    ASCII flowchart:
    Проверка активности -> Отправка запроса -> Получение ответа
        ↓                     ↓                  ↓
    Возврат False       Возврат True        Обработка ошибок

    Примеры:
    >>> import asyncio
    >>> from g4f.providers import Bard
    >>> asyncio.run(test_async(Bard))
    True
    """
```

### `test_async_list`

```python
def test_async_list(providers: list[ProviderType]) -> list:
    """
    Проверяет список асинхронных провайдеров на работоспособность.

    Args:
        providers (list[ProviderType]): Список провайдеров для проверки.

    Returns:
        list: Список булевых значений, где `True` означает, что провайдер работает, `False` - не работает.

    Как работает функция:
    1. Проходит по списку провайдеров.
    2. Для каждого провайдера вызывает функцию `test_async` для проверки работоспособности.
    3. Собирает результаты в список и возвращает его.

    ASCII flowchart:
    Начало
    ↓
    Итерация по провайдерам
    ↓
    Вызов test_async для каждого провайдера
    ↓
    Сбор результатов
    ↓
    Возврат списка результатов

    Примеры:
    >>> from g4f.providers import Bard, BingAI
    >>> test_async_list([Bard, BingAI])
    [True, False]
    """
```

### `print_providers`

```python
def print_providers() -> list[str]:
    """
    Генерирует Markdown-таблицу со списком провайдеров и их характеристиками.

    Returns:
        list[str]: Список строк, представляющих Markdown-таблицу.

    Как работает функция:
    1. Фильтрует список провайдеров, оставляя только работающие (`provider.working`).
    2. Получает результаты проверки работоспособности каждого провайдера с помощью `test_async_list`.
    3. Формирует строки Markdown-таблицы для каждого провайдера, включая информацию о веб-сайте, статусе,
       поддерживаемых моделях, необходимости аутентификации, поддержке стриминга, системных сообщений и истории сообщений.

    ASCII flowchart:

    Фильтрация провайдеров (работающие)
    ↓
    Получение результатов проверки работоспособности
    ↓
    Итерация по провайдерам
    ↓
    Формирование строк Markdown-таблицы
    ↓
    Возврат списка строк

    Примеры:
    >>> print_providers()
    ['', '## Free', '', '### Ails', '| Provider | `g4f.Provider.Ails` |', '| -------- | ---- |', '| **Website** | ❌ | \\n| **Status** | ![Inactive](https://img.shields.io/badge/Inactive-red) |', '| **Authentication** | ❌ | \\n| **Streaming** | ✔️ |', '| **System message** | ✔️ | \\n| **Message history** | ❌ |', '', '## Auth', '', '### Bard', '| Provider | `g4f.Provider.Bard` |', '| -------- | ---- |', '| **Website** | [bard.google.com](https://bard.google.com/) | \\n| **Status** | ![Active](https://img.shields.io/badge/Active-brightgreen) |', '| **Models** | gemini-pro (1)|', '| **Authentication** | ✔️ | \\n| **Streaming** | ✔️ |', '| **System message** | ✔️ | \\n| **Message history** | ✔️ |']
    """
```

### `print_models`

```python
def print_models() -> list[str]:
    """
    Генерирует Markdown-таблицу со списком моделей и их характеристиками.

    Returns:
        list[str]: Список строк, представляющих Markdown-таблицу.

    Как работает функция:
    1. Определяет базовые имена провайдеров и URL-адреса.
    2. Формирует строки Markdown-таблицы для каждой модели, включая информацию о базовом провайдере, провайдере, веб-сайте.

    ASCII flowchart:

    Определение базовых имен провайдеров и URL-адресов
    ↓
    Итерация по моделям
    ↓
    Формирование строк Markdown-таблицы
    ↓
    Возврат списка строк
    """
```

### `print_image_models`

```python
def print_image_models() -> list[str]:
    """
    Генерирует Markdown-таблицу со списком моделей генерации изображений и их характеристиками.

    Returns:
        list[str]: Список строк, представляющих Markdown-таблицу.

    Как работает функция:
    1. Фильтрует список провайдеров, оставляя только работающие, у которых есть `image_models` или `vision_models`.
    2. Формирует строки Markdown-таблицы для каждого провайдера, включая информацию о названии, провайдере, моделях генерации изображений,
       моделях анализа изображений и веб-сайте.

    ASCII flowchart:

    Фильтрация провайдеров (работающие с image_models или vision_models)
    ↓
    Итерация по провайдерам
    ↓
    Формирование строк Markdown-таблицы
    ↓
    Возврат списка строк
    """