# Модуль hypotez/src/suppliers/header.py

## Обзор

Модуль `header.py` отвечает за инициализацию проекта, определение корневой директории, загрузку настроек из файла `settings.json` и, при наличии, документации из файла `README.MD`. Он также устанавливает корневую директорию в `sys.path` для импорта модулей из других директорий проекта.

## Функции

### `set_project_root`

**Описание**:  Находит корневую директорию проекта, начиная с директории текущего файла и поднимаясь вверх по дереву директорий. Останавливается на первой директории, содержащей указанные маркерные файлы (например, `pyproject.toml`, `requirements.txt`, `.git`).

**Параметры**:

- `marker_files` (tuple): Кортеж имен файлов или директорий, используемых для определения корневой директории проекта. По умолчанию: `('pyproject.toml', 'requirements.txt', '.git')`.

**Возвращает**:

- `Path`: Путь к корневой директории проекта, если найдена, иначе директория, где расположен текущий скрипт.

**Вызывает исключения**:
- Нет.


###  Инициализация переменных

**Описание**: После вызова функции `set_project_root` определяются переменные `__root__`, `settings`, `doc_str`, `__project_name__`, `__version__`, `__doc__`, `__details__`, `__author__`, `__copyright__`, и `__cofee__`.


**Описание**:
- `__root__`:  Путь к корневой директории проекта.
- `settings`: Словарь настроек, загруженный из `settings.json` или `None`, если файл не найден или некорректен.
- `doc_str`:  Содержание файла `README.MD` или `None`, если файл не найден или некорректен.
- `__project_name__`:  Название проекта (из `settings.json` или по умолчанию 'hypotez').
- `__version__`:  Версия проекта (из `settings.json` или по умолчанию пустая строка).
- `__doc__`:  Документация проекта (из `README.MD` или по умолчанию пустая строка).
- `__details__`: Дополнительные данные (по умолчанию пустая строка).
- `__author__`: Автор проекта (из `settings.json` или по умолчанию пустая строка).
- `__copyright__`: Авторские права (из `settings.json` или по умолчанию пустая строка).
- `__cofee__`: Ссылка на поддержку разработчика (из `settings.json` или по умолчанию).

**Обработка исключений**:

- Блок `try...except` для загрузки настроек (`settings.json`) и документации (`README.MD`). В случае `FileNotFoundError` или `json.JSONDecodeError` исключение игнорируется, и соответствующие переменные устанавливаются в `None` или пустые строки.


##  Зависимости

- `sys`
- `json`
- `packaging.version`
- `pathlib`


##  Примечания

- Модуль использует `gs.path.root` для работы с корневой директорий проекта. Необходима предварительная инициализация `gs` модуля.
- Переменные, начинающиеся с `__`, имеют специальное назначение и используются внутри проекта.
-  Обработка исключений выполняется с помощью `try...except` блоков для безопасного доступа к файлам и данных.