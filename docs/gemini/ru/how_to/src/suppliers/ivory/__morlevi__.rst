Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код содержит функции для работы с поставщиком Morlevi.  Он реализует логин на сайте, парсит данные о продуктах, включая заголовки, описания, цены и изображения, а также обрабатывает странички с продуктами, переходя по страницам пагинации. Основная логика находится в функции `login` и `grab_product_page`, которые взаимодействуют с веб-драйвером,  используя локаторы, заданные в `locators` и настройки в `settings` и `Product`.

Шаги выполнения
-------------------------
1. **Инициализация:**  Функции `login` и `grab_product_page` принимают в качестве аргумента объект `supplier`, содержащий информацию о поставщике (веб-драйвер, локаторы, настройки и т.д.). Проверяются наличие и тип возвращаемого значения.
2. **Авторизация (login):**
    - Функция `login` открывает главную страницу Morlevi.
    - Пытается войти в систему используя локаторы.
    - Если появляется модальное окно, пытается закрыть его.
    - Если закрытие окна не помогло, функция возвращает `False`.
    - В случае успешного входа возвращается `True`. В противном случае логгируется ошибка и возвращается None.
3. **Парсинг данных о продуктах (grab_product_page):**
    - Создается объект `Product` для хранения данных продукта.
    - Закрывает модальное окно, если оно появляется.
    - Выполняются последовательно функции, которые собирают информацию о продуктах (например, `set_id`, `set_sku_suppl`, `set_sku_prod`, `set_title`, `set_cost_price`, `set_description`, `set_summary` и т.д.). Каждая функция отвечает за получение определенного параметра продукта.
    - Функция `set_images` загружает изображение продукта.
    - Остальные функции  (`set_combinations`, `set_qty`, `set_specification`, `set_customer_reviews`) отвечают за парсинг дополнительных характеристик продукта.
    - Функция собирает данные в объект `Product`, возвращает его.
4. **Парсинг списка продуктов (list_products_in_category_from_pagination):**
    - Функция получает список ссылок на продукты на странице.
    - Если список пуст, то возвращается пустой список, так как товаров на странице нет.
    - Обрабатываются ссылки на все страницы продуктов с помощью пагинации и локаторов.
    - После получения ссылок на все продукты, из списка удаляются дубликаты.
5. **Получение списка категорий (get_list_categories_from_site):**
     -Функция используется для парсинга списка категорий.


Пример использования
-------------------------
.. code-block:: python

    # Предполагается, что supplier - это объект, содержащий необходимые данные (driver, locators и т.д.)
    from hypotez.src.suppliers.ivory import __morlevi__
    supplier = ... # Инициализируйте объект supplier

    # Авторизация
    if __morlevi__.login(supplier):
        print("Успешный вход")
    else:
        print("Ошибка входа")

    # Получение данных о продуктах
    product_data = __morlevi__.grab_product_page(supplier)

    # Обработка полученных данных (например, сохранение в базу данных)
    if product_data:
        print(product_data.fields) # Пример доступа к данным
    else: print("Ошибка при получении данных")

    # Получение списка продуктов из категории
    product_list = __morlevi__.list_products_in_category_from_pagination(supplier)
    # Обработка списка
    for product in product_list:
        product_data = __morlevi__.grab_product_page(supplier)
        # Работа с данными продукта