# Игра "Хамурапи"

## Обзор

Данный модуль реализует текстовую экономическую игру "Хамурапи", в которой игрок управляет древним городом, принимая решения о покупке и продаже земли, посеве зерна и распределении ресурсов для пропитания населения. Цель игры - продержаться 10 игровых лет, не допустив голодной смерти населения.

## Содержание

- [Обзор](#обзор)
- [Игровой процесс](#игровой-процесс)
- [Переменные](#переменные)
- [Функции](#функции)
- [Игровой цикл](#игровой-цикл)
- [Обработка ввода](#обработка-ввода)
- [Расчеты](#расчеты)
- [Завершение игры](#завершение-игры)

## Игровой процесс

Игра начинается с 100 жителями, 2800 бушелями зерна и 1000 акрами земли. Каждый год игрок принимает решения о покупке или продаже земли, количестве зерна для посева и кормлении населения. В течение года могут происходить случайные события, такие как нашествие крыс, влияющие на запасы зерна. Игра заканчивается либо через 10 лет, либо когда население умирает от голода.

## Переменные

В начале игры инициализируются следующие переменные:
- `year` (int): Текущий год, начинается с 0.
- `population` (int): Текущее население города, начинается со 100.
- `grain` (int): Текущее количество зерна в бушелях, начинается с 2800.
- `land` (int): Текущая площадь земли в акрах, начинается с 1000.

## Функции

В данном коде нет отдельных пользовательских функций, вся логика реализована в основном цикле игры.

## Игровой цикл

Основной игровой цикл `while year < 10 and population > 0:` выполняется до тех пор, пока не пройдет 10 лет или население не станет меньше или равно 0.

### Вывод текущего состояния

В начале каждого года выводится текущее состояние города: год, население, количество зерна и земли.

### Покупка и продажа земли

1. Вычисляется случайная цена за акр земли (от 15 до 25 бушелей).
2. Игрок вводит количество земли для покупки (+) или продажи (-).
3. Проверяется наличие достаточного количества зерна для покупки или земли для продажи. В случае недостаточности ресурсов, пользователю предлагается повторно ввести данные.
4. Обновляется количество земли и зерна в зависимости от совершенной сделки.

### Посев зерна

1. Игрок вводит количество зерна для посева.
2. Проверяется, достаточно ли зерна для посева. В случае нехватки, пользователю предлагается ввести данные повторно.
3. Вычисляется случайный урожай (от 1 до 8 бушелей на акр).
4. Обновляется запас зерна с учетом собранного урожая.

### Ущерб от крыс

1. Вычисляется случайный ущерб от крыс (от 0 до 10% от текущего количества зерна).
2. Уменьшается количество зерна на величину ущерба от крыс.

### Кормление населения

1. Игрок вводит количество зерна для пропитания населения.
2. Если зерна достаточно для кормления, население увеличивается на 10%, но не более 1000.
3. Если зерна недостаточно, вычисляется число умерших от голода, и население уменьшается на это число.
4. В случае смерти всего населения игра заканчивается.

### Увеличение года

В конце каждого года, если население еще не умерло, год увеличивается на 1.

## Обработка ввода

В коде используются циклы `while True` с блоками `try-except` для обработки пользовательского ввода. Это позволяет обеспечить корректный ввод целых чисел.

## Расчеты

- **Цена земли**: Вычисляется случайным образом каждый год.
- **Урожай**: Зависит от количества посеянного зерна и случайной урожайности земли.
- **Ущерб от крыс**: Случайное значение в процентах от общего количества зерна.
- **Голод**: Количество умерших от голода зависит от того, сколько зерна было выделено на пропитание, и общего количества населения.
- **Рост населения**: Если зерна достаточно, население увеличивается на 10%, но не более 1000.

## Завершение игры

Игра заканчивается в следующих случаях:
- Если население умирает от голода (становится меньше или равно 0).
- Если проходит 10 игровых лет.
После завершения игры выводится соответствующее сообщение.