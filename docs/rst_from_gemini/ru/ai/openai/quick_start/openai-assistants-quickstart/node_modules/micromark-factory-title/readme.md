```markdown
# micromark-factory-title

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][bundle-size-badge]][bundle-size]
[![Sponsors][sponsors-badge]][opencollective]
[![Backers][backers-badge]][opencollective]
[![Chat][chat-badge]][chat]

Micromark factory for parsing markdown titles (found in resources, definitions).

## Contents

* [What is this?](#what-is-this)
* [When should I use this?](#when-should-i-use-this)
* [Install](#install)
* [Use](#use)
* [API](#api)
    * [factoryTitle](#factorytitle)
* [Types](#types)
* [Compatibility](#compatibility)
* [Security](#security)
* [Contribute](#contribute)
* [License](#license)

## What is this?

This package provides a factory function (`factoryTitle`) for creating states to parse markdown titles within a micromark tokenizer.  It handles various title delimiters (e.g., `"`, `'`, `(`).

## When should I use this?

Use this package when building custom micromark extensions that require parsing titles (e.g., for definitions, or within resources).

## Install

This package is ESM only.

**Node.js (version 16+)**:

```bash
npm install micromark-factory-title
```

**Deno (with esm.sh):**

```typescript
import {factoryTitle} from 'https://esm.sh/micromark-factory-title@1'
```

**Browsers (with esm.sh):**

```html
<script type="module">
  import {factoryTitle} from 'https://esm.sh/micromark-factory-title@1?bundle'
</script>
```


## Use

```javascript
import {factoryTitle} from 'micromark-factory-title';
import {codes, types} from 'micromark-util-symbol';

// Example usage within a custom micromark tokenizer:
function tokenizeDefinition(effects, ok, nok) {
  // ... (your tokenizer code)

  function before(code) {
    if (
      code === codes.quotationMark ||
      code === codes.apostrophe ||
      code === codes.leftParenthesis
    ) {
      return factoryTitle(
        effects,
        // ... pass your subsequent handlers for whitespace, content, etc.
        ok, // State to switch to on success
        nok, // State to switch to on failure
        types.definitionTitle, // Type for the whole title
        types.definitionTitleMarker, // Type for the title markers
        types.definitionTitleString // Type for the title string content
      )(code);
    }

    return nok(code);
  }


  // ... (rest of your tokenizer code)
}
```

**Important:** Replace the placeholder `ok` and `nok` states with your actual state functions. The parameters for title type, marker type, and string type are crucial for the correct parsing and further handling of the parsed title.  Ensure `ok` and `nok` are functions in your state machine context.


## API

### `factoryTitle(effects, ok, nok, type, markerType, stringType)`

Parses titles in a micromark context.

**Parameters:**

* `effects`: The current effects object from the micromark tokenizer.
* `ok`: The state function to transition to if parsing is successful.
* `nok`: The state function to transition to if parsing fails.
* `type`: The type string for the entire title element.
* `markerType`: The type string for the title markers (e.g., `"`, `'`, `(`).
* `stringType`: The type string for the title string content.

**Returns:** The starting state function for parsing the title.


## Types

This package is type-safe using TypeScript.


## Compatibility

Compatible with micromark@^3 and Node.js 16+.


## Security

This package is safe.  See the security.md file in the micromark repository for details on reporting security issues.


## Contribute

See the contributing.md file in the micromark repository for contribution guidelines.


## License

MIT Â© Titus Wormer


```