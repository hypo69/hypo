# Модуль `driver.py`

## Обзор

Модуль `driver.py` предназначен для работы с веб-драйверами Selenium. Он предоставляет класс `Driver`, обеспечивающий унифицированный интерфейс для взаимодействия с веб-драйверами, включая инициализацию драйвера, навигацию по веб-страницам, работу с куки, обработку исключений и другие операции.

## Оглавление

- [Модуль `driver.py`](#модуль-driverpy)
- [Обзор](#обзор)
- [Основные функции](#основные-функции)
- [Класс `Driver`](#класс-driver)
    - [Инициализация](#инициализация)
    - [Подклассы](#подклассы)
    - [Доступ к атрибутам драйвера](#доступ-к-атрибутам-драйвера)
    - [Прокрутка страницы](#прокрутка-страницы)
    - [Определение языка страницы](#определение-языка-страницы)
    - [Переход по URL](#переход-по-url)
    - [Открытие новой вкладки](#открытие-новой-вкладки)
    - [Ожидание](#ожидание)
    - [Сохранение куки локально](#сохранение-куки-локально)
    - [Извлечение HTML-контента](#извлечение-html-контента)
- [Пример использования](#пример-использования)
- [Заключение](#заключение)


## Основные функции

1. **Инициализация драйвера**: Создание экземпляра Selenium WebDriver.
2. **Навигация**: Переход по URL, прокрутка и извлечение контента.
3. **Работа с куки**: Сохранение и управление куки.
4. **Обработка исключений**: Логирование ошибок.


## Класс `Driver`

### Инициализация

```python
class Driver:
    def __init__(self, webdriver_cls, *args, **kwargs):
        """
        Инициализирует объект Driver.

        Args:
            webdriver_cls (type): Класс WebDriver (например, Chrome, Firefox).
            *args: Позиционные аргументы для инициализации драйвера.
            **kwargs: Ключевые аргументы для инициализации драйвера.

        Raises:
            TypeError: Если `webdriver_cls` не является допустимым классом WebDriver.
        """
        if not hasattr(webdriver_cls, 'get'):
            raise TypeError('`webdriver_cls` должен быть допустимым классом WebDriver.')
        self.driver = webdriver_cls(*args, **kwargs)
```

### Подклассы

```python
def __init_subclass__(cls, *, browser_name=None, **kwargs):
    """
    Метод для инициализации подклассов Driver.

    Args:
        browser_name: Имя браузера.
        **kwargs: Дополнительные аргументы.

    Raises:
        ValueError: Если `browser_name` не указан для подкласса.
    """
    super().__init_subclass__(**kwargs)
    if browser_name is None:
        raise ValueError(f'Класс {cls.__name__} должен указать аргумент `browser_name`.')
    cls.browser_name = browser_name
```

### Доступ к атрибутам драйвера

```python
def __getattr__(self, item):
    """
    Прокси для доступа к атрибутам драйвера.

    Args:
        item: Имя атрибута.

    Returns:
        Атрибут драйвера.
    """
    return getattr(self.driver, item)
```

### Прокрутка страницы

```python
def scroll(self, scrolls: int = 1, frame_size: int = 600, direction: str = 'both', delay: float = 0.3) -> bool:
    """
    Прокручивает страницу в указанном направлении.

    Args:
        scrolls (int, optional): Количество прокруток. Defaults to 1.
        frame_size (int, optional): Размер прокрутки в пикселях. Defaults to 600.
        direction (str, optional): Направление ('both', 'down', 'up'). Defaults to 'both'.
        delay (float, optional): Задержка между прокрутками. Defaults to 0.3.

    Returns:
        bool: True, если прокрутка прошла успешно, иначе False.
    """
    # ... (остальной код функции) ...
```

(Аналогичные блоки для остальных функций и методов, с полным описанием параметров, возвращаемых значений и исключений)

### Определение языка страницы
### Переход по URL
### Открытие новой вкладки
### Ожидание
### Сохранение куки локально
### Извлечение HTML-контента


## Пример использования

```python
from selenium.webdriver import Chrome
driver = Driver(Chrome, executable_path='/path/to/chromedriver')
driver.get_url('https://example.com')
```


## Заключение

Класс `Driver` предоставляет унифицированный интерфейс для работы с веб-драйверами Selenium, упрощая навигацию, работу с куки, обработку исключений и другие операции.  Этот класс полезен для автоматизации веб-скрапинга и тестирования.