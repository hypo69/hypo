# Модуль logger

## Обзор

Данный модуль предоставляет класс `Logger` для ведения журналов, поддерживающий запись в консоль, файлы (для разных уровней логов) и JSON-формат.  Реализует паттерн Singleton для обеспечения единственного экземпляра логгера.  Все импорты построены относительно корневого пути к проекту.


## Классы

### `Logger`

**Описание**: Класс `Logger` реализует паттерн Singleton для управления логгированием. Он предоставляет методы для записи логов в консоль и файлы различного типа (информация, отладка, ошибки)  в JSON-формате, а также предоставляет методы для логгирования с различными уровнями важности и опциональным добавлением цвета и информации об исключениях.


**Конструктор**:

```python
def __init__(self, info_log_path: Optional[str] = None,
                 debug_log_path: Optional[str] = None,
                 errors_log_path: Optional[str] = None,
                 json_log_path: Optional[str] = None):
    """
    Инициализирует экземпляр логгера.

    Args:
        info_log_path (Optional[str], optional): Путь к файлу для логов уровня INFO. По умолчанию None.
        debug_log_path (Optional[str], optional): Путь к файлу для логов уровня DEBUG. По умолчанию None.
        errors_log_path (Optional[str], optional): Путь к файлу для логов уровня ERROR и CRITICAL. По умолчанию None.
        json_log_path (Optional[str], optional): Путь к файлу для логов в JSON-формате. По умолчанию None.
    """
    ...
```

**Методы**:

- `log`: Общий метод для записи логов различного уровня.

```python
def log(self, level, message, ex=None, exc_info=False, color=None):
    """
    Записывает сообщение в лог с указанным уровнем важности.

    Args:
        level: Уровень лога (logging.DEBUG, logging.INFO, logging.WARNING, logging.ERROR, logging.CRITICAL).
        message: Сообщение для логгирования.
        ex (Optional[Exception], optional): Исключение для добавления в лог. По умолчанию None.
        exc_info (bool, optional): Флаг для включения полной информации об исключении. По умолчанию False.
        color (Optional[str | tuple], optional): Цвет для форматирования сообщения. По умолчанию None.  Допустимы значения:  строка (например, "red") или кортеж (например, ("red", "on_grey")).
    """
    ...
```

- `_format_message`: Форматирует сообщение с опциональным добавлением цвета и информации об исключении.

- `_ex_full_info`: Возвращает полную информацию об исключении с контекстом вызова.

**Примечание:**  Методы `info`, `success`, `warning`, `debug`, `error`, `critical` и другие аналогичные методы логгирования (которые не показаны в коде) должны работать аналогично методу `log` и использовать его для записи лога.


### `JsonFormatter`

**Описание**:  Пользовательский форматировщик для записи логов в JSON-формате.


### `SingletonMeta`

**Описание**: Метакласс для реализации паттерна Singleton.


## Функции

(Нет функций в данном модуле, только классы)


## Зависимости

- `logging`
- `colorama`
- `datetime`
- `json`
- `inspect`
- `threading`
- `pathlib`
- `typing`
- `types`
- `header` (модуль `header` необходим для доступа к `__root__` переменной)