# Модуль для экспериментов со сценариями
## Обзор

Модуль `test_scenario.py` предназначен для экспериментов и тестирования логики работы со сценариями в проекте `hypotez`. Он включает в себя создание и запуск сценариев для различных поставщиков, таких как AliExpress, Amazon, Kualastyle и eBay.

## Подробнее

Данный модуль служит для проверки и отладки функциональности, связанной с классами `Scenario` и `Supplier`. Он позволяет быстро переключаться между разными поставщиками и запускать для них сценарии, определенные в системе.
Анализируя данный код, можно увидеть, как происходит инициализация поставщика (`Supplier`) с определенным префиксом, а затем создается и запускается сценарий (`Scenario`) для этого поставщика. Это позволяет проверить взаимодействие различных компонентов системы и убедиться в их корректной работе.

## Классы

В данном модуле напрямую не определены классы, но используются классы `Scenario` и `Supplier` из других модулей.

### `Supplier`

**Описание**: Класс `Supplier` представляет собой поставщика товаров, с которым взаимодействует система.

**Принцип работы**: Класс инициализируется с префиксом поставщика, который определяет, с каким именно поставщиком будет работать экземпляр класса.

**Методы**:

-   отсутствуют, т.к.  в коде не вызываются какие-либо методы класса.

**Параметры**:

-   `supplier_prefix` (str): Префикс поставщика, например `'aliexpress'`, `'amazon'`, `'kualastyle'` или `'ebay'`.

### `Scenario`

**Описание**: Класс `Scenario` управляет выполнением сценариев для определенного поставщика.

**Принцип работы**: Класс инициализируется экземпляром класса `Supplier` и предоставляет методы для запуска сценариев.

**Методы**:

-   `run_scenarios()`: Запускает выполнение сценариев.

**Параметры**:

-   `s` (Supplier): Экземпляр класса `Supplier`, для которого запускаются сценарии.

## Функции

### `start_supplier`

```python
def start_supplier(supplier_prefix: str) -> Supplier:
    """
    Создает и возвращает экземпляр класса `Supplier` с заданным префиксом.

    Args:
        supplier_prefix (str): Префикс поставщика.

    Returns:
        Supplier: Экземпляр класса `Supplier`.
    """
```

**Назначение**: Функция создает экземпляр класса `Supplier` с заданным префиксом.

**Параметры**:

-   `supplier_prefix` (str): Префикс поставщика, например `'aliexpress'`, `'amazon'`, `'kualastyle'` или `'ebay'`.

**Возвращает**:

-   `Supplier`: Экземпляр класса `Supplier`.

**Как работает функция**:

1.  Функция принимает префикс поставщика (`supplier_prefix`) в качестве аргумента.
2.  Создает словарь `params`, содержащий этот префикс.
3.  Использует оператор `**params` для передачи параметров в конструктор класса `Supplier`.
4.  Возвращает созданный экземпляр класса `Supplier`.

```
    Префикс поставщика
        |
        V
    Создание словаря параметров
        |
        V
    Создание экземпляра Supplier
        |
        V
    Возврат экземпляра Supplier
```

**Примеры**:

```python
supplier_aliexpress = start_supplier('aliexpress')
supplier_amazon = start_supplier('amazon')
```

## Переменные

-   `path` (str): Корневая директория проекта, найденная путем поиска подстроки `'hypotez'` в текущей рабочей директории.
-   `supplier_prefix` (str): Префикс поставщика, используемый для создания экземпляра класса `Supplier`. Может принимать значения `'aliexpress'`, `'amazon'`, `'kualastyle'` или `'ebay'`.
-   `s` (Supplier): Экземпляр класса `Supplier`, созданный с использованием функции `start_supplier`.
-   `scenario` (Scenario): Экземпляр класса `Scenario`, созданный с использованием экземпляра класса `Supplier`.

## Использование

1.  Импортируются необходимые модули и классы: `sys`, `os`, `Path`, `json`, `re`, `gs`, `pprint`, `Scenario`, `Supplier`.
2.  Определяется корневая директория проекта `hypotez` и добавляется в `sys.path` для корректного импорта модулей.
3.  Определяется функция `start_supplier`, которая создает экземпляр класса `Supplier` с заданным префиксом.
4.  Выбирается префикс поставщика (`supplier_prefix`).
5.  Создается экземпляр класса `Supplier` с выбранным префиксом.
6.  Создается экземпляр класса `Scenario` с созданным экземпляром класса `Supplier`.
7.  Запускается выполнение сценариев с помощью метода `run_scenarios` класса `Scenario`.

```python
import sys
import os
from pathlib import Path
import json
import re
from hypotez import gs
from src.utils.printer import pprint
from src.scenario import Scenario
from src.suppliers import Supplier

def start_supplier(supplier_prefix: str) -> Supplier:
    params: dict = {
        'supplier_prefix': supplier_prefix
    }
    return Supplier(**params)

supplier_prefix = 'aliexpress'
s = start_supplier(supplier_prefix)
scenario = Scenario(s)
scenario.run_scenarios()