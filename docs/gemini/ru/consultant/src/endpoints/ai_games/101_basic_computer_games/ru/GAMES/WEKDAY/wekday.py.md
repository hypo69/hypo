# Анализ кода модуля `wekday.py`

**Качество кода**
6
-  Плюсы
    - Код выполняет поставленную задачу согласно описанию.
    - Присутствуют комментарии, объясняющие логику работы программы.
    - Код обрабатывает основные ошибки ввода пользователя, такие как некорректный ввод числа.
    - Есть разделение логики на блоки, что делает код более читаемым.
-  Минусы
    - Отсутствует необходимая документация в формате reStructuredText (RST).
    - Не используется `logger` для логирования ошибок.
    - Используются стандартные блоки `try-except` вместо `logger.error`.
    - Не проводится валидация границ ввода для года (должен быть положительным числом).
    - Нет импортов.

**Рекомендации по улучшению**
1. Добавить документацию в формате reStructuredText (RST) для модуля, а также для всех переменных.
2. Заменить стандартные блоки `try-except` на использование `logger.error` для обработки ошибок.
3. Добавить валидацию года (например, год должен быть положительным числом).
4. Добавить недостающие импорты.
5. Использовать `from src.utils.jjson import j_loads, j_loads_ns` если необходимо чтение файлов
6.  Использовать одинарные кавычки (`'`) вместо двойных (`"`) в строках.

**Оптимизированный код**
```python
"""
Модуль для определения дня недели по номеру дня в году.
=========================================================================================

Этот модуль предоставляет функциональность для определения дня недели для заданного дня в году и года.
Он учитывает високосные годы.

Пример использования
--------------------

Пример запуска модуля:

.. code-block:: python

    python wekday.py

"""


from src.logger.logger import logger # импортирует logger для логирования
# from src.utils.jjson import j_loads, j_loads_ns # импортирует j_loads и j_loads_ns если нужно работать с файлами


try:
    # Запрашивает у пользователя номер дня в году
    dayOfYear = int(input('Введите номер дня в году (1-366): '))
    # Проверяет, что введенный номер дня находится в допустимом диапазоне
    if not 1 <= dayOfYear <= 366:
        print('Пожалуйста, введите число от 1 до 366.')
        exit()
except ValueError as e:
    # Логирует ошибку, если ввод не является целым числом
    logger.error(f'Ошибка ввода номера дня: {e}')
    print('Пожалуйста, введите целое число.')
    exit()


try:
    # Запрашивает у пользователя год
    year = int(input('Введите год: '))
    # Проверка что год является положительным числом
    if year <= 0:
        print('Пожалуйста, введите положительный год.')
        exit()
except ValueError as e:
    # Логирует ошибку, если ввод не является целым числом
    logger.error(f'Ошибка ввода года: {e}')
    print('Пожалуйста, введите целое число.')
    exit()

# Определяет, является ли год високосным
isLeapYear = (year % 4 == 0 and year % 100 != 0) or (year % 400 == 0)

# Вычисляет день недели
if isLeapYear:
    dayOfWeek = (dayOfYear + 2) % 7 # 1 января високосного года - понедельник (второй день недели), поэтому добавляем 2
else:
    dayOfWeek = (dayOfYear + 1) % 7 # 1 января обычного года - воскресенье (первый день недели), поэтому добавляем 1

# Сопоставляет число дня недели со строковым представлением
days = ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота']
dayOfWeekStr = days[dayOfWeek] if dayOfWeek > 0 else days[6]  # Если 0, то это суббота


# Выводит результат
print(f'Это {dayOfWeekStr}.')

"""
Объяснение кода:
1.  **Ввод данных**:
    -   `try...except ValueError`: Блоки `try...except` используются для обработки возможных ошибок при вводе данных пользователем.
        Если пользователь вводит что-то, что нельзя преобразовать в целое число, программа выведет сообщение об ошибке и завершится.
        Вместо `print` для вывода ошибок используется `logger.error` для логирования ошибок.
    -   `dayOfYear = int(input('Введите номер дня в году (1-366): '))`: Запрашивает у пользователя ввод номера дня в году и преобразует ввод в целое число.
    -    `if not 1 <= dayOfYear <= 366`: Проверяет, является ли введенное число допустимым днем в году (1-366).
         Если нет, выводит сообщение об ошибке и завершает программу.
    -   `year = int(input('Введите год: '))`: Запрашивает у пользователя ввод года и преобразует ввод в целое число.
         Добавлена проверка, что год является положительным числом.
2.  **Определение високосного года**:
    -   `isLeapYear = (year % 4 == 0 and year % 100 != 0) or (year % 400 == 0)`: Определяет, является ли введенный год високосным.
        Год является високосным, если он делится на 4, но не делится на 100, или если он делится на 400.
3.  **Вычисление дня недели**:
    -   `if isLeapYear:`: Проверяет, является ли год високосным.
        - `dayOfWeek = (dayOfYear + 2) % 7`: Если год високосный, добавляем 2 к номеру дня, так как 1 января високосного года - понедельник.
          Вычисляет остаток от деления на 7, что дает нам день недели (0 - воскресенье, 1 - понедельник, ..., 6 - суббота).
    -   `else:`: Если год не високосный.
        -   `dayOfWeek = (dayOfYear + 1) % 7`:  Если год не високосный, добавляем 1 к номеру дня, так как 1 января обычного года - воскресенье.
          Также вычисляет остаток от деления на 7.
4.  **Преобразование числа дня недели в строку**:
     -   `days = ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота']`: Список названий дней недели.
     - `dayOfWeekStr = days[dayOfWeek] if dayOfWeek > 0 else days[6]`: Преобразуем число дня недели в строку, используя список `days`.
        Если `dayOfWeek` равен 0, устанавливаем день недели как 'Суббота'.
5.  **Вывод результата**:
    -   `print(f'Это {dayOfWeekStr}.')`: Выводит сообщение с днем недели на экран.
"""
```