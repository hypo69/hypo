# Модуль `category.py`

## Обзор

Модуль `category.py` представляет собой интерфейс для подготовки рекламных кампаний, в частности, для редактирования и подготовки категорий товаров для AliExpress. Этот модуль предоставляет графический интерфейс пользователя (GUI) на основе библиотеки PyQt6. Он позволяет пользователю загружать JSON-файлы с данными о кампаниях, просматривать информацию о категориях, подготавливать все или отдельные категории для использования в рекламных кампаниях.

## Содержание

- [Классы](#классы)
  - [`CategoryEditor`](#class-categoryeditor)
- [Функции](#функции)

## Классы

### `CategoryEditor`

**Описание**:
Класс `CategoryEditor` является главным виджетом для редактирования категорий. Он позволяет загружать данные кампании из JSON-файла, отображать их, а также подготавливать категории для рекламной кампании.

**Атрибуты**:
- `campaign_name` (str): Имя кампании.
- `data` (SimpleNamespace): Данные кампании, загруженные из JSON-файла.
- `language` (str): Язык кампании (по умолчанию 'EN').
- `currency` (str): Валюта кампании (по умолчанию 'USD').
- `file_path` (str): Путь к файлу кампании.
- `editor` (AliCampaignEditor): Экземпляр редактора кампаний.
- `main_app` (MainApp): Экземпляр главного приложения.

**Методы**:

- `__init__(self, parent=None, main_app=None)`
    
    **Описание**:
    Инициализирует окно редактора категорий.

    **Параметры**:
    - `parent` (QtWidgets.QWidget, optional): Родительский виджет. По умолчанию `None`.
    - `main_app` (MainApp, optional): Экземпляр главного приложения. По умолчанию `None`.

- `setup_ui(self)`
    
    **Описание**:
    Настраивает пользовательский интерфейс, создавая необходимые виджеты.

- `setup_connections(self)`
    
    **Описание**:
    Устанавливает связи между сигналами и слотами.

- `open_file(self)`
    
    **Описание**:
    Открывает диалоговое окно для выбора JSON-файла.

- `load_file(self, campaign_file)`
    
    **Описание**:
    Загружает JSON-файл и обрабатывает данные для отображения.

    **Параметры**:
    - `campaign_file` (str): Путь к JSON-файлу.

    **Вызывает исключения**:
    - `Exception`:  Если не удалось загрузить или обработать JSON-файл.

- `create_widgets(self, data)`
    
    **Описание**:
    Создает виджеты на основе загруженных данных кампании.

    **Параметры**:
    - `data` (SimpleNamespace): Данные кампании.

- `prepare_all_categories_async(self)`
    
    **Описание**:
    Асинхронно подготавливает все категории.

    **Вызывает исключения**:
    - `Exception`: Если не удалось подготовить все категории.

- `prepare_category_async(self)`
    
    **Описание**:
    Асинхронно подготавливает конкретную категорию.

    **Вызывает исключения**:
    - `Exception`: Если не удалось подготовить категорию.

## Функции
   В данном модуле нет отдельных функций, все действия выполняются в методах класса `CategoryEditor`