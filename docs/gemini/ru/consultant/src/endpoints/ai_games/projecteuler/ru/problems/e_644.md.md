# Анализ кода модуля e_644.md

**Качество кода**
1

- Плюсы
    -  Представлен текст условия задачи Project Euler на русском языке.
- Минусы
    -  Отсутствует код решения задачи.

**Рекомендации по улучшению**

1.  **Добавить код решения:** Необходимо реализовать код на Python для решения задачи, включая функции для проверки чисел Рамануджана-Харди и чисел, являющихся произведением трех различных простых чисел, а также основной алгоритм для поиска RHT(m).
2.  **Форматирование:** Комментарии в коде должны быть оформлены в reStructuredText (RST).
3.  **Импорты:** Добавить необходимые импорты (например, `math`, `itertools`).
4.  **Логирование:** Использовать `src.logger.logger` для логирования ошибок.
5.  **Документация:** Добавить docstrings к функциям.

**Оптимизированный код**

```python
"""
Модуль для решения задачи 644 Project Euler.
=========================================================================================

Задача заключается в поиске чисел, которые одновременно являются числами Рамануджана-Харди
и произведениями трех различных простых чисел.

Числа Рамануджана-Харди - это числа, которые могут быть выражены как сумма двух кубов двумя различными способами.
Числа вида n = p * q * r, где p, q и r - различные простые числа.
RHT(m) - m-е число, которое одновременно является числом Рамануджана-Харди и произведением трех различных простых чисел.
"""
from math import ceil, isqrt
from itertools import combinations
from src.logger.logger import logger
# from src.utils.jjson import j_loads, j_loads_ns # эти импорты не используются


def is_ramanujan_hardy(n: int) -> bool:
    """
    Проверяет, является ли число n числом Рамануджана-Харди.

    Число n является числом Рамануджана-Харди, если его можно представить как сумму двух кубов
    двумя различными способами (a³ + b³ = c³ + d³, где a, b, c, d - целые положительные числа).

    :param n: Число для проверки.
    :return: True, если число является числом Рамануджана-Харди, False в противном случае.
    """
    count = 0
    limit = ceil(n ** (1 / 3))
    for a in range(1, limit):
        b_cube = n - a ** 3
        if b_cube > 0:
             b = round(b_cube ** (1/3), 10)
             if b.is_integer() and b > 0 and b > a:
                count+=1
    return count >= 2


def is_product_of_three_primes(n: int) -> bool:
    """
    Проверяет, является ли число n произведением трех различных простых чисел.

    :param n: Число для проверки.
    :return: True, если число является произведением трех различных простых чисел, False в противном случае.
    """
    primes = []
    d = 2
    temp_n = n
    while d * d <= temp_n:
        if temp_n % d == 0:
            if not all(d % p == 0 for p in primes):
                primes.append(d)
            temp_n //= d
        else:
            d += 1
    if temp_n > 1 and not all(temp_n % p == 0 for p in primes):
        primes.append(temp_n)

    if len(primes) == 3:
        return all(p != q for p, q in combinations(primes, 2))
    return False



def find_rht(m: int) -> int:
    """
     Находит m-е число, которое одновременно является числом Рамануджана-Харди
    и произведением трех различных простых чисел.

    :param m: Индекс искомого числа RHT(m).
    :return: m-е число, которое удовлетворяет условиям.
    """
    count = 0
    n = 1729  # минимальное число Рамануджана-Харди
    while True:
        if is_ramanujan_hardy(n) and is_product_of_three_primes(n):
            count += 1
            if count == m:
                return n
        n += 1
        if n > 10**6: # устанавливает лимит проверки
            logger.error(f"не найдено {m} число. Остановлен поиск при n > 10**6")
            return -1


if __name__ == '__main__':
    rht_10 = find_rht(10)
    print(f"RHT(10) = {rht_10}") # Код выводит результат RHT(10)
```