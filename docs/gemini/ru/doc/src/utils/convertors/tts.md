# Модуль `hypotez/src/utils/convertors/tts.py`

## Обзор

Модуль `tts.py` предоставляет функции для распознавания речи (speech recognition) и генерации текста в речь (text-to-speech).  Он использует библиотеки `speech_recognition`, `pydub`, и `gtts`.  Модуль загружает аудио из URL или локального файла, распознаёт речь, конвертирует аудио в формат WAV и генерирует аудиофайл из текста.

## Оглавление

* [Распознавание речи](#speech-recognizer)
* [Генерация текста в речь](#text2speech)


## Функции

### `speech_recognizer`

**Описание**: Функция распознает речь из аудиофайла (URL или локального файла) и возвращает распознанный текст.

**Параметры**:

- `audio_url` (str, необязательно): URL аудиофайла.
- `audio_file_path` (Path, необязательно): Путь к локальному аудиофайлу.
- `language` (str): Код языка для распознавания (например, 'ru-RU'). По умолчанию 'ru-RU'.

**Возвращает**:

- str: Распознанный текст или сообщение об ошибке.

**Обрабатывает исключения**:

- `sr.UnknownValueError`: Возникает, если Google Speech Recognition не может понять аудио.
- `sr.RequestError`: Возникает, если не удалось получить результаты от сервиса Google Speech Recognition.
- `Exception`: Общая ошибка во время работы функции.


### `text2speech`

**Описание**: Функция конвертирует текст в аудио и сохраняет его в файл.

**Параметры**:

- `text` (str): Текст для конвертации в речь.
- `lang` (str, необязательно): Код языка для генерации речи (например, 'ru'). По умолчанию 'ru'.

**Возвращает**:

- str: Путь к сгенерированному аудиофайлу.

**Обрабатывает исключения**:

- `Exception`: Общая ошибка во время работы функции.