# `header.py`

## סקירה כללית

קובץ זה מספק פונקציונליות לאיתור אוטומטי של ספריית השורש של הפרויקט ב-Python. הוא משמש כדי לפשט עבודה עם נתיבים בתוך הפרויקט, במיוחד כאשר מבנה הפרויקט מורכב או כאשר יש צורך באיתור דינמי של ספריית השורש.

## תוכן עניינים

1. [סקירה כללית](#סקירה-כללית)
2. [פונקציות](#פונקציות)
    - [`set_project_root`](#set_project_root)
3. [שימוש](#שימוש)

## פונקציות

### `set_project_root`

**תיאור**:
הפונקציה `set_project_root` מגדירה את ספריית השורש של הפרויקט. היא מתחילה לחפש את ספריית השורש מהספרייה בה נמצא קובץ זה, ומתקדמת כלפי מעלה בהיררכיית הספריות. היא משתמשת בקבצי "סימון" כדי לזהות את ספריית השורש. לאחר מכן, היא מוסיפה את ספריית השורש ל-`sys.path` אם היא לא כבר נמצאת שם, ומחזירה את נתיב ספריית השורש.

**פרמטרים**:
אין פרמטרים.

**מחזיר**:
- `Path`: נתיב לספריית השורש של הפרויקט.

**הערות**:
- הפונקציה משתמשת ברשימה קבועה של קבצי סימון `MARKER_FILES` (`pyproject.toml`, `requirements.txt`, `.git`).
- החיפוש אחר ספריית השורש מסתיים כאשר אחד מקבצי הסימון נמצא או כשמגיעים לשורש מערכת הקבצים.

```python
def set_project_root() -> Path:
    """
    Args:
        None
    Returns:
        Path: מחזיר את הנתיב לספריית השורש.
    """
```
## שימוש

1. **איתור ספריית השורש**:
   - הפונקציה `set_project_root` מחפשת את ספריית השורש של הפרויקט, החל מהספרייה בה נמצא הקובץ הנוכחי ומתקדמת כלפי מעלה בהיררכיית הספריות.
   - כדי לזהות את ספריית השורש, נעשה שימוש בקבצי "סימון" (לדוגמה, `pyproject.toml`, `requirements.txt`, `.git`), שבדרך כלל נמצאים בשורש הפרויקט.
   - אם אחד מקבצי הסימון נמצא, הספרייה שבה הוא נמצא נחשבת לספריית השורש.

2.  **הוספת ספריית השורש ל-`sys.path`**:
   - אם ספריית השורש אינה נמצאת ב-`sys.path` (רשימת הנתיבים שבה Python מחפש מודולים), היא נוספת בתחילת הרשימה. זה מאפשר לייבא מודולים מספריית השורש של הפרויקט מבלי לציין נתיבים מלאים.

3.  **החזרת הנתיב לספריית השורש**:
    - הפונקציה מחזירה אובייקט `Path` המייצג את הנתיב לספריית השורש.

4.  **שמירת ספריית השורש במשתנה `__root__`**:
    - לאחר הפעלת הפונקציה `set_project_root`, התוצאה נשמרת במשתנה `__root__`, שניתן לשימוש בחלקים אחרים של הפרויקט.

## מדוע קוד זה נחוץ:

1.  **פישוט העבודה עם נתיבים**:
    - בפרויקטים גדולים, לעיתים קרובות יש צורך לעבוד עם קבצים וספריות הנמצאים בחלקים שונים של הפרויקט. קוד זה מגדיר אוטומטית את ספריית השורש, מה שמקל על יצירת נתיבים יחסיים.

2. **אוטומציה של יבוא מודולים**:
    - הוספת ספריית השורש ל-`sys.path` מאפשרת לייבא בקלות מודולים מכל חלק של הפרויקט, מבלי לדאוג ש-Python לא ימצא אותם.

3. **גמישות בעת העברת הפרויקט**:
    - אם הפרויקט מועבר לספרייה אחרת או אם מבנהו משתנה, קוד זה מסתגל אוטומטית, מכיוון שהוא מגדיר באופן דינמי את ספריית השורש.

4.  **אוניברסליות**:
    - הקוד אינו תלוי במבנה פרויקט ספציפי, אם קיימים קבצי סימון סטנדרטיים (לדוגמה, `pyproject.toml` או `.git`) בספריית השורש.