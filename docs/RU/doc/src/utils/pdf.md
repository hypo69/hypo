# Модуль hypotez/src/utils/pdf

## Обзор

Модуль `src.utils.pdf` предоставляет функции для преобразования HTML-контента или файлов в PDF-формат, используя различные библиотеки (pdfkit, reportlab, FPDF, weasyprint, xhtml2pdf). Он включает в себя настраиваемые методы, обеспечивающие гибкость в выборе инструментов для преобразования.


## Функции

### `set_project_root`

**Описание**:  Находит корневой каталог проекта, начиная от текущей директории файла, перемещаясь вверх по дереву директорий и останавливаясь на первой директории, содержащей указанные маркерные файлы.

**Параметры**:
- `marker_files` (tuple): Кортеж строк, представляющих имена файлов или каталогов, которые используются для определения корневого каталога проекта. По умолчанию это ('pyproject.toml', 'requirements.txt', '.git').

**Возвращает**:
- `Path`: Путь до корневого каталога проекта, если он найден, иначе возвращает каталог, где находится текущий скрипт.

### `save_pdf_pdfkit`

**Описание**: Сохраняет HTML-контент или файл в PDF-файл с использованием библиотеки `pdfkit`.

**Параметры**:
- `data` (str | Path): HTML-контент или путь к HTML-файлу, который необходимо преобразовать.
- `pdf_file` (str | Path): Путь к файлу, куда необходимо сохранить сгенерированный PDF-файл.


**Возвращает**:
- `bool`: `True`, если PDF успешно сохранен, иначе `False`.

**Возможные исключения**:
- `pdfkit.PDFKitError`: Ошибка при генерации PDF-файла библиотекой `pdfkit`.
- `OSError`: Ошибка доступа к файлу.
- `Exception`: Возникает при других непредвиденных ошибках.

### `save_pdf_fpdf`

**Описание**: Сохраняет текст в PDF-файл с использованием библиотеки FPDF.

**Параметры**:
- `data` (str): Текст, который необходимо сохранить в PDF-файл.
- `pdf_file` (str | Path): Путь к файлу, куда необходимо сохранить сгенерированный PDF-файл.

**Возвращает**:
- `bool`: `True`, если PDF успешно сохранен, иначе `False`.

**Возможные исключения**:
- `FileNotFoundError`: Ошибка, если не найден файл шрифтов.
- `Exception`: Возникает при других непредвиденных ошибках.

### `save_pdf_weasyprint`

**Описание**: Сохраняет HTML-контент или файл в PDF-файл с использованием библиотеки `WeasyPrint`.

**Параметры**:
- `data` (str | Path): HTML-контент или путь к HTML-файлу, который необходимо преобразовать.
- `pdf_file` (str | Path): Путь к файлу, куда необходимо сохранить сгенерированный PDF-файл.

**Возвращает**:
- `bool`: `True`, если PDF успешно сохранен, иначе `False`.

**Возможные исключения**:
- `Exception`: Возникает при других непредвиденных ошибках.


### `save_pdf_xhtml2pdf`

**Описание**: Сохраняет HTML-контент или файл в PDF-файл с использованием библиотеки `xhtml2pdf`.

**Параметры**:
- `data` (str | Path): HTML-контент или путь к HTML-файлу, который необходимо преобразовать.
- `pdf_file` (str | Path): Путь к файлу, куда необходимо сохранить сгенерированный PDF-файл.

**Возвращает**:
- `bool`: `True`, если PDF успешно сохранен, иначе `False`.

**Возможные исключения**:
- `Exception`: Возникает при других непредвиденных ошибках.


## Классы

### `PDFUtils`

**Описание**:  Класс для работы с PDF-файлами. Предоставляет статические методы для сохранения HTML-контента в PDF с использованием различных библиотек.


```
```

## Постоянные переменные


### `MODE`

**Описание**:  Строковая переменная, вероятно, используется для обозначения режима работы модуля (например, 'dev' или 'prod').


### `__root__`

**Описание**:  Переменная, содержащая путь к корневому каталогу проекта, полученный с помощью функции `set_project_root()`.  Тип `Path`.


### `wkhtmltopdf_exe`

**Описание**:  Путь к исполняемому файлу `wkhtmltopdf`.


## Дополнительная информация

- Модуль использует библиотеки `pdfkit`, `reportlab`, `FPDF`, `weasyprint`, `xhtml2pdf`.
- Документация по каждой библиотеке может быть полезной для более глубокого понимания.
- Документированные пути к файлам шрифтов (`fonts.json` и `.ttf файлы`) и  библиотеки `wkhtmltopdf.exe`  важны для правильной работы функций.
- Обратите внимание на обработку исключений и логирование, которое позволяет отслеживать потенциальные ошибки.