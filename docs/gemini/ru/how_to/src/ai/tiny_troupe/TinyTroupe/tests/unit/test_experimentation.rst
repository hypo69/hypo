Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код содержит тесты для класса `ABRandomizer`, который реализует алгоритм рандомизации для A/B тестирования. Функции `randomize`, `derandomize` и `derandomize_name` обеспечивают генерацию случайных вариантов, их дерандомизацию и получение исходного имени порандомизированному значению. Тесты проверяют корректность работы этих функций для разных входов.

Шаги выполнения
-------------------------
1. Импортируются необходимые модули, включая `ABRandomizer` и вспомогательные функции из `testing_utils`.
2. Создается экземпляр класса `ABRandomizer`.
3. В цикле `for` функция `randomize` вызывается несколько раз (в примере - 20 раз) для разных индексов и вариантов `option1` и `option2`.
4. Проверяется, что сгенерированные пары `(a, b)` соответствуют выбранному случайному варианту (0,1) или (1,0) из массива `randomizer.choices`. Возникает исключение, если не найдено соответствия.
5. Функция `derandomize` используется для проверки корректной дерандомизации. Проверяется, что возвращаемая пара `(c, d)` совпадает с исходной парой `(option1, option2)`.
6. Функция `test_derandomize_name` тестирует `derandomize_name`. Она проверяет, что полученное имя соответствует либо "control", либо "treatment", основываясь на значениях из `randomizer.choices`.
7. В `test_passtrough_name` демонстрируется, как можно настроить `ABRandomizer`, чтобы определенные значения проходили через рандомизацию без изменения.
8. Функции `test_intervention_1` пока не реализованы.


Пример использования
-------------------------
.. code-block:: python

    import sys
    sys.path.append('path/to/tinytroupe')  # Замените на фактический путь
    sys.path.append('path/to/testing_utils')  # Замените на фактический путь

    from tinytroupe.experimentation import ABRandomizer
    from testing_utils import *  # Замените на фактический импорт

    randomizer = ABRandomizer()
    a, b = randomizer.randomize(10, "Вариант A", "Вариант B")
    print(f"Рандомизированные варианты: {a}, {b}")
    c, d = randomizer.derandomize(10, a, b)
    print(f"Дерандомизированные варианты: {c}, {d}")
    real_name = randomizer.derandomize_name(10, a)
    print(f"Исходное имя: {real_name}")