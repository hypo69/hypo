Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код реализует автоматизированную отправку рекламных событий в группы Facebook.  Он загружает список целевых групп из JSON-файлов, определяет список событий и отправляет эти события в указанные группы через FacebookPromoter.  Код использует веб-драйвер для взаимодействия с Facebook и  осуществляет циклическую отправку событий с задержкой в 2 часа. Программа может быть остановлена вручную.


Шаги выполнения
-------------------------
1. **Инициализация:**
   - Импортирует необходимые модули (math, time, `jjson`, вебдрайвер, FacebookPromoter, и логирование).
   - Создает объект веб-драйвера (Driver) с использованием Chrome.
   - Открывает веб-страницу Facebook.
   - Загружает список путей к файлам с данными о группах (filenames).
   - Загружает список исключаемых файлов (excluded_filenames).
   - Загружает список названий событий (events_names).
   - Создает экземпляр класса `FacebookPromoter`, передавая ему объект веб-драйвера, список путей к файлам с данными о группах и флаг `no_video`.

2. **Циклическая отправка событий:**
   - Запускает бесконечный цикл `while True`.
   - Внутри цикла:
     - Выводит текущее время в лог.
     - Вызывает метод `run_events` у объекта `FacebookPromoter`, передавая ему список событий и список файлов.
     - Выводит текущее время в лог.
     - Приостанавливает выполнение программы на 7200 секунд (2 часа).

3. **Обработка прерывания:**
   - Использует блок `try...except KeyboardInterrupt`, чтобы обработать прерывание программы (например, нажатие Ctrl+C).
   - При прерывании выводит сообщение "Campaign promotion interrupted" в лог.


Пример использования
-------------------------
.. code-block:: python

    # Предполагается, что все необходимые модули и классы уже импортированы
    # и что FacebookPromoter, Driver и Chrome определены.

    # ... (Код для инициализации, как в шаге 1) ...
    
    try:
        while True:
            logger.debug(f"Starting event sending at {time.strftime('%H:%M:%S')}")
            promoter.run_events(events_names=events_names, group_file_paths=filenames)
            logger.debug(f"Event sending complete at {time.strftime('%H:%M:%S')}")
            time.sleep(7200)  # Задержка в 2 часа
    except KeyboardInterrupt:
        logger.info("Campaign promotion interrupted.")