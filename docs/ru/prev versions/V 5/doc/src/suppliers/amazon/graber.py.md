# Модуль `graber.py` для Amazon
## Обзор

Модуль `graber.py` предназначен для сбора информации о товарах с сайта `amazon.com`. Он содержит класс `Graber`, который наследуется от класса `Graber` из модуля `src.suppliers.graber`. Класс `Graber` переопределяет некоторые методы родительского класса для обработки специфичных полей товаров на `amazon.com`.

## Подробней

Этот модуль является частью системы сбора данных о товарах с различных онлайн-магазинов. Он специализируется на сборе данных с сайта `amazon.com`. Для каждого поля товара на странице реализована функция обработки, которая может быть переопределена в этом классе, если требуется нестандартная обработка.

Перед отправкой запроса к веб-драйверу можно выполнить предварительные действия с помощью декоратора. Декоратор по умолчанию находится в родительском классе. Для того чтобы декоратор сработал, необходимо передать значение в `Context.locator`. Если требуется реализовать свой декоратор, можно раскомментировать соответствующие строки кода и переопределить его поведение.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `amazon.com`. Он наследуется от класса `Graber` из модуля `src.suppliers.graber` и переопределяет некоторые методы для обработки специфичных полей товаров на `amazon.com`.

**Как работает класс**:
1.  При инициализации класса устанавливается префикс поставщика (`amazon`) и вызывается конструктор родительского класса.
2.  Устанавливаются глобальные настройки через `Context`. В частности, `Context.locator_for_decorator` устанавливается в `None`, что означает, что декоратор `@close_pop_up` не будет выполняться по умолчанию.

**Методы**:

*   `__init__(self, driver: Driver, lang_index: int)`: Инициализация класса.

    **Описание**: Инициализирует экземпляр класса `Graber`.

    **Параметры**:
    *   `driver` (`Driver`): Экземпляр веб-драйвера для взаимодействия с сайтом `amazon.com`.
    *   `lang_index` (`int`): Индекс языка.

    **Возвращает**: None

    **Вызывает исключения**: Нет

**Параметры класса**:

*   `supplier_prefix` (`str`): Префикс поставщика, устанавливается в `amazon`.

## Функции

### `close_pop_up`

```python
def close_pop_up(value: Any = None) -> Callable:
    """Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

    Args:
        value (Any): Дополнительное значение для декоратора.

    Returns:
        Callable: Декоратор, оборачивающий функцию.
    """
```

**Описание**: Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.
Этот код закомментирован и служит в качестве шаблона.

**Как работает функция**:

1.  Функция `close_pop_up` принимает необязательный параметр `value`.
2.  Она возвращает декоратор, который принимает функцию `func` в качестве аргумента.
3.  Декоратор оборачивает функцию `func` в функцию `wrapper`.
4.  Функция `wrapper` пытается выполнить локатор `Context.locator.close_pop_up` для закрытия всплывающего окна.
5.  Если выполнение локатора завершается с ошибкой, в лог записывается отладочное сообщение.
6.  В конце функция `wrapper` вызывает функцию `func` и возвращает ее результат.

**Параметры**:

*   `value` (`Any`, optional): Дополнительное значение для декоратора. По умолчанию `None`.

**Возвращает**:

*   `Callable`: Декоратор, оборачивающий функцию.

**Вызывает исключения**:

*   `ExecuteLocatorException`: Если возникает ошибка при выполнении локатора `Context.locator.close_pop_up`.

**Примеры**:

```python
# Пример использования декоратора
# @close_pop_up()
# async def my_function():
#     ...
```