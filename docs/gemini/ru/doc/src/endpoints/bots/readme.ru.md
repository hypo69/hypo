# Модуль Ботов для Telegram и Discord

## Обзор

Модуль предоставляет реализацию ботов для двух платформ: Telegram и Discord. Боты предназначены для выполнения различных задач, таких как обработка голосовых сообщений, отправка и получение документов, управление голосовыми каналами, обучение и тестирование моделей машинного обучения, а также взаимодействие с пользователями через текстовые команды.

## Содержание

- [Обзор](#обзор)
- [Структура Модуля](#структура-модуля)
- [Установка и Настройка](#установка-и-настройка)
  - [Требования](#требования)
  - [Установка](#установка)
  - [Настройка](#настройка)
- [Запуск Ботов](#запуск-ботов)
  - [Запуск Telegram Bot](#запуск-telegram-bot)
  - [Запуск Discord Bot](#запуск-discord-bot)
- [Использование](#использование)
  - [Telegram Bot](#telegram-bot)
    - [Команды](#команды)
    - [Обработка сообщений](#обработка-сообщений)
  - [Discord Bot](#discord-bot)
    - [Команды](#команды-1)
    - [Обработка сообщений](#обработка-сообщений-1)
- [Логирование](#логирование)
- [Тестирование](#тестирование)
- [Вклад в проект](#вклад-в-проект)
- [Лицензия](#лицензия)

## Структура Модуля

Модуль состоит из двух основных частей:

1. **Telegram Bot**:
   - Реализован в файле `hypotez/src/endpoints/bots/telegram/bot.py`.
   - Обрабатывает команды пользователя, такие как `/start`, `/help`, `/sendpdf`.
   - Поддерживает обработку голосовых сообщений и документов.
   - Предоставляет функционал для отправки PDF-файлов.

2. **Discord Bot**:
   - Реализован в файле `hypotez/src/bots/discord/discord_bot_trainger.py`.
   - Обрабатывает команды пользователя, такие как `!hi`, `!join`, `!leave`, `!train`, `!test`, `!archive`, `!select_dataset`, `!instruction`, `!correct`, `!feedback`, `!getfile`.
   - Поддерживает управление голосовыми каналами и обработку аудиофайлов.
   - Предоставляет функционал для обучения и тестирования моделей машинного обучения.

## Установка и Настройка

### Требования

- Python 3.12
- Библиотеки, указанные в `requirements.txt`

### Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/yourusername/yourrepository.git
   cd yourrepository
   ```

2. Создайте виртуальное окружение и активируйте его:
   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Unix/MacOS
   venv\\Scripts\\activate  # Для Windows
   ```

3. Установите необходимые зависимости:
   ```bash
   pip install -r requirements.txt
   ```

### Настройка

1. **Telegram Bot**:
   - Получите токен для вашего Telegram бота через [BotFather](https://core.telegram.org/bots#botfather).
   - Установите токен в базу данных паролей `credentials.kdbx` под ключом `gs.credentials.telegram.bot.kazarinov`.

2. **Discord Bot**:
   - Создайте бота на платформе Discord и получите токен.
   - Установите токен в базу данных паролей `credentials.kdbx` под ключом `gs.credentials.discord.bot_token`.

## Запуск Ботов

### Запуск Telegram Bot

```bash
python hypotez/src/endpoints/bots/telegram/bot.py
```

### Запуск Discord Bot

```bash
python hypotez/src/bots/discord/discord_bot_trainger.py
```

## Использование

### Telegram Bot

- **Описание**: Бот для платформы Telegram, предназначенный для обработки команд и сообщений пользователей.

#### Команды:

- `/start`: Запуск бота.
- `/help`: Показать список доступных команд.
- `/sendpdf`: Отправить PDF-файл.

#### Обработка сообщений:

- Текстовые сообщения: Бот отвечает на текстовые сообщения.
- Голосовые сообщения: Бот распознает речь и отправляет распознанный текст.
- Документы: Бот обрабатывает полученные документы.

### Discord Bot

- **Описание**: Бот для платформы Discord, предназначенный для управления голосовыми каналами, обработки сообщений и обучения моделей машинного обучения.

#### Команды:

- `!hi`: Приветствие.
- `!join`: Подключить бота к голосовому каналу.
- `!leave`: Отключить бота от голосового канала.
- `!train`: Обучить модель с предоставленными данными.
- `!test`: Протестировать модель с предоставленными данными.
- `!archive`: Архивировать файлы в указанной директории.
- `!select_dataset`: Выбрать датасет для обучения модели.
- `!instruction`: Показать инструкцию из внешнего файла.
- `!correct`: Исправить предыдущий ответ по ID сообщения.
- `!feedback`: Отправить отзыв о работе бота.
- `!getfile`: Прикрепить файл по указанному пути.

#### Обработка сообщений:

- Текстовые сообщения: Бот отвечает на текстовые сообщения.
- Голосовые сообщения: Бот распознает речь и отправляет распознанный текст.
- Документы: Бот обрабатывает полученные документы.

## Логирование

Логирование осуществляется с помощью модуля `src.logger`. Все важные события и ошибки записываются в лог-файл.

## Тестирование

Для тестирования ботов рекомендуется использовать тестовые команды и проверять ответы ботов в соответствующих платформах.

## Вклад в проект

Если вы хотите внести свой вклад в проект, пожалуйста, создайте pull request с вашими изменениями. Убедитесь, что ваш код соответствует существующему стилю кодирования и проходит все тесты.

## Лицензия

Этот проект лицензирован под [MIT License](LICENSE).