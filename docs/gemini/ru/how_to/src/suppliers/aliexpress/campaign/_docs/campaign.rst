Как использовать модуль campaign
========================================================================================

Описание
-------------------------
Модуль `campaign` предназначен для управления и редактирования рекламных кампаний AliExpress, взаимодействия с Google Таблицами для обработки данных и подготовки данных кампании для использования.  Он загружает, обрабатывает и сохраняет информацию о кампаниях и продуктах, связанных с ними.

Шаги выполнения
-------------------------
1. **Инициализация:** Создается экземпляр класса `AliPromoCampaign` с необходимыми параметрами (название кампании, категория, язык, валюта, флаг принудительного обновления).
2. **Получение пути к данным:** Модуль определяет пути к файлам с данными кампании и категории в хранилище Google Диска.
3. **Загрузка данных:** Загружаются JSON-данные кампании.
4. **Инициализация кампании:** Метод `initialize_campaign()` создаёт объект `SimpleNamespace` для хранения данных кампании, извлекает название кампании (`self.title`) и категорию (`self.category`), а также продукты в категории (`self.category.products`).
5. **Получение продуктов категории:** Метод `get_category_products()` извлекает данные о продуктах, связанных с указанной категорией.  Если `force_update=True`, обновляются данные.
6. **Подготовка данных:** Метод `prepare_products()` готовит данные для дальнейшей обработки, например, извлекая данные из файлов sources.txt и sources.csv, преобразуя CSV в словарь (csv2dict) и извлекая идентификаторы продуктов (`prod_ids`).
7. **Обработка продуктов-партнёров:** Метод `process_affiliate_products()` обрабатывает данные продуктов-партнёров.

Пример использования
-------------------------
.. code-block:: python

    from src.suppliers.aliexpress.campaign import AliPromoCampaign
    from pathlib import Path

    # Пример использования для обработки одной категории кампании
    campaign = AliPromoCampaign(
        campaign_name="SummerSale",
        category_name="Electronics",
        language="EN",
        currency="USD",
        force_update=True
    )

    campaign.initialize_campaign()  # Инициализация кампании

    # Получение и вывод продуктов
    for product in campaign.category.products:
        print(product.name)

    # ... дальнейшая обработка продуктов ...