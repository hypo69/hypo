# Модуль `product_fields_translator`

## Обзор

Модуль `product_fields_translator.py` предназначен для перевода полей товара на языки клиентской базы данных. Он обеспечивает преобразование идентификаторов языков в данных о товаре, полученных от поставщика, в соответствующие идентификаторы языков в базе данных клиента. Это позволяет корректно отображать мультиязычные данные о товаре на клиентском сайте.

## Содержание

1. [Функции](#функции)
   - [`rearrange_language_keys`](#rearrange_language_keys)
   - [`translate_presta_fields_dict`](#translate_presta_fields_dict)

## Функции

### `rearrange_language_keys`

**Описание**: Функция обновляет идентификатор языка в словаре `presta_fields_dict` на соответствующий идентификатор из схемы клиентских языков при совпадении языка страницы.

**Параметры**:
- `presta_fields_dict` (dict): Словарь полей товара.
- `client_langs_schema` (dict | List[dict]): Схема языков клиента.
- `page_lang` (str): Язык страницы.

**Возвращает**:
- `dict`: Обновленный словарь `presta_fields_dict`.

### `translate_presta_fields_dict`

**Описание**: Функция переводит мультиязычные поля в соответствии со схемой значений `id` языка в базе данных клиента. Она получает на вход словарь полей, ищет соответствия языков и обновляет значения.

**Параметры**:
- `presta_fields_dict` (dict): Словарь полей товара, собранный со страницы поставщика.
- `client_langs_schema` (list | dict): Словарь актуальных языков на клиенте.
- `page_lang` (str, optional): Язык страницы поставщика в коде `en-US`, `ru-RU`, `he_HE`. Если не задан, функция пытается определить по тексту. По умолчанию `None`.

**Возвращает**:
- `dict`: Переведенный словарь полей товара.

**Вызывает исключения**:
- `Exception`:  Возникает в случае ошибки при обработке данных, логируется в консоль.