Как использовать класс Supplier
========================================================================================

Описание
-------------------------
Класс `Supplier` предназначен для выполнения сценариев для различных поставщиков. Он загружает конфигурацию поставщика, выполняет вход на сайт, и запускает сценарии, заданные в файлах или списке сценариев.  Класс использует Pydantic для валидации данных и `j_loads_ns` для обработки JSON настроек.

Шаги выполнения
-------------------------
1. **Инициализация объекта `Supplier`:** Создается экземпляр класса `Supplier`, передавая необходимые параметры, такие как `supplier_prefix` (префикс поставщика).  Это имя используется для нахождения соответствующего модуля и файла настроек.
2. **Загрузка параметров поставщика:** Метод `_payload` выполняет следующие действия:
    - Ищет модуль, связанный с поставщиком, по префиксу `src.suppliers.{supplier_prefix}`.
    - Определяет путь к файлу настроек поставщика `gs.path.src / 'suppliers' / f'{self.supplier_prefix}_settings.json'`.
    - Загружает настройки из файла настроек с помощью функции `j_loads_ns`.
    - Проверяет успешность загрузки и возвращает `True` или `False`.
    - Если загрузка успешна, сохраняет загруженные параметры в атрибутах класса (`price_rule`, `locale`, `scenario_files`, `locators`).
3. **Вход на сайт (метод `login`):** Этот метод вызывает функцию `login` из модуля, связанного с поставщиком, передавая текущий экземпляр `Supplier`.
4. **Запуск сценариев (методы `run_scenario_files`, `run_scenarios`):** Эти методы запускают сценарии, которые могут быть заданы в виде списка файлов (`scenario_files`) или списка словарей (`scenarios`).  Если `scenario_files` не указан, используется значение из атрибута `self.scenario_files`. Методы `run_scenario_files` и `run_scenarios` вызывают соответствующие функции для выполнения сценариев, передавая экземпляр `Supplier` и список сценариев.

Пример использования
-------------------------
.. code-block:: python

    from hypotez.src.suppliers.supplier import Supplier
    import gs

    # Предположим, что у вас есть переменная gs.path, содержащая путь к папке src.
    # В реальном коде добавьте эту строку.

    try:
        supplier = Supplier(supplier_prefix='amazon')
        if supplier._payload():
            if supplier.login():
                # Запуск сценариев из списка файлов
                scenario_files = ['scenario1.py', 'scenario2.py']
                if supplier.run_scenario_files(scenario_files):
                    print("Сценарии успешно выполнены.")
                else:
                    print("Ошибка при выполнении сценариев.")
            else:
                print("Ошибка входа на сайт.")
        else:
            print("Ошибка загрузки настроек.")
    except Exception as e:
        print(f"Произошла ошибка: {e}")