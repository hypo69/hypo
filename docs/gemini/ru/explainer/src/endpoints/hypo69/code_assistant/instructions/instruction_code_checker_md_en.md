## Анализ кода модуля `<module_name>`

**Code Quality**

1.  **Compliance with code formatting standards**: 7/10
    *   **Pros**:
        *   Четко сформулированные требования к коду, включая использование одинарных и двойных кавычек, сохранение комментариев, обработку данных и структуру.
        *   Есть подробные примеры документации функций и модулей в формате RST, что способствует созданию качественной документации.
        *   Указаны конкретные импорты и способы обработки ошибок, что помогает поддерживать единообразие в проекте.
    *   **Cons**:
        *   Недостаточно внимания уделено обработке исключений, особенно предлагается отказ от `try-except` в пользу `logger.error`, что может привести к непредвиденным остановкам.
        *   Упоминание об улучшении `TODO` и их примеров, но не указано как они должны быть реализованы, требуется более четкое описание.
        *   Инструкция предполагает использование `j_loads` или `j_loads_ns`, но не предоставляет их конкретных реализаций, а также не предоставляет примеров их использования.
        *   Нет четких указаний по использованию `...`, что может привести к неправильному пониманию и ошибкам.

**Improvement Recommendations**

1.  **Обработка ошибок**: Вместо полного отказа от `try-except`, использовать его для обработки конкретных исключений и логировать их с помощью `logger.error`.
2.  **Реализация `TODO`**:  Более четко определить, как должны быть оформлены и обрабатываться `TODO`-комментарии.
3.  **`j_loads` и `j_loads_ns`**: Предоставить примеры использования и указать их отличия от стандартного `json.load`.
4.  **`...`**: Уточнить, как и когда следует использовать `...`, чтобы избежать неоднозначности.
5.  **Примеры**: Предоставлять больше примеров кода для каждого правила и случая, чтобы облегчить понимание и реализацию.
6.  **Конкретизация**: В комментариях вместо общих фраз "получаем", "делаем", использовать более конкретные действия, такие как "загружаем", "проверяем", "отправляем".

**Optimized Code**

```python
"""
Инструкция для анализа и улучшения кода.
=========================================================================================

Этот модуль содержит инструкции для анализа и улучшения кодовой базы, обеспечивая соответствие стандартам
и повышение качества кода.

Пример использования
--------------------

Пример использования инструкций:

.. code-block:: python

    # Использовать эту инструкцию для проверки и улучшения кода в вашем проекте
    # Убедитесь, что код соответствует всем требованиям и рекомендациям

"""

# INSTRUCTION
## Main Requirements:
## Output Language: RU (Russian)

1.  **Documentation Format**:

    -   Всегда используйте одинарные кавычки (`'`) в коде Python. Например: `a = 'A1'`; `['a','b',...]`; `{'a':q,'b':'c'}`
    -   Двойные кавычки используйте только в операциях вывода. Например: `print("Hello, world!")`; `input("Name")`; `logger.error("Error")`.

2.  **Preserving Comments**:
    -   Все существующие комментарии после `#` должны оставаться без изменений.
    -   Блоки кода, которые нужно изменить, должны быть закомментированы построчно с помощью символа `#`.

3.  **Data Handling**:
    -   Используйте `j_loads` или `j_loads_ns` из `src.utils.jjson` вместо стандартного `json.load` для чтения файлов.
    -   Оставляйте все `...` в коде без изменений, как заполнители.
    -   `logger` всегда должен быть импортирован из `src.logger`. Пример: `from src.logger import logger`.

4.  **Structure Analysis**:
    -   Проверьте и добавьте любые недостающие импорты в коде.
    -   Согласуйте имена функций, имена переменных и импорты с ранее обработанными файлами.

5.  **Refactoring and Improvements**:
    -   Добавьте комментарии в формате RST ко всем функциям, методам и классам.
    -   Используйте `from src.logger.logger import logger` для логирования ошибок.
    -   Избегайте чрезмерного использования стандартных блоков `try-except`, предпочитая обработку ошибок с помощью `logger.error`.
    -   В комментариях избегайте расплывчатых слов, таких как 'получаем' или 'делаем'. Используйте конкретные термины, такие как 'проверяем', 'отправляем' или 'код выполняет ...'.

6. **Code Examples**:
    - Включите примеры документации в RST формате и возможных улучшений в формате `TODO`.

7.  **Final Code**:
    -   Итоговый ответ должен включать полный (исходный и улучшенный) код в одном блоке, готовый для копирования и вставки.
    -   Все измененные разделы кода должны быть прокомментированы построчно с использованием символа `#` в этом блоке.
    
8.  **Additional Instruction**:
    -   Включите описание модуля в начало файла.
    -   Документируйте каждую функцию, метод и переменную.
    -   Следуйте стандартам Python docstring (для Sphinx).
    -   Комментарии после символа `#` должны предоставлять подробные объяснения блока кода, который следует за ним.

    Пример формата документации модуля:

    ```python
    """
    Модуль для помощника программиста
    =========================================================================================

    Этот модуль содержит класс :class:`CodeAssistant`, который используется для работы с различными моделями ИИ,
    такими как Google Gemini и OpenAI, для выполнения задач по обработке кода.

    Пример использования
    --------------------

    Пример использования класса `CodeAssistant`:

    .. code-block:: python

        assistant = CodeAssistant(role='code_checker', lang='ru', model=['gemini'])
        assistant.process_files()
    """
    ```

    Пример формата документации функции:
    
       Пример 1.
    ```python
    @close_pop_up()
    async def specification(self, value: Any = None):
        """Получение и установка спецификации.

        Args:
            value (Any): Это значение может быть передано в словаре `kwargs` с помощью ключа `{specification = value}` при определении класса.
            Если `value` предоставлено, его значение присваивается полю `ProductFields.specification`.
        """
        try:
            # Код извлекает значение с помощью execute_locator
            value = value or await self.driver.execute_locator(self.locator.specification) or ''
        except Exception as ex:
            logger.error('Ошибка при получении значения в поле `specification`', ex)
            ...
            return

        # Проверка результата
        if not value:
            logger.debug(f'Недопустимый результат {value=}\nlocator {self.locator.specification}')
            ...
            return

        # Если значение является списком, код преобразует его в строку с разделителем `\n`
        if isinstance(value, list):
            value = '\n'.join(map(str, value))

        # Код присваивает результат полю `specification` объекта `ProductFields`
        self.fields.specification = value
        return True
    ```
    
       Пример 2.
    ```python
    async def save_text_file(
        file_path: str | Path,
        data: str | list[str] | dict,
        mode: str = 'w'
    ) -> bool:
        """
        Асинхронно сохраняет данные в текстовый файл.

        Args:
            file_path (str | Path): Путь к файлу для сохранения.
            data (str | list[str] | dict): Данные для записи.
            mode (str, optional): Режим записи файла ('w' для записи, 'a' для добавления).

        Returns:
            bool: True, если файл был успешно сохранен, False в противном случае.

        Raises:
            Exception: В случае ошибки при записи файла.

        Example:
            >>> from pathlib import Path
            >>> file_path = Path('example.txt')
            >>> data = 'Example text'
            >>> result = await save_text_file(file_path, data)
            >>> print(result)
            True
        """
        ...
    ```

## Response Block Order:
Структура ответа должна быть следующей:
**Title**
    Code Analysis of Module `<module_name>`

**Code Quality**
<Соответствие стандартам форматирования кода от 1 до 10>
 - Pros
        <положительные аспекты кода>
 - Cons
        <отрицательные аспекты кода>
**Improvement Recommendations**
**Optimized Code**
   - Код должен быть заключен в соответствующие теги подсветки синтаксиса (например, `python`, `markdown`, `json`).

## Ответ не должен начинаться с ` ``` `. Используйте их только для оборачивания блоков кода.
```