# Модуль hypotez/src/webdriver/chrome/chrome.py

## Обзор

Модуль `hypotez/src/webdriver/chrome/chrome.py` предоставляет реализацию WebDriver для браузера Chrome, используя Selenium. Он интегрирует настройки, определённые в файле конфигурации `chrome.json`, такие как user-agent и настройки профиля браузера, для гибкого и автоматизированного взаимодействия с браузером.

## Классы

### `Chrome`

**Описание**: Класс `Chrome` расширяет класс `webdriver.Chrome` для работы с Chrome WebDriver.  Обеспечивает создание единственного экземпляра драйвера,  настройки из файла конфигурации и интеграцию с дополнительными функциональными возможностями.

**Атрибуты:**

- `_instance`:  Экземпляр класса, используемый для обеспечения единственности.
- `driver_name`: Название драйвера ('chrome').
- `config`:  Объект SimpleNamespace, содержащий данные из файла конфигурации `chrome.json`.


**Методы:**

#### `__new__`

**Описание**:  Метод `__new__` гарантирует создание единственного экземпляра класса `Chrome`.  Если экземпляр уже существует, вызывается метод `window_open()` для открытия нового окна.

**Возвращает**: Экземпляр класса `Chrome`.

#### `__init__`

**Описание**: Инициализирует Chrome WebDriver с указанными параметрами и профилем.

**Параметры**:
- `user_agent` (Optional[str]): Строка user-agent. По умолчанию случайный user-agent.

**Вызывает исключения**:
- `Exception`:  Возникает при ошибках при загрузке конфигурации, настройке драйвера или инициализации.  Обработка ошибок производится с помощью блоков `try...except` и выводом сообщений в лог.


#### `_payload`

**Описание**: Загружает исполнители для локейторов и сценариев JavaScript.

**Возвращает**:  `None`

## Функции

### `normalize_path`

**Описание**: Заменяет плейсхолдеры в пути на реальные пути, используя переменные окружения.

**Параметры**:
- `path` (str): Строка пути с плейсхолдерами, например, `%APPDATA%`.

**Возвращает**:
- `str`: Нормализованный путь с подставленными значениями переменных окружения.


**Примечания**:  Модуль использует файловый менеджер, импорт модулей и реализует валидацию введенных параметров.  Обработка исключений, сообщения в лог и верификация параметров позволяют гарантировать надёжную работу.