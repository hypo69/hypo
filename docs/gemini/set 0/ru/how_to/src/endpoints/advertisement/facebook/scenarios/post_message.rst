Как использовать функцию post_message
========================================================================================

Описание
-------------------------
Функция `post_message` предназначена для публикации сообщения на Facebook. Она принимает данные о сообщении (заголовок, описание) и список файлов медиа (изображения, видео). Функция обрабатывает заполнение формы публикации, загрузку медиа-файлов, добавление подписей к ним и, наконец, публикацию сообщения.  Она использует объект `Driver` для взаимодействия с веб-страницей Facebook.  Функция `post_message` использует вспомогательные функции `post_title`, `upload_media` и `publish`.

Шаги выполнения
-------------------------
1. **Проверка входных данных:** Функция проверяет, что переданный параметр `message` не пустой.

2. **Заполнение заголовка и описания сообщения:**  Вызывается функция `post_title` для заполнения поля заголовка и описания сообщения.  Функция `post_title` получает объект `message` (должен быть `SimpleNamespace` с полями `title` и `description`).

3. **Загрузка медиа-файлов:** Вызывается функция `upload_media` для загрузки медиа-файлов. Функция `upload_media` получает список продуктов (`message.products`).  Она может обрабатывать как отдельные файлы, так и списки из `SimpleNamespace` объектов.

4. **Обработка кнопок "Готово" и "Опубликовать":** Проверяет нажатие на кнопки "Готово" и "Опубликовать" с помощью функции `execute_locator`.  Если кнопка "Опубликовать" недоступна, вызывается рекурсивно `publish` с уменьшенным числом попыток.  Функция `publish` рекурсивно пытается опубликовать сообщение до определённого числа попыток.

5. **Возвращает результат:** Функция возвращает `True`, если публикация сообщения выполнена успешно, иначе `None`.


Пример использования
-------------------------
.. code-block:: python

    from src.webdriver import Driver
    from src import gs
    from pathlib import Path
    from types import SimpleNamespace
    from hypotez.src.endpoints.advertisement.facebook.scenarios.post_message import post_message

    # Предполагаемый объект Driver
    driver = Driver(...)

    # Создание объекта message
    message = SimpleNamespace(
        title="Мой замечательный пост",
        description="Описание моего поста",
        products=[
            SimpleNamespace(local_saved_image=str(Path(gs.path.media / 'image1.jpg'))),
            SimpleNamespace(local_saved_image=str(Path(gs.path.media / 'image2.png'))),
        ]
    )

    # Вызов функции
    result = post_message(driver, message)

    if result:
        print("Сообщение успешно опубликовано")
    else:
        print("Ошибка при публикации сообщения")