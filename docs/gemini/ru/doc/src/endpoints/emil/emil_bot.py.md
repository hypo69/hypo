# Модуль `emil_bot.py`

## Обзор

Модуль `emil_bot.py` представляет собой Telegram-бота, разработанного специально для проекта emil-design.com. Основная задача бота заключается в получении URL-адресов от поставщиков и обработке различных типов сообщений от пользователей.

## Содержание

- [Классы](#классы)
    - [`EmilTelegramBot`](#emiltelegrambot)
- [Функции](#функции)
    - [`main`](#main)

## Классы

### `EmilTelegramBot`

**Описание**: Класс `EmilTelegramBot` представляет собой Telegram-бота с пользовательским поведением, адаптированным для проекта emil-design.

**Наследуется от**: `TelegramBot`

**Поля**:
- `token` (str): Токен для доступа к Telegram Bot API.
- `config` (SimpleNamespace): Конфигурация бота, загруженная из `emil.json`.
- `model` (GoogleGenerativeAI): Модель Google Gemini для ведения диалогов с пользователем.
- `bot_handler` (BotHandler): Обработчик сообщений и действий бота.

**Методы**:

#### `__init__`

**Описание**: Инициализирует экземпляр класса `EmilTelegramBot`.

**Параметры**:
- `mode` (Optional[str], optional): Режим работы бота (`test` или `production`). По умолчанию `None`, в этом случае режим определяется из конфигурационного файла.
- `webdriver_name` (Optional[str], optional): Имя веб-драйвера для использования в `BotHandler`. По умолчанию `'firefox'`.

#### `handle_message`
**Описание**: Обрабатывает текстовые сообщения, перенаправляя их в `BotHandler`.

**Параметры**:
-   `update` (Update): Объект, представляющий входящее обновление.
-   `context` (CallbackContext): Объект контекста обратного вызова.

**Возвращает**:
-   `None`: Функция ничего не возвращает.

#### `handle_log`
**Описание**: Обрабатывает сообщения лога, записывая их в логгер.

**Параметры**:
-   `update` (Update): Объект, представляющий входящее обновление.
-   `context` (CallbackContext): Объект контекста обратного вызова.

**Возвращает**:
-   `None`: Функция ничего не возвращает.

#### `handle_voice`
**Описание**: Обрабатывает голосовые сообщения, перенаправляя их в родительский класс.

**Параметры**:
-   `update` (Update): Объект, представляющий входящее обновление.
-   `context` (CallbackContext): Объект контекста обратного вызова.

**Возвращает**:
-   `None`: Функция ничего не возвращает.

#### `transcribe_voice`
**Описание**: Транскрибирует голосовое сообщение с помощью сервиса распознавания речи.

**Параметры**:
-   `file_path` (Path): Путь к файлу голосового сообщения.

**Возвращает**:
-   `str`: Транскрибированный текст.
## Функции

### `main`

**Описание**: Запускает бота с использованием вебхуков.

**Параметры**:
-   `None`

**Возвращает**:
    -   `None`