# Анализ кода модуля e_640.md

**Качество кода**
8
 -  Плюсы
        - Код содержит четкое описание задачи.
        - Приведены примеры для пояснения условий задачи.
 -  Минусы
    - Отсутствует исполняемый код, есть только текстовое описание задачи.
    - Не используется reStructuredText для оформления документации.

**Рекомендации по улучшению**
1. Добавить исполняемый код на Python, который решает задачу.
2. Использовать reStructuredText для оформления описания задачи.
3. Добавить комментарии в формате reStructuredText к коду, описывая логику работы программы.
4. Предоставить примеры использования функции.

**Оптимизиробанный код**

```markdown
# Задача No 640
## Идеальные числа Фибоначчи
========================================================

Назовем натуральное число *n* *идеальным числом Фибоначчи*, если оно является одновременно числом Фибоначчи и не может быть выражено в виде суммы двух меньших различных чисел Фибоначчи.

Например, первые несколько чисел Фибоначчи - 1, 2, 3, 5, 8, 13, ....

* 3 - идеальное число Фибоначчи, поскольку 3 является числом Фибоначчи и не может быть выражено в виде суммы двух меньших различных чисел Фибоначчи (1+2=3, но 1 и 2 не различные).
* 5 - не является идеальным числом Фибоначчи, поскольку 5 является числом Фибоначчи и 5=2+3, где 2 и 3 - это меньшие различные числа Фибоначчи.
* 6 - не является идеальным числом Фибоначчи, поскольку 6 не является числом Фибоначчи.

Пусть F(n) - n-е число Фибоначчи, где F(1) = 1, F(2) = 2, F(3) = 3, ...
Пусть IF(n) - n-е идеальное число Фибоначчи.

Известно, что IF(1)=1, IF(2)=2, IF(3)=3, IF(4)=8, IF(5)=21.

Найдите IF(18).

.. code-block:: python

   def is_fibonacci(n: int) -> bool:
       """
       Проверяет, является ли число числом Фибоначчи.

       :param n: Число для проверки.
       :return: True, если число является числом Фибоначчи, иначе False.
       """
       a, b = 1, 2
       if n == 1 or n == 2:
           return True
       while b < n:
           a, b = b, a + b
       return b == n

   def is_perfect_fibonacci(n: int) -> bool:
       """
       Проверяет, является ли число идеальным числом Фибоначчи.

       :param n: Число для проверки.
       :return: True, если число является идеальным числом Фибоначчи, иначе False.
       """
       if not is_fibonacci(n):
           return False
       
       a, b = 1, 2
       fib_numbers = [1, 2]
       while b < n:
            a, b = b, a + b
            fib_numbers.append(b)
            
       for i in range(len(fib_numbers)):
           for j in range(i + 1, len(fib_numbers)):
               if fib_numbers[i] + fib_numbers[j] == n:
                   return False
       return True


   def find_perfect_fibonacci(index: int) -> int:
        """
        Находит n-ное идеальное число Фибоначчи.

        :param index: Индекс искомого идеального числа Фибоначчи.
        :return: n-ное идеальное число Фибоначчи.
        """
        count = 0
        num = 1
        while True:
            if is_perfect_fibonacci(num):
                count += 1
                if count == index:
                    return num
            num += 1

   if __name__ == '__main__':
        # Код исполняет поиск 18-го идеального числа Фибоначчи и выводит его
        result = find_perfect_fibonacci(18)
        print(f"IF(18) = {result}")

```