# Модуль AuxiliaryClasses.py

## Обзор

Модуль содержит вспомогательные классы, используемые в проекте `ToolBoxbot` для работы с клавиатурами Telegram бота и сжатия/форматирования текстовых подсказок (промптов). В частности, он включает классы `keyboards` для создания различных типов клавиатур и `PromptsCompressor` для обработки текстовых промптов.

## Подробней

Этот файл содержит классы, упрощающие создание клавиатур для Telegram-бота и обработку текстовых промптов. Класс `keyboards` предоставляет методы для генерации inline-клавиатур с двумя столбцами и reply-клавиатур. Класс `PromptsCompressor` предназначен для сжатия и форматирования промптов, используемых при взаимодействии с пользователем.

## Классы

### `keyboards`

**Описание**: Класс для создания различных типов клавиатур Telegram бота.

**Как работает класс**:
Класс содержит методы для создания inline-клавиатур с двумя полями (`_keyboard_two_blank`) и reply-клавиатур (`_reply_keyboard`). Inline-клавиатуры используются для предоставления интерактивных кнопок прямо в сообщении, а reply-клавиатуры заменяют стандартную клавиатуру пользователя.

**Методы**:

- `_keyboard_two_blank(self, data: list[str], name: list[str]) -> types.InlineKeyboardMarkup`

    **Описание**: Создает inline-клавиатуру с двумя столбцами.

    **Как работает функция**:
    1. Инициализируется объект `InlineKeyboardMarkup` из библиотеки `telebot`.
    2. Создается список кнопок `InlineKeyboardButton` на основе предоставленных данных и имен.
    3. Кнопки добавляются в клавиатуру построчно, по две кнопки в строке, если общее количество кнопок четное, и с добавлением последней кнопки в отдельной строке, если количество нечетное.

    **Параметры**:
    - `data` (list[str]): Список данных, которые будут передаваться при нажатии на кнопки.
    - `name` (list[str]): Список имен, отображаемых на кнопках.

    **Возвращает**:
    - `types.InlineKeyboardMarkup`: Объект inline-клавиатуры.

- `_reply_keyboard(self, name: list[str])`

    **Описание**: Создает reply-клавиатуру.

    **Как работает функция**:
    1. Создается объект `ReplyKeyboardMarkup` из библиотеки `telebot` с автоматическим изменением размера клавиатуры.
    2. Создается список кнопок `KeyboardButton` на основе предоставленных имен.
    3. Кнопки добавляются в клавиатуру.

    **Параметры**:
    - `name` (list[str]): Список имен, отображаемых на кнопках.

    **Возвращает**:
    - `types.ReplyKeyboardMarkup`: Объект reply-клавиатуры.

### `PromptsCompressor`

**Описание**: Класс для сжатия и форматирования текстовых промптов.

**Как работает класс**:
Класс содержит методы для получения промптов из файла (`get_prompt`) и вставки HTML-тегов в текст ответа (`html_tags_insert`). Список `commands_size` определяет структуру параметров для различных типов промптов.

**Методы**:

- `__init__(self)`

    **Описание**: Инициализирует объект `PromptsCompressor`.

    **Как работает функция**:
    1. Определяется атрибут `commands_size`, представляющий собой список списков параметров для различных типов промптов.

    **Параметры**:
    - Нет.

    **Возвращает**:
    - Нет.

- `get_prompt(self, info: list[str], ind: int) -> str`

    **Описание**: Получает промпт из файла и заменяет параметры.

    **Как работает функция**:
    1. Открывается файл `ToolBox/BaseSettings/prompts.json` и загружаются команды из JSON.
    2. Извлекается нужная команда по индексу `ind`.
    3. В цикле заменяются плейсхолдеры `[EL]` в команде на соответствующие значения из списка `info`.

    **Параметры**:
    - `info` (list[str]): Список значений для подстановки в промпт.
    - `ind` (int): Индекс промпта в файле.

    **Возвращает**:
    - `str`: Сформированный промпт.

- `html_tags_insert(response: str) -> str`

    **Описание**: Вставляет HTML-теги в текст ответа для форматирования.

    **Как работает функция**:
    1. Определяется список `patterns`, содержащий кортежи из регулярных выражений и соответствующих HTML-тегов.
    2. В цикле к тексту `response` применяются регулярные выражения для замены определенных шаблонов на HTML-теги.

    **Параметры**:
    - `response` (str): Текст ответа для форматирования.

    **Возвращает**:
    - `str`: Отформатированный текст с HTML-тегами.

## Функции

В данном файле функции как таковые отсутствуют, но есть методы классов, которые выполняют определенные действия. Описание методов приведено выше в разделе "Классы".