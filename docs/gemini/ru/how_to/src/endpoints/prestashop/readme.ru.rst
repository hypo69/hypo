Как использовать API PrestaShop
========================================================================================

Описание
-------------------------
Этот документ описывает, как взаимодействовать с сайтами PrestaShop через API. Он объясняет, как хранить ключи API, как их использовать для запросов и предоставляет примеры.

Шаги выполнения
-------------------------
1. **Получение ключей API:**
   Ключи API для каждого сайта хранятся в защищенном файле `credentials.kdbx`. Для доступа к этому файлу используйте менеджер паролей, поддерживающий формат `.kdbx` (например, KeePass или KeePassXC). В файле хранятся URL сайта, ключ API и дополнительные метаданные (при необходимости).

2. **Формирование запроса API:**
   Для взаимодействия с API сайта используйте шаблон запроса cURL:

   .. code-block:: bash

       curl -X GET 'https://<URL_сайта>/api/<endpoint>' \
       -H 'Authorization: Basic <base64(API_KEY)>'

   - `<URL_сайта>`: Замените на URL конкретного сайта (например, `e-cat.co.il`).
   - `<endpoint>`: Замените на конечную точку API (например, `products`, `customers`).
   - `<API_KEY>`: Ключ API для сайта, закодированный в формате Base64.  Необходимо извлечь из файла `credentials.kdbx`.

3. **Кодирование ключа API в Base64:**
   Перед использованием ключа API в запросе, необходимо закодировать его в формате Base64.  Можно воспользоваться инструментом командной строки или скриптом для кодирования.

4. **Выполнение запроса:**
   После заполнения всех параметров, выполните запрос с помощью команды `curl`.


Пример использования
-------------------------
.. code-block:: bash

    curl -X GET 'https://e-cat.co.il/api/products' \
    -H 'Authorization: Basic <base64(API_KEY)>'

В этом примере выполняется запрос на получение списка продуктов с сайта `e-cat.co.il`. Замените `<base64(API_KEY)>` на закодированный в Base64 ключ API из файла `credentials.kdbx` для сайта `e-cat.co.il`.

**Важно:**  Не передавайте файл `credentials.kdbx` третьим лицам. Храните его в защищенном месте, доступном только вам.  Регулярно обновляйте ключи API и пароли для базы данных.