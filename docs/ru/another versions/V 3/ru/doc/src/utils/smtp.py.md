# Модуль `src.utils.smtp`

## Обзор

Модуль `src.utils.smtp` предоставляет интерфейс для отправки и получения электронных писем, используя протоколы SMTP и IMAP. Он включает функции для отправки электронных писем через SMTP и извлечения электронных писем через IMAP.

## Подробней

Этот модуль предоставляет функциональность для отправки и получения электронных писем с использованием SMTP или IMAP-сервера. Он включает функции для отправки электронных писем с использованием SMTP и извлечения электронных писем с использованием IMAP.

Важно отметить, что учетные данные (имя пользователя и пароль) не должны быть жестко закодированы в файле, а должны передаваться через переменные окружения. Это необходимо для обеспечения безопасности.

## Функции

### `send`

```python
def send(subject: str = '', body: str = '', to: str = 'one.last.bit@gmail.com') -> bool:
    """Отправляет электронное письмо. Возвращает `True` в случае успеха, `False` в противном случае. Логирует ошибки."""
```

**Описание**: Отправляет электронное письмо с заданными темой, телом и получателем.

**Параметры**:
- `subject` (str, optional): Тема письма. По умолчанию ''.
- `body` (str, optional): Тело письма. По умолчанию ''.
- `to` (str, optional): Адрес получателя. По умолчанию 'one.last.bit@gmail.com'.

**Возвращает**:
- `bool`: `True`, если письмо успешно отправлено, `False` в противном случае.

**Вызывает исключения**:
- `Exception`: Возникает, если происходит ошибка при отправке письма.

**Примеры**:

```python
    send(subject='Тестовое письмо', body='Это тестовое письмо.', to='test@example.com')
```

### `receive`

```python
def receive(imap_server: str, user: str, password: str, folder: str = 'inbox') -> Optional[List[Dict[str, str]]]:
    """Извлекает электронные письма. Возвращает список словарей с данными писем в случае успеха, `None` в противном случае. Логирует ошибки."""
```

**Описание**: Извлекает электронные письма из указанного IMAP-сервера, используя предоставленные учетные данные.

**Параметры**:
- `imap_server` (str): Адрес IMAP-сервера.
- `user` (str): Имя пользователя для входа в IMAP-сервер.
- `password` (str): Пароль для входа в IMAP-сервер.
- `folder` (str, optional): Папка для извлечения писем. По умолчанию 'inbox'.

**Возвращает**:
- `Optional[List[Dict[str, str]]]`: Список словарей, где каждый словарь содержит данные одного письма (тема, отправитель, тело). Возвращает `None` в случае ошибки.

**Вызывает исключения**:
- `Exception`: Возникает, если происходит ошибка при получении писем.

**Примеры**:

```python
    receive(imap_server='imap.example.com', user='test@example.com', password='password', folder='inbox')