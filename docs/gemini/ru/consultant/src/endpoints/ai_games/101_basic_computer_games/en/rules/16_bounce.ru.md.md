# Анализ кода модуля BOUNCE

**Качество кода**
8
- Плюсы
    - Четкое и понятное описание игры.
    - Логичная пошаговая инструкция реализации.
    - Примеры работы программы помогают понять принцип работы.
    - Указаны возможные ограничения, что демонстрирует понимание проблемных мест.
- Минусы
    - Отсутствует код, это скорее описание игры, а не код.
    - Нет информации о том, как именно будет реализовано отображение траектории (графически или текстово).
    - Описание не учитывает обработку ошибок ввода пользователя.

**Рекомендации по улучшению**
1. **Реализовать код:** На основе описанных шагов создать рабочий код на Python.
2. **Добавить обработку ошибок:** Включить проверки ввода пользователя на корректность.
3. **Реализовать визуализацию:** Предусмотреть текстовое отображение траектории мяча.
4. **Добавить комментарии:** Добавить документацию в формате reStructuredText (RST) для кода.
5. **Использовать logger:** Заменить стандартные `print` на логирование через `logger.info` и `logger.error`

**Оптимизированный код**
```python
"""
Модуль для моделирования игры "BOUNCE" (Отскок мяча).
=========================================================================================

В игре "BOUNCE" моделируется движение мяча, который отскакивает от поверхности.
Мяч движется горизонтально, и игрок наблюдает за его движением в зависимости от
начальной скорости, коэффициента упругости и времени.

Пример использования
--------------------

.. code-block:: python

    bounce_game()
"""

from src.logger.logger import logger
# from typing import Tuple
# import json
# from src.utils.jjson import j_loads, j_loads_ns  # TODO: можно использовать для чтения конфигов


def get_float_input(prompt: str) -> float:
    """
    Запрашивает ввод вещественного числа у пользователя.

    :param prompt: Сообщение, отображаемое пользователю.
    :return: Вещественное число, введенное пользователем.
    :raises ValueError: Если ввод не является числом.
    """
    while True:
        try:
            value = float(input(prompt))
            return value
        except ValueError:
            logger.error('Ошибка ввода: Введите корректное число.')


def get_yes_no_input(prompt: str) -> bool:
    """
    Запрашивает ввод ответа "да" или "нет" у пользователя.

    :param prompt: Сообщение, отображаемое пользователю.
    :return: True, если пользователь ввел "да", False в противном случае.
    """
    while True:
        answer = input(prompt).lower()
        if answer in ['да', 'yes']:
            return True
        if answer in ['нет', 'no']:
            return False
        logger.error('Ошибка ввода: Пожалуйста, введите "да" или "нет".')


def bounce_game():
    """
    Запускает игру "BOUNCE".

    Инициализирует игру, запрашивает параметры у пользователя
    и моделирует движение мяча, отображая его траекторию.
    """
    logger.info('Добро пожаловать в игру BOUNCE!')
    # Запрашивает у пользователя начальные параметры игры
    initial_velocity = get_float_input('Введите начальную скорость мяча (футы в секунду): ')
    elasticity_coefficient = get_float_input('Введите коэффициент упругости (например, 0.85 для супербола): ')
    time_interval = get_float_input('Введите интервал времени (например, 0.1 секунды): ')

    time = 0  # Инициализация времени
    position = 0 # Начальная позиция
    velocity = initial_velocity  # Начальная скорость мяча

    logger.info('Траектория мяча:')
    while True:
        # Вычисление новой позиции мяча
        position += velocity * time_interval
        time += time_interval

        # Код выводит текущее время и позицию мяча
        logger.info(f'Время: {time:.1f} сек, Позиция: {position:.1f} футов')

        # Код уменьшает скорость мяча в зависимости от коэффициента упругости при "отскоке"
        velocity *= elasticity_coefficient
        #  Проверка на остановку мяча (скорость слишком мала)
        if abs(velocity) < 0.1:
            logger.info('Мяч остановился.')
            break

        # Код спрашивает пользователя о продолжении игры
        if not get_yes_no_input('Хотите изменить параметры или выйти? (да/нет) '):
            break

        # Если пользователь хочет изменить параметры, то запрашиваем новые значения
        initial_velocity = get_float_input('Введите начальную скорость мяча (футы в секунду): ')
        elasticity_coefficient = get_float_input('Введите коэффициент упругости (например, 0.85 для супербола): ')
        time_interval = get_float_input('Введите интервал времени (например, 0.1 секунды): ')

        time = 0
        position = 0
        velocity = initial_velocity

    logger.info('До свидания!')


if __name__ == '__main__':
    bounce_game()
```