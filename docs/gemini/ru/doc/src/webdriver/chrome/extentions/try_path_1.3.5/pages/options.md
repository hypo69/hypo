# Модуль options.js

## Обзор

Этот JavaScript-модуль отвечает за обработку пользовательских настроек расширения `try_xpath_1.3.5`.  Он запрашивает настройки у браузера, отображает их в интерфейсе пользователя и позволяет пользователю сохранить изменённые значения. Также модуль предоставляет возможность загрузить значения по умолчанию.

## Оглавление

- [Модуль options.js](#модуль-options-js)
- [Обзор](#обзор)
- [Функции](#функции)
    - [`isValidAttrName`](#isvalidattrname)
    - [`isValidAttrNames`](#isvalidattrnames)
    - [`isValidStyleLength`](#isvalidstylelength)
    - [`loadDefaultCss`](#loaddefaultcss)
    - [`extractBodyStyles`](#extractbodystyles)
    - [`createPopupCss`](#createpopupcss)
- [Обработчик события `load`](#обработчик-события-load)


## Функции

### `isValidAttrName`

**Описание**: Проверяет, является ли имя атрибута допустимым.

**Параметры**:
- `name` (строка): Имя атрибута.

**Возвращает**:
- `boolean`: `true`, если имя атрибута допустимо, иначе `false`.

**Вызывает исключения**:
- Нет.


### `isValidAttrNames`

**Описание**: Проверяет, являются ли все имена атрибутов допустимыми.

**Параметры**:
- `names` (объект): Объект, ключи которого представляют имена атрибутов.

**Возвращает**:
- `boolean`: `true`, если все имена атрибутов допустимы, иначе `false`.

**Вызывает исключения**:
- Нет.


### `isValidStyleLength`

**Описание**: Проверяет, является ли значение длины стилей допустимым.

**Параметры**:
- `len` (строка): Значение длины.

**Возвращает**:
- `boolean`: `true`, если значение длины допустимо, иначе `false`.

**Вызывает исключения**:
- Нет.


### `loadDefaultCss`

**Описание**: Загружает CSS-стили по умолчанию из файла `/css/try_xpath_insert.css`.

**Параметры**:
- Нет.

**Возвращает**:
- `Promise<string>`: Обещание, содержащее текст загруженного CSS.

**Вызывает исключения**:
- `fu.onError`: При ошибке при загрузке CSS.


### `extractBodyStyles`

**Описание**: Извлекает значения ширины и высоты из CSS-стилей.

**Параметры**:
- `css` (строка): CSS-стили.

**Возвращает**:
- `object`: Объект, содержащий значения ширины и высоты.

**Вызывает исключения**:
- Нет.


### `createPopupCss`

**Описание**: Создаёт CSS-стили для тела всплывающего окна.

**Параметры**:
- `bodyStyles` (объект): Объект, содержащий ширину и высоту.

**Возвращает**:
- `string`: CSS-стили для тела всплывающего окна.

**Вызывает исключения**:
- Нет.


## Обработчик события `load`

**Описание**: Обработчик события `load` окна. Выполняется при загрузке страницы настроек. Запрашивает текущие значения атрибутов и стилей, отображает их в интерфейсе и устанавливает обработчики кликов для кнопок сохранения и загрузки значений по умолчанию.

**Параметры**:
- Нет.

**Возвращает**:
- Нет.

**Вызывает исключения**:
- `fu.onError`: При ошибке при запросе или обработке данных.
- Другие исключения, если возникают ошибки в приложении.