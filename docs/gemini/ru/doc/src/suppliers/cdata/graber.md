# Модуль hypotez/src/suppliers/cdata/graber.py

## Обзор

Модуль `hypotez/src/suppliers/cdata/graber.py` содержит класс `Graber`, предназначенный для сбора данных о товарах с сайта `cdata.co.il`. Класс наследуется от класса `Grbr` из модуля `src.suppliers.graber`.  Каждый атрибут товара обрабатывается отдельной функцией в родительском классе, а для нестандартной обработки можно переопределить эти функции в дочернем классе.  Перед отправкой запроса к веб-драйверу можно выполнить предварительные действия, используя декоратор, который по умолчанию определен в родительском классе.  Для активации декоратора необходимо установить значение в атрибуте `Context.locator`.  В этом модуле присутствует реализация декоратора `close_pop_up`, который позволяет закрывать всплывающие окна перед выполнением основной логики.


## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для захвата данных с сайта `cdata.co.il`. Он наследует функциональность от родительского класса `Grbr` и предоставляет методы для обработки различных полей данных.

**Атрибуты**:

- `supplier_prefix`: Строка, представляющая префикс поставщика (`cdata`).

**Методы**:

- `__init__(self, driver: Driver)`:
    **Описание**: Инициализирует объект класса `Graber`.
    **Параметры**:
    - `driver` (`Driver`): Объект веб-драйвера.
    **Возвращает**:
    -  Не имеет возвращаемого значения.


## Функции

### `close_pop_up`

**Описание**: Декоратор для закрытия всплывающих окон перед выполнением функции.

**Параметры**:

- `value` (`Any`, необязательный): Дополнительное значение для декоратора. По умолчанию `None`.

**Возвращает**:

- `Callable`: Декоратор, оборачивающий функцию.


**Вызывает исключения**:

- `ExecuteLocatorException`: Возникает при ошибке выполнения локатора.


**Примечание**: В данном примере декоратор `close_pop_up` не полностью реализован и в документации приведен как пример, так как для корректной работы ему необходимы реализации методов `Context.driver.execute_locator` и `Context.locator.close_pop_up`.  В комментариях показаны места, которые требуют реализации.

```
```
```python
# def close_pop_up(value: Any = None) -> Callable:
#     """Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.
#
#     Args:
#         value (Any): Дополнительное значение для декоратора.
#
#     Returns:
#         Callable: Декоратор, оборачивающий функцию.
#     """
#     def decorator(func: Callable) -> Callable:
#         @wraps(func)
#         async def wrapper(*args, **kwargs):
#             try:
#                 # await Context.driver.execute_locator(Context.locator.close_pop_up)  # Await async pop-up close
#                 ...
#             except ExecuteLocatorException as e:
#                 logger.debug(f'Ошибка выполнения локатора: {e}')
#             return await func(*args, **kwargs)  # Await the main function
#         return wrapper
#     return decorator