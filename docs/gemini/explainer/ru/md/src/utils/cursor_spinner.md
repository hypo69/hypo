# cursor_spinner.py - Модуль для отображения вращающегося курсора

```markdown
## Файл `hypotez/src/utils/cursor_spinner.py`

Этот файл содержит функцию `show_spinner`, которая отображает вращающийся курсор в консоли, имитируя процесс загрузки или ожидания.


### Функция `spinning_cursor()`

* **Цель:** Генерирует последовательность символов (`|`, `/`, `-`, `\`), представляющих вращающийся курсор.
* **Возвращаемое значение:** Итератор, последовательно возвращающий символы.
* **Использование:** Функция `spinning_cursor` создаёт итератор, позволяющий получать символы последовательно: `next(cursor)`.


### Функция `show_spinner(duration=5.0, delay=0.1)`

* **Цель:** Отображает вращающийся курсор в консоли на заданную продолжительность.
* **Аргументы:**
    * `duration` (по умолчанию 5.0): Длительность отображения курсора в секундах.
    * `delay` (по умолчанию 0.1): Задержка между отображением символов в секундах.
* **Логика:**
    1. Создает итератор `spinner` с помощью функции `spinning_cursor()`.
    2. Вычисляет время окончания отображения (`end_time`).
    3. В цикле, пока текущее время меньше `end_time`, выполняет следующие действия:
        * Выводит следующий символ из `spinner` в консоль (`sys.stdout.write(next(spinner))`).
        * Принудительно выводит изменения в консоль (`sys.stdout.flush()`).
        * Ожидает указанную `delay` секунд (`time.sleep(delay)`).
        * Возвращает курсор на предыдущую позицию (`sys.stdout.write('\\b')`).
* **Пример использования:** `show_spinner(duration=3.0, delay=0.2)` отобразит вращающийся курсор на 3 секунды с задержкой 0.2 секунды между символами.

### Блок `if __name__ == "__main__":`

* **Цель:** Представляет собой блок кода, который выполняется только тогда, когда скрипт запускается напрямую (а не импортируется в другой модуль).
* **Действия:** Вызывает функцию `show_spinner` для демонстрации работы вращающегося курсора на 5 секунд с задержкой 0.1 секунды.


**В целом:** модуль предоставляет удобный инструмент для визуального обозначения процессов, занимающих время, в консольном приложении.


```
```