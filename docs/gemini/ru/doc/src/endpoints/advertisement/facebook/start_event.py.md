# Модуль `src.endpoints.advertisement.facebook.start_event`

## Обзор

Модуль `src.endpoints.advertisement.facebook.start_event` предназначен для автоматической отправки рекламных мероприятий в группы Facebook. Он использует веб-драйвер для взаимодействия с Facebook и модуль `FacebookPromoter` для управления процессом публикации.

## Подробнее

Этот модуль является частью системы автоматизации маркетинга в Facebook. Он позволяет запускать рекламные кампании, публикуя информацию о мероприятиях в различных группах Facebook. Файл `start_event.py` служит отправной точкой для запуска процесса продвижения. Он настраивает драйвер, загружает необходимые файлы конфигурации групп и запускает цикл продвижения с заданным интервалом.

## Функции

### `main`

```python
# d = Driver(Chrome)
# d.get_url(r"https://facebook.com")

# filenames:list[str] = [ "my_managed_groups.json",
#                         "usa.json",
#                         "he_il.json",
#                         "ru_il.json",
#                         "katia_homepage.json",
                        
#                         "ru_usd.json",
#                         "ger_en_eur.json",            
#                         ]
# excluded_filenames:list[str] = ["my_managed_groups.json",]
# events_names:list = ["choice_day_01_10"]


# promoter:FacebookPromoter = FacebookPromoter(d, group_file_paths=filenames, no_video = True)

# try:
#     while True:
#         logger.debug(f"waikig up {time.strftime('%H:%M:%S')}",None,False)
#         promoter.run_events(events_names = events_names, group_file_paths = filenames)
#         logger.debug(f"going to sleep at {time.strftime('%H:%M:%S')}",None,False)
#         time.sleep(7200)
        
# except KeyboardInterrupt:
#     logger.info("Campaign promotion interrupted.")
```

**Как работает функция**:

Основной блок кода выполняет следующие действия:
1. **Инициализация драйвера**: Создается экземпляр веб-драйвера (Chrome) для управления браузером и перехода на сайт Facebook.
2. **Задание списков файлов**: Определяются списки файлов (`filenames` и `excluded_filenames`) и список событий (`events_names`), которые будут использоваться в процессе продвижения. Файлы содержат информацию о группах Facebook, в которых будет размещаться реклама.
3. **Инициализация промоутера**: Создается экземпляр класса `FacebookPromoter`, который отвечает за публикацию мероприятий в группах Facebook. Ему передаются драйвер, списки файлов и флаг `no_video`, указывающий на отсутствие видео в публикуемых материалах.
4. **Цикл продвижения**: Запускается бесконечный цикл, в котором происходит следующее:
    - Запись в лог времени пробуждения.
    - Вызов метода `run_events` промоутера для запуска процесса публикации мероприятий в группах Facebook.
    - Запись в лог времени отхода ко сну.
    - Ожидание в течение 7200 секунд (2 часа) перед следующим запуском цикла.
5. **Обработка прерывания**: При получении сигнала `KeyboardInterrupt` (например, при нажатии Ctrl+C) цикл прерывается, и в лог записывается сообщение о прерывании кампании продвижения.

**Переменные**:
- `d`: Экземпляр класса `Driver`, используемый для управления браузером.
- `filenames` (list[str]): Список файлов, содержащих информацию о группах Facebook для публикации.
- `excluded_filenames` (list[str]): Список файлов, исключенных из списка групп для публикации.
- `events_names` (list): Список названий мероприятий для публикации.
- `promoter`: Экземпляр класса `FacebookPromoter`, используемый для управления процессом публикации мероприятий в группах Facebook.

**Параметры**:
Отсутствуют явные параметры, так как код выполняется как скрипт.

**Возвращает**:
Ничего не возвращает.

**Вызывает исключения**:
- `KeyboardInterrupt`: Вызывается при прерывании скрипта пользователем (например, через Ctrl+C).