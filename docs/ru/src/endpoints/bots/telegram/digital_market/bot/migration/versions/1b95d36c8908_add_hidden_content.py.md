# Модуль миграции базы данных: добавление столбца `hidden_content` в таблицу `products`

## Обзор

Этот модуль содержит скрипт миграции базы данных, используемый Alembic, для добавления столбца `hidden_content` в таблицу `products`. Он также включает функцию для отката этого изменения.

## Подробней

Этот скрипт миграции предназначен для изменения структуры базы данных путем добавления нового столбца `hidden_content` в таблицу `products`. Этот столбец предназначен для хранения скрытого содержимого, связанного с продуктами. Скрипт также содержит функцию `downgrade`, которая позволяет откатить миграцию, удалив добавленный столбец.

## Функции

### `upgrade`

```python
def upgrade() -> None:
    """
    Добавляет столбец 'hidden_content' в таблицу 'products'.

    Raises:
        Exception: Если возникает ошибка при выполнении миграции.
    """
    ...
```

**Назначение**: Обновляет схему базы данных, добавляя новый столбец `hidden_content` в таблицу `products`.

**Параметры**:
- Нет

**Возвращает**:
- `None`

**Вызывает исключения**:
- `Exception`: Если возникает ошибка при выполнении миграции.

**Как работает функция**:

1. Функция использует `op.add_column` для добавления столбца `hidden_content` типа `Text` в таблицу `products`.
2.  Устанавливается параметр `nullable=False`, что означает, что столбец не может содержать `NULL` значения.

**Примеры**:

```python
upgrade()
```

### `downgrade`

```python
def downgrade() -> None:
    """
    Удаляет столбец 'hidden_content' из таблицы 'products'.

    Raises:
        Exception: Если возникает ошибка при откате миграции.
    """
    ...
```

**Назначение**: Откатывает изменения, внесенные функцией `upgrade`, удаляя столбец `hidden_content` из таблицы `products`.

**Параметры**:
- Нет

**Возвращает**:
- `None`

**Вызывает исключения**:
- `Exception`: Если возникает ошибка при откате миграции.

**Как работает функция**:

1. Функция использует `op.drop_column` для удаления столбца `hidden_content` из таблицы `products`.

**Примеры**:

```python
downgrade()