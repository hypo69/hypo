# Модуль options.js

## Обзор

Этот модуль JavaScript отвечает за управление настройками расширения "try_xpath_1.3.5". Он предоставляет интерфейс для выбора и сохранения параметров, таких как атрибуты элементов, стили всплывающего окна и другие настройки. Модуль использует API браузера для взаимодействия с хранилищем настроек и загрузки стилей.


## Функции

### `isValidAttrName`

**Описание**: Проверяет, является ли имя атрибута допустимым.

**Параметры**:

- `name` (string): Имя атрибута.

**Возвращает**:

- `boolean`: `true`, если имя атрибута допустимо, `false` - иначе.

**Вызывает исключения**:

- `Error`: Возникает в случае возникновения ошибки при установке атрибута.


### `isValidAttrNames`

**Описание**: Проверяет, являются ли все имена атрибутов в массиве допустимыми.

**Параметры**:

- `names` (Object): Объект, содержащий имена атрибутов.

**Возвращает**:

- `boolean`: `true`, если все имена атрибутов допустимы, `false` - иначе.


### `isValidStyleLength`

**Описание**: Проверяет, является ли длина стилей допустимой.

**Параметры**:

- `len` (string): Значение длины стилей.

**Возвращает**:

- `boolean`: `true`, если длина стилей допустима, `false` - иначе.


### `loadDefaultCss`

**Описание**: Загружает значения по умолчанию для CSS.

**Возвращает**:

- `Promise<string>`:  Promise, который разрешается с текстом загруженного CSS или отклоняется в случае ошибки.


### `extractBodyStyles`

**Описание**: Извлекает стили ширины и высоты из CSS.

**Параметры**:

- `css` (string): Строка CSS.

**Возвращает**:

- `Object`: Объект, содержащий стили ширины и высоты.


### `createPopupCss`

**Описание**: Создает CSS-стили для всплывающего окна.

**Параметры**:

- `bodyStyles` (Object): Объект со стилями ширины и высоты.

**Возвращает**:

- `string`: Строка CSS для всплывающего окна.


## Обработчики событий

### `window.addEventListener("load", ...)`

**Описание**: Обработчик события загрузки страницы. Выполняет инициализацию элементов, привязку обработчиков событий, и загрузку настроек из хранилища.

**Вызывает исключения**:

- `fu.onError`: Обработка ошибок при получении настроек.


### `document.getElementById("save").addEventListener("click", ...)`

**Описание**: Обработчик клика по кнопке сохранения. Сохраняет введенные пользователем настройки в хранилище.

**Вызывает исключения**:

- `Error`: Обработка ошибок при сохранении настроек.


### `document.getElementById("show-default").addEventListener("click", ...)`

**Описание**: Обработчик клика по кнопке "Показать значения по умолчанию". Устанавливает значения по умолчанию для всех настроек.

**Вызывает исключения**:

- `fu.onError`: Обработка ошибок при загрузке значений по умолчанию.


## Переменные

### `defaultAttributes`

**Описание**: Объект, содержащий значения по умолчанию для атрибутов элементов.


### `defaultPopupBodyStyles`

**Описание**: Объект, содержащий значения по умолчанию для стилей тела всплывающего окна.


##  Примечание

Код использует `try...catch` для обработки потенциальных ошибок. Использование `ex` вместо `e` для имени переменной в блоках `catch` соответствует указаниям в инструкции.  Также используется Promise для асинхронных операций (загрузка CSS).