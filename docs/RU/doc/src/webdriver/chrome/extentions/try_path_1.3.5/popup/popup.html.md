# Документация для `popup.html`

## Обзор

Этот файл является HTML-страницей, представляющей пользовательский интерфейс расширения для браузера. Он включает в себя различные элементы управления для тестирования XPath и CSS-селекторов, а также отображения результатов.

## Содержание

- [Обзор](#обзор)
- [Разделы HTML](#разделы-html)
  - [Заголовок (`<head>`)](#заголовок-head)
  - [Тело (`<body>`)](#тело-body)
    - [Кнопка "Execute"](#кнопка-execute)
    - [Раздел "Help"](#раздел-help)
    - [Раздел "Main"](#раздел-main)
    - [Раздел "Context"](#раздел-context)
    - [Раздел "namespaceResolver"](#раздел-namespaceresolver)
    - [Раздел "Frame without id"](#раздел-frame-without-id)
    - [Раздел "frameId"](#раздел-frameid)
    - [Раздел "Results"](#раздел-results)
- [Скрипты](#скрипты)
  - [`popup.js`](#popupjs)
  - [`try_xpath_functions.js`](#try_xpath_functionsjs)

## Разделы HTML

### Заголовок (`<head>`)

Включает в себя метаданные, ссылки на стили CSS и скрипты JavaScript.

-   `meta charset="utf-8"`: Устанавливает кодировку символов UTF-8.
-   `link rel="stylesheet" href="popup.css"`: Подключает стили CSS из файла `popup.css`.
-   `script src="../scripts/try_xpath_functions.js"`: Подключает JavaScript-файл `try_xpath_functions.js`, который содержит основные функции для работы с XPath и CSS-селекторами.
-   `script src="popup.js"`: Подключает JavaScript-файл `popup.js`, который содержит логику работы пользовательского интерфейса.

### Тело (`<body>`)

Содержит основное содержимое страницы, включая кнопки, поля ввода и разделы для настройки и отображения результатов.

#### Кнопка "Execute"

-   `button id="execute"`: Кнопка для запуска выполнения XPath или CSS-выражения.

#### Раздел "Help"

-   `input type="checkbox" id="help-switch"`: Чекбокс для переключения отображения справки.
-   `label for="help-switch"`: Метка для чекбокса "Help".

#### Раздел "Main"

-   `h1`: Заголовок "Main".
-   `div id="main-body"`: Контейнер для элементов управления основного выражения.
    -   `select id="main-way"`: Выпадающий список для выбора метода выполнения (XPath или CSS) и типа результата.
    -   `textarea id="main-expression"`: Текстовое поле для ввода основного выражения.
    -   `div class="help"`: Справочное сообщение.

#### Раздел "Context"

-   `h1 id="context-header"`: Заголовок "Context" с чекбоксом для переключения отображения раздела.
-   `div id="context-body"`: Контейнер для элементов управления контекстного выражения.
    -   `div class="help"`: Справочное сообщение.
    -   `select id="context-way"`: Выпадающий список для выбора метода выполнения и типа результата для контекстного выражения.
    -   `textarea id="context-expression"`: Текстовое поле для ввода контекстного выражения.

#### Раздел "namespaceResolver"

-   `h1 id="resolver-header"`: Заголовок "namespaceResolver" с чекбоксом для переключения отображения раздела.
-   `div id="resolver-body"`: Контейнер для элементов управления namespaceResolver.
    -   `div class="help"`: Справочное сообщение.
    -   `input type="text" id="resolver-expression"`: Текстовое поле для ввода namespaceResolver.

#### Раздел "Frame without id"

-   `h1 id="frame-designation-header"`: Заголовок "Frame without id" с чекбоксом для переключения отображения раздела.
-   `div id="frame-designation-body"`: Контейнер для элементов управления для работы с фреймами без id.
    -   `div class="help"`: Справочное сообщение.
    -   `input type="text" id="frame-designation-expression"`: Текстовое поле для ввода пути к фрейму.
    -   `button id="focus-designated-frame"`: Кнопка для фокусировки на указанном фрейме.

#### Раздел "frameId"

-   `h1 id="frame-id-header"`: Заголовок "frameId" с чекбоксом для переключения отображения раздела.
-   `div id="frame-id-body"`: Контейнер для элементов управления для работы с фреймами по id.
    -   `div class="help"`: Справочное сообщение.
    -   `button id="get-all-frame-id"`: Кнопка для получения всех frameId.
    -   `select id="frame-id-list"`: Выпадающий список для выбора frameId.
    -   `input type="text" id="frame-id-expression"`: Текстовое поле для ручного ввода frameId.
    -   `button id="focus-frame"`: Кнопка для фокусировки на выбранном фрейме.
    -    `button id="show-previous-results"`: Кнопка для отображения предыдущих результатов.

#### Раздел "Results"

-   `h1`: Заголовок "Results".
-   `div`: Сообщения и количество результатов.
    -   `span id="results-message"`: Элемент для отображения сообщения о результате.
    -   `span id="results-count"`: Элемент для отображения количества результатов.
    -   `span id="results-frame-id"`: Элемент для отображения frameId.
    -    `button id="show-all-results"`: Кнопка для отображения всех результатов.
    -   `button id="open-options"`: Кнопка для открытия настроек расширения.
    -   `button id="set-style"`: Кнопка для применения стилей к элементам результата.
    -   `button id="reset-style"`: Кнопка для сброса стилей элементов результата.
    -    `button id="set-all-style"`: Кнопка для применения стилей ко всем элементам результатов на всех фреймах.
    -   `button id="reset-all-style"`: Кнопка для сброса стилей всех элементов результатов на всех фреймах.
-   `h2`: Заголовок "Context detail".
-   `table id="context-detail"`: Таблица для отображения деталей контекста.
-   `h2`: Заголовок "Details".
-   `div`: Элементы управления для навигации по страницам результатов.
    -   `button id="previous-details-page"`: Кнопка для перехода на предыдущую страницу результатов.
    -   `button id="move-details-page"`: Кнопка для перемещения по страницам результатов.
     -  `input type="text" id="details-page-count"`: Текстовое поле для ввода номера страницы результатов.
    -   `button id="next-details-page"`: Кнопка для перехода на следующую страницу результатов.
-   `table id="results-details"`: Таблица для отображения подробных результатов.

## Скрипты

### `popup.js`

Этот файл содержит JavaScript-код, управляющий поведением пользовательского интерфейса, взаимодействием с расширением браузера и обработкой результатов. Код обрабатывает события, такие как нажатия кнопок, изменения значений в полях ввода и выбора, а также отвечает за выполнение XPath и CSS-выражений и отображение результатов.
*   Инициализирует обработчики событий для элементов управления.
*   Обрабатывает ввод пользователя и передает его в `try_xpath_functions.js` для выполнения XPath или CSS-выражений.
*   Отображает результаты и детали на странице.
*   Управляет стилями выделения для элементов, соответствующих результатам.

### `try_xpath_functions.js`

Этот файл содержит функции, используемые для выполнения XPath и CSS-выражений. Код обеспечивает основную функциональность расширения для тестирования и оценки выражений.

*   Содержит функции для выполнения XPath выражений с различными типами результатов.
*   Содержит функции для выполнения CSS-селекторов.
*   Предоставляет функции для работы с фреймами и `namespaceResolver`.

---