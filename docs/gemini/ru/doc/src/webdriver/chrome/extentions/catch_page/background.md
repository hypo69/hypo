# Модуль `background.js`

## Обзор

Данный файл содержит код расширения Chrome, отвечающий за сбор и отправку данных на сервер.  При клике на иконку расширения, он отправляет запрос на сбор данных на текущей странице.  Полученные данные затем отправляются на сервер `http://127.0.0.1/hypotez/catch_request.php`.

## Оглавление

- [Модуль `background.js`](#модуль-backgroundjs)
    - [Функции](#функции)
        - [`sendDataToServer`](#senddatatoserver)
        - [`chrome.action.onClicked.addListener`](#chromeactiononclickedaddListener)
        - [`chrome.runtime.onMessage.addListener`](#chromeruntmeonmessageaddListener)

## Функции

### `sendDataToServer`

**Описание**: Функция отправляет собранные данные на сервер.

**Параметры**:

- `url` (str): URL страницы, для которой собираются данные.

**Возвращает**:

-  `None`:  Функция не возвращает явного значения.

**Обрабатывает исключения**:

- `Error`: Исключение, которое выбрасывается в случае неуспешной отправки данных на сервер.  В консоли выводится сообщение об ошибке.


### `chrome.action.onClicked.addListener`

**Описание**: Слушатель события клика на иконку расширения.

**Параметры**:

- `tab` (объект): Объект, содержащий информацию о текущей вкладке.

**Возвращает**:

- `None`: Функция не возвращает явного значения.

**Обрабатывает исключения**:

- Нет.

### `chrome.runtime.onMessage.addListener`

**Описание**: Слушатель сообщений, отправленных из других частей расширения.

**Параметры**:

- `message` (объект): Объект, содержащий сообщение.
- `sender` (объект): Объект, содержащий информацию о отправителе сообщения.
- `sendResponse` (функция): Функция, которая может быть использована для отправки ответа отправителю.

**Возвращает**:

- `boolean`:  `true`, чтобы позволить отправку ответа из функции.

**Обрабатывает исключения**:

- Нет.


**Примечание:**  Код использует `chrome.storage.local.get` для получения данных, прежде чем отправить их на сервер. Это предполагает, что функция `sendDataToServer` вызывается из контекста, где данные `collectedData` уже сохранены в хранилище.