# Модуль `tinytroupe.validation`

## Обзор

Этот модуль предоставляет класс `TinyPersonValidator` для валидации экземпляров `TinyPerson` с помощью LLM OpenAI.  Метод `validate_person`  позволяет задавать вопросы `TinyPerson` и получать оценку качества ответов.

## Классы

### `TinyPersonValidator`

**Описание**: Класс для валидации экземпляров `TinyPerson`.

**Методы**:

- `validate_person`


### `validate_person`

**Описание**:  Метод валидации экземпляра `TinyPerson`.  Метод использует OpenAI для оценки ответов `TinyPerson` на заданные вопросы, возвращает оценку доверия (от 0.0 до 1.0) и обоснование оценки.

**Параметры**:
- `person` (TinyPerson): Экземпляр класса `TinyPerson`, подлежащий валидации.
- `expectations` (str, необязательно): Ожидания для валидации. По умолчанию `None`.
- `include_agent_spec` (bool, необязательно): Включать ли описание агента в запрос. По умолчанию `True`.
- `max_content_length` (int, необязательно): Максимальная длина содержимого, отображаемого при обмене сообщениями. По умолчанию `default_max_content_display_length`.

**Возвращает**:
- float: Оценка доверия (от 0.0 до 1.0) или `None`, если валидация не удалась.
- str: Обоснование оценки или `None`, если валидация не удалась.


**Вызывает исключения**:
- Возможны исключения, связанные с взаимодействием с OpenAI или чтением файлов.


## Функции


## Константы

### `default_max_content_display_length`

**Описание**: Максимальная длина содержимого, отображаемого при обмене сообщениями.  Значение берется из конфигурации `config["OpenAI"].getint("MAX_CONTENT_DISPLAY_LENGTH", 1024)`.


## Подробнее о `validate_person`

Метод `validate_person` реализует цикл взаимодействия с OpenAI и объектом `TinyPerson`.  В процессе:
1. Загружается шаблон запроса для OpenAI.
2. Создается системный запрос и запрос пользователя, основанный на `expectations`, `include_agent_spec`, `person.generate_agent_specification()` или `person.minibio()`.
3. Отправляются сообщения в OpenAI.
4. Процесс взаимодействия продолжается до получения ответа OpenAI с маркером завершения.
5. Если получен корректный ответ, извлекается оценка и обоснование, которые затем возвращаются.
6. Если валидация не удалась или ответ OpenAI не содержит ожидаемого формата, возвращаются `None`.

```
```
```python
```