# ניתוח קוד: משחק MUGWMP

## <algorithm>
1. **התחלה**: המשחק מתחיל בייבוא מודול `random` שנדרש ליצירת מספרים אקראיים.

2. **יצירת מספר סודי**:
   - הפונקציה `generate_secret_number()` יוצרת מספר ארבע ספרות אקראי עם ספרות ייחודיות. לדוגמה, אם רשימת הספרות המעורבבות היא `[3, 7, 1, 9, 0, 2, 4, 5, 6, 8]`, הפונקציה תחזיר את המחרוזת "3719".

3. **איפוס מונה ניחושים**:
    - המשתנה `number_of_guesses` מאותחל ל-0. הוא ישמש לספירת ניסיונות הניחוש של השחקן.

4. **לולאת משחק ראשית**:
   - מתחיל לולאה אינסופית `while True` הממשיכה עד שהשחקן מנצח.

5. **הגדלת מונה ניחושים**:
   - בכל איטרציה, `number_of_guesses` מוגדל ב-1.

6. **לולאת קלט משתמש**:
   - מתחילה לולאה פנימית `while True` לביצוע קלט תקין מהמשתמש.
   - **קלט משתמש**: המשתמש מתבקש להזין מספר ארבע ספרות עם ספרות ייחודיות, לדוגמה "1234".
   - **אימות קלט**: הקוד בודק את הקלט של המשתמש. הוא מוודא שהקלט:
        - הוא באורך 4 תווים.
        - מכיל רק ספרות.
        - מכיל ספרות ייחודיות.
   - אם הקלט אינו תקין, מוצגת הודעת שגיאה והקלט מתבקש שוב.
   - אם הקלט תקין, הלולאה הפנימית מסתיימת.

7. **בדיקת ניצחון**:
   - הקוד משווה את קלט המשתמש `user_guess` למספר הסודי `secret_number`.
   - אם הקלט זהה למספר הסודי:
        - מוצגת הודעת ניצחון עם מספר הניחושים.
        - הלולאה הראשית מסתיימת באמצעות `break`.

8. **חישוב MUG ו-WMP**:
   - אם הקלט אינו זהה למספר הסודי:
       - הפונקציה `count_mug_wmp()` מקבלת את `secret_number` ואת `user_guess` ומחשבת את ה-MUG וה-WMP. לדוגמה, אם `secret_number` הוא "3719" ו-`user_guess` הוא "3170", הפונקציה תחזיר `mug = 1` (עבור הספרה "3" במקום הראשון) ו-`wmp = 2` (עבור הספרות "1" ו-"7").
   - הפונקציה מחזירה את ה-MUG וה-WMP.

9. **פלט MUG ו-WMP**:
    - מוצגות תוצאות ה-MUG וה-WMP.

10. **חזרה ללולאה הראשית**:
    - המשחק חוזר לראש הלולאה הראשית, מונה הניחושים גדל והשחקן מתבקש להזין ניחוש נוסף.

11. **סיום**: המשחק מסתיים כאשר השחקן מנחש את המספר הסודי, והודעת הניצחון מוצגת.

## <mermaid>
```mermaid
flowchart TD
    Start["התחלה"] --> GenerateSecretNumber["יצירת מספר סודי: <code><b>secret_number</b></code>"]
    GenerateSecretNumber --> InitializeGuesses["<code><b>number_of_guesses = 0</b></code>"]
    InitializeGuesses --> LoopStart{"לולאת משחק: <code><b>while True</b></code>"}
    LoopStart --> IncreaseGuesses["<code><b>number_of_guesses += 1</b></code>"]
    IncreaseGuesses --> InputUserGuess["קלט משתמש: <code><b>user_guess</b></code>"]
    InputUserGuess --> ValidateInput{"בדיקת תקינות קלט:<br><code><b>len(user_guess) == 4 and isdigit(user_guess) and len(set(user_guess)) == 4</b></code>"}
    ValidateInput -- לא תקין --> InputError["הצגת הודעת שגיאת קלט"]
    InputError --> InputUserGuess
    ValidateInput -- תקין --> CheckWinCondition{"בדיקת ניצחון:<br><code><b>user_guess == secret_number</b></code>"}
    CheckWinCondition -- ניצחון --> OutputWinMessage["הצגת הודעת ניצחון<br><code><b>"הצלחת בניסיון {number_of_guesses}"</b></code>"]
    OutputWinMessage --> End["סיום"]
    CheckWinCondition -- לא ניצחון --> CalculateMugWmp["חישוב MUG ו-WMP:<br><code><b>mug, wmp = count_mug_wmp(secret_number, user_guess)</b></code>"]
    CalculateMugWmp --> OutputMugWmp["הצגת MUG ו-WMP:<br><code><b>"MUG = {mug}, WMP = {wmp}"</b></code>"]
     OutputMugWmp --> LoopStart
    LoopStart -- False --> End
```

**הסבר התרשים:**
- **Start**: תחילת תהליך המשחק.
- **GenerateSecretNumber**: הפונקציה `generate_secret_number` יוצרת מספר סודי בן 4 ספרות ייחודיות.
- **InitializeGuesses**: מאתחל את המשתנה `number_of_guesses` לאפס, אשר סופר את מספר הניחושים שנעשו.
- **LoopStart**: תחילת הלולאה הראשית של המשחק, אשר ממשיכה עד שהשחקן ינצח.
- **IncreaseGuesses**: מגדיל את מונה הניחושים `number_of_guesses` ב-1 בכל איטרציה של המשחק.
- **InputUserGuess**: קולט את ניחוש המשתמש `user_guess`.
- **ValidateInput**: מאמת שהקלט של המשתמש תקין, כולל אורך מחרוזת, האם היא מכילה ספרות בלבד, והאם הספרות ייחודיות.
- **InputError**: אם הקלט אינו תקין, מוצגת הודעת שגיאה, והמשתמש מתבקש להזין קלט מחדש.
- **CheckWinCondition**: בודק האם ניחוש המשתמש שווה למספר הסודי.
- **OutputWinMessage**: אם המשתמש ניצח, מוצגת הודעת ניצחון הכוללת את מספר הניחושים.
- **CalculateMugWmp**: אם המשתמש לא ניצח, מחושבים הערכים MUG ו-WMP על ידי הפונקציה `count_mug_wmp`.
- **OutputMugWmp**: מציג את ערכי ה-MUG וה-WMP למשתמש.
- **End**: סיום תהליך המשחק.

## <explanation>
**ייבוא (Imports):**
- `import random`:  מודול זה משמש ליצירת מספרים אקראיים, וספציפית לערבוב רשימת הספרות לצורך יצירת המספר הסודי הייחודי.

**פונקציות (Functions):**
- `generate_secret_number()`:
    - **פרמטרים**: אין.
    - **ערך מוחזר**: מחרוזת באורך 4 תווים המייצגת מספר ארבע ספרות עם ספרות ייחודיות. לדוגמה: "1234".
    - **מטרה**: יוצרת מספר סודי למשחק.
    - **דוגמה**:
        ```python
        secret_num = generate_secret_number()
        print(secret_num) # הפלט יהיה מספר רנדומלי כמו "5821"
        ```
- `count_mug_wmp(secret, guess)`:
    - **פרמטרים**:
        - `secret` (str): המספר הסודי.
        - `guess` (str): ניחוש המשתמש.
    - **ערך מוחזר**: טופל המכיל את מספר הMUG ואת מספר הWMP.
    - **מטרה**: מחשבת כמה ספרות בניחוש תואמות לספרות במספר הסודי במיקום הנכון (MUG) וכמה ספרות תואמות במספר הסודי במיקום שונה (WMP).
    - **דוגמה**:
        ```python
        mug, wmp = count_mug_wmp("1234", "1352")
        print(f"MUG = {mug}, WMP = {wmp}")  # הפלט יהיה "MUG = 1, WMP = 2"
        ```
**משתנים (Variables):**
- `secret_number` (str): המשתנה שמחזיק את המספר הסודי שנוצר על ידי הפונקציה `generate_secret_number`.
- `number_of_guesses` (int): מונה את מספר הניחושים שהמשתמש ביצע במהלך המשחק.
- `user_guess` (str): מחזיק את הקלט מהמשתמש, את הניחוש של המשתמש.
- `mug` (int): מספר הספרות הנכונות שנמצאות במיקום הנכון.
- `wmp` (int): מספר הספרות הנכונות שנמצאות במיקום שגוי.

**בעיות אפשריות ותחומים לשיפור:**
1.  **טיפול בקלט**: הקוד מטפל בצורה טובה בקלט לא תקין, אך אפשר להוסיף טיפול יותר פרטני לשגיאות קלט. לדוגמה, הודעה נפרדת אם הקלט אינו מכיל ספרות.
2.  **ממשק משתמש**: הממשק טקסטואלי ופשוט. ניתן לשפר את ממשק המשתמש על ידי שימוש בספרייה גרפית.
3.  **תחום קושי**: רמת הקושי במשחק קבועה. ניתן להוסיף אפשרות לשנות את מספר הספרות במספר הסודי, כדי להתאים למשתמשים שונים.

**שרשרת קשרים עם חלקים אחרים בפרויקט:**
- אין קשר ישיר לקבצים אחרים בפרויקט `hypotez`. הקוד עצמאי ומכיל את כל הלוגיקה הנדרשת למשחק MUGWMP.

**לסיכום**, הקוד מממש משחק MUGWMP עם לוגיקה ברורה ופשוטה, וכולל אימות קלט בסיסי. הוא משתמש במודול `random` לייצור מספר סודי, ובפונקציות להפרדת לוגיקה של יצירת מספר ובדיקת התאמות בין המספר הסודי לניחוש המשתמש.