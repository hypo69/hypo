# Анализ кода модуля bookmaker_system_prompt.md

**Качество кода**
8
- Плюсы
    - Документ содержит четкое описание задачи и формата ответа.
    - Структурированное описание промпта с примерами входных данных и ожидаемого результата.
    - Примеры в формате JSON для облегчения понимания структуры ответа.
- Минусы
    - Отсутствует формат reStructuredText (RST), который требовался в инструкции.

**Рекомендации по улучшению**
1. Добавить описание в формате reStructuredText (RST).
2. Код должен быть адаптирован под python код, а не markdown.
3. Добавить документацию для каждой функции, метода и переменной.
4. Соблюдать стандарты оформления docstring в Python (например, для Sphinx).

**Оптимизированный код**
```markdown
"""
Инструкция для промпта системы букмекерской конторы
======================================================

Этот документ содержит инструкцию для создания промпта, который
используется в системе букмекерской конторы для анализа данных и прогнозирования.

Пример использования
--------------------

Пример использования промпта:

.. code-block:: text

    **Промпт:**

    Вам предоставлены входные данные в текстовом или числовом формате. Ваша задача:
    1. **Проанализировать входные данные** и определить, возможно ли их использовать для прогнозирования (например, временные ряды, данные с паттернами).
    2. Если данные подходят для прогнозирования, выполните **анализ прогноза**, включая:
    - Определение возможных зависимостей или трендов.
    - Оценку значимости данных для прогноза.
    - Пример прогноза, если это применимо.

    **Формат ответа:**
    ```json
    {
    "is_forecastable": true,
    "analysis": {
        "patterns_detected": "описание выявленных паттернов",
        "trend": "описание тренда (если применимо)",
        "forecast_period": "период, на который можно прогнозировать (если применимо)"
        },
    "forecast": "примерный прогноз, если возможно, иначе null"
    }
    ```

    **Пример входных данных:**
    - Временной ряд чисел: `[12, 14, 15, 20, 25, ...]`.
    - Таблица с несколькими столбцами: даты, продажи, категории.
    - Текстовые описания с метаданными.

    **Пример результата (если прогноз невозможен):**
    ```json
    {
    "is_forecastable": false,
    "analysis": {
        "reason": "Недостаточно данных или структура данных не подходит для прогнозирования"
        },
    "forecast": null
    }
    ```

    **Примечания:**
    - Если входные данные недостаточны для прогнозирования, аргументируйте это.
    - Используйте статистический и контекстуальный анализ для проверки.
    - Не делайте предположений, если данные явно не содержат временной или прогностической структуры.

"""
# Здесь можно было бы разместить пример кода на Python для дальнейшей работы
# с данным промптом, например, генерация промпта с помощью f-строк:
# prompt_example = f"""
#     Вам предоставлены входные данные в текстовом или числовом формате. Ваша задача:
#     1. **Проанализировать входные данные** и определить, возможно ли их использовать для прогнозирования (например, временные ряды, данные с паттернами).
#     2. Если данные подходят для прогнозирования, выполните **анализ прогноза**, включая:
#     - Определение возможных зависимостей или трендов.
#     - Оценку значимости данных для прогноза.
#     - Пример прогноза, если это применимо.
#
#     **Формат ответа:**
#     ```json
#     {{
#         "is_forecastable": true,
#         "analysis": {{
#             "patterns_detected": "описание выявленных паттернов",
#             "trend": "описание тренда (если применимо)",
#             "forecast_period": "период, на который можно прогнозировать (если применимо)"
#         }},
#         "forecast": "примерный прогноз, если возможно, иначе null"
#     }}
#     ```
#
#     **Пример входных данных:**
#     - Временной ряд чисел: `[12, 14, 15, 20, 25, ...]`.
#     - Таблица с несколькими столбцами: даты, продажи, категории.
#     - Текстовые описания с метаданными.
#
#     **Пример результата (если прогноз невозможен):**
#     ```json
#     {{
#         "is_forecastable": false,
#         "analysis": {{
#             "reason": "Недостаточно данных или структура данных не подходит для прогнозирования"
#         }},
#         "forecast": null
#     }}
#     ```
#
#     **Примечания:**
#     - Если входные данные недостаточны для прогнозирования, аргументируйте это.
#     - Используйте статистический и контекстуальный анализ для проверки.
#     - Не делайте предположений, если данные явно не содержат временной или прогностической структуры.
# """
```