# Модуль pricelist_generator

## Обзор

Модуль `pricelist_generator` отвечает за генерацию HTML и PDF отчетов для мехиронов Казаринова. Он использует Jinja2 для рендеринга шаблонов HTML, а также библиотеку pdfkit для преобразования HTML в PDF.  Модуль предоставляет класс `ReportGenerator` для работы с данными и генерацией отчетов.  Функция `main` отвечает за запуск процесса генерации отчетов для заданного мехирона и языка.


## Классы

### `ReportGenerator`

**Описание**: Класс для генерации HTML и PDF отчетов на основе данных из JSON.

**Методы**

#### `generate_html(self, data: dict, lang: str) -> str`

**Описание**: Генерирует HTML-контент на основе шаблона и данных.

**Параметры**

- `data` (dict): Словарь с данными для рендеринга шаблона.
- `lang` (str): Язык отчета (например, 'ru' или 'he').

**Возвращает**

- `str`: Сгенерированный HTML-контент.


#### `create_report(self, data: dict, lang: str, html_file: str | Path, pdf_file: str | Path) -> None`

**Описание**: Полный цикл генерации отчета.

**Параметры**

- `data` (dict): Словарь с данными для отчета.
- `lang` (str): Язык отчета.
- `html_file` (str | Path): Путь к файлу, в который будет сохранен HTML.
- `pdf_file` (str | Path): Путь к файлу, в который будет сохранен PDF.

**Возвращает**

- `None`


## Функции

### `main(mexiron: str, lang: str) -> bool`

**Описание**: Функция, запускающая генерацию отчета для заданного мехирона и языка.

**Параметры**

- `mexiron` (str): Идентификатор мехирона.
- `lang` (str): Язык отчета (например, 'ru' или 'he').

**Возвращает**

- `bool`: `True`, если генерация прошла успешно, `False` в противном случае.


## Использование

Пример использования класса `ReportGenerator` и функции `main`:

```python
mexiron = '24_12_01_03_18_24_269'
lang = 'ru'
main(mexiron, lang)
```

Этот код загружает данные из файла JSON, генерирует HTML-отчет, сохраняет его в файл и преобразует его в PDF.  Обратите внимание на  `gs.path.external_storage`  и другие пути, которые зависят от вашей файловой структуры.  Необходимо корректно настроить переменные среды для работы с этим модулем.

## Модули, импортированные в файле

- `header`
- `dataclasses`
- `src.gs`
- `json`
- `pathlib`
- `jinja2`
- `pdfkit`
- `src.utils.jjson`
- `src.utils.file`
- `src.utils.pdf`
- `src.utils.convertors.html`
- `src.utils.printer`
- `src.logger`