# Модуль для скачивания файлов

## Обзор

Модуль содержит функцию `download_file`, которая позволяет скачивать файлы по указанному URL и сохранять их на диск.
Этот модуль полезен для загрузки файлов из интернета в рамках проекта `hypotez`.

## Подробней

Функция `download_file` использует библиотеку `requests` для отправки HTTP-запроса к указанному URL.
Она проверяет статус ответа сервера и, если запрос успешен (код 200), скачивает файл по частям, чтобы избежать проблем с памятью при работе с большими файлами.
Скачанные данные записываются в файл, указанный в параметре `destination`.

## Функции

### `download_file`

```python
def download_file(url, destination):
    """ Функция для скачивания файла по указанному URL и сохранения его на диск.
    Args:
        url (str): URL файла для скачивания.
        destination (str): Имя файла, под которым он будет сохранен на диске.

    Returns:
        None: Функция ничего не возвращает.

    Raises:
        None: Функция не вызывает исключений.

    Example:
        >>> file_url = 'https://example.com/path/to/file.txt'
        >>> save_as = 'downloaded_file.txt'
        >>> download_file(file_url, save_as)
        Файл успешно загружен!
    """
    # Отправляем GET-запрос на сервер с указанным URL и передаем флаг stream=True для постепенной загрузки файла
    response = requests.get(url, stream=True)

    # Проверяем, успешен ли запрос (код ответа 200 означает успех)
    if response.status_code == 200:
        # Открываем файл для записи в бинарном режиме (wb)
        with open(destination, 'wb') as file:
            # Скачиваем файл по частям (по 1024 байта), чтобы избежать проблем с памятью при больших файлах
            for chunk in response.iter_content(chunk_size=1024):
                file.write(chunk)  # Записываем каждую часть в файл
        print("Файл успешно загружен!")  # Сообщаем об успешной загрузке
    else:
        # Если код ответа не 200, выводим сообщение об ошибке
        print("Ошибка загрузки файла!")
```

**Назначение**: Скачивание файла по указанному URL и сохранение его на диск.

**Как работает функция**:
Функция `download_file` выполняет следующие шаги:
1. Отправляет GET-запрос на сервер с указанным URL, используя библиотеку `requests`. Параметр `stream=True` указывает на то, что файл будет загружаться постепенно, небольшими частями.
2. Проверяет статус ответа сервера. Если код ответа равен 200, это означает, что запрос выполнен успешно.
3. Открывает файл с именем, указанным в параметре `destination`, для записи в бинарном режиме (`wb`).
4. Скачивает файл по частям (размер каждой части составляет 1024 байта) с использованием метода `iter_content` объекта `response`.
5. Записывает каждую часть скачанного файла в открытый файл.
6. Выводит сообщение "Файл успешно загружен!" в случае успешной загрузки или "Ошибка загрузки файла!" в случае ошибки.

**Параметры**:
- `url` (str): URL файла для скачивания.
- `destination` (str): Имя файла, под которым он будет сохранен на диске.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- Функция не вызывает исключений, но выводит сообщение об ошибке в случае неудачного HTTP-запроса.

**Примеры**:

```python
file_url = 'https://example.com/path/to/file.txt'
save_as = 'downloaded_file.txt'
download_file(file_url, save_as)