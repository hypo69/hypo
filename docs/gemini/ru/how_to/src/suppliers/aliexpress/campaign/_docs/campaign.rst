Как использовать модуль campaign
========================================================================================

Описание
-------------------------
Модуль `campaign` предназначен для управления и редактирования рекламных кампаний на AliExpress, взаимодействия с Google Таблицами для получения и обработки данных, а также подготовки данных кампаний для использования.  Он обрабатывает чтение и запись данных из Google Таблиц, загружает конфигурационные данные в формате JSON, формирует объекты `SimpleNamespace` для кампаний и продуктов, а также позволяет получать связанные продукты для каждой категории.

Шаги выполнения
-------------------------
1. **Инициализация:** Создать экземпляр класса `AliPromoCampaign`, передав необходимые параметры: имя кампании, категория, язык, валюта и флаг `force_update` (указывает на необходимость обновления данных). Конструктор `__init__` загружает данные кампании из файла JSON, находящегося в Google Диске.

2. **Инициализация кампании:** Метод `initialize_campaign()` создаёт объект `SimpleNamespace` для хранения данных кампании, извлекает заголовок (`self.title`) и категорию (`self.category`) из загруженных данных.  Ключевым шагом является получение продуктов, связанных с категорией.

3. **Получение категории:** Метод `get_category_from_campaign()` извлекает категорию из данных кампании по её имени (`self.category_name`).

4. **Получение продуктов категории:** Метод `get_category_products()` извлекает продукты, связанные с указанной категорией. При `force_update=True` обновляет данные продуктов из внешних источников.

5. **Формирование объекта продукта:** Метод `create_product_namespace()` создает `SimpleNamespace` для каждого продукта, содержащий информацию о продукте.

6. **Подготовка продуктов:** Метод `prepare_products()` загружает дополнительные данные для продуктов, например, из файла `sources.txt` или `sources.csv` (через `csv2dict`). Используется функция `extract_prod_ids` для извлечения идентификаторов продуктов.

7. **Обработка продуктов:** Метод `process_affiliate_products` обрабатывает идентификаторы продуктов, получаемые на предыдущем шаге.

Пример использования
-------------------------
.. code-block:: python

    from src.suppliers.aliexpress.campaign import AliPromoCampaign
    from pathlib import Path

    # Пример использования для обработки одной категории кампании
    campaign = AliPromoCampaign("SummerSale", "Electronics", "EN", "USD", force_update=True)
    campaign.initialize_campaign()
    products = campaign.get_category_products()
    # Дополнительная обработка полученных продуктов
    campaign.prepare_products()
    campaign.process_affiliate_products(prod_ids)
    # ... дальнейшие действия с полученными данными


    # Пример использования для обработки всех кампаний
    # (реализация обработки всех кампаний опускается для краткости)