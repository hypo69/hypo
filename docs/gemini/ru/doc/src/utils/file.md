# Модуль `hypotez/src/utils/file.py`

## Обзор

Этот модуль предоставляет функции для работы с файлами, включая запись и чтение текстовых файлов, поиск файлов по шаблонам, удаление BOM (byte order mark) и обработку каталогов.

## Функции

### `save_text_file`

**Описание**: Сохраняет данные в текстовый файл.  Поддерживает запись строк, списков строк и словарей.

**Параметры**:

- `data` (str | list[str] | dict): Данные для записи (строка, список строк или словарь).
- `file_path` (str | Path): Путь к файлу, куда будут сохранены данные.
- `mode` (str, optional): Режим записи (`w` для записи, `a` для добавления). По умолчанию `'w'`.
- `exc_info` (bool, optional): Если True, регистрирует трассировку стека при ошибке. По умолчанию `True`.

**Возвращает**:

- `bool`: `True`, если файл был успешно сохранен, `False` в противном случае.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлом (например, отсутствие доступа к файлу).


### `read_text_file`

**Описание**: Читает содержимое файла.  Если файл – это каталог, то возвращает содержимое всех файлов в нём.

**Параметры**:

- `file_path` (str | Path): Путь к файлу или каталогу.
- `as_list` (bool, optional): Если True, возвращает содержимое файла как список строк. По умолчанию `False`.
- `extensions` (list[str], optional): Список расширений файлов, которые нужно включить, если читается каталог. По умолчанию `None` (все расширения).
- `exc_info` (bool, optional): Если True, регистрирует трассировку стека при ошибке. По умолчанию `True`.

**Возвращает**:

- str | list[str] | None: Содержимое файла как строка или список строк, или `None`, если произошла ошибка.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлом (например, отсутствие доступа к файлу).


### `get_filenames`

**Описание**: Получает список имён файлов в заданном каталоге, опционально отфильтрованных по расширению.

**Параметры**:

- `directory` (str | Path): Каталог для поиска.
- `extensions` (str | list[str], optional): Расширения для фильтрации. По умолчанию `'*'`, что означает все файлы.
- `exc_info` (bool, optional): Если True, регистрирует трассировку стека при ошибке. По умолчанию `True`.

**Возвращает**:

- list[str]: Список имён файлов, найденных в каталоге.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с каталогом.


### `recursively_yield_file_path`

**Описание**: Рекурсивно итеративно возвращает пути к файлам, соответствующие заданным шаблонам, в заданном каталоге.

**Параметры**:

- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str], optional): Шаблоны для поиска файлов. По умолчанию `'*'` (все файлы).
- `exc_info` (bool, optional): Если True, регистрирует трассировку стека при ошибке. По умолчанию `True`.

**Возвращает**:

- `Generator[Path, None, None]`: Итератор, возвращающий пути к файлам, соответствующим заданным шаблонам.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлами.


### `recursively_get_file_path`

**Описание**: Рекурсивно получает пути к файлам, соответствующие заданным шаблонам, в заданном каталоге.

**Параметры**:

- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str], optional): Шаблоны для поиска файлов. По умолчанию `'*'` (все файлы).
- `exc_info` (bool, optional): Если True, регистрирует трассировку стека при ошибке. По умолчанию `True`.

**Возвращает**:

- list[Path]: Список путей к файлам, соответствующим заданным шаблонам.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлами.


### `recursively_read_text_files`

**Описание**: Рекурсивно читает содержимое текстовых файлов, соответствующих заданным шаблонам, в заданном каталоге.

**Параметры**:

- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str]): Шаблоны для поиска файлов.
- `as_list` (bool, optional): Если True, возвращает содержимое каждого файла как список строк. По умолчанию `False`.
- `exc_info` (bool, optional): Если True, регистрирует трассировку стека при ошибке. По умолчанию `True`.

**Возвращает**:

- list[str]: Список содержимого файлов, соответствующих шаблонам.

**Пример**:


**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлами.


### `get_directory_names`

**Описание**: Возвращает список имён подкаталогов в заданном каталоге.

**Параметры**:

- `directory` (str | Path): Каталог для поиска.
- `exc_info` (bool, optional): Если True, регистрирует трассировку стека при ошибке. По умолчанию `True`.

**Возвращает**:

- list[str]: Список имён подкаталогов.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с каталогом.


### `read_files_content`

**Описание**: Читает содержимое файлов, соответствующих шаблонам, рекурсивно.

**Параметры**:

- `root_dir` (str | Path): Корневой каталог для поиска.
- `patterns` (str | list[str]): Шаблоны для поиска файлов.
- `as_list` (bool, optional): Если True, возвращает содержимое каждого файла как список строк. По умолчанию `False`.


**Возвращает**:

- list[str]: Объединённое содержимое файлов, соответствующих шаблонам.


**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлами.


### `remove_bom`

**Описание**: Удаляет BOM (byte order mark) из текстового файла.

**Параметры**:

- `file_path` (str | Path): Путь к файлу.

**Возвращает**:

- None


**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлом.


### `traverse_and_clean`

**Описание**: Проходит по каталогу и удаляет BOM из файлов Python.

**Параметры**:

- `directory` (str | Path): Корневой каталог для обработки.

**Возвращает**:

- None


**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлами.


### `main`

**Описание**: Точка входа для удаления BOM из файлов Python.

**Параметры**:

- Нет

**Возвращает**:

- None

**Вызывает исключения**:

- `Exception`: Возникает при ошибках при работе с файлами.