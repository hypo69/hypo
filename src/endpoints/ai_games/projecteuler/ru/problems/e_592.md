# Задача No 592
## Билеты в театр
## Условия

Театр имеет 1000 мест, пронумерованных от 1 до 1000. На вечерний спектакль продаются билеты, и каждое место имеет цену, которая рассчитывается по следующим правилам:

* Место № 1 стоит 1 монету.
* Каждое следующее место в ряду стоит на 1 монету больше, чем предыдущее, до места № 100. Место №100 стоит 100 монет.
* Следующие 100 мест (№101-200) стоят по 100 монет за каждое место.
* Следующие 100 мест (№201-300) стоят по 200 монет за каждое место.
* Следующие 100 мест (№301-400) стоят по 300 монет за каждое место.
* ...
* Следующие 100 мест (№901-1000) стоят по 900 монет за каждое место.

Таким образом, стоимость билета на место *n* определяется следующим образом:

$$
price(n) = 
\begin{cases}
   n, & \text{если } 1 \le n \le 100 \\
   100 \cdot \lfloor \frac{n-1}{100} \rfloor, & \text{если } 101 \le n \le 1000
\end{cases}
$$

В этот раз есть специальное предложение:

* Если покупка включает в себя как минимум 3 билета, то можно получить скидку в размере 10% от общей стоимости.
* Если покупка включает в себя как минимум 20 билетов, то можно получить скидку в размере 20% от общей стоимости.
* Скидки не суммируются - применяется только одна скидка.

Клиент заходит в кассу и хочет купить **n** билетов. Чтобы не потерять деньги, клиент использует следующий жадный алгоритм: сначала он покупает самый дешевый билет, потом следующий самый дешевый и так далее до того, пока не купит все **n** билетов. Если же есть несколько билетов с одинаковой стоимостью, то выбирается билет с наименьшим номером.

Пусть $S(n)$ — суммарная стоимость покупки **n** билетов, где клиент следует вышеуказанному алгоритму и учитывает скидку (если она есть).

Например:
* $S(1) = 1$
* $S(2) = 1 + 2 = 3$
* $S(3) = (1 + 2 + 3) * 0.9 = 5.4$
* $S(20) = (1 + 2 + ... + 20) * 0.8 = 168$
* $S(100) = 5050$
* $S(1000) = 495500$

Найдите $\sum_{n=1}^{10^7} S(n)$. Дайте ответ с точностью до 10 знаков после запятой.
