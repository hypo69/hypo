# Модуль hypotez/src/scenario/executor.py

## Обзор

Модуль `hypotez/src/scenario/executor.py` предназначен для выполнения сценариев, загружая их из файлов, извлекая информацию о продуктах и вставляя ее в PrestaShop. Он содержит функции для управления процессом выполнения сценариев, загрузки сценариев из файлов и обработки извлеченной информации о продуктах.

## Функции

### `dump_journal`

**Описание**: Сохраняет данные журнала в файл JSON.

**Параметры**:
- `s` (объект): Экземпляр поставщика.
- `journal` (словарь): Словарь, содержащий данные журнала.

**Возвращает**:
-  (не имеет возвращаемого значения)


### `run_scenario_files`

**Описание**: Выполняет список файлов сценариев.

**Параметры**:
- `s` (объект): Экземпляр поставщика.
- `scenario_files_list` (список или путь): Список путей к файлам сценариев или путь к единственному файлу.

**Возвращает**:
- `bool`: `True`, если все сценарии были выполнены успешно, `False` в противном случае.

**Возможные исключения**:
- `TypeError`: Если `scenario_files_list` не является списком или объектом `Path`.

### `run_scenario_file`

**Описание**: Загружает и выполняет сценарии из файла.

**Параметры**:
- `s` (объект): Экземпляр поставщика.
- `scenario_file` (объект `Path`): Путь к файлу сценария.

**Возвращает**:
- `bool`: `True`, если сценарий был выполнен успешно, `False` в противном случае.

**Возможные исключения**:
- `FileNotFoundError`: Если файл сценария не найден.
- `json.JSONDecodeError`: Если файл сценария содержит невалидный JSON.

### `run_scenarios`

**Описание**: Выполняет список сценариев (НЕ ФАЙЛОВ).

**Параметры**:
- `s` (объект): Экземпляр поставщика.
- `scenarios` (список или словарь): Список сценариев или одиночный сценарий в виде словаря.

**Возвращает**:
- Список или словарь: Результат выполнения сценариев, или `False` в случае ошибки.

**Примечания**:
- Если `scenarios` не указан, берется значение из `s.current_scenario`.


### `run_scenario`

**Описание**: Выполняет полученный сценарий.

**Параметры**:
- `supplier` (объект): Экземпляр поставщика.
- `scenario` (словарь): Словарь, содержащий детали сценария.
- `scenario_name` (строка): Имя сценария.

**Возвращает**:
- Список или словарь: Результат выполнения сценария.

**Примечания**:
- Параметр `scenario_name` может быть не нужен, требует проверки.


### `insert_grabbed_data`

**Описание**: Вставляет извлеченные данные о продукте в PrestaShop.

**Параметры**:
- `product_fields` (объект `ProductFields`): Объект, содержащий информацию о продукте.

**Возвращает**:
- (не имеет возвращаемого значения)

**Примечания**:
- Данная логика должна быть перенесена в другой файл (в класс PrestaShop).


### `execute_PrestaShop_insert_async`

**Описание**: Асинхронная функция вставки продукта в PrestaShop.

**Параметры**:
- `f` (объект `ProductFields`): Объект, содержащий информацию о продукте.
- `coupon_code` (строка, необязательно): Купон.
- `start_date` (строка, необязательно): Дата начала акции.
- `end_date` (строка, необязательно): Дата окончания акции.

**Возвращает**:
- `bool`: `True` если вставка успешна, `False` в противном случае.


### `execute_PrestaShop_insert`

**Описание**: Вставка продукта в PrestaShop.

**Параметры**:
- `f` (объект `ProductFields`): Объект, содержащий информацию о продукте.
- `coupon_code` (строка, необязательно): Купон.
- `start_date` (строка, необязательно): Дата начала акции.
- `end_date` (строка, необязательно): Дата окончания акции.

**Возвращает**:
- `bool`: `True` если вставка успешна, `False` в противном случае.

**Примечания**:
- Использует класс `PrestaShop` для вставки данных.