## ניתוח קוד: משחק "שוורים ופרות"

### 1. <algorithm>

**תיאור תהליך העבודה של הקוד:**

1.  **אתחול:**
    *   המשחק מתחיל בפונקציה `generate_target_number()`, אשר יוצרת מספר בן 4 ספרות אקראי כאשר כל ספרה שונה מחברתה. לדוגמא, המספר יכול להיות "1234".
    *   המספר המטרה נשמר במשתנה `target_number`.

2.  **לולאת משחק:**
    *   הלולאה מתחילה כאשר משתמש מתבקש להזין מספר בן 4 ספרות. לדוגמה, המשתמש יכול להזין "5678".
    *   קלט המשתמש נשמר במשתנה `user_guess`.
    *   הקלט עובר בדיקה:
        *   האם הקלט הוא מספר?
        *   האם הקלט מורכב מ-4 ספרות?
        *   אם הקלט אינו תקין, הודעת שגיאה מודפסת והמשחק חוזר לראשית הלולאה (מבקש קלט נוסף).

3.  **חישוב שוורים ופרות:**
    *   הפונקציה `get_bulls_and_cows()` מקבלת את קלט המשתמש (`user_guess`) ואת המספר המטרה (`target_number`).
    *   היא עוברת על הספרות בקלט המשתמש:
        *   אם ספרה נמצאת באותו מיקום גם במספר המטרה, היא נחשבת "שור" והמשתנה `bulls` גדל ב-1. לדוגמה, אם `user_guess` הוא "1639" ו-`target_number` הוא "1234", הספרה "1" והספרה "3" הן שוורים.
        *   אם ספרה נמצאת במספר המטרה אך לא באותו מיקום, היא נחשבת "פרה" והמשתנה `cows` גדל ב-1. לדוגמה, אם `user_guess` הוא "4629" ו-`target_number` הוא "1234", הספרה "4" והספרה "2" הן פרות.
    *   הפונקציה מחזירה את מספר השוורים והפרות.

4.  **הצגת תוצאות:**
    *   מספר השוורים והפרות מודפס למשתמש. לדוגמה: "2 שוורים, 1 פרה".

5.  **בדיקת ניצחון:**
    *   המשחק בודק אם מספר השוורים הוא 4.
    *   אם מספר השוורים הוא 4, המשתמש ניצח, הודעת ניצחון מודפסת והלולאה מסתיימת.
    *   אם לא, המשחק חוזר לתחילת הלולאה ומבקש מהמשתמש ניסיון נוסף.

6.  **סיום:**
    *   המשחק מסתיים לאחר ניצחון המשתמש.

### 2. <mermaid>

```mermaid
flowchart TD
    Start[התחלה] --> GenerateTargetNumber[<p align='left'>יצירת מספר מטרה בן 4 ספרות<br>עם ספרות ייחודיות: <code><b>targetNumber</b></code></p>]
    GenerateTargetNumber --> LoopStart{"התחלת לולאה: <br>כל עוד לא ניצח"}
    LoopStart -- כן --> InputGuess[קבלת קלט<br>משתמש: <code><b>userGuess</b></code>]
    InputGuess --> ValidateGuess[בדיקת תקינות<br>קלט: <code><b>len(userGuess) == 4 && isdigit?</b></code>]
     ValidateGuess -- לא --> OutputInvalid[הודעה:<br><b>קלט לא תקין</b>]
     OutputInvalid --> LoopStart
    ValidateGuess -- כן --> InitializeCounts[<p align='left'>אתחול מוני<br>שוורים ופרות: <code><b>bulls = 0, cows = 0</b></code></p>]
    InitializeCounts --> CheckDigits{"לולאה:<br>עבור כל ספרה ב-<code><b>userGuess</b></code>"}
    CheckDigits --> CheckBull{"בדיקה: <br><code><b>userGuess[i] == targetNumber[i]?</b></code>"}
    CheckBull -- כן --> IncreaseBulls[<code><b>bulls = bulls + 1</b></code>]
        IncreaseBulls --> CheckNextDigit["ספרה<br>נוספת?"]
    CheckBull -- לא --> CheckCow{"בדיקה: <br><code><b>userGuess[i] in targetNumber?</b></code>"}
    CheckCow -- כן --> IncreaseCows[<code><b>cows = cows + 1</b></code>]
        IncreaseCows --> CheckNextDigit
    CheckCow -- לא --> CheckNextDigit
    CheckNextDigit -- כן --> CheckDigits
    CheckNextDigit -- לא --> OutputResult[הדפסה: <br><code><b>{bulls} שוורים, {cows} פרות</b></code>]
    OutputResult --> CheckWin{"בדיקה: <code><b>bulls == 4?</b></code>"}
    CheckWin -- כן --> OutputWin[הודעה:<br><b>ניצחון!</b>]
    OutputWin --> End[סיום]
    CheckWin -- לא --> LoopStart
    LoopStart -- לא --> End
```

**ניתוח תלויות (Imports):**

*   `import random`: מודול `random` משמש ליצירת מספרים אקראיים. הוא הכרחי ליצירת המספר המטרה כאשר כל ספרה ייחודית. אין לו תלות בחלקים אחרים של הפרויקט.

**הסבר מונחי התרשים:**

*   **Start:** נקודת התחלת התוכנית.
*   **GenerateTargetNumber:** יצירת מספר אקראי בן 4 ספרות שיהווה את המספר המטרה.
*   **LoopStart:** תחילת לולאה שחוזרת כל עוד המשתמש לא ניחש את המספר המטרה.
*   **InputGuess:** קבלת ניחוש המשתמש.
*   **ValidateGuess:** בדיקה האם הניחוש תקין.
*   **OutputInvalid:** הדפסת הודעה על קלט לא תקין.
*   **InitializeCounts:** אתחול מוני השוורים והפרות.
*   **CheckDigits:** תחילת לולאה שעוברת על כל ספרה בניחוש המשתמש.
*   **CheckBull:** בדיקה האם הספרה נמצאת במקום הנכון במספר המטרה.
*   **IncreaseBulls:** הגדלת מונה השוורים.
*   **CheckCow:** בדיקה האם הספרה קיימת במספר המטרה אך לא במקום הנכון.
*   **IncreaseCows:** הגדלת מונה הפרות.
*   **CheckNextDigit:** בדיקה האם יש עוד ספרות לולאה.
*   **OutputResult:** הדפסת תוצאת הניחוש - מספר שוורים ופרות.
*   **CheckWin:** בדיקה האם המשתמש ניחש נכון (4 שוורים).
*   **OutputWin:** הדפסת הודעת ניצחון.
*   **End:** סיום התוכנית.

### 3. <explanation>

**ייבואים (Imports):**

*   `import random`: המודול `random` מיובא כדי לאפשר יצירת מספר אקראי. זה הכרחי ליצירת מספר המטרה באופן רנדומלי ולאפשר משחק חדש בכל הפעלה.
    *   אין תלות בחבילות `src.` אחרות, מדובר במודול סטנדרטי של פייתון.

**פונקציות (Functions):**

*   `generate_target_number()`:
    *   **פרמטרים:** אין.
    *   **ערך מוחזר:** מחרוזת המייצגת מספר בן 4 ספרות עם ספרות ייחודיות.
    *   **מטרה:** ליצור מספר אקראי בן 4 ספרות כאשר כל ספרה שונה מחברתה.
    *   **דוגמה לשימוש:** `target_number = generate_target_number()`
*   `get_bulls_and_cows(user_guess, target_number)`:
    *   **פרמטרים:** `user_guess` (מחרוזת המייצגת את ניחוש המשתמש) ו- `target_number` (מחרוזת המייצגת את מספר המטרה).
    *   **ערך מוחזר:** זוג של מספרים שלמים, הראשון מייצג את מספר ה"שוורים" והשני את מספר ה"פרות".
    *   **מטרה:** לחשב את מספר ה"שוורים" ו"פרות" בהשוואה בין הניחוש למספר המטרה.
    *   **דוגמה לשימוש:** `bulls, cows = get_bulls_and_cows("1234", "1452")`

**משתנים (Variables):**

*   `target_number`: מחרוזת, מייצגת את המספר המטרה שנוצר על ידי הפונקציה `generate_target_number()`.
*   `user_guess`: מחרוזת, מייצגת את הניחוש שהזין המשתמש.
*   `bulls`: מספר שלם, מייצג את מספר ה"שוורים" שניחש המשתמש.
*   `cows`: מספר שלם, מייצג את מספר ה"פרות" שניחש המשתמש.

**בעיות אפשריות ושיפורים:**

*   **קלט שאינו מספר:** הקוד בודק האם הקלט הוא מספר, אך לא מטפל במקרה של קלט שהוא אותיות או סימנים אחרים. אפשר לשפר את הבדיקה כך שתהיה ספציפית יותר בנוגע לקלט המצופה (4 ספרות).
*   **הודעות למשתמש:** ההודעות למשתמש (למשל, הודעת השגיאה על קלט לא תקין) יכולות להיות מפורטות יותר, לדוגמה, לציין מה בדיוק לא תקין בקלט.
*   **משחק מחדש:** אין אפשרות לשחק שוב מבלי להפעיל את הקוד מחדש. אפשר להוסיף אפשרות למשחק חוזר.
*  **קושי:** ניתן להוסיף אפשרות לבחירת קושי על ידי שינוי מספר הספרות במספר המטרה.

**שרשרת קשרים עם חלקים אחרים בפרויקט:**

*   הקוד הוא משחק עצמאי ואין לו קשר ישיר עם חלקים אחרים בפרויקט. הוא יכול להיות חלק ממימוש של משחקים קטנים בתוך פרויקט רחב יותר. אין לו קשר עם `header.py`.