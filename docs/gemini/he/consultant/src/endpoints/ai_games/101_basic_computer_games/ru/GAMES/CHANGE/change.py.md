# Анализ кода модуля change.py

**Качество кода**
- **Соответствие требованиям к формату кода (1-10)**:
  -  __Преимущества:__
      - Код читаемый и хорошо структурирован.
      - Использованы осмысленные имена переменных.
      - Логика игры ясна и легко прослеживается.
      - Присутствует подробное описание игры и ее алгоритма в начале кода.
      - Блок-схема игры в формате mermaid помогает визуально понять логику.
  -  __Недостатки:__
      - Отсутствуют docstring для функций и модулей.
      - Используется стандартный `print` для вывода, вместо логирования ошибок.
      - Обработка ошибок ввода примитивна.
      - Нет проверки на неправильный ввод (например, буквы вместо цифр), за исключением `ValueError`.

**Рекомендации по улучшению**

1. **Документация:**
   - Добавить docstring в формате reStructuredText (RST) для модуля.
   - Добавить docstring для каждого блока кода, включая цикл while.
2. **Логирование:**
   - Заменить `print` на `logger.info` и `logger.error` для отладки и логирования ошибок.
   - Обработать ошибки ввода более детально.
3. **Обработка исключений:**
    - Обработать `ValueError` с помощью `logger.error` и предоставить более понятное сообщение пользователю.
4. **Форматирование кода:**
   - Использовать кавычки `'` в коде.
5. **Структура:**
   - Разбить код на функции для улучшения читаемости и повторного использования. Например, функции для ввода координат, проверки координат, вычисления расстояния и определения направления.

**Улучшенный код**
```python
"""
Модуль для игры "Хёркл".
=========================================================================================

Игра "Хёркл" - это игра-поиск, в которой игрок пытается найти компьютер,
который "прячется" в случайном месте на сетке 10x10. Игрок получает
подсказки о направлении (север, юг, восток, запад) и расстоянии до Хёркла
после каждого хода. Игрок побеждает, когда находит Хёркла.

Пример использования
--------------------

.. code-block:: python

    import random
    import math

    # Инициализация координат Хёркла случайными целыми числами от 1 до 10
    hurkleX = random.randint(1, 10)
    hurkleY = random.randint(1, 10)

    # Основной игровой цикл (пока Хёркл не найден)
    while True:
        # 2.1 Запрос у игрока координат его попытки
        try:
            userX = int(input('Введите X координату (от 1 до 10): '))
            userY = int(input('Введите Y координату (от 1 до 10): '))
        except ValueError:
            print('Пожалуйста, введите целые числа.')
            continue

        # Проверка ввода координат
        if not (1 <= userX <= 10 and 1 <= userY <= 10):
                print('Координаты должны быть в диапазоне от 1 до 10.')
                continue
        # 2.2 Проверка, угадал ли игрок позицию Хёркла
        if userX == hurkleX and userY == hurkleY:
            print('YOU FOUND HIM!')
            break  # Завершение игры, если Хёркл найден

        # 2.3 Вычисление расстояния между позицией игрока и позицией Хёркла
        distanceX = userX - hurkleX
        distanceY = userY - hurkleY
        distance = math.sqrt(distanceX**2 + distanceY**2)

        # 2.4 Определение направления до Хёркла (комбинация N, S, E, W)
        direction = ''
        if distanceY > 0:
            direction += 'N'
        if distanceY < 0:
            direction += 'S'
        if distanceX > 0:
            direction += 'E'
        if distanceX < 0:
            direction += 'W'

        # 2.5 Вывод подсказки (направление и расстояние) до Хёркла
        print(f'{direction if direction else 'Здесь'}, расстояние: {distance:.2f}')
"""
import random
import math
from src.logger.logger import logger #  Импортирует logger для логирования

# 1. Инициализация координат Хёркла случайными целыми числами от 1 до 10
hurkleX = random.randint(1, 10) # Генерирует случайное целое число от 1 до 10 для координаты X Хёркла.
hurkleY = random.randint(1, 10) # Генерирует случайное целое число от 1 до 10 для координаты Y Хёркла.

# 2. Основной игровой цикл (пока Хёркл не найден)
while True: #  Начало бесконечного цикла, который продолжается до тех пор, пока игрок не найдет Хёркла
    # 2.1 Запрос у игрока координат его попытки
    try: #  Блок try-except обрабатывает возможные ошибки ввода.
        userX = int(input('Введите X координату (от 1 до 10): ')) #  Запрашивает у игрока X координату.
        userY = int(input('Введите Y координату (от 1 до 10): ')) #  Запрашивает у игрока Y координату.
    except ValueError as e: #  Если пользователь введет не целые числа, то будет выведено сообщение об ошибке.
        logger.error('Ошибка ввода. Пожалуйста, введите целые числа.', exc_info=True) # Логирует ошибку ввода.
        print('Пожалуйста, введите целые числа.') #  Выводит сообщение об ошибке пользователю.
        continue #  Переходит к следующей итерации цикла.

    # Проверка ввода координат
    if not (1 <= userX <= 10 and 1 <= userY <= 10): #  Проверяет, что координаты находятся в диапазоне от 1 до 10.
        logger.error(f'Неверные координаты: x={userX}, y={userY}') # Логирует ошибку неверных координат.
        print('Координаты должны быть в диапазоне от 1 до 10.') # Выводит сообщение об ошибке, если координаты неверны.
        continue # Переходит к следующей итерации цикла.
    # 2.2 Проверка, угадал ли игрок позицию Хёркла
    if userX == hurkleX and userY == hurkleY: #  Проверяет, совпадают ли координаты игрока и Хёркла.
        print('YOU FOUND HIM!') #  Выводит сообщение о победе.
        break  # Завершение игры, если Хёркл найден # Завершает цикл (игру), если Хёркл найден.

    # 2.3 Вычисление расстояния между позицией игрока и позицией Хёркла
    distanceX = userX - hurkleX #  Вычисляет разницу координат X.
    distanceY = userY - hurkleY #  Вычисляет разницу координат Y.
    distance = math.sqrt(distanceX**2 + distanceY**2) # Вычисляет расстояние по теореме Пифагора.

    # 2.4 Определение направления до Хёркла (комбинация N, S, E, W)
    direction = '' #  Инициализирует пустую строку для хранения направления.
    if distanceY > 0: #  Если разница Y положительная, добавляет "N" (север).
        direction += 'N'
    if distanceY < 0: #  Если разница Y отрицательная, добавляет "S" (юг).
        direction += 'S'
    if distanceX > 0: #  Если разница X положительная, добавляет "E" (восток).
        direction += 'E'
    if distanceX < 0: #  Если разница X отрицательная, добавляет "W" (запад).
        direction += 'W'

    # 2.5 Вывод подсказки (направление и расстояние) до Хёркла
    print(f'{direction if direction else 'Здесь'}, расстояние: {distance:.2f}') # Выводит направление (если есть, иначе выводит "Здесь") и расстояние до Хёркла.
```