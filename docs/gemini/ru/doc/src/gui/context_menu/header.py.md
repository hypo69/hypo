# src.gui.context_menu.header

## Обзор

Данный модуль `header.py` предназначен для настройки путей и переменных окружения, необходимых для работы приложения. Он загружает настройки из файла `settings.json`, определяет корневой путь проекта, а также добавляет пути к исполняемым файлам GTK, FFmpeg и Graphviz в системный путь. Кроме того, он настраивает переменную окружения `WEASYPRINT_DLL_DIRECTORIES`.

## Содержание

- [Обзор](#обзор)
- [Импорты](#импорты)
- [Константы и переменные](#константы-и-переменные)
- [Настройка путей и переменных окружения](#настройка-путей-и-переменных-окружения)
- [Отключение предупреждений](#отключение-предупреждений)

## Импорты

### `import json`
Используется для работы с JSON-файлами, в частности, для загрузки настроек из `settings.json`.

### `import sys`
Используется для работы с системными параметрами и путями, включая добавление новых путей в `sys.path`.

### `from pathlib import Path`
Используется для работы с путями в файловой системе, предоставляя удобный объектный интерфейс.

## Константы и переменные

### `project_name`
Имя проекта, загружается из `settings.json`. Используется для определения корневого пути проекта.

### `__root__`
Абсолютный путь к корневой директории проекта, вычисляется на основе текущего рабочего каталога и имени проекта.

### `gtk_bin_path`
Абсолютный путь к директории с исполняемыми файлами GTK.

### `ffmpeg_bin_path`
Абсолютный путь к директории с исполняемыми файлами FFmpeg.

### `graphviz_bin_path`
Абсолютный путь к директории с исполняемыми файлами Graphviz.

### `paths_to_add`
Список путей, которые необходимо добавить в системный путь.

### `current_paths`
Множество путей, которые уже находятся в системном пути.

### `sys_path_env_var`
Имя переменной окружения, которая используется для WeasyPrint.

## Настройка путей и переменных окружения

1.  **Загрузка настроек проекта:**
    - Загружает настройки, включая имя проекта, из файла `settings.json`.
2.  **Определение корневого пути проекта:**
    - Вычисляет абсолютный путь к корневой директории проекта `__root__`.
3.  **Добавление корневого пути в `sys.path`:**
    - Добавляет корневой путь проекта в `sys.path`.
4.  **Определение путей к исполняемым файлам:**
    - Определяет пути к директориям с исполняемыми файлами GTK, FFmpeg и Graphviz.
5.  **Обновление переменной `PATH`:**
    - Проверяет, есть ли пути к исполняемым файлам в `sys.path`. Если нет, добавляет их в начало `sys.path`.
6.  **Настройка переменной `WEASYPRINT_DLL_DIRECTORIES`:**
    - Устанавливает переменную окружения `WEASYPRINT_DLL_DIRECTORIES`, если её нет.

## Отключение предупреждений

### `warnings.filterwarnings("ignore", category=UserWarning)`
Отключает вывод предупреждений GTK в консоль, используя модуль `warnings`.