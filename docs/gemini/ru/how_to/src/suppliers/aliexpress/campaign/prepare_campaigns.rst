Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код предназначен для подготовки рекламных кампаний на AliExpress. Он обрабатывает категории, данные кампаний, генерирует рекламные материалы и поддерживает гибкость в обработке отдельных кампаний или всех кампаний в директории. Код использует аргументы командной строки для выбора кампании, языка, валюты и набора категорий для обработки.  Он работает с данными, хранящимися в файлах JSON, и использует класс `AliCampaignEditor` для выполнения основных задач.

Шаги выполнения
-------------------------
1. **Импорт библиотек**: Код импортирует необходимые библиотеки, такие как `argparse` для обработки аргументов командной строки, `copy`, `pathlib` и `typing` для работы с файлами и типами данных, а также `gs`, `AliCampaignEditor`, `locales`, `pprint`, `get_directory_names`, `j_loads` и `logger` для работы с Google Drive, обработкой данных кампаний, локализацией, выводом данных и логированием.

2. **Определение констант**:  Код определяет константу `MODE` и переменную `campaigns_directory`, указывающую на директорию с файлами кампаний в Google Drive.

3. **`process_campaign_category` функция**: Эта функция обрабатывает конкретную категорию в кампании для заданного языка и валюты. Она принимает имя кампании, название категории, язык и валюту. Возвращает список названий продуктов в данной категории.  Функция использует `AliCampaignEditor` для обработки категории.

4. **`process_campaign` функция**: Эта функция обрабатывает всю кампанию. Она принимает имя кампании, язык (необязательно), валюту (необязательно) и опциональный путь к файлу кампании.  Функция обрабатывает все доступные языки и валюты (если не указаны явно) и запускает метод `process_campaign()` для каждого из них.

5. **`process_all_campaigns` функция**: Обрабатывает все кампании в директории `campaigns_directory` для указанного языка и валюты или для всех доступных пар язык-валюта. Эта функция перебирает все имеющиеся кампании, используя `get_directory_names` и запускает `process_campaign()` для каждой из них.


6. **`main_process` функция**: Основная функция, обрабатывающая кампанию и ее категории. Она принимает имя кампании, список категорий, язык и валюту.  Если указаны категории, обрабатываются только эти категории.  В противном случае обрабатывается вся кампания.

7. **`main` функция**: Парсит аргументы командной строки. Признает обработку всех кампаний (`--all`) или отдельной кампании.  Вызывает соответствующую функцию (`process_all_campaigns` или `main_process`).

8. **Основной блок кода (`if __name__ == "__main__":`)**: Запускает функцию `main`, которая обрабатывает аргументы командной строки и выполняет соответствующую обработку.

Пример использования
-------------------------
.. code-block:: bash

    python src/suppliers/aliexpress/campaigns/prepare_campaigns.py summer_sale -c electronics -l EN -cu USD

Этот пример выполнит подготовку кампании "summer_sale" для категории "electronics", на английском языке (EN) и долларах США (USD).

.. code-block:: bash

    python src/suppliers/aliexpress/campaigns/prepare_campaigns.py --all -l EN -cu USD

Этот пример выполнит подготовку всех кампаний в директории, указав английский язык (EN) и доллары США (USD) как необходимые параметры.