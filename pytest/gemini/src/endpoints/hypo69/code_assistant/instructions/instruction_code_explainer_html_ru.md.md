```python
import pytest

# No fixtures needed as the input is a markdown prompt, not executable code.

def test_prompt_analysis_structure():
    """
    Tests if the prompt analysis structure is correctly described in the prompt.
    This test verifies the required sections: <input code>, <algorithm>, and <explanation>
    are present and in the correct order within the markdown.
    """
    expected_sections = ["<input code>", "<algorithm>", "<explanation>"]
    
    # Check that the markdown string contains the expected sections
    
    markdown_string = """**Резюме для промпта:**

### Основные требования:
1. **Анализ кода**:
   - Предоставьте исходный код без изменений.
   - Опишите алгоритм работы кода в виде пошаговой блок-схемы, показывая перемещение данных между функциями или классами.
   - Объясните работу кода, включая импорты, классы, функции, переменные и их связи с другими частями проекта.
   - Укажите потенциальные ошибки или улучшения, если они есть.

2. **Формат ответа**:
   - **<input code>**: Исходный код без изменений.
   - **<algorithm>**: Пошаговое описание алгоритма работы кода с примерами.
   - **<explanation>**: Детальное объяснение кода, включая:
     - Импорты: их назначение и связи с другими модулями.
     - Классы: их назначение, атрибуты и методы, связи с другими компонентами.
     - Функции: описание назначения, аргументов и возвращаемых значений.
     - Переменные: описание типов и использования.
     - Связь с другими частями проекта и потенциальные ошибки или улучшения.

### Пример вызова:
Представлен код, который анализируется и объясняется в соответствии с инструкциями.

---

Этот промпт предназначен для детального анализа предоставленного кода с пояснением всех его аспектов, включая логику, структуру и потенциальные улучшения."""

    for section in expected_sections:
      assert section in markdown_string, f"Section '{section}' is missing in the markdown."

    # Verify the order of the sections
    
    indices = [markdown_string.find(section) for section in expected_sections]
    assert all(indices[i] < indices[i+1] for i in range(len(indices)-1)), "Sections are not in the expected order."
    

def test_prompt_requirements_present():
    """
    Tests if key requirements, such as 'Анализ кода' and 'Формат ответа', are present.
    """
    
    markdown_string = """**Резюме для промпта:**

### Основные требования:
1. **Анализ кода**:
   - Предоставьте исходный код без изменений.
   - Опишите алгоритм работы кода в виде пошаговой блок-схемы, показывая перемещение данных между функциями или классами.
   - Объясните работу кода, включая импорты, классы, функции, переменные и их связи с другими частями проекта.
   - Укажите потенциальные ошибки или улучшения, если они есть.

2. **Формат ответа**:
   - **<input code>**: Исходный код без изменений.
   - **<algorithm>**: Пошаговое описание алгоритма работы кода с примерами.
   - **<explanation>**: Детальное объяснение кода, включая:
     - Импорты: их назначение и связи с другими модулями.
     - Классы: их назначение, атрибуты и методы, связи с другими компонентами.
     - Функции: описание назначения, аргументов и возвращаемых значений.
     - Переменные: описание типов и использования.
     - Связь с другими частями проекта и потенциальные ошибки или улучшения.

### Пример вызова:
Представлен код, который анализируется и объясняется в соответствии с инструкциями.

---

Этот промпт предназначен для детального анализа предоставленного кода с пояснением всех его аспектов, включая логику, структуру и потенциальные улучшения."""
    
    assert "Анализ кода" in markdown_string, "Requirement 'Анализ кода' is missing."
    assert "Формат ответа" in markdown_string, "Requirement 'Формат ответа' is missing."
    
def test_prompt_sections_content():
    """
    Tests if details about each section are mentioned in the prompt.
    """
    markdown_string = """**Резюме для промпта:**

### Основные требования:
1. **Анализ кода**:
   - Предоставьте исходный код без изменений.
   - Опишите алгоритм работы кода в виде пошаговой блок-схемы, показывая перемещение данных между функциями или классами.
   - Объясните работу кода, включая импорты, классы, функции, переменные и их связи с другими частями проекта.
   - Укажите потенциальные ошибки или улучшения, если они есть.

2. **Формат ответа**:
   - **<input code>**: Исходный код без изменений.
   - **<algorithm>**: Пошаговое описание алгоритма работы кода с примерами.
   - **<explanation>**: Детальное объяснение кода, включая:
     - Импорты: их назначение и связи с другими модулями.
     - Классы: их назначение, атрибуты и методы, связи с другими компонентами.
     - Функции: описание назначения, аргументов и возвращаемых значений.
     - Переменные: описание типов и использования.
     - Связь с другими частями проекта и потенциальные ошибки или улучшения.

### Пример вызова:
Представлен код, который анализируется и объясняется в соответствии с инструкциями.

---

Этот промпт предназначен для детального анализа предоставленного кода с пояснением всех его аспектов, включая логику, структуру и потенциальные улучшения."""
    
    assert "исходный код без изменений" in markdown_string, "Description about <input code> is missing"
    assert "Пошаговое описание алгоритма" in markdown_string, "Description about <algorithm> is missing"
    assert "Детальное объяснение кода" in markdown_string, "Description about <explanation> is missing"
    
def test_prompt_example_call_mentioned():
    """
    Tests if example call is mentioned in the prompt
    """
    markdown_string = """**Резюме для промпта:**

### Основные требования:
1. **Анализ кода**:
   - Предоставьте исходный код без изменений.
   - Опишите алгоритм работы кода в виде пошаговой блок-схемы, показывая перемещение данных между функциями или классами.
   - Объясните работу кода, включая импорты, классы, функции, переменные и их связи с другими частями проекта.
   - Укажите потенциальные ошибки или улучшения, если они есть.

2. **Формат ответа**:
   - **<input code>**: Исходный код без изменений.
   - **<algorithm>**: Пошаговое описание алгоритма работы кода с примерами.
   - **<explanation>**: Детальное объяснение кода, включая:
     - Импорты: их назначение и связи с другими модулями.
     - Классы: их назначение, атрибуты и методы, связи с другими компонентами.
     - Функции: описание назначения, аргументов и возвращаемых значений.
     - Переменные: описание типов и использования.
     - Связь с другими частями проекта и потенциальные ошибки или улучшения.

### Пример вызова:
Представлен код, который анализируется и объясняется в соответствии с инструкциями.

---

Этот промпт предназначен для детального анализа предоставленного кода с пояснением всех его аспектов, включая логику, структуру и потенциальные улучшения."""
    
    assert "Пример вызова" in markdown_string, "Example call not mentioned in prompt"
```