# Модуль `show_all_results.js`

## Обзор

Этот файл JavaScript содержит функцию `showAllResults`, которая отображает результаты поиска в веб-приложении. Функция заполняет элементы HTML данными из объекта `results`, включая контекстные данные и основные результаты.  Также реализует функции для создания загружаемых текстовых файлов с результатами в различных форматах, включая обычный и JSON.  Функции `makeTextDownloadUrl` и `makeInfoText` создают ссылки для скачивания текстовых файлов с результатами поиска.

## Функции

### `showAllResults`

**Описание**: Функция отображает результаты поиска, заполняя соответствующие элементы HTML.

**Параметры**:

- `results` (object): Объект, содержащий данные результатов поиска. Должен содержать данные для заголовков, URL, контекстных данных и основных данных.

**Возвращает**:

- Не имеет возвращаемого значения.

**Обрабатывает исключения**:

- Использует `.catch(fu.onError)` для обработки исключений, возникающих при работе с `updateDetailsTable`.


### `makeTextDownloadUrl`

**Описание**: Создает URL для скачивания текстового файла.

**Параметры**:

- `text` (string): Текстовое содержимое файла.

**Возвращает**:

- `string`: URL для скачивания текстового файла.

**Обрабатывает исключения**:

- Не обрабатывает исключения, так как использует встроенный метод JavaScript.

### `makeInfoText`

**Описание**: Создает текстовое представление результатов поиска в формате, удобном для скачивания.

**Параметры**:

- `results` (object): Объект, содержащий данные результатов поиска.

**Возвращает**:

- `string`: Текстовое представление результатов поиска.

**Обрабатывает исключения**:

- Не обрабатывает исключения, так как строковые операции не могут вызвать исключения.

### `makeConvertedInfoText`

**Описание**: Создает текстовое представление результатов поиска с JSON-представлениями значений.

**Параметры**:

- `results` (object): Объект, содержащий данные результатов поиска.

**Возвращает**:

- `string`: Текстовое представление результатов поиска с JSON-представлениями значений.

**Обрабатывает исключения**:

- Не обрабатывает исключения, так как строковые операции не могут вызвать исключения.


## Вспомогательные функции (из `tryxpath.functions`)

Функции `fu.updateDetailsTable`, `fu.onError`, и `fu.makeDetailText` не определены в этом файле, но предполагаются как часть `tryxpath.functions`.  Их описание должно быть в другом файле.


## Слушатели событий

Функция `window.addEventListener("load", ...)` устанавливает обработчик для события загрузки страницы. Этот обработчик отправляет запрос на сервер, получает данные результатов поиска и отображает их на странице. Установлены обработчики для кликов на кнопки в таблице результатов.

## Использование

Файл `show_all_results.js` используется для отображения результатов поиска, полученных из расширения браузера (используется `browser.runtime.sendMessage`).  Функция `showAllResults` отображает полученные данные в формате таблиц и других элементов HTML.