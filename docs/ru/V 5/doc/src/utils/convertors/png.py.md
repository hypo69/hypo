# Модуль `png`

## Обзор

Модуль `png` предоставляет инструменты для конвертации текста в изображения в формате PNG, а также для наложения изображений друг на друга. Он включает класс `TextToImageGenerator` для генерации изображений из текста и функцию `webp2png` для конвертации изображений из формата WEBP в PNG.

## Подробней

Модуль предназначен для автоматического создания изображений на основе текстовых данных, что может быть полезно для создания превью, водяных знаков или динамически генерируемых изображений для веб-сайтов и приложений. Класс `TextToImageGenerator` позволяет настраивать параметры изображения, такие как размер, цвет фона, цвет текста и шрифт. Функция `webp2png` обеспечивает совместимость с форматом WEBP, позволяя конвертировать его в более распространенный формат PNG.

## Классы

### `TextToImageGenerator`

**Описание**: Класс для генерации PNG изображений из текстовых строк.

**Как работает класс**: Класс `TextToImageGenerator` инициализируется с настройками по умолчанию, такими как каталог вывода, размер холста, отступы, цвет фона и цвет текста. Он предоставляет методы для генерации изображений из текста, центрирования текста на холсте и наложения изображений друг на друга.

**Методы**:
- `__init__`: Инициализирует класс `TextToImageGenerator` с настройками по умолчанию.
- `generate_images`: Генерирует PNG изображения из предоставленных текстовых строк.
- `generate_png`: Создает PNG изображение с указанным текстом, шрифтом и цветами.
- `center_text_position`: Вычисляет позицию для центрирования текста на холсте.
- `overlay_images`: Накладывает одно PNG изображение на другое в указанной позиции.

**Параметры**:
- `default_output_dir` (Path): Путь к каталогу вывода по умолчанию.
- `default_canvas_size` (Tuple[int, int]): Размер холста по умолчанию.
- `default_padding` (float): Отступ по умолчанию.
- `default_background` (str): Цвет фона по умолчанию.
- `default_text_color` (str): Цвет текста по умолчанию.
- `default_log_level` (str): Уровень логирования по умолчанию.

**Примеры**

```python
generator = TextToImageGenerator()
lines = ["Text 1", "Text 2", "Text 3"]
output_dir = "./output"
images = await generator.generate_images(lines, output_dir=output_dir)
print(images)
# [PosixPath('./output/Text 1.png'), PosixPath('./output/Text 2.png'), PosixPath('./output/Text 3.png')]
```

## Функции

### `webp2png`

```python
def webp2png(webp_path: str, png_path: str) -> bool:
    """
    Converts a WEBP image to PNG format.

    Args:
        webp_path (str): Path to the input WEBP file.
        png_path (str): Path to save the converted PNG file.

    Example:
        webp2png('image.webp', 'image.png')
    """
```

**Как работает функция**: Функция `webp2png` принимает путь к WEBP изображению и путь для сохранения PNG изображения. Она открывает WEBP изображение с использованием библиотеки Pillow, конвертирует его в формат PNG и сохраняет по указанному пути.

**Параметры**:
- `webp_path` (str): Путь к входному WEBP файлу.
- `png_path` (str): Путь для сохранения сконвертированного PNG файла.

**Возвращает**:
- `bool`: Возвращает `True`, если конвертация прошла успешно, и `None` в случае ошибки.

**Вызывает исключения**:
- `Exception`: Возникает при ошибке во время конвертации.

**Примеры**:

```python
webp2png('image.webp', 'image.png')