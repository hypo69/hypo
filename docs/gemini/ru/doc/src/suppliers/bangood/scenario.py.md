# Модуль `scenario.py`

## Обзор

Модуль `scenario.py` предназначен для сбора информации о товарах с сайта поставщика Banggood через веб-драйвер. Он содержит функции для извлечения списка категорий товаров и списка товаров в каждой категории. Модуль разработан с учетом специфики работы с сайтом Banggood и предоставляет функциональность для автоматизированного сбора данных о товарах.

## Подробней

Модуль реализует сценарий обработки категорий товаров для поставщика Banggood. Он включает в себя сбор списка категорий с сайта продавца, а также сбор списка товаров из каждой категории. Важной задачей является отслеживание изменений в категориях на сайте продавца, таких как добавление новых категорий, переименование существующих или удаление/скрытие старых.

## Функции

### `get_list_products_in_category`

```python
def get_list_products_in_category (s) -> list[str, str, None]:
    """Returns list of products urls from category page
    Если надо пролистстать - страницы категорий - листаю ??????

    Attrs:
        s - Supplier
    @returns
        list or one of products urls or None
    """
    ...
```

**Назначение**:
Функция извлекает список URL-адресов товаров со страницы категории.

**Параметры**:
- `s` (Supplier): Объект поставщика, содержащий информацию о драйвере и локаторах.

**Возвращает**:
- `list[str, str, None]`: Список URL-адресов товаров на странице категории.

**Как работает функция**:

1.  **Инициализация**: Функция принимает объект поставщика `s`, содержащий необходимые ресурсы, такие как веб-драйвер и локаторы элементов страницы.
2.  **Получение драйвера**: Из объекта поставщика извлекается веб-драйвер `d`.
3.  **Получение локаторов**: Извлекаются локаторы элементов страницы категории из объекта поставщика `s`.
4.  **Закрытие баннера**: Функция пытается закрыть всплывающий баннер, используя локатор `close_banner`.
5.  **Проверка локаторов**: Проверяется, что локаторы для категории определены. Если локаторы отсутствуют, функция регистрирует ошибку и завершает работу.
6.  **Прокрутка страницы**: Выполняется прокрутка страницы для загрузки всех элементов.
7.  **Извлечение ссылок на товары**: Функция пытается извлечь список ссылок на товары, используя локатор `product_links`.
8.  **Обработка отсутствия ссылок**: Если ссылки на товары не найдены, функция регистрирует предупреждение и завершает работу.
9.  **Форматирование результата**: Если найдена только одна ссылка, она преобразуется в список.
10. **Логирование**: Регистрируется информация о количестве найденных товаров.
11. **Возврат результата**: Функция возвращает список URL-адресов товаров.

### `get_list_categories_from_site`

```python
def get_list_categories_from_site(s):
    ...
```

**Назначение**:
Функция извлекает список категорий товаров с сайта поставщика.

**Параметры**:
- `s` (Supplier): Объект поставщика, содержащий информацию о драйвере и локаторах.

**Возвращает**:
- `list[str]`: Список категорий товаров.

**Как работает функция**:

Функция извлекает список категорий товаров с сайта поставщика.
```