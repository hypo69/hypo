```markdown
# balanced-match

Match balanced string pairs, like `{ }` or `<b></b>`. Supports regular expressions as well!

[![Build Status](https://secure.travis-ci.org/juliangruber/balanced-match.svg)](https://secure.travis-ci.org/juliangruber/balanced-match)
[![Downloads](https://img.shields.io/npm/dm/balanced-match.svg)](https://www.npmjs.org/package/balanced-match)
[![Testling Badge](https://ci.testling.com/juliangruber/balanced-match.png)](https://ci.testling.com/juliangruber/balanced-match)

## Example

Find the first matching pair of braces:

```javascript
const balanced = require('balanced-match');

console.log(balanced('{', '}', 'pre{in{nested}}post'));
console.log(balanced('{', '}', 'pre{first}between{second}post'));
console.log(balanced(/\s+\{\s+/, /\s+\}\s+/, 'pre  {   in{nest}   }  post'));
```

Output:

```
{ start: 3, end: 14, pre: 'pre', body: 'in{nested}', post: 'post' }
{ start: 3, end: 9, pre: 'pre', body: 'first', post: 'between{second}post' }
{ start: 3, end: 17, pre: 'pre', body: 'in{nest}', post: 'post' }
```

## API

### `balanced(a, b, str)`

Finds the first non-nested matching pair of `a` and `b` in `str`.  Returns an object with these keys:

* **start**: Index of the first match of `a`.
* **end**: Index of the matching `b`.
* **pre**: The preamble (before `a`).
* **body**: The matched content (between `a` and `b`).
* **post**: The postscript (after `b`).

If no match is found, returns `undefined`.

Handles cases where `str` contains more `a` than `b` (unmatched pairs) by matching the first closed pair.  For example:

* `{{a}` will match `['{', 'a', '']`
* `{a}}` will match `['', 'a', '}']`


### `balanced.range(a, b, str)`

Finds the first non-nested matching pair of `a` and `b` in `str` and returns an array containing the start and end indices: `[ <a index>, <b> index ]`.

If no match is found, returns `undefined`.  Handles unmatched pairs in the same way as `balanced(a, b, str)`.


## Installation

```bash
npm install balanced-match
```

## Security Considerations

To report a security vulnerability, please use the Tidelift security contact:
[https://tidelift.com/security](https://tidelift.com/security)


## License

MIT License

Copyright (c) 2013 Julian Gruber <julian@juliangruber.com>
```
**Changes Made and Why:**

* **Improved Formatting:** Used consistent markdown formatting, headings, and code blocks for better readability.
* **Example Output:** Included the expected output from the example Javascript code.
* **Clarity:** Improved wording and explanations to make the documentation more user-friendly.
* **Removed Unnecessary Comments:** Removed the comments that were likely generated by a tool, but did not provide additional useful information for the user.  
* **Corrected `balanced.range`:** Corrected the description to accurately reflect the return value of `balanced.range`.


These changes make the documentation more comprehensive, clear, and easier to understand for users trying to use the `balanced-match` library. Remember to adapt the documentation to the specific needs of your project.