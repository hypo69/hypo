# Модуль Forefront

## Обзор

Модуль предоставляет интерфейс для взаимодействия с моделью `gpt-3.5-turbo` через API Forefront. Он включает функцию для создания запросов к API и получения ответов в потоковом режиме. Модуль поддерживает потоковую передачу данных и не требует аутентификации.

## Подробней

Этот модуль позволяет использовать модель `gpt-3.5-turbo` от Forefront для генерации текста на основе предоставленных сообщений. Он отправляет POST-запросы к API Forefront и обрабатывает потоковые ответы, извлекая полезные данные.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """ Функция создает запрос к API Forefront и возвращает ответ в потоковом режиме.

    Args:
        model (str): Идентификатор модели.
        messages (list): Список сообщений для отправки в API.
        stream (bool): Флаг, указывающий, следует ли использовать потоковый режим.
        **kwargs: Дополнительные аргументы.

    Yields:
        str: Части ответа от API Forefront.

    Как работает функция:
    1. Формирует JSON-данные для отправки в API Forefront.
    2. Отправляет POST-запрос к API Forefront.
    3. Итерируется по потоковым ответам от API.
    4. Извлекает и возвращает части ответа, содержащиеся в поле 'delta'.

    ASCII flowchart:

    Формирование JSON -> POST-запрос -> Итерация по ответам -> Извлечение 'delta' -> Возврат части ответа

    Примеры:
        >>> messages = [{'content': 'Hello'}]
        >>> for token in _create_completion(model='gpt-3.5-turbo', messages=messages, stream=True):
        ...     print(token)
    """
    ...
```

**Параметры**:

- `model` (str): Идентификатор модели, используемой для генерации текста.
- `messages` (list): Список сообщений, отправляемых в API. Каждое сообщение представляет собой словарь с ключом `content`, содержащим текст сообщения.
- `stream` (bool): Флаг, указывающий, следует ли использовать потоковый режим для получения ответа. Если `True`, ответ будет возвращаться частями по мере их поступления.
- `**kwargs`: Дополнительные аргументы, которые могут быть переданы в API.

**Возвращает**:

- `Generator[str, None, None]`: Генератор, выдающий части ответа от API Forefront. Каждая часть представляет собой строку, содержащую текст.

**Как работает функция**:

1.  **Формирование JSON-данных**: Функция принимает список сообщений и формирует JSON-данные, которые будут отправлены в API Forefront. JSON-данные включают текст последнего сообщения, информацию о модели и другие параметры.
2.  **Отправка POST-запроса**: Функция отправляет POST-запрос к API Forefront с сформированными JSON-данными. Используется потоковый режим для получения ответа.
3.  **Итерация по ответам**: Функция итерируется по потоковым ответам от API. Каждый ответ представляет собой строку в формате `data: JSON`.
4.  **Извлечение 'delta'**: Для каждого ответа функция проверяет наличие поля `'delta'`. Если поле присутствует, функция извлекает его значение, которое содержит часть сгенерированного текста.
5.  **Возврат части ответа**: Функция возвращает извлеченную часть ответа.

**Примеры**:

```python
messages = [{'content': 'Hello'}]
for token in _create_completion(model='gpt-3.5-turbo', messages=messages, stream=True):
    print(token)
```

### `params`

```python
params = f'g4f.Providers.{os.path.basename(__file__)[:-3]} supports: ' + \
    '({%s})' % ', '.join([f"{name}: {get_type_hints(_create_completion)[name].__name__}" for name in _create_completion.__code__.co_varnames[:_create_completion.__code__.co_argcount]])
```

**Описание**: Строка, содержащая информацию о поддерживаемых параметрах функции `_create_completion`.