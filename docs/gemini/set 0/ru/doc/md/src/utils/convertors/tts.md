# Модуль `hypotez/src/utils/convertors/tts.py`

## Обзор

Модуль `tts.py` предоставляет функции для распознавания речи (speech recognition) и преобразования текста в речь (text-to-speech). Он использует библиотеки `speech_recognition`, `pydub`, и `gtts`.  Модуль предназначен для обработки аудиофайлов и текстовых данных, позволяя выполнять конвертации между ними.

## Функции

### `speech_recognizer`

**Описание**: Функция для распознавания речи из аудиофайла или URL.

**Параметры**:
- `audio_url` (str, необязательно): URL аудиофайла. По умолчанию `None`.
- `audio_file_path` (Path, необязательно): Путь к локальному аудиофайлу. По умолчанию `None`.
- `language` (str): Код языка для распознавания (например, 'ru-RU'). По умолчанию 'ru-RU'.

**Возвращает**:
- str: Распознанный текст или сообщение об ошибке.

**Возможные исключения**:
- `Exception`: Общая ошибка во время выполнения функции.  В этом случае возвращается сообщение об ошибке.
- `sr.UnknownValueError`: Если Google Speech Recognition не смог понять аудио.  Возвращается сообщение об ошибке.
- `sr.RequestError`: Если не удалось получить результат от сервиса Google Speech Recognition. Возвращается сообщение об ошибке и подробности о проблеме.

### `text2speech`

**Описание**: Функция для преобразования текста в речь и сохранения результата в аудиофайл.

**Параметры**:
- `text` (str): Текст для преобразования в речь.
- `lang` (str, необязательно): Код языка для речи (например, 'ru'). По умолчанию 'ru'.

**Возвращает**:
- str: Путь к сгенерированному аудиофайлу.

**Возможные исключения**:
- `Exception`: Общая ошибка во время выполнения функции. Возвращается сообщение об ошибке.


## Использование

Примеры использования функций модуля показаны в их документации.  Функция `speech_recognizer` может быть использована для распознавания речи из URL или локального файла. Функция `text2speech` позволяет конвертировать текст в аудио и сохраняет результат в файле. Обратите внимание на корректное указание кода языка (`lang` и `language`).  Для корректной работы убедитесь в установленных зависимостях (см. `requirements.txt`).