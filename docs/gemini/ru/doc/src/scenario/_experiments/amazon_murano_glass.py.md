# Модуль src.scenario._experiments.amazon_murano_glass

## Обзор

Модуль `amazon_murano_glass.py` предназначен для запуска сценария, связанного с категорией "Murano Glass" (Муранское стекло) для поставщика "amazon". В этом модуле происходит инициализация поставщика, запуск определенного сценария и извлечение данных о категориях.

## Подробней

Модуль используется для автоматизации процесса загрузки и обработки данных о товарах категории "Murano Glass" от поставщика "amazon". Он выполняет настройку поставщика, запуск сценария импорта данных и получение информации о категориях товаров.

## Функции

### `start_supplier`

```python
s = start_supplier('amazon')
```

**Назначение**: Инициализация поставщика `amazon`.

**Как работает функция**:
Функция `start_supplier` создает и настраивает экземпляр класса `Supplier` для поставщика с именем "amazon". Это позволяет установить необходимые параметры и подключиться к API поставщика.

Внутри функции происходят следующие действия:

1.  Создание экземпляра класса `Supplier` с указанным именем поставщика.
2.  Настройка параметров подключения к API `amazon`.
3.  Установка необходимых заголовков и параметров аутентификации.

**Параметры**:

*   Нет явных параметров, так как это присваивание переменной.

**Возвращает**:

*   `s` (Supplier): Экземпляр класса `Supplier`, настроенный для работы с поставщиком "amazon".

**Примеры**:

```python
s = start_supplier('amazon')
```

### `run_scenario`

```python
s.run_scenario(scenario['Murano Glass'])
```

**Назначение**: Запуск сценария для категории "Murano Glass".

**Как работает функция**:
Метод `run_scenario` запускает сценарий импорта и обработки данных, определенный в словаре `scenario` для ключа 'Murano Glass'. Этот сценарий определяет шаги для получения, преобразования и загрузки данных о товарах.

Внутри функции происходят следующие действия:

1.  Извлечение сценария для категории 'Murano Glass' из словаря `scenario`.
2.  Выполнение шагов, определенных в сценарии, таких как получение данных о товарах, преобразование данных и загрузка в систему.

**Параметры**:

*   `scenario['Murano Glass']` (dict): Словарь, содержащий шаги сценария для обработки данных о товарах категории "Murano Glass".

**Возвращает**:

*   Нет явного возвращаемого значения.

**Примеры**:

```python
s.run_scenario(scenario['Murano Glass'])
```

### Извлечение ключа из `presta_categories`

```python
k = list(s.current_scenario['presta_categories']['default_category'].keys())[0]
```

**Назначение**: Получение ключа из словаря `presta_categories`.

**Как работает функция**:
Этот код извлекает первый ключ из словаря, который находится в структуре `s.current_scenario['presta_categories']['default_category']`.

Внутри происходят следующие действия и преобразования:

1.  `s.current_scenario`: Получение текущего сценария, выполняемого поставщиком.
2.  `['presta_categories']`: Извлечение информации о категориях PrestaShop из сценария.
3.  `['default_category']`: Получение словаря, представляющего категорию по умолчанию.
4.  `.keys()`: Получение представления ключей словаря `default_category`.
5.  `list(...)`: Преобразование представления ключей в список.
6.  `[0]`: Получение первого элемента списка ключей.
7.  `k = ...`: Присваивание полученного ключа переменной `k`.

**Параметры**:

*   `s` (Supplier): Объект поставщика, содержащий сценарий.

**Возвращает**:

*   `k` (str): Первый ключ из словаря `default_category`.

**Примеры**:

```python
k = list(s.current_scenario['presta_categories']['default_category'].keys())[0]
```