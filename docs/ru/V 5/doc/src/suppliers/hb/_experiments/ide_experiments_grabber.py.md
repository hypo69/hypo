# Модуль для экспериментов с парсингом страниц товаров HB

## Обзор

Модуль предназначен для экспериментов, связанных с парсингом страниц товаров поставщика HB (HB Dead Sea). Он включает в себя функциональность для получения информации о товарах, выполнения сценариев и взаимодействия с веб-драйвером.

## Подробней

Этот модуль используется для тестирования и отладки процесса сбора данных о товарах с сайта HB Dead Sea. Он позволяет запускать сценарии, определенные для данного поставщика, и извлекать необходимые поля товаров. Модуль содержит инструменты для работы с веб-драйвером, логирования и нормализации данных. Он также интегрирован с другими модулями проекта, такими как `src.webdriver`, `src.suppliers`, `src.product`, `src.scenario` и `src.logger`.

## Классы

В данном коде классы явно не определены, но используются экземпляры классов из других модулей:

- `Supplier` из `src.suppliers`
- `Product` из `src.product`
- `ProductFields` из `src.product`
- `Driver` из `src.webdriver.driver`

## Функции

### `run_scenarios`

```python
run_scenarios(s, s.current_scenario)
```

**Описание**: Выполняет сценарии, определенные для текущего поставщика и текущего сценария.

**Как работает функция**: Функция `run_scenarios` принимает объект поставщика `s` и текущий сценарий `s.current_scenario` в качестве аргументов. Она запускает сценарии, определенные для данного поставщика, и возвращает результаты выполнения.

**Параметры**:
- `s` (Supplier): Объект поставщика, содержащий информацию о поставщике и его конфигурации.
- `s.current_scenario` (Dict): Словарь, содержащий информацию о текущем сценарии, такую как URL страницы товара, название и категории.

**Возвращает**:
- Зависит от реализации функции `run_scenarios`.

**Вызывает исключения**:
- Зависит от реализации функции `run_scenarios`.

**Примеры**:
```python
s.current_scenario: Dict =  {
      "url": "https://hbdeadsea.co.il/product-category/bodyspa/feet-hand-treatment/",
      "name": "טיפוח כפות ידיים ורגליים",
      "condition": "new",
      "presta_categories": {
        "default_category": 11259,
        "additional_categories": []
      }
    }
ret = run_scenarios(s, s.current_scenario)
```

### `s.related_modules.grab_product_page`

```python
s.related_modules.grab_product_page(s)
```

**Описание**: Вызывает метод `grab_product_page` из связанных модулей поставщика для извлечения информации о товаре со страницы товара.

**Как работает функция**: Функция `s.related_modules.grab_product_page` принимает объект поставщика `s` в качестве аргумента. Она вызывает метод `grab_product_page`, который, вероятно, использует веб-драйвер для парсинга страницы товара и извлечения необходимых данных.

**Параметры**:
- `s` (Supplier): Объект поставщика, содержащий информацию о поставщике, его конфигурации и связанных модулях.

**Возвращает**:
- Зависит от реализации метода `grab_product_page`.

**Вызывает исключения**:
- Зависит от реализации метода `grab_product_page`.

**Примеры**:
```python
s.related_modules.grab_product_page(s)
```

### `d.get_url`

```python
d.get_url(s.current_scenario['url'])
```

**Описание**: Открывает URL, указанный в текущем сценарии, с использованием веб-драйвера.

**Как работает функция**: Функция `d.get_url` принимает URL в качестве аргумента и использует веб-драйвер `d` для открытия этого URL в браузере. Это позволяет перейти на страницу товара, с которой будет извлекаться информация.

**Параметры**:
- `s.current_scenario['url']` (str): URL страницы товара, которую необходимо открыть.

**Возвращает**:
- Ничего.

**Вызывает исключения**:
- Зависит от реализации метода `get_url` в классе `Driver`.

**Примеры**:
```python
d.get_url(s.current_scenario['url'])
```