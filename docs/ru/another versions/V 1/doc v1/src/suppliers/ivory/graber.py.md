# Модуль `graber.py`

## Обзор

Модуль `graber.py` является частью проекта `hypotez` и предназначен для сбора данных о товарах с сайта `ivory.co.il`. Он расширяет функциональность базового класса `Graber`, предоставляя специфические методы для обработки полей товаров именно этого поставщика.

## Подробней

Этот модуль содержит класс `Graber`, который наследуется от базового класса `Graber` (`Grbr`) из модуля `src.suppliers.graber`. Он предназначен для автоматизированного сбора информации о товарах с сайта `ivory.co.il` с использованием веб-драйвера. Класс переопределяет или дополняет методы родительского класса для адаптации к структуре и особенностям конкретного сайта. Модуль также включает возможность использования декораторов для выполнения предварительных действий перед отправкой запросов к веб-драйверу, например, для закрытия всплывающих окон.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `ivory.co.il`. Он наследуется от базового класса `Graber` и переопределяет его методы для адаптации к структуре сайта `ivory.co.il`.

**Методы**:

- `__init__`: Инициализирует экземпляр класса `Graber`, устанавливая префикс поставщика и вызывая конструктор родительского класса.

**Параметры**:

- `driver` (Driver): Экземпляр веб-драйвера для управления браузером.
- `lang_index` (int): Индекс языка, используемый для локализации контента.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.suppliers.ivory.graber import Graber

# Пример инициализации класса Graber
driver = Driver()
graber = Graber(driver, lang_index=0)
```

## Функции

### `close_pop_up`
   ```python
    def close_pop_up(value: Any = None) -> Callable:
        """Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

        Args:
            value (Any): Дополнительное значение для декоратора.

        Returns:
            Callable: Декоратор, оборачивающий функцию.
        """
   ```

   **Описание**: Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

   **Параметры**:
   - `value` (Any, optional): Дополнительное значение для декоратора. По умолчанию `None`.

   **Возвращает**:
   - `Callable`: Декоратор, оборачивающий функцию.

   **Примеры**:

   ```python
   from typing import Callable, Any
   def close_pop_up(value: Any = None) -> Callable:
        """Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

        Args:
            value (Any): Дополнительное значение для декоратора.

        Returns:
            Callable: Декоратор, оборачивающий функцию.
        """
        def decorator(func: Callable) -> Callable:
            @wraps(func)
            async def wrapper(*args, **kwargs):
                try:
                    # await Context.driver.execute_locator(Context.locator.close_pop_up)  # Await async pop-up close  
                    ... 
                except ExecuteLocatorException as e:
                    logger.debug(f'Ошибка выполнения локатора: {e}')
                return await func(*args, **kwargs)  # Await the main function
            return wrapper
        return decorator
   @close_pop_up()
   async def my_function():
       """Пример функции, использующей декоратор close_pop_up."""
       print("Функция выполнена после закрытия всплывающего окна.")
   ```