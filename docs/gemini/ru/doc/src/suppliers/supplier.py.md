# Модуль `supplier.py`

## Обзор

Модуль `supplier.py` определяет базовый класс `Supplier`, предназначенный для управления поставщиками. Класс отвечает за загрузку настроек поставщика, выполнение сценариев и управление веб-драйвером.

## Оглавление
- [Классы](#Классы)
  - [Supplier](#Supplier)
- [Функции](#Функции)
  - [`check_supplier_prefix`](#check_supplier_prefix)
  - [`__init__`](#__init__)
  - [`_payload`](#_payload)
  - [`login`](#login)
  - [`run_scenario_files`](#run_scenario_files)
  - [`run_scenarios`](#run_scenarios)

## Классы

### `Supplier`

**Описание**:
Базовый класс для работы с поставщиками. Позволяет загружать настройки, выполнять сценарии и управлять веб-драйвером.

**Атрибуты**:
- `supplier_id` (Optional[int]): Идентификатор поставщика. По умолчанию `None`.
- `supplier_prefix` (str): Префикс поставщика.
- `locale` (str): Код локали в формате ISO 639-1. По умолчанию 'en'.
- `price_rule` (Optional[str]): Правило расчета цен. По умолчанию `None`.
- `related_modules` (Optional[ModuleType]): Функции, относящиеся к каждому поставщику. По умолчанию `None`.
- `scenario_files` (List[str]): Список файлов сценариев для выполнения. По умолчанию пустой список.
- `current_scenario` (Dict[str, Any]): Текущий исполняемый сценарий. По умолчанию пустой словарь.
- `locators` (Dict[str, Any]): Локаторы для элементов страницы. По умолчанию пустой словарь.
- `driver` (Optional[Driver]): Веб-драйвер. По умолчанию `None`.

**Методы**:
- [`check_supplier_prefix`](#check_supplier_prefix): Проверка префикса поставщика.
- [`__init__`](#__init__): Инициализация поставщика и загрузка конфигурации.
- [`_payload`](#_payload): Загрузка параметров поставщика.
- [`login`](#login): Выполнение входа на сайт поставщика.
- [`run_scenario_files`](#run_scenario_files): Выполнение одного или нескольких файлов сценариев.
- [`run_scenarios`](#run_scenarios): Выполнение списка или одного сценария.

## Функции

### `check_supplier_prefix`

**Описание**:
Проверяет, что префикс поставщика не является пустым.

**Параметры**:
- `value` (str): Префикс поставщика.

**Возвращает**:
- `str`: Префикс поставщика, если проверка пройдена.

**Вызывает исключения**:
- `ValueError`: Если префикс поставщика пустой.

### `__init__`

**Описание**:
Инициализирует поставщика, загружая его конфигурацию.

**Параметры**:
- `**data` (Dict[str, Any]): Параметры для инициализации поставщика.

**Вызывает исключения**:
- `DefaultSettingsException`: Если не удалось загрузить настройки поставщика.

### `_payload`

**Описание**:
Загружает параметры поставщика из JSON-файла с использованием `j_loads_ns`.

**Возвращает**:
- `bool`: `True`, если загрузка параметров успешна, иначе `False`.

### `login`

**Описание**:
Выполняет вход на сайт поставщика, используя метод `login` из соответствующего модуля поставщика.

**Возвращает**:
- `bool`: `True`, если вход выполнен успешно, иначе `False`.

### `run_scenario_files`

**Описание**:
Выполняет один или несколько файлов сценариев.

**Параметры**:
- `scenario_files` (Optional[str | List[str]], optional): Список файлов сценариев для выполнения. Если не указан, берутся из атрибута `self.scenario_files`. По умолчанию `None`.

**Возвращает**:
- `bool`: `True`, если все сценарии успешно выполнены, иначе `False`.

### `run_scenarios`

**Описание**:
Выполняет список или один сценарий.

**Параметры**:
- `scenarios` (dict | List[dict]): Сценарий или список сценариев для выполнения.

**Возвращает**:
- `bool`: `True`, если сценарий успешно выполнен, иначе `False`.