הנחיות ליצירת תיעוד לקוד
========================================================================================

תיאור
-------------------------
הנחיות אלה מתארות כיצד ליצור תיעוד עבור קטע קוד Python, כולל שימוש ב-reStructuredText (RST) ו-Docstrings, שמירה על תיעוד קיים, טיפול בנתונים, ניתוח מבנה הקוד, שיפור ושדרוג, תבנית תגובה ותבנית פלט קוד סופי.

שלבים
-------------------------
1. **ניתוח הקוד**: הבן את הלוגיקה והפעולות שביצוע קטע הקוד.
2. **יצירת הנחיות שלב אחר שלב**:
    - **תיאור**: הסבר מה עושה בלוק הקוד.
    - **שלבים**: תאר את רצף הפעולות בקוד.
    - **דוגמה לשימוש**: ציין דוגמה לשימוש בקטע הקוד בתוך פרויקט.
3. **פורמט reStructuredText**: השתמש ב-reStructuredText (RST) לפורמט התיעוד, כפי שמוצג בדוגמה.  כל תיעוד לפונקציות, שיטות ומחלקות חייב להיות ב-reStructuredText.
4. **שמירת תיעוד קיים**: שמור הערות קיימות (`#`) ללא שינוי.
5. **תיעוד קוד שדורש שינוי**: תיעוד שורות קוד שדורשות שינוי באמצעות סימן `#`.
6. **טיפול בנתונים**: השתמש ב-`j_loads` או `j_loads_ns` מ-`src.utils.jjson` במקום `json.load`.
7. **ניתוח מבנה**: בדוק והוסף מחסרים (imports) חסרים. יישר שמות פונקציות, משתנים ומחסרים בהתאם לקבצים אחרים.
8. **שיפור ושדרוג**: הוסף הערות RST לכל פונקציות, שיטות ומחלקות.  השתמש ב-`from src.logger import logger` עבור תיעוד שגיאות.  הימנע משימוש יתר ב-try-except, והשתמש ב-logger.error לטיפול בשגיאות.
9. **תבנית תגובה**: התגובה צריכה לכלול את הקוד המקורי, הקוד המעודכן והשינויים שבוצעו. אל תשתמש בסימון קוד בתחילת התגובה. השתמש בו רק להקפת בלוקים של קוד.
10. **פלט קוד סופי**: כלול את הקוד המלא (המקורי עם השיפורים) בתוך בלוק קוד בודד, שניתן להעתיק ולהדביק.
11. **דוגמאות לקוד**: צרף דוגמאות לתיעוד בפורמט RST והצעות לשיפור בפורמט `TODO`.
12. **עמידה בסטנדרטים**: עמוד בסטנדרטים של תיעוד Python (למשל, עבור Sphinx).
13. **גרש בודד**: השתמש בגרש בודד (`'`) בקוד Python.

דוגמה לתיעוד פונקציה
-------------------------
.. code-block:: python

    def פונקציה_דוגמה(פרמטר1: str, פרמטר2: int) -> str:
        """
        מבצעת פעולה לדוגמה.

        :param פרמטר1: תיאור של פרמטר 1.
        :param פרמטר2: תיאור של פרמטר 2.
        :return: תיאור הערך המוחזר.
        """
        # תיעוד של קוד
        ...