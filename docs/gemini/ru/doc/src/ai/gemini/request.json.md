# `request.json`

## Обзор

Этот файл представляет собой JSON-схему, описывающую структуру запроса к API Gemini. Она определяет различные параметры и форматы данных, которые могут быть включены в запрос.

## Содержание (TOC)
- [Обзор](#обзор)
- [Структура](#структура)
    - [`cachedContent`](#cachedcontent)
    - [`contents`](#contents)
    - [`systemInstruction`](#systeminstruction)
    - [`tools`](#tools)
    - [`safetySettings`](#safetysettings)
    - [`generationConfig`](#generationconfig)
    - [`labels`](#labels)

## Структура

### `cachedContent`

**Описание**:
Закешированный контент, представленный в виде строки.

**Тип**:
`string`

### `contents`

**Описание**:
Массив объектов, представляющих содержимое запроса. Каждый объект содержит информацию о роли и частях содержимого.

**Тип**:
`array`

**Элементы массива**:

*   **`role`** (`string`): Роль содержимого (например, "user", "assistant").
*   **`parts`** (`array`): Массив частей содержимого. Каждый элемент представляет собой объект, содержащий текст или данные.
    *   **`text`** (`string`): Текстовая часть содержимого.
    *   **`inlineData`** (`object`, _optional_): Данные, встроенные в запрос.
        *   **`mimeType`** (`string`): MIME-тип данных.
        *   **`data`** (`string`): Данные в формате строки (например, base64).
    *    **`fileData`** (`object`, _optional_): Данные, представленные в виде ссылки на файл.
        *    **`mimeType`** (`string`): MIME-тип файла.
        *    **`fileUri`** (`string`): URI файла.
    *   **`videoMetadata`** (`object`, _optional_): Метаданные видео.
        *  **`startOffset`** (`object`, _optional_): Начальное смещение видео.
             *  **`seconds`** (`integer`): Смещение в секундах.
             *  **`nanos`** (`integer`): Смещение в наносекундах.
        *  **`endOffset`** (`object`, _optional_): Конечное смещение видео.
            *  **`seconds`** (`integer`): Смещение в секундах.
            *   **`nanos`** (`integer`): Смещение в наносекундах.

### `systemInstruction`

**Описание**:
Объект, содержащий системные инструкции для модели.

**Тип**:
`object`

**Поля**:

*   **`role`** (`string`): Роль системной инструкции (например, "system").
*   **`parts`** (`array`): Массив частей инструкции.
    *   **`text`** (`string`): Текст системной инструкции.

### `tools`

**Описание**:
Массив объектов, описывающих инструменты, которые может использовать модель.

**Тип**:
`array`

**Элементы массива**:

*   **`functionDeclarations`** (`array`): Массив описаний функций.
    *   **`name`** (`string`): Имя функции.
    *   **`description`** (`string`): Описание функции.
    *   **`parameters`** (`object`): Параметры функции.

### `safetySettings`

**Описание**:
Массив объектов, содержащих настройки безопасности.

**Тип**:
`array`

**Элементы массива**:

*   **`category`** (`enum`): Категория безопасности (`HarmCategory`).
*   **`threshold`** (`enum`): Порог срабатывания (`HarmBlockThreshold`).

### `generationConfig`

**Описание**:
Объект, содержащий настройки генерации текста.

**Тип**:
`object`

**Поля**:

*   **`temperature`** (`number`): Температура генерации.
*   **`topP`** (`number`): Значение top-p.
*   **`topK`** (`number`): Значение top-k.
*  **`candidateCount`** (`integer`): Количество кандидатов для генерации.
*   **`maxOutputTokens`** (`integer`): Максимальное количество токенов в ответе.
*   **`presencePenalty`** (`float`): Штраф за повторение.
*   **`frequencyPenalty`** (`float`): Штраф за частоту токенов.
*   **`stopSequences`** (`array`): Массив стоп-последовательностей.
    *   `string`: Последовательность, при обнаружении которой генерация должна остановиться
*   **`responseMimeType`** (`string`): MIME-тип ответа.
*  **`responseSchema`** (`schema`): Схема ответа.
*   **`seed`** (`integer`): Сид для воспроизводимости.
*  **`responseLogprobs`** (`boolean`): Флаг для возврата логарифмов вероятности ответа.
*   **`logprobs`** (`integer`): Количество логарифмов вероятности токенов для возврата.
*   **`audioTimestamp`** (`boolean`): Флаг для включения временных меток аудио.

### `labels`

**Описание**:
Словарь меток.

**Тип**:
`object`

**Ключи и значения**:
`string`: `string` - пары ключ-значение меток.