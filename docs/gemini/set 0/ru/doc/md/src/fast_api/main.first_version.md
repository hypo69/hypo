# Модуль `hypotez/src/fast_api/main.first_version.py`

## Обзор

Данный модуль представляет собой точку входа для приложения FastAPI, обработку данных, полученных из HTML-формы, и запуск веб-сервера. Он содержит маршруты для обработки POST-запросов, направленных на `/process_data`, и GET-запросов на корневой маршрут `/`.

## Классы

Нет определенных классов в этом модуле.

## Функции

### `process_data`

**Описание**: Обрабатывает POST-запрос на `/process_data`, принимая имя и фамилию из формы, передает их скрипту `script.py`, получает результат и возвращает его в виде JSON.

**Параметры**:

- `request: Request`: Объект запроса FastAPI.
- `first_name: str = Form(...)`: Имя пользователя, полученное из формы.
- `last_name: str = Form(...)`: Фамилия пользователя, полученное из формы.

**Возвращает**:

- `dict`: Словарь с ключом `output`, содержащим результат выполнения скрипта `script.py`. Возвращает ошибку, если скрипт выполняется с ошибкой.


**Вызывает исключения**:

- `HTTPException(status_code=400, detail="First name and last name must be provided")`: Бросается, если имя или фамилия не предоставлены в запросе.
- `HTTPException(status_code=500, detail=f"Error executing the script: {stderr.decode()}")`: Бросается, если скрипт `script.py` завершился с ошибкой.


### `open_index`

**Описание**: Обрабатывает GET-запрос на корневой маршрут `/`, перенаправляя пользователя на страницу `index.html`.

**Параметры**:
- Нет

**Возвращает**:

- `dict`: Словарь с сообщением о перенаправлении.


**Вызывает исключения**:
- Нет


## Полезные ссылки

- [Документация FastAPI](https://fastapi.tiangolo.com/en/stable/)
- [Документация uvicorn](https://www.uvicorn.org/)


## Запуск приложения

Для запуска приложения используйте команду:

```bash
uvicorn main:app --reload
```

После запуска откройте в браузере http://localhost:8000/html/index.html.


```