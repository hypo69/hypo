# Модуль `story.py`

## Обзор

Модуль `story.py` предоставляет механизмы для создания историй на основе симуляций в TinyTroupe. Он позволяет формировать повествования, связанные с окружением или агентами, а также задавать цели для этих историй.

## Оглавление

- [Классы](#классы)
  - [`TinyStory`](#tinystory)
- [Функции](#функции)
  - [`__init__`](#__init__)
  - [`start_story`](#start_story)
  - [`continue_story`](#continue_story)
  - [`_current_story`](#_current_story)

## Классы

### `TinyStory`

**Описание**: Класс `TinyStory` предназначен для создания и управления историями на основе симуляций, происходящих в `TinyWorld` или с `TinyPerson`.

**Методы**:
- [`__init__`](#__init__)
- [`start_story`](#start_story)
- [`continue_story`](#continue_story)
- [`_current_story`](#_current_story)

#### `__init__`

**Описание**: Инициализирует объект истории.

**Параметры**:
- `environment` (`TinyWorld`, optional): Окружение, в котором происходит история. По умолчанию `None`.
- `agent` (`TinyPerson`, optional): Агент, являющийся главным героем истории. По умолчанию `None`.
- `purpose` (`str`, optional): Цель истории. По умолчанию `"Be a realistic simulation."`.
- `context` (`str`, optional): Начальный контекст истории. По умолчанию `""`.
- `first_n` (`int`, optional): Количество первых взаимодействий для включения в историю. По умолчанию `10`.
- `last_n` (`int`, optional): Количество последних взаимодействий для включения в историю. По умолчанию `20`.
- `include_omission_info` (`bool`, optional): Флаг, определяющий, включать ли информацию об опущенных взаимодействиях. По умолчанию `True`.

**Возвращает**:
- `None`

**Вызывает исключения**:
- `Exception`: Если предоставлены и `environment`, и `agent`, либо ни один из них.

#### `start_story`

**Описание**: Начинает новую историю.

**Параметры**:
- `requirements` (`str`, optional): Требования к началу истории. По умолчанию `"Start some interesting story about the agents."`.
- `number_of_words` (`int`, optional): Количество слов в начале истории. По умолчанию `100`.
- `include_plot_twist` (`bool`, optional): Флаг, определяющий, включать ли сюжетный поворот. По умолчанию `False`.

**Возвращает**:
- `str`: Начало истории.

#### `continue_story`

**Описание**: Предлагает продолжение истории.

**Параметры**:
- `requirements` (`str`, optional): Требования к продолжению истории. По умолчанию `"Continue the story in an interesting way."`.
- `number_of_words` (`int`, optional): Количество слов в продолжении истории. По умолчанию `100`.
- `include_plot_twist` (`bool`, optional): Флаг, определяющий, включать ли сюжетный поворот. По умолчанию `False`.

**Возвращает**:
- `str`: Продолжение истории.

#### `_current_story`

**Описание**: Получает текущую историю, включая взаимодействия из симуляции.

**Параметры**:
- `None`

**Возвращает**:
- `str`: Текущая история.

## Функции
### `__init__`
  **Описание**:  Инициализирует объект истории.
 
  **Параметры**:
    - `environment` (`TinyWorld`, optional): Окружение, в котором происходит история. По умолчанию `None`.
    - `agent` (`TinyPerson`, optional): Агент, являющийся главным героем истории. По умолчанию `None`.
    - `purpose` (`str`, optional): Цель истории. По умолчанию `"Be a realistic simulation."`.
    - `context` (`str`, optional): Начальный контекст истории. По умолчанию `""`.
    - `first_n` (`int`, optional): Количество первых взаимодействий для включения в историю. По умолчанию `10`.
    - `last_n` (`int`, optional): Количество последних взаимодействий для включения в историю. По умолчанию `20`.
    - `include_omission_info` (`bool`, optional): Флаг, определяющий, включать ли информацию об опущенных взаимодействиях. По умолчанию `True`.
    
  **Возвращает**:
    - `None`
  
  **Вызывает исключения**:
    - `Exception`: Если предоставлены и `environment`, и `agent`, либо ни один из них.

### `start_story`
  **Описание**: Начинает новую историю.
  
  **Параметры**:
    - `requirements` (`str`, optional): Требования к началу истории. По умолчанию `"Start some interesting story about the agents."`.
    - `number_of_words` (`int`, optional): Количество слов в начале истории. По умолчанию `100`.
    - `include_plot_twist` (`bool`, optional): Флаг, определяющий, включать ли сюжетный поворот. По умолчанию `False`.

  **Возвращает**:
    - `str`: Начало истории.

### `continue_story`
  **Описание**: Предлагает продолжение истории.
  
  **Параметры**:
    - `requirements` (`str`, optional): Требования к продолжению истории. По умолчанию `"Continue the story in an interesting way."`.
    - `number_of_words` (`int`, optional): Количество слов в продолжении истории. По умолчанию `100`.
    - `include_plot_twist` (`bool`, optional): Флаг, определяющий, включать ли сюжетный поворот. По умолчанию `False`.
  
  **Возвращает**:
    - `str`: Продолжение истории.

### `_current_story`
  **Описание**: Получает текущую историю, включая взаимодействия из симуляции.
  
  **Параметры**:
    - `None`
  
  **Возвращает**:
    - `str`: Текущая история.