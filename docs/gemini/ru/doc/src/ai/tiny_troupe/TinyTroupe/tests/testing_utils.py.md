# Документация для `testing_utils.py`

## Обзор

Файл `testing_utils.py` содержит набор вспомогательных функций и фикстур для тестирования. Он включает функции для проверки наличия определенных действий и стимулов, сравнения конфигураций агентов, а также утилиты для работы с файловой системой. Кроме того, он предоставляет фикстуры для настройки окружения тестирования.

## Оглавление

1.  [Функции](#Функции)
    -   [`contains_action_type`](#contains_action_type)
    -   [`contains_action_content`](#contains_action_content)
    -   [`contains_stimulus_type`](#contains_stimulus_type)
    -   [`contains_stimulus_content`](#contains_stimulus_content)
    -   [`terminates_with_action_type`](#terminates_with_action_type)
    -   [`proposition_holds`](#proposition_holds)
    -   [`only_alphanumeric`](#only_alphanumeric)
    -   [`create_test_system_user_message`](#create_test_system_user_message)
    -   [`agents_configs_are_equal`](#agents_configs_are_equal)
    -   [`remove_file_if_exists`](#remove_file_if_exists)
    -   [`get_relative_to_test_path`](#get_relative_to_test_path)
2.  [Фикстуры](#Фикстуры)
    -   [`focus_group_world`](#focus_group_world)
    -   [`setup`](#setup)

## Функции

### `contains_action_type`

**Описание**: Проверяет, содержит ли заданный список действий действие заданного типа.

**Параметры**:
- `actions` (list): Список действий для проверки.
- `action_type` (str): Тип действия, наличие которого нужно проверить.

**Возвращает**:
- `bool`: `True`, если список содержит действие заданного типа, иначе `False`.

### `contains_action_content`

**Описание**: Проверяет, содержит ли заданный список действий действие с заданным содержимым.

**Параметры**:
- `actions` (list): Список действий для проверки.
- `action_content` (str): Содержимое действия, наличие которого нужно проверить.

**Возвращает**:
- `bool`: `True`, если список содержит действие с заданным содержимым, иначе `False`.

### `contains_stimulus_type`

**Описание**: Проверяет, содержит ли заданный список стимулов стимул заданного типа.

**Параметры**:
- `stimuli` (list): Список стимулов для проверки.
- `stimulus_type` (str): Тип стимула, наличие которого нужно проверить.

**Возвращает**:
- `bool`: `True`, если список содержит стимул заданного типа, иначе `False`.

### `contains_stimulus_content`

**Описание**: Проверяет, содержит ли заданный список стимулов стимул с заданным содержимым.

**Параметры**:
- `stimuli` (list): Список стимулов для проверки.
- `stimulus_content` (str): Содержимое стимула, наличие которого нужно проверить.

**Возвращает**:
- `bool`: `True`, если список содержит стимул с заданным содержимым, иначе `False`.

### `terminates_with_action_type`

**Описание**: Проверяет, завершается ли заданный список действий действием заданного типа.

**Параметры**:
- `actions` (list): Список действий для проверки.
- `action_type` (str): Тип действия, которым должен завершаться список.

**Возвращает**:
- `bool`: `True`, если список завершается действием заданного типа, иначе `False`.

### `proposition_holds`

**Описание**: Проверяет, истинно ли заданное утверждение согласно вызову LLM.

**Параметры**:
- `proposition` (str): Утверждение для проверки.

**Возвращает**:
- `bool`: `True`, если утверждение истинно согласно LLM, иначе `False`.

**Вызывает исключения**:
- `Exception`: Если LLM возвращает неожиданный результат.

### `only_alphanumeric`

**Описание**: Возвращает строку, содержащую только буквенно-цифровые символы из исходной строки.

**Параметры**:
- `string` (str): Исходная строка.

**Возвращает**:
- `str`: Строка, содержащая только буквенно-цифровые символы.

### `create_test_system_user_message`

**Описание**: Создает список, содержащий одно системное сообщение и одно пользовательское сообщение.

**Параметры**:
- `user_prompt` (str): Текст пользовательского сообщения.
- `system_prompt` (str, optional): Текст системного сообщения. По умолчанию "You are a helpful AI assistant.".

**Возвращает**:
- `list`: Список сообщений, содержащий системное и пользовательское сообщения.

### `agents_configs_are_equal`

**Описание**: Проверяет, равны ли конфигурации двух агентов.

**Параметры**:
- `agent1` (TinyPerson): Первый агент.
- `agent2` (TinyPerson): Второй агент.
- `ignore_name` (bool, optional): Игнорировать ли имя при сравнении. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если конфигурации агентов равны, иначе `False`.

### `remove_file_if_exists`

**Описание**: Удаляет файл по заданному пути, если он существует.

**Параметры**:
- `file_path` (str): Путь к файлу.

**Возвращает**:
- `None`

### `get_relative_to_test_path`

**Описание**: Возвращает путь к файлу, относительно директории с тестами.

**Параметры**:
- `path_suffix` (str): Суффикс пути.

**Возвращает**:
- `str`: Полный путь к файлу.

## Фикстуры

### `focus_group_world`

**Описание**: Фикстура, возвращающая объект `TinyWorld`, представляющий мир с фокус-группой, состоящей из трех агентов: Лизы, Оскара и Маркоса.

**Возвращает**:
- `TinyWorld`: Объект `TinyWorld` с фокус-группой.

### `setup`

**Описание**: Фикстура для очистки агентов и окружений перед каждым тестом.

**Возвращает**:
- `None`