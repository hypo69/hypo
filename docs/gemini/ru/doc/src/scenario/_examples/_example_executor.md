# Модуль hypotez/src/scenario/_examples/_example_executor.py

## Обзор

Этот модуль содержит примеры использования функций из модуля `src.scenario.executor` для работы со сценариями, файлами сценариев и взаимодействием с API PrestaShop. Примеры демонстрируют запуск сценариев, обработку файлов сценариев и взаимодействие с API PrestaShop.

## Классы

### `MockSupplier`

**Описание**: Моковая реализация класса поставщика, используемая для тестирования функций `executor` модуля.  Заменяет реальные вызовы API и взаимодействие с файлами на имитацию.

**Атрибуты**:

- `supplier_abs_path (Path)`: Путь к папке со сценариями.
- `scenario_files (list[Path])`: Список путей к файлам сценариев.
- `current_scenario (Optional[Any])`: Текущий сценарий.
- `supplier_settings (dict)`: Настройки поставщика.
- `related_modules (MockRelatedModules)`: Мок для модулей, используемых для получения данных о продуктах.
- `driver (MockDriver)`: Мок для управления водителем.

**Методы**: (Отсутствуют в примере, но могут быть добавлены для взаимодействия с mock-классами)


## Функции

### `example_run_scenario_files`

**Описание**: Пример запуска списка файлов сценариев.

**Параметры**:

- `supplier (MockSupplier)`: Экземпляр класса `MockSupplier`, содержащий информацию о поставщиках и сценариях.

**Возвращает**:

- `bool`: `True`, если все сценарии успешно выполнены, `False` в противном случае.


### `example_run_scenario_file`

**Описание**: Пример запуска одного файла сценария.

**Параметры**:

- `supplier (MockSupplier)`: Экземпляр класса `MockSupplier`, содержащий информацию о поставщиках и сценариях.
- `scenario_file (Path)`: Путь к файлу сценария.

**Возвращает**:

- `bool`: `True`, если сценарий успешно выполнен, `False` в противном случае.


### `example_run_scenario`

**Описание**: Пример запуска одного сценария.

**Параметры**:

- `supplier (MockSupplier)`: Экземпляр класса `MockSupplier`, содержащий информацию о поставщиках и сценариях.
- `scenario (dict)`: Словарь, содержащий данные сценария.

**Возвращает**:

- `bool`: `True`, если сценарий успешно выполнен, `False` в противном случае.



### `example_insert_grabbed_data`

**Описание**: Пример добавления данных, полученных из сценария, в PrestaShop.

**Параметры**:

- `product_fields (ProductFields)`: Объект, содержащий данные о продукте для добавления.

**Возвращает**:

-  (Не возвращает значение)


### `example_add_coupon`

**Описание**: Пример добавления купона через API PrestaShop.

**Параметры**:

- `credentials (dict)`: Данные для аутентификации в API PrestaShop.
- `reference (str)`: Идентификатор продукта.
- `coupon_code (str)`: Код купона.
- `start_date (str)`: Дата начала действия купона.
- `end_date (str)`: Дата окончания действия купона.

**Возвращает**:

- (Не возвращает значение)



### `example_execute_PrestaShop_insert_async`

**Описание**: Пример асинхронного выполнения операции вставки данных в PrestaShop.

**Параметры**:

- `product_fields (ProductFields)`: Объект, содержащий данные о продукте для добавления.


**Возвращает**:

- (Не возвращает значение)


### `example_execute_PrestaShop_insert`

**Описание**: Пример синхронного выполнения операции вставки данных в PrestaShop.

**Параметры**:

- `product_fields (ProductFields)`: Объект, содержащий данные о продукте для добавления.

**Возвращает**:

- `bool`: `True`, если операция успешно выполнена, `False` в противном случае.



## Модули

- `asyncio`
- `pathlib`
- `src.scenario.executor`
- `src.utils.jjson`
- `src.product.product_fields`
- `src.endpoints.PrestaShop`

## Использование

Файл содержит несколько примеров функций, которые демонстрируют использование модуля `src.scenario.executor`.  Для запуска примеров необходимо импортировать соответствующие функции и выполнить их в блоке `if __name__ == "__main__":`.

```
```

## Замечания

- Примеры используют mock-классы (`MockSupplier`, `MockRelatedModules`, `MockDriver`) для имитации реальных объектов.
- Необходимо заменить моковые реализации на реальные для работы с реальным API и данными.
- Добавить обработки исключений и валидации входных данных для повышения надежности.