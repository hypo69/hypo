# Модуль `src.utils.ftp`

## Обзор

Модуль `src.utils.ftp` предоставляет интерфейс для взаимодействия с FTP-серверами. Он включает функции для отправки, получения и удаления файлов с FTP-сервера.

## Подробней

Этот модуль предназначен для обеспечения возможности передачи медиафайлов (изображений, видео), электронных таблиц и других файлов на FTP-сервер и обратно. Он использует библиотеку `ftplib` для установления соединения и выполнения операций с FTP-сервером.

## Содержание

- [Классы](#классы)
- [Функции](#функции)
    - [write](#write)
    - [read](#read)
    - [delete](#delete)

## Классы

В данном модуле классы отсутствуют.

## Функции

### `write`

```python
def write(source_file_path: str, dest_dir: str, dest_file_name: str) -> bool:
    """
    Отправляет файл на FTP-сервер.

    Args:
        source_file_path (str): Путь к файлу, который нужно отправить.
        dest_dir (str): Каталог назначения на FTP-сервере.
        dest_file_name (str): Имя файла на FTP-сервере.

    Returns:
        bool: True, если файл успешно отправлен, False в противном случае.

    Example:
        >>> success = write('local_path/to/file.txt', '/remote/directory', 'file.txt')
        >>> print(success)
        True
    """
```

**Как работает функция**:
Функция `write` отправляет файл на FTP-сервер. Она выполняет следующие шаги:

1.  Устанавливает соединение с FTP-сервером, используя параметры из словаря `_connection` (предполагается, что он определен в другом месте).
2.  Переходит в указанный каталог назначения `dest_dir` на FTP-сервере.
3.  Открывает файл, расположенный по пути `source_file_path`, в бинарном режиме для чтения.
4.  Отправляет содержимое файла на FTP-сервер с использованием команды `STOR` и имени файла `dest_file_name`.
5.  Закрывает соединение с FTP-сервером.

Если на каком-либо этапе возникает ошибка, функция регистрирует ее с помощью `logger.error` и возвращает `False`. В случае успешной отправки файла функция возвращает `True`.

### `read`

```python
def read(source_file_path: str, dest_dir: str, dest_file_name: str) -> Union[str, bytes, None]:
    """
    Получает файл с FTP-сервера.

    Args:
        source_file_path (str): Путь, по которому файл будет сохранен локально.
        dest_dir (str): Каталог на FTP-сервере, где расположен файл.
        dest_file_name (str): Имя файла на FTP-сервере.

    Returns:
        Union[str, bytes, None]: Содержимое файла, если он успешно получен, None в противном случае.

    Example:
        >>> content = read('local_path/to/file.txt', '/remote/directory', 'file.txt')
        >>> print(content)
        b'Some file content'
    """
```

**Как работает функция**:
Функция `read` получает файл с FTP-сервера и сохраняет его локально. Она выполняет следующие шаги:

1.  Устанавливает соединение с FTP-сервером, используя параметры из словаря `_connection`.
2.  Переходит в указанный каталог `dest_dir` на FTP-сервере.
3.  Открывает локальный файл, расположенный по пути `source_file_path`, в бинарном режиме для записи.
4.  Получает содержимое файла с FTP-сервера с использованием команды `RETR` и имени файла `dest_file_name`, записывая его в локальный файл.
5.  Открывает локальный файл в бинарном режиме для чтения и возвращает его содержимое.
6.  Закрывает соединение с FTP-сервером.

Если на каком-либо этапе возникает ошибка, функция регистрирует ее с помощью `logger.error` и возвращает `None`. В случае успешного получения файла функция возвращает его содержимое.

### `delete`

```python
def delete(source_file_path: str, dest_dir: str, dest_file_name: str) -> bool:
    """
    Удаляет файл с FTP-сервера.

    Args:
        source_file_path (str): Путь, где расположен файл локально (не используется).
        dest_dir (str): Каталог на FTP-сервере, где расположен файл.
        dest_file_name (str): Имя файла на FTP-сервере.

    Returns:
        bool: True, если файл успешно удален, False в противном случае.

    Example:
        >>> success = delete('local_path/to/file.txt', '/remote/directory', 'file.txt')
        >>> print(success)
        True
    """
```

**Как работает функция**:
Функция `delete` удаляет файл с FTP-сервера. Она выполняет следующие шаги:

1.  Устанавливает соединение с FTP-сервером, используя параметры из словаря `_connection`.
2.  Переходит в указанный каталог `dest_dir` на FTP-сервере.
3.  Удаляет файл с именем `dest_file_name` с FTP-сервера.
4.  Закрывает соединение с FTP-сервером.

Если на каком-либо этапе возникает ошибка, функция регистрирует ее с помощью `logger.error` и возвращает `False`. В случае успешного удаления файла функция возвращает `True`.