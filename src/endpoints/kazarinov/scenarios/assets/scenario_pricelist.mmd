graph TD
    A[Старт сценария] -->|Получение URL| B[Проверка URL]
    B -->|Подходящий грабер найден| C[Обработка страницы]
    B -->|Грабер не найден| D[Лог ошибки и выход]
    C -->|Парсинг успешен| E[Конвертация данных продукта]
    C -->|Парсинг не удался| F[Лог ошибки и выход]
    E -->|Конвертация успешна| G[Сохранение данных продукта]
    E -->|Ошибка конвертации| H[Лог ошибки и выход]
    G -->|Сохранение успешно| I[Обработка данных через AI]
    G -->|Ошибка сохранения| J[Лог ошибки и выход]
    I -->|AI данные валидны| K[Создание отчетов и публикация]
    I -->|Ошибка AI данных| L[Повторный запрос AI]
    K --> M[Конец сценария]
