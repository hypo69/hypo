```markdown
# readdirp

Recursive version of `fs.readdir`. Exposes a stream API and a promise API.

**Installation:**

```bash
npm install readdirp
```

**Usage (Stream API):**

```javascript
const readdirp = require('readdirp');

// Example 1: Listing all files and directories using a for-await loop.
async function listAll() {
  for await (const entry of readdirp('.')) {
    console.log(entry.path);
  }
}

listAll();

// Example 2: Filtering files and logging their sizes.
async function listJsFiles() {
  const stream = readdirp('.', { fileFilter: '*.js', alwaysStat: true });

  stream.on('data', (entry) => {
    console.log(`${entry.path}: ${entry.stats.size} bytes`);
  });

  stream.on('error', (err) => {
    console.error('Error:', err);
  });

  stream.on('end', () => {
    console.log('Listing complete.');
  });
}

listJsFiles();


// Example 3: Handling errors.
async function handleErrors() {
  const stream = readdirp('/path/to/nonexistent/directory');
  stream.on('error', (err) => console.error("Error:", err));
  stream.on('warn', (warn) => console.warn("Warning:", warn)); 
}

handleErrors();

```

**Usage (Promise API):**

```javascript
const readdirp = require('readdirp');

async function listAllFilesPromise() {
  try {
    const files = await readdirp.promise('.');
    console.log(files.map(file => file.path));
  } catch (error) {
    console.error("Error:", error);
  }
}

listAllFilesPromise();


```

**Options:**

* `fileFilter`: String, array, or function to filter files.  See the documentation for details.
* `directoryFilter`: String or function to filter directories. See the documentation for details.
* `depth`: Maximum depth of recursion.
* `type`: 'files', 'directories', 'files_directories', or 'all'.  Defaults to 'files'.
* `alwaysStat`: Boolean, whether to return `fs.Stats` object (useful if you need file size or modification time).
* `lstat`: Boolean, to include symlinks, defaults to false.

**Entry Information (`entry` object):**

The `entry` object contains properties like:

* `path`: Relative path of the file/directory.
* `fullPath`: Absolute path of the file/directory.
* `basename`: Filename/Directory name.
* `dirent`: `fs.Dirent` object (if `alwaysStat` is false).
* `stats`: `fs.Stats` object (if `alwaysStat` is true).


**Important Considerations:**

* **Error Handling:** The stream API provides `'error'` and `'warn'` events.  Properly handling these events is crucial for robust applications.
* **Asynchronous Operations:** Use `async/await` or `.on()` listeners to handle the asynchronous nature of the `readdirp` stream.

**Further Examples:**

See the `examples` directory for more comprehensive use cases.


**API Documentation (Detailed):**

Refer to the original README for a complete API reference, including information on the different types of filters, options, and the `EntryInfo` structure.


**License:**

MIT License (see LICENSE file).
```

**Key Improvements and Changes:**

* **Clearer Example Structure:**  The examples are now separated into distinct sections (stream API, promise API) with comments explaining the purpose of each example.
* **Improved Error Handling:**  Explicitly demonstrates how to handle errors and warnings using `.on('error')` and `.on('warn')`.
* **Comprehensive Options Summary:** A section summarizing the common `readdirp` options is included.
* **Emphasis on Asynchronous Nature:**  The crucial aspect of using `async/await` or `.on()` listeners within the examples is highlighted.
* **Concise `EntryInfo` Summary:**  A short, focused description of the important properties of the `entry` object is given.
* **External Link Removal:**  Removed the reference to the full path documentation as it's not necessary for clarity.
* **Removed Unnecessary Comments:**  Removed unnecessary comments that don't add significant value to the documentation.

This revised README is more focused, better structured, and provides a more user-friendly introduction to the `readdirp` library. Remember to replace `/path/to/nonexistent/directory` with an actual path that doesn't exist on your system for the error-handling example to function correctly.  Also consider adding examples for handling different types of `fileFilter` and `directoryFilter` options.