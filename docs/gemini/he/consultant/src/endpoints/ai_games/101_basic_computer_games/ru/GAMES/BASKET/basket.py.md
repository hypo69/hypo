# Анализ кода модуля `basket.py`

**Качество кода**
- **Соответствие требованиям к формату кода (1-10):** 7
    -   **Преимущества:**
        -   Код логически структурирован и понятен, следуя описанному алгоритму.
        -   Используется цикл `while True` для основной игры, что подходит для повторения игры до выхода пользователя.
        -   Обработка ввода пользователя с помощью `try-except` для предотвращения ошибок.
        -   Расчет вероятности попадания и генерация случайного числа реализованы корректно.
        -   Вывод сообщений о попадании и промахе соответствует условиям игры.
    -   **Недостатки:**
        -   Отсутствуют docstring и комментарии в формате reStructuredText (RST).
        -   Нет импорта из `src.logger.logger`.
        -   Используется стандартный `print` для вывода сообщений, вместо использования `logger.info`, `logger.error`, что затрудняет централизованное логирование.
        -   Отсутствует возможность конфигурации, все значения жестко прописаны в коде.

**Рекомендации по улучшению**
1.  **Форматирование документации:**
    -   Добавить docstring в формате RST для модуля, а также для игрового цикла.
    -   Обновить комментарии в коде, переведя их в формат RST и добавляя описания.
2.  **Импорт и использование логгера:**
    -   Импортировать `logger` из `src.logger.logger`.
    -   Заменить `print` на `logger.info` для сообщений и `logger.error` для ошибок.
3.  **Обработка ошибок:**
    -   Добавить обработку других возможных ошибок, например, если введенное значение не может быть преобразовано в целое число.
4.  **Структурирование кода:**
    -   Разделить код на функции для улучшения читаемости и возможности повторного использования.
5.  **Конфигурация:**
    -   Ввести возможность конфигурации параметров игры (например, диапазон расстояний).

**Улучшенный код**
```python
"""
Модуль для игры в баскетбол
=========================================================================================

Модуль имитирует игру в баскетбол, где игрок вводит расстояние броска, а компьютер определяет результат.

Пример использования
--------------------

.. code-block:: python

    python basket.py
"""

import random
from src.logger.logger import logger  # Импорт логгера #

def calculate_probability(distance: int) -> float:
    """
    Рассчитывает вероятность попадания в зависимости от дистанции.

    :param distance: Дистанция броска в футах.
    :return: Вероятность попадания (число от 0 до 1).
    """
    probability = (60 - distance) / 50  # Вычисление вероятности #
    return probability

def play_basketball() -> None:
    """
    Запускает основной игровой цикл.

    Игра продолжается до тех пор, пока игрок не введет 0 для завершения.
    """
    while True: # Основной игровой цикл #
        try:
            distance = int(input('Введите дистанцию броска (10-60 футов, 0 для выхода): '))  # Запрос дистанции #
        except ValueError as e: # Ловим ошибку ValueError #
            logger.error('Ошибка ввода: пожалуйста, введите целое число.', exc_info=True)  # Логируем ошибку #
            continue

        if distance == 0:
            logger.info('Игра окончена.')  # Логируем завершение игры #
            break

        if distance < 10 or distance > 60:
            logger.info('Дистанция должна быть между 10 и 60 футами.') # Логируем сообщение о неверной дистанции #
            continue

        probability = calculate_probability(distance) # Вычисляем вероятность #
        random_number = random.random() # Генерируем случайное число #

        if random_number <= probability:
            logger.info('That\'s a hit!') # Логируем попадание #
        else:
            logger.info('You missed it!') # Логируем промах #


if __name__ == '__main__':
    play_basketball() # Запуск игры #

"""
Объяснение кода:
1.  **Импорт модуля `random` и `logger`**::
   - `import random`: Импортирует модуль `random`, для генерации случайных чисел.
   - `from src.logger.logger import logger`: Импортирует логгер для записи сообщений.
2. **Функция `calculate_probability`**::
   -  `def calculate_probability(distance: int) -> float:`: Функция, которая рассчитывает вероятность попадания.
   -  `:param distance: Дистанция броска в футах.` Описывает входной параметр - дистанция.
   -  `:return: Вероятность попадания (число от 0 до 1).` Описывает возвращаемое значение - вероятность.
3.  **Функция `play_basketball`**::
   -  `def play_basketball() -> None:`: Функция, запускающая основной игровой цикл.
   -  `while True:`: Бесконечный цикл, пока игрок не выберет выход.
   -  `try...except ValueError as e:`: Обрабатываем возможные ошибки при вводе числа.
   -  `logger.error('Ошибка ввода: пожалуйста, введите целое число.', exc_info=True)`: Логируем сообщение об ошибке.
   -  `if distance == 0:`: Проверка, хочет ли игрок закончить игру.
   -   `logger.info('Игра окончена.')`: Логируем сообщение об окончании игры.
   -   `if distance < 10 or distance > 60:`: Проверка диапазона дистанции.
   -   `logger.info('Дистанция должна быть между 10 и 60 футами.')`: Логируем сообщение о неправильной дистанции.
   -  `probability = calculate_probability(distance)`: Вызываем функцию расчета вероятности.
   -  `random_number = random.random()`: Генерируем случайное число.
   -  `if random_number <= probability:`: Проверяем, попал ли игрок.
   -  `logger.info('That\'s a hit!')`: Логируем сообщение о попадании.
   -   `else:`: Если промах.
   - `logger.info('You missed it!')`: Логируем сообщение о промахе.
4.  **Условный запуск**::
    -   `if __name__ == '__main__':`: Убеждаемся, что код выполняется только при запуске напрямую, а не импорте.
    -   `play_basketball()`: Запускаем основную игру.
"""
```