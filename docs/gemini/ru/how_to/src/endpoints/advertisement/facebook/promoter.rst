Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код реализует класс `FacebookPromoter` для автоматической публикации рекламных объявлений (категорий и событий) из AliExpress в Facebook-группах.  Класс обрабатывает файлы с данными о группах, извлекает информацию о товарах/событиях, проверяет условия публикации (например, язык, валюта, интервал) и публикует объявления через WebDriver.  После публикации обновляются данные о группе, отмечая, что данное объявление уже опубликовано.  Используется логика предотвращения дублирования публикаций.  Код поддерживает работу с различными кампаниями и событиями.

Шаги выполнения
-------------------------
1. **Инициализация:**  Создается экземпляр класса `FacebookPromoter` с WebDriver (`d`), именем промоутера (`promoter`), списком путей к файлам с данными групп (`group_file_paths`), и опциональным параметром `no_video` для отключения видео в постах. Файлы с данными групп обычно хранятся в формате JSON и содержат информацию о группах (например, URL, язык, валюта).  Если `group_file_paths` не указан, используется список файлов из папки `facebook/groups` в указанном Google Drive каталоге.

2. **Обработка кампаний или событий:**  Методы `run_campaigns` и `run_events` запускают циклы обработки кампаний или событий.  Внутри цикла для каждой группы:
   - **Проверка интервала:** Проверяет, достаточно ли времени прошло с последней публикации в данной группе, используя метод `check_interval`.
   - **Получение товара/события:** Используется метод `get_category_item`, который загружает информацию о товаре/событии из соответствующего файла кампании.  Если промоутер `aliexpress`, используется `AliCampaignEditor` для получения данных, в противном случае - из специфичных файлов кампании.
   - **Проверка на дубликаты:** Проверяет, не публиковалось ли данное объявление ранее в данной группе.
   - **Проверка условий:** Проверяет, подходит ли группа под условия публикации (язык, валюта, активность).
   - **Запуск публикации:** Вызывает метод `promote` для публикации объявления в Facebook-группе.
   - **Обновление данных:** Метод `update_group_promotion_data` обновляет информацию о последней публикации в базе данных для данной группы.
   - **Ожидание:** Используется `time.sleep` для соблюдения интервала между публикациями.
   - **Сохранение данных:** Сохраняет измененные данные о группах в файлы.

3. **Завершение работы:** Метод `stop` завершает работу WebDriver.


Пример использования
-------------------------
.. code-block:: python

    import os
    from src.webdriver import Driver, Chrome
    from types import SimpleNamespace
    from hypotez.src.endpoints.advertisement.facebook.promoter import FacebookPromoter

    # Замените на пути к файлам с данными групп
    group_files = ["ru_usd.json", "usa.json"] 

    # Инициализация WebDriver (Chrome)
    driver = Driver(Chrome())

    # Предположим, что у вас есть данные campaigns и events. В реальности они должны быть загружены.
    campaigns = ["Campaign1", "Campaign2"]

    # Инициализация FacebookPromoter
    promoter = FacebookPromoter(d=driver, promoter="aliexpress", group_file_paths=group_files)


    try:
        # Запуск обработки кампаний
        promoter.run_campaigns(campaigns=campaigns, group_file_paths=group_files)
        # Ожидаем окончания
        print("Завершено успешно!")
    except KeyboardInterrupt:
        print("Завершено по запросу.")
    finally:
        promoter.stop()