# `env.py`

## Обзор

Файл `env.py` используется для настройки и запуска миграций базы данных с использованием Alembic. Он определяет, как миграции должны выполняться в режимах онлайн и офлайн, а также настраивает соединение с базой данных.

## Содержание

1. [Обзор](#обзор)
2. [Функции](#функции)
    - [`run_migrations_offline`](#run_migrations_offline)
    - [`do_run_migrations`](#do_run_migrations)
    - [`run_async_migrations`](#run_async_migrations)
    - [`run_migrations_online`](#run_migrations_online)

## Функции

### `run_migrations_offline`

**Описание**: Запускает миграции в "офлайн" режиме.

В этом режиме контекст настраивается только с использованием URL базы данных, без создания движка SQLAlchemy. Это позволяет выполнять миграции без необходимости наличия доступа к базе данных.

### `do_run_migrations`

**Описание**: Выполняет миграции, используя предоставленное соединение с базой данных.

**Параметры**:
- `connection` (Connection): Активное соединение с базой данных, используемое для выполнения миграций.

### `run_async_migrations`

**Описание**: Асинхронно запускает миграции, создавая движок и устанавливая соединение с базой данных.

Этот режим используется для асинхронного выполнения миграций с использованием `asyncio`. Он настраивает асинхронный движок SQLAlchemy и выполняет миграции через предоставленное соединение.

### `run_migrations_online`

**Описание**: Запускает миграции в "онлайн" режиме.

Этот режим запускает асинхронные миграции с помощью `asyncio.run` для выполнения миграций в режиме реального времени с использованием движка SQLAlchemy.