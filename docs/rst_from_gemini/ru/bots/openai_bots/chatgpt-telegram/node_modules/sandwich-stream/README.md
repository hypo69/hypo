```markdown
# sandwich-stream

[![npm](https://img.shields.io/npm/v/sandwich-stream.svg?style=flat-square)](https://www.npmjs.com/package/sandwich-stream)
[![npm](https://img.shields.io/npm/dt/sandwich-stream.svg?style=flat-square)](https://www.npmjs.com/package/sandwich-stream)
[![Travis CI](https://img.shields.io/travis/connrs/node-sandwich-stream.svg?style=flat-square)](https://travis-ci.org/connrs/node-sandwich-stream)
[![codecov](https://img.shields.io/codecov/c/github/connrs/node-sandwich-stream.svg?style=flat-square)](https://codecov.io/gh/connrs/node-sandwich-stream)
[![Codacy Badge](https://img.shields.io/codacy/grade/6d64b00364bf413980280bd4e55d6115.svg?style=flat-square)](https://www.codacy.com/project/connrs/node-sandwich-stream/dashboard?utm_source=github.com&utm_medium=referral&utm_content=connrs/node-sandwich-stream&utm_campaign=Badge_Grade_Dashboard)
[![Dependencies](https://david-dm.org/connrs/node-sandwich-stream.svg?style=flat-square)](https://codeclimate.com/github/connrs/node-sandwich-stream/master/package.json)
[![Known Vulnerabilities](https://snyk.io/test/github/connrs/node-sandwich-stream/badge.svg?style=flat-square&targetFile=package.json)](https://snyk.io/test/github/connrs/node-sandwich-stream?targetFile=package.json)
[![Maintainability](https://api.codeclimate.com/v1/badges/a6a00d50601938edfdad/maintainability)](https://codeclimate.com/github/connrs/node-sandwich-stream/maintainability)

## SandwichStream

A simple Node.js stream that adds a "sandwich" of header, separator, and footer to an input stream.  Designed for concatenating multiple streams cleanly.

## About

This module provides a readable stream to help combine multiple readable streams with a consistent formatting.  It's a wrapper around existing streams to add a header, footer, and separator between the streams.

## Installation

```bash
npm install sandwich-stream --save
```

**Note:** This module uses TypeScript, and its typings are included. No separate type definitions are needed.

## Usage

```typescript
import { SandwichStream } from 'sandwich-stream';
// or
// const SandwichStream = require('sandwich-stream');

const sandwich = new SandwichStream({
  head: 'Thing at the top\n',
  tail: '\nThing at the bottom',
  separator: '\n----\n'
});

const stream1 = new Readable({
  read(size) {
    // ... logic to fill stream1
    this.push('Stream1\n');
    this.push(null);
  }
});

const stream2 = new Readable({
  read(size) {
    // ... logic to fill stream2
    this.push('Stream2\n');
    this.push(null);
  }
});

sandwich
  .add(stream1)
  .add(stream2)
  .pipe(process.stdout);


// Output:
// Thing at the top
// ----
// Stream1
// ----
// Stream2
// Thing at the bottom
```

## Configuration Options

| Option      | Type        | Description                                 | Default |
|-------------|-------------|----------------------------------------------|---------|
| `head`      | string/Buffer | Content to prepend.                           |         |
| `tail`      | string/Buffer | Content to append.                           |         |
| `separator` | string/Buffer | Content to insert between streams.            |         |
| `readableOptions` | object | Additional options for the underlying readable stream |         | (e.g., highWaterMark, encoding)

## API

* **`add(stream: NodeJS.ReadableStream): SandwichStream`**: Adds a readable stream to the sandwich.  You can chain `.add()` calls.
* **`pipe(destination: NodeJS.WritableStream)`**: Pipes the combined stream to a destination.


## More

For more information on Node.js streams, see the official Node.js documentation: [https://nodejs.org/api/stream.html](https://nodejs.org/api/stream.html)
```