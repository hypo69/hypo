```markdown
# anymatch

[![Build Status](https://travis-ci.org/micromatch/anymatch.svg?branch=master)](https://travis-ci.org/micromatch/anymatch)
[![Coverage Status](https://img.shields.io/coveralls/micromatch/anymatch.svg?branch=master)](https://coveralls.io/r/micromatch/anymatch?branch=master)

Javascript module to match a string against a regular expression, glob, string,
or function that takes the string as an argument and returns a truthy or falsy
value. The matcher can also be an array of any or all of these.  Useful for
allowing flexible user-defined configurations, such as defining file paths.

**Important Note:**  This module has Bash-parity.  Be aware that Windows-style backslashes (`\`) are *not* supported as separators. See the [micromatch documentation](https://github.com/micromatch/micromatch#backslashes) for details.


## Usage

```bash
npm install anymatch
```

### `anymatch(matchers, testString, [returnIndex], [options])`

* **matchers:** (Array|String|RegExp|Function)  The matcher(s). Can be a single string, RegExp, function, or an array containing a combination of these.
* **testString:** (String|Array) The string to test against the matchers. If passed as an array, the first element of the array is used as the `testString` for non-function matchers.  For function matchers, the entire array is passed as arguments.
* **returnIndex:** (Boolean, optional) If `true`, returns the index of the first matching matcher in the `matchers` array. If no match is found, returns `-1`.  Defaults to `false`.
* **options:** (Object, optional)  Options for micromatch. See the [micromatch documentation](https://github.com/micromatch/picomatch#options) for details.


```javascript
const anymatch = require('anymatch');

const matchers = [
  'path/to/file.js',
  'path/anyjs/**/*.js',
  /foo.js$/,
  (str, extra) => str.includes('bar') && str.length > 10
];

console.log(anymatch(matchers, 'path/to/file.js')); // true
console.log(anymatch(matchers, 'path/anyjs/baz.js')); // true
console.log(anymatch(matchers, 'path/to/foo.js')); // true
console.log(anymatch(matchers, 'path/to/bar.js')); // true (because of the function)
console.log(anymatch(matchers, 'bar.js')); // false

// Using returnIndex
console.log(anymatch(matchers, 'foo.js', { returnIndex: true })); // 2
console.log(anymatch(matchers, 'path/anyjs/foo.js', { returnIndex: true })); // 1


// Using globs for directories
console.log(anymatch('node_modules', 'node_modules')); // true
console.log(anymatch('node_modules', 'node_modules/somelib/index.js')); // false
console.log(anymatch('node_modules/**', 'node_modules/somelib/index.js')); // true
console.log(anymatch('**/node_modules/**', '/absolute/path/to/node_modules/somelib/index.js')); // true

// Curried function
const matcher = anymatch(matchers);
console.log(['foo.js', 'bar.js'].filter(matcher));  // ['foo.js']

```


### `anymatch(matchers)`

Creates a curried function that's already bound to the provided matchers. Useful as a callback for `Array.prototype.filter`.


```javascript
const matcher = anymatch(matchers);
console.log(matcher('path/to/file.js')); // true
```


## Changelog

See the [GitHub releases page](https://github.com/micromatch/anymatch/releases) for detailed release notes.

* **v3.0:** Removed `startIndex` and `endIndex` arguments. (Node.js 8.x and below only.)
* **v2.0:** `anymatch` now uses [micromatch](https://github.com/micromatch/micromatch) for glob matching, adopting its Bash-like behavior and handling of backslashes.
* **v1.2:** anymatch now leverages [micromatch](https://github.com/jonschlinkert/micromatch) for glob matching.  Issues relating to glob patterns should be reported to the [micromatch issue tracker](https://github.com/jonschlinkert/micromatch/issues).


## License

[ISC](https://raw.githubusercontent.com/micromatch/anymatch/master/LICENSE)
```