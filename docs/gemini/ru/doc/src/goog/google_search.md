# Модуль `hypotez/src/goog/google_search.py`

## Обзор

Модуль `google_search.py` предоставляет класс `GoogleHtmlParser` для парсинга HTML-страниц поисковой выдачи Google.  Класс позволяет извлечь и структурировать данные с таких страниц, включая органические результаты, featured snippet, карточку знаний и данные из скроллируемых виджетов.

## Оглавление

- [Модуль `google_search.py`](#модуль-google_searchpy)
- [Класс `GoogleHtmlParser`](#класс-googlehtmlparser)
    - [`__init__`](#инициализация-парсера)
    - [`_clean`](#очистка-строки)
    - [`_normalize_dict_key`](#нормализация-ключей-словаря)
    - [`_get_estimated_results`](#получение-количества-результатов)
    - [`_get_organic`](#получение-органических-результатов)
    - [`_get_featured_snippet`](#получение-featured-snippet)
    - [`_get_knowledge_card`](#получение-карточки-знаний)
    - [`_get_scrolling_sections`](#получение-данных-из-скроллируемых-виджетов)
    - [`get_data`](#получение-итоговых-данных)

## Класс `GoogleHtmlParser`

### Описание

Класс `GoogleHtmlParser` предназначен для парсинга HTML-кода с Google Search. Он предоставляет методы для извлечения различных элементов данных с поисковой страницы.

### `__init__`

#### Описание

Инициализирует объект парсера.

#### Параметры

- `html_str` (str): HTML-код страницы Google Search.
- `user_agent` (str, опционально): Тип user-agent (по умолчанию 'desktop'). Допустимые значения: 'mobile', 'desktop'.

#### Возвращает

- None

### `_clean`

#### Описание

Очищает строку от лишних пробелов и символов.

#### Параметры

- `content` (str): Строка для очистки.

#### Возвращает

- str: Очищенная строка.

### `_normalize_dict_key`

#### Описание

Нормализует строку для использования в качестве ключа словаря.

#### Параметры

- `content` (str): Строка для нормализации.

#### Возвращает

- str: Нормализованная строка.

### `_get_estimated_results`

#### Описание

Получает количество результатов поиска.

#### Возвращает

- int: Количество результатов поиска.

### `_get_organic`

#### Описание

Получает список органических результатов поиска.

#### Возвращает

- list: Список словарей с результатами поиска.

### `_get_featured_snippet`

#### Описание

Получает featured snippet, если он существует.

#### Возвращает

- dict | None: Словарь с featured snippet или None.


### `_get_knowledge_card`

#### Описание

Получает карточку знаний, если она существует.

#### Возвращает

- dict | None: Словарь с данными карточки знаний или None.


### `_get_scrolling_sections`

#### Описание

Получает данные из скроллируемых виджетов.

#### Возвращает

- list: Список словарей с данными из виджетов.


### `get_data`

#### Описание

Получает все данные с поисковой страницы.

#### Возвращает

- dict: Словарь с результатами парсинга.