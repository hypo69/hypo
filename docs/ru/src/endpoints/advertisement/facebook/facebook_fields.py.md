# Модуль facebook_fields

## Обзор

Модуль `facebook_fields.py` предназначен для хранения и загрузки полей, используемых в объявлениях и событиях Facebook. Он предоставляет класс `FacebookFields`, который загружает данные из JSON-файла и делает их доступными в виде атрибутов экземпляра класса.

## Подробней

Этот модуль является частью подсистемы, отвечающей за интеграцию с Facebook Ads API. Он обеспечивает централизованное хранение и удобный доступ к необходимым полям для создания и управления рекламными кампаниями и событиями на платформе Facebook.

## Классы

### `FacebookFields`

**Описание**: Класс предназначен для хранения и предоставления доступа к полям, используемым при работе с Facebook Ads API для объявлений и событий.

**Принцип работы**: Класс инициализируется без параметров и сразу вызывает метод `_payload` для загрузки данных из JSON-файла, расположенного в `src/advertisement/facebok/facebook_feilds.json`. Загруженные данные затем устанавливаются как атрибуты экземпляра класса, что позволяет удобно обращаться к ним.

**Методы**:
- `__init__`: Инициализатор класса. Вызывает метод `_payload` для загрузки данных.
- `_payload`: Загружает данные из JSON-файла и устанавливает их как атрибуты экземпляра класса.

## Функции

### `_payload`

```python
def _payload(self):
    """ """
```

**Назначение**: Загружает данные из JSON-файла, расположенного по пути `gs.path.src/advertisement/facebok/facebook_feilds.json`, и устанавливает их в качестве атрибутов экземпляра класса `FacebookFields`.

**Параметры**:
- `self`: Экземпляр класса `FacebookFields`.

**Возвращает**:
- `True`: Если данные успешно загружены и установлены.
- `None`: Если не удалось загрузить данные из файла.

**Как работает функция**:

1.  Формируется путь к файлу `facebook_feilds.json` с использованием `gs.path.src` (путь к исходному коду) и стандартных директорий проекта.
2.  Используется функция `j_loads` для загрузки данных из JSON-файла. Это позволяет автоматически обрабатывать кодировку UTF-8.
3.  Если загрузка данных не удалась, функция записывает сообщение об ошибке в лог с использованием `logger.debug` и завершается.
4.  В цикле перебираются все пары ключ-значение в загруженных данных и устанавливаются как атрибуты экземпляра класса `FacebookFields` с использованием функции `setattr`. Имя атрибута формируется путем добавления префикса `f'{name}'` к ключу.
5.  После успешной установки всех атрибутов функция возвращает `True`.

**ASCII Flowchart**:

```
A [Формирование пути к файлу]
|
B [Загрузка данных из JSON с помощью j_loads]
|
C [Проверка успешности загрузки]
|
D [Запись сообщения об ошибке в лог (если загрузка не удалась)]
|
E [Установка атрибутов экземпляра класса в цикле]
|
F [Возврат True (если все успешно)]
```

**Примеры**:

```python
# Пример использования класса FacebookFields
from src.endpoints.advertisement.facebook.facebook_fields import FacebookFields

facebook_fields = FacebookFields()

# Теперь можно обращаться к полям как к атрибутам экземпляра класса
# Например, если в файле facebook_feilds.json есть поле 'ad_name', то к нему можно обратиться так:
# ad_name = facebook_fields.ad_name
```
```python
def __init__(self):
    """ """
```

**Назначение**:
Инициализирует экземпляр класса `FacebookFields`.

**Параметры**:
- `self`: Экземпляр класса `FacebookFields`.

**Как работает функция**:
1. Вызывается конструктор родительского класса (если он есть). В данном случае родительского класса нет.
2. Вызывается метод `_payload()` для загрузки данных полей Facebook.

**Примеры**:
Пример создания экземпляра класса `FacebookFields`:

```python
from src.endpoints.advertisement.facebook.facebook_fields import FacebookFields
facebook_fields = FacebookFields()