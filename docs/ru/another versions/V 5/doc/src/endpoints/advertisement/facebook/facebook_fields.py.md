# Модуль facebook_fields

## Обзор

Модуль `facebook_fields.py` содержит класс `FacebookFields`, предназначенный для хранения и предоставления полей, используемых в рекламных объявлениях и событиях Facebook. Он загружает данные о полях из JSON-файла и делает их доступными через атрибуты экземпляра класса.

## Подробней

Этот модуль облегчает доступ к необходимым полям для работы с Facebook API, централизованно храня их и предоставляя удобный интерфейс для использования в других частях проекта. Расположение файла в структуре проекта указывает на его принадлежность к подсистеме работы с рекламными кампаниями в Facebook.

## Классы

### `FacebookFields`

**Описание**: Класс `FacebookFields` предназначен для хранения и предоставления полей, используемых в рекламных объявлениях и событиях Facebook.

**Как работает класс**:
Класс инициализируется методом `__init__`, который вызывает метод `_payload` для загрузки данных о полях из JSON-файла. Затем данные становятся доступными через атрибуты экземпляра класса.

**Методы**:
- `__init__`: Метод инициализации класса.
- `_payload`: Метод для загрузки и установки атрибутов из JSON-файла.

**Параметры**:
- Отсутствуют параметры для класса.

**Примеры**

```python
from src.endpoints.advertisement.facebook.facebook_fields import FacebookFields

facebook_fields = FacebookFields()
# Пример доступа к полю, если оно было определено в JSON-файле
#print(facebook_fields.some_field)
```

## Методы класса `FacebookFields`

### `__init__`

```python
def __init__(self):
    """"""
    ...
    self._payload()
```

**Описание**: Метод инициализации класса `FacebookFields`.

**Как работает функция**:
Метод вызывает `self._payload()` для загрузки данных из JSON-файла и установки атрибутов класса. Многоточие указывает на наличие не реализованного кода.

**Параметры**:
- Отсутствуют параметры.

**Возвращает**:
- Ничего не возвращает.

**Вызывает исключения**:
- Не вызывает исключений.

**Примеры**:
```python
facebook_fields = FacebookFields()
```

### `_payload`

```python
def _payload(self):
    """"""
    ...
    data = j_loads (Path (gs.path.src, 'advertisement', 'facebok', 'facebook_feilds.json'))
    if not data:
        logger.debug(f"Ошибка загрузки полей из файла {gs.path.src}/advertisement/facebok/facebook_feilds.json")
        return 
    for name, value in data.items():
        setattr(self, f'{name}', value)
    return True
```

**Описание**: Метод загружает данные о полях из JSON-файла и устанавливает их как атрибуты экземпляра класса.

**Как работает функция**:

1.  **Загрузка данных**: Использует функцию `j_loads` для загрузки данных из JSON-файла, расположенного по пути `gs.path.src/advertisement/facebok/facebook_feilds.json`.
2.  **Обработка ошибок**: Если загрузка данных не удалась (т.е. `data` равно `None`), в лог записывается отладочное сообщение об ошибке, и функция завершается.
3.  **Установка атрибутов**: Если данные успешно загружены, метод перебирает элементы словаря `data` и устанавливает каждый ключ-значение как атрибут экземпляра класса с помощью `setattr`.
4.  **Возврат значения**: Если загрузка прошла успешно, метод возвращает `True`.

**Параметры**:
- Отсутствуют параметры.

**Возвращает**:
- `True`: Если данные успешно загружены и установлены.
- `None`: Если произошла ошибка при загрузке данных.

**Вызывает исключения**:
- Не вызывает исключений, но логирует ошибку при неудачной загрузке JSON-файла.

**Примеры**:

```python
facebook_fields = FacebookFields()
facebook_fields._payload()
# После вызова _payload, поля из JSON-файла доступны как атрибуты экземпляра класса
# Например, если в JSON-файле есть поле "ad_name", то к нему можно обратиться как facebook_fields.ad_name
```