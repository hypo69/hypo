# Задача No 683
## Гиперкубические сети

## Условия
Рассмотрим гиперкубическую сеть размера $n$ с $2^n$ узлами, помеченными двоичными представлениями целых чисел от $0$ до $2^n-1$ включительно. Два узла соединены ребром, если их двоичные представления различаются ровно в одном бите.

Например, гиперкуб размера 3 имеет 8 узлов, помеченных от 000 до 111. В нём 12 ребер: (000,001), (000,010), (000,100), (001,011), (001,101), (010,011), (010,110), (100,101), (100,110), (011,111), (101,111) и (110,111).

Определим кратчайший путь между двумя узлами $u$ и $v$ как минимальное число ребер, которые нужно пройти, чтобы добраться от $u$ до $v$.

Для гиперкуба размера $n$, пусть $S(n)$ будет суммой длин кратчайших путей между каждой парой узлов.
Известно, что $S(1) = 1$, $S(2) = 8$ и $S(3) = 96$.

Найдите $S(10^6)$ по модулю $1\,000\,000\,007$.

