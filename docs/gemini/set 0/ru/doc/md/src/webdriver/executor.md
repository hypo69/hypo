# Модуль hypotez/src/webdriver/executor.py

## Обзор

Модуль `executor` предназначен для выполнения действий над веб-элементами на основе предоставленных конфигураций, известных как "локейторы". Эти конфигурации (или "локейторы") представляют собой словари, содержащие информацию о том, как находить и взаимодействовать с элементами на веб-странице. Модуль предоставляет следующие функциональности:

1. **Парсинг и обработка локейторов**: Преобразует словари с конфигурациями в объекты `SimpleNamespace`, что позволяет гибко манипулировать данными локейтора.
2. **Взаимодействие с веб-элементами**: В зависимости от предоставленных данных, модуль может выполнять различные действия, такие как клики, отправка сообщений, выполнение событий и извлечение атрибутов из веб-элементов.
3. **Обработка ошибок**: Модуль поддерживает продолжение выполнения в случае ошибки, что позволяет обрабатывать веб-страницы с нестабильными элементами или требующими специального подхода.
4. **Поддержка нескольких типов локейторов**: Обрабатывает как одиночные, так и множественные локейторы, что позволяет идентифицировать и взаимодействовать с одним или несколькими веб-элементами одновременно.

Этот модуль обеспечивает гибкость и универсальность в работе с веб-элементами, что позволяет автоматизировать сложные сценарии взаимодействия с веб-страницами.


## Классы

### `ExecuteLocator`

**Описание**: Класс для обработки локейторов веб-элементов с использованием Selenium.

**Атрибуты**:
- `driver` (Optional[object]): Объект драйвера Selenium.
- `actions` (ActionChains): Объект для выполнения действий над веб-элементами.
- `by_mapping` (dict): Словарь для отображения имен локейторов в соответствующие константы `By` из Selenium.
- `mode` (str): Режим работы (например, 'debug' или 'dev').

**Методы**:

#### `execute_locator`

**Описание**: Выполняет действия над веб-элементом на основе предоставленного локейтора.

**Параметры**:
- `locator` (dict | SimpleNamespace): Данные локейтора (словарь или `SimpleNamespace`).
- `timeout` (Optional[float]): Таймаут для поиска элемента.
- `timeout_for_event` (Optional[str]): Условие ожидания (`'presence_of_element_located'`, `'element_to_be_clickable'`).
- `message` (Optional[str]): Дополнительное сообщение для отправки.
- `typing_speed` (Optional[float]): Скорость набора текста для событий `send_keys`.
- `continue_on_error` (Optional[bool]): Флаг для продолжения при ошибке.

**Возвращает**:
- str | list | dict | WebElement | bool: Результат выполнения действия.

#### `evaluate_locator`

**Описание**: Оценивает и обрабатывает атрибуты локейтора.

**Параметры**:
- `attribute` (str | List[str] | dict): Атрибуты для оценки.

**Возвращает**:
- Optional[str | List[str] | dict]: Оценённые атрибуты.

#### `get_attribute_by_locator`

**Описание**: Извлекает атрибуты из элемента или списка элементов, найденных по заданному локейтору.

**Параметры**:
- `locator` (dict | SimpleNamespace): Локейтор в виде словаря или SimpleNamespace.
- `timeout` (float, optional): Максимальное время ожидания появления элемента.
- `timeout_for_event` (str, optional): Тип условия ожидания.

**Возвращает**:
- Union[str, list, dict, WebElement | list[WebElement] | None]: Значение атрибута(ов) или словарь с атрибутами.

#### `get_webelement_by_locator`

**Описание**: Извлекает веб-элементы по заданному локейтору.

**Параметры**:
- `locator` (dict | SimpleNamespace): Данные локейтора.
- `timeout` (float): Максимальное время ожидания.
- `timeout_for_event` (str): Условие ожидания.

**Возвращает**:
- Optional[Union[WebElement, List[WebElement]]]: Найденный веб-элемент или список элементов.

#### `get_webelement_as_screenshot`

**Описание**: Делает снимок экрана указанного веб-элемента.

**Параметры**:
- `locator` (dict | SimpleNamespace): Данные локейтора.
- `timeout` (float): Максимальное время ожидания.
- `timeout_for_event` (str): Условие ожидания.
- `webelement` (Optional[WebElement]): Предварительно извлечённый веб-элемент.

**Возвращает**:
- BinaryIO | None: Бинарный поток снимка экрана или None при ошибке.

#### `execute_event`

**Описание**: Выполняет события, связанные с локейтором.

**Параметры**:
- `locator` (dict | SimpleNamespace): Локейтор, содержащий информацию об элементе и событии.
- `timeout`: Таймаут поиска элемента.
- `timeout_for_event`: Таймаут ожидания события.
- `message`: Сообщение для отправки.
- `typing_speed`: Скорость набора текста.

**Возвращает**:
- bool: True, если выполнение события успешно, иначе False.

#### `send_message`

**Описание**: Отправляет сообщение веб-элементу.

**Параметры**:
- `locator`: Информация о местоположении элемента на странице.
- `message`: Сообщение для отправки.
- `typing_speed`: Скорость набора текста.

**Возвращает**:
- bool: True, если сообщение отправлено успешно, иначе False.



## Функции

(Список функций отсутствует в предоставленном коде)


## Поддерживаемые исключения

(Список поддерживаемых исключений следует добавить с описаниями)

```