# Модуль `dot`

## Обзор

Модуль `dot` предназначен для преобразования файлов в формате DOT в изображения PNG с использованием библиотеки Graphviz. Он содержит функцию `dot2png`, которая принимает путь к DOT-файлу и путь для сохранения PNG-файла в качестве аргументов.

## Подробнее

Модуль `dot` предоставляет простой способ автоматизировать процесс преобразования графов, определенных в формате DOT, в визуально воспринимаемые изображения. Это может быть полезно для создания документации, визуализации данных и других задач, где требуется графическое представление информации.
В проекте `hypotez` модуль используется для <описания использования модуля в проекте hypotez>.

## Функции

### `dot2png`

```python
def dot2png(dot_file: str, png_file: str) -> None:
    """ Конвертирует DOT файл в PNG изображение.

    Args:
        dot_file (str): Путь к входному DOT файлу.
        png_file (str): Путь, по которому будет сохранен PNG файл.

    Raises:
        FileNotFoundError: Если DOT файл не существует.
        Exception: При других ошибках во время конвертации.

    Example:
        >>> dot2png('example.dot', 'output.png')
        
        Это конвертирует DOT файл 'example.dot' в PNG изображение с именем 'output.png'.
        
        Пример DOT содержимого для 'example.dot':
        
        ```dot
        digraph G {
            A -> B;
            B -> C;
            C -> A;
        }
        ```
        
        Чтобы запустить скрипт из командной строки:
        
        ```bash
        python dot2png.py example.dot output.png
        ```

        Эта команда создаст PNG файл с именем 'output.png' из графа, определенного в 'example.dot'.
    """
```

**Назначение**: Преобразует DOT файл в PNG изображение.

**Параметры**:
- `dot_file` (str): Путь к входному DOT файлу.
- `png_file` (str): Путь, по которому будет сохранен PNG файл.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- `FileNotFoundError`: Если DOT файл не найден.
- `Exception`: В случае возникновения других ошибок во время преобразования.

**Как работает функция**:

1.  **Чтение DOT файла**: Сначала функция пытается открыть и прочитать содержимое DOT файла, используя указанный путь.
2.  **Создание объекта Source**: Затем, используя прочитанное содержимое, создается объект `Source` из библиотеки `graphviz`. Этот объект представляет граф, определенный в DOT формате.
3.  **Рендеринг в PNG**: Далее, устанавливается формат выходного файла как `png` и вызывается метод `render` объекта `Source` для преобразования графа в PNG изображение. Параметр `cleanup=True` указывает на необходимость удаления временных файлов, созданных в процессе рендеринга.
4.  **Обработка исключений**: Если во время выполнения возникают ошибки, такие как отсутствие файла или другие проблемы при преобразовании, функция перехватывает исключения `FileNotFoundError` и `Exception`, выводит сообщение об ошибке и повторно вызывает исключение.

**Примеры**:

Пример использования функции `dot2png`:

```python
dot2png('example.dot', 'output.png')
```

## Условный блок `if __name__ == "__main__":`

```python
if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Usage: python dot2png.py <input_dot_file> <output_png_file>")
        sys.exit(1)

    input_dot_file = sys.argv[1]
    output_png_file = sys.argv[2]

    dot2png(input_dot_file, output_png_file)
```

**Назначение**: Обеспечивает запуск скрипта из командной строки.

**Как работает**:

1.  **Проверка аргументов командной строки**: Проверяется, было ли передано ровно два аргумента командной строки (путь к входному DOT файлу и путь к выходному PNG файлу). Если количество аргументов не равно 3 (имя скрипта считается первым аргументом), выводится сообщение об использовании и скрипт завершается с кодом ошибки 1.
2.  **Получение путей к файлам**: Если передано правильное количество аргументов, извлекаются пути к входному и выходному файлам из списка `sys.argv`.
3.  **Вызов функции `dot2png`**: Вызывается функция `dot2png` с переданными путями к файлам для выполнения преобразования.