# Модуль нормализации строк и числовых данных (hypotez/src/utils/string/normalizer.py)

## Обзор

Данный модуль предоставляет функции для нормализации строк, булевых значений, целых и чисел с плавающей точкой. Он также содержит вспомогательные методы для обработки текста, включая удаление HTML-тегов и специальных символов.


## Функции

### `normalize_boolean`

**Описание**: Нормализует данные в булево значение.

**Параметры**:
- `input_data` (Any): Данные, которые могут представлять булево значение (например, bool, строка, целое число).

**Возвращает**:
- `bool`: Булевое представление входных данных.

**Примеры**:
```python
>>> normalize_boolean('yes')
True
```

**Обрабатывает исключения**:
- `Exception`:  Логирование ошибки при преобразовании.


### `normalize_string`

**Описание**: Нормализует строку или список строк.

**Параметры**:
- `input_data` (str | list): Входные данные, которые могут быть строкой или списком строк.

**Возвращает**:
- `str`: Очищенная и нормализованная строка в кодировке UTF-8.

**Примеры**:
```python
>>> normalize_string(['Hello', '  World!  '])
'Hello World!'
```

**Обрабатывает исключения**:
- `TypeError`: Если `input_data` не является строкой или списком.
- `Exception`: Логирование ошибки при обработке строки. Возвращает исходное значение.


### `normalize_int`

**Описание**: Нормализует данные в целое число.

**Параметры**:
- `input_data` (Union[str, int, float, Decimal]): Входные данные, которые могут быть числом или его строковым представлением.

**Возвращает**:
- `int`: Целочисленное представление входных данных.

**Примеры**:
```python
>>> normalize_int('42')
42
```

**Обрабатывает исключения**:
- `ValueError`, `TypeError`, `InvalidOperation`:  Логирование ошибки при преобразовании. Возвращает исходное значение.


### `normalize_float`

**Описание**: Безопасно преобразует входные значения в тип float или список float.

**Параметры**:
- `value` (Any): Входное значение для преобразования. Может быть одиночным значением (числом или строкой) или итерируемым объектом (списком/кортежем).

**Возвращает**:
- `float | List[float] | None`: Значение float, список float или None, если преобразование не удалось.

**Примеры**:
```python
>>> normalize_float("3.14")
3.14
>>> normalize_float([1, '2.5', 3])
[1.0, 2.5, 3.0]
```

**Обрабатывает исключения**:
- `ValueError`, `TypeError`:  Логирование предупреждения и возвращение исходного значения.


### `normalize_sql_date`

**Описание**: Нормализует данные в формате даты SQL (YYYY-MM-DD).

**Параметры**:
- `input_data` (str): Данные, которые могут представлять дату (например, строка, объект datetime).

**Возвращает**:
- `str`: Нормализованная дата в формате SQL (YYYY-MM-DD) или исходное значение, если преобразование не удалось.

**Примеры**:
```python
>>> normalize_sql_date('2024-12-06')
'2024-12-06'
>>> normalize_sql_date('12/06/2024')
'2024-12-06'
```

**Обрабатывает исключения**:
- `Exception`:  Логирование ошибки и возвращение исходного значения.


### `simplify_string`

**Описание**: Упрощает строку, оставляя только буквы, цифры и заменяя пробелы на подчеркивания.

**Параметры**:
- `input_str` (str): Строка для упрощения.

**Возвращает**:
- `str`: Упрощенная строка.

**Примеры**:
```python
example_str = "It's a test string with 'single quotes', numbers 123 and symbols!"
simplified_str = simplify_string(example_str)
print(simplified_str)  # Output: Its_a_test_string_with_single_quotes_numbers_123_and_symbols
```

**Обрабатывает исключения**:
- `Exception`: Логирование ошибки и возвращение исходной строки.


### `remove_line_breaks`

**Описание**: Удаляет символы перевода строки из строки.

**Параметры**:
- `input_str` (str): Входная строка.

**Возвращает**:
- `str`: Строка без символов перевода строки.


### `remove_html_tags`

**Описание**: Удаляет HTML теги из строки.

**Параметры**:
- `input_html` (str): Входная HTML строка.

**Возвращает**:
- `str`: Строка без HTML тегов.


### `remove_special_characters`

**Описание**: Удаляет заданные специальные символы из строки или списка строк.

**Параметры**:
- `input_str` (str | list): Входная строка или список строк.
- `chars` (list[str], optional): Список символов для удаления. По умолчанию - символ '#'.

**Возвращает**:
- `str | list`: Обработанная строка или список с удаленными символами.


## Замечания

Модуль использует логгирование для отслеживания ошибок и предупреждений при преобразованиях. Обратите внимание на сохранение исходного значения при возникновении ошибок.