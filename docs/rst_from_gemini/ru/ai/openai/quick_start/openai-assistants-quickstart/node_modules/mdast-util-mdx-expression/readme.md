```markdown
# mdast-util-mdx-expression

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][size-badge]][size]
[![Sponsors][sponsors-badge]][collective]
[![Backers][backers-badge]][collective]
[![Chat][chat-badge]][chat]

This package provides extensions for `mdast-util-from-markdown` and `mdast-util-to-markdown` to parse and serialize MDX expressions within markdown documents.  It parses MDX expressions into an Abstract Syntax Tree (AST) using ESTree, allowing you to work with the expression's structure.

## Contents

* [What is this?](#what-is-this)
* [When to use this](#when-to-use-this)
* [Install](#install)
* [Use](#use)
* [API](#api)
    * [mdxExpressionFromMarkdown()](#mdxexpressionfrommarkdown)
    * [mdxExpressionToMarkdown()](#mdxexpressiontomarkdown)
    * [MdxFlowExpression](#mdxflowexpression)
    * [MdxTextExpression](#mdxtextexpression)
    * [MdxFlowExpressionHast](#mdxflowexpressionhast)
    * [MdxTextExpressionHast](#mdxtextexpressionhast)
* [Example Usage](#example-usage)  <!-- Improved Section Name -->
* [Syntax](#syntax)
* [Syntax Tree](#syntax-tree)
    * [Nodes](#nodes)
    * [Content Model](#content-model)
* [Types](#types)
* [Compatibility](#compatibility)
* [Related Packages](#related-packages)
* [Contribute](#contribute)
* [License](#license)


## What is this?

This package extends `mdast-util-from-markdown` and `mdast-util-to-markdown` to handle MDX expressions within markdown. This allows you to parse and manipulate the JavaScript expressions embedded within MDX code blocks or inline.


## When to use this

Use this package when you need to:

* Parse MDX expressions within markdown using `mdast-util-from-markdown`.
* Serialize MDX expressions back to markdown using `mdast-util-to-markdown`.
* Work with the underlying AST of the expressions.


## Install

```bash
npm install mdast-util-mdx-expression
```


## Use

```javascript
import { fromMarkdown } from 'mdast-util-from-markdown';
import { mdxExpressionFromMarkdown } from 'mdast-util-mdx-expression';
import { toMarkdown } from 'mdast-util-to-markdown';
import { mdxExpressionToMarkdown } from 'mdast-util-mdx-expression';
import * as micromark from 'micromark';
import { micromarkExtensionMdxExpression } from 'micromark-extension-mdx-expression'; // corrected import

// ... (your markdown string) ...

const markdown = `
{ 2 + 2 }
Inline: { true }.
`;

const extensions = [
  micromarkExtensionMdxExpression({ addResult: true }), // crucial for ESTree info!
  mdxExpressionFromMarkdown(),
];

const ast = fromMarkdown(markdown, { extensions });

console.log(JSON.stringify(ast, null, 2));

const markdownOutput = toMarkdown(ast, { extensions: [mdxExpressionToMarkdown()]});

console.log(markdownOutput);
```


## Example Usage

This example demonstrates parsing and serializing an MDX expression, including capturing the ESTree representation.


## API

<!-- Add comprehensive and well-formatted API documentation here. -->


## Syntax

<!-- Provide clear syntax details. -->

## Syntax Tree

<!-- Explain the syntax tree structure. -->

## Types

<!-- Specify types used in the package. -->


## Compatibility

<!-- List compatibility information. -->


## Related Packages

* [`remark-mdx`](https://mdxjs.com/packages/remark-mdx/)
* [`mdast-util-mdx`](https://github.com/syntax-tree/mdast-util-mdx)
* [`micromark-extension-mdx-expression`](https://github.com/micromark/micromark-extension-mdx-expression)


## Contribute

<!-- Contribution guidelines. -->

## License

<!-- License information. -->


```
