# Модуль crawlee_python

## Обзор

Модуль `crawlee_python` предоставляет инструменты для создания и запуска веб-скраперов с использованием Playwright.  Он позволяет парсить веб-страницы, извлекать данные и экспортировать их в JSON-файл.

## Классы

### `CrawleePython`

**Описание**: Класс `CrawleePython` представляет собой основу для управления процессом веб-скрапинга. Он инициализирует параметры, настраивает и запускает процесс сбора данных с помощью Playwright.

**Атрибуты**:

- `max_requests` (int): Максимальное количество запросов, которые будут обработаны.
- `headless` (bool): Флаг, указывающий, использовать ли безголовый режим браузера.
- `browser_type` (str): Тип браузера (по умолчанию `firefox`).
- `crawler` (PlaywrightCrawler): Экземпляр класса `PlaywrightCrawler` для выполнения задач.

**Методы**:

#### `__init__(self, max_requests: int = 5, headless: bool = False, browser_type: str = 'firefox')`

**Описание**: Инициализирует экземпляр класса `CrawleePython` с заданными параметрами.

**Параметры**:

- `max_requests` (int): Максимальное количество запросов.
- `headless` (bool): Используется ли безголовый режим браузера.
- `browser_type` (str): Тип браузера.

#### `setup_crawler(self)`

**Описание**: Настраивает экземпляр `PlaywrightCrawler` с указанными параметрами.

#### `run_crawler(self, urls: list[str])`

**Описание**: Запускает процесс сбора данных по списку URL-адресов.

**Параметры**:

- `urls` (list[str]): Список URL-адресов, с которых нужно начать сбор данных.

#### `export_data(self, file_path: str)`

**Описание**: Экспортирует собранные данные в JSON-файл.

**Параметры**:

- `file_path` (str): Путь к файлу для сохранения данных.

#### `get_data(self) -> dict`

**Описание**: Возвращает собранные данные в виде словаря.

**Возвращает**:

- `dict`: Словарь с собранными данными.

#### `run(self, urls: list[str])`

**Описание**: Главный метод для настройки, запуска и экспорта данных.

**Параметры**:

- `urls` (list[str]): Список URL-адресов для начала сбора данных.


## Функции

(Нет функций, кроме примера использования в `if __name__ == '__main__':`)


## Пример использования

```python
# Example usage
if __name__ == '__main__':
    async def main():
        experiment = CrawleePython(max_requests=5, headless=False, browser_type='firefox')
        await experiment.run(['https://ksp.co.il'])

    asyncio.run(main())
```

Этот пример показывает, как создать экземпляр класса `CrawleePython`, указать начальный список URL-адресов и запустить процесс сбора данных.  Результат будет сохранен в файле `results.json` в временном каталоге.
```