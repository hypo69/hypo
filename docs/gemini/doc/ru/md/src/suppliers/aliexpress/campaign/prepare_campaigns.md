# Модуль `hypotez/src/suppliers/aliexpress/campaign/prepare_campaigns.py`

## Обзор

Модуль `prepare_campaigns.py` предназначен для подготовки кампаний AliExpress.  Он обрабатывает категории, данные кампаний и генерирует рекламные материалы.  Модуль поддерживает обработку как отдельных кампаний, так и всех кампаний в каталоге.  Используются языковые и валютные параметры для таргетинга.

## Оглавление

* [Функция `process_campaign_category`](#функция-process_campaign_category)
* [Функция `process_campaign`](#функция-process_campaign)
* [Функция `process_all_campaigns`](#функция-process_all_campaigns)
* [Функция `main_process`](#функция-main_process)
* [Функция `main`](#функция-main)

## Функции

### `process_campaign_category`

**Описание**: Обрабатывает определенную категорию в рамках кампании для заданного языка и валюты. Возвращает список названий продуктов в указанной категории.

**Параметры**:
- `campaign_name` (str): Название рекламной кампании.
- `category_name` (str): Категория для кампании.
- `language` (str): Язык для кампании.
- `currency` (str): Валюта для кампании.

**Возвращает**:
- `List[str]`: Список названий продуктов в указанной категории.

**Пример**:
```python
titles: List[str] = process_campaign_category("summer_sale", "electronics", "EN", "USD")
print(titles)
```

**Примечание**:  Использует класс `AliCampaignEditor` для обработки.


### `process_campaign`

**Описание**: Обрабатывает кампанию, включая ее настройку и обработку.

**Параметры**:
- `campaign_name` (str): Название рекламной кампании.
- `language` (Optional[str], optional): Язык для кампании. Если не указан, обрабатываются все языки.
- `currency` (Optional[str], optional): Валюта для кампании. Если не указана, обрабатываются все валюты.
- `campaign_file` (Optional[str], optional):  Путь к файлу кампании (опционально).

**Возвращает**:
- `bool`: `True`, если кампания обработана успешно, `False` в противном случае.

**Пример**:
```python
res = process_campaign("summer_sale", "EN", "USD", "campaign_file.json")
```


### `process_all_campaigns`

**Описание**: Обрабатывает все кампании в каталоге `campaigns` для указанного языка и валюты.

**Параметры**:
- `language` (Optional[str]): Язык для кампаний.
- `currency` (Optional[str]): Валюта для кампаний.

**Пример**:
```python
process_all_campaigns("EN", "USD")
```


### `main_process`

**Описание**: Основная функция для обработки кампании. Обрабатывает указанные категории или всю кампанию в целом, в зависимости от переданных параметров.

**Параметры**:
- `campaign_name` (str): Название рекламной кампании.
- `categories` (List[str]): Список категорий для обработки. Если пустой, обрабатывается вся кампания.
- `language` (Optional[str]): Язык для кампании.
- `currency` (Optional[str]): Валюта для кампании.


**Пример**:
```python
main_process("summer_sale", ["electronics"], "EN", "USD")
main_process("summer_sale", [], "EN", "USD")
```


### `main`

**Описание**: Основная функция, которая разбирает аргументы командной строки и инициирует процесс обработки.

**Пример**:
```python
main()
```

**Параметры**: Парсит аргументы командной строки, включая имя кампании, категории, язык и валюту. Если указан `--all`, обрабатываются все кампании, в противном случае обрабатывается только указанная кампания.


## Замечания

* Модуль использует класс `AliCampaignEditor` для обработки кампаний.
* В `process_campaign` используется список `locales` для обработки всех комбинаций языка и валюты.
* Обработка всех кампаний (`process_all_campaigns`) перебирает кампании из каталога, генерированного функцией `get_directory_names`.
* Функция `main` предоставляет удобный интерфейс для запуска обработки из командной строки.

```
```