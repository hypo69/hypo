# Модуль `driver`

## Обзор

Этот модуль предоставляет базовый класс `DriverBase` для работы с веб-драйверами, который инкапсулирует общие методы и атрибуты, используемые различными веб-драйверами (например, Chrome, Firefox, Edge).  Он обеспечивает общие функции для взаимодействия с веб-страницей, выполнения JavaScript-кода, управления куками и т.д.  Модуль также включает метакласс `DriverMeta` для динамического создания классов веб-драйверов, наследующих функциональность `DriverBase` и конкретного драйвера (Chrome, Firefox и т.д.).

## Классы

### `DriverBase`

**Описание**: Базовый класс для веб-драйвера, содержащий общие атрибуты и методы.  Он предоставляет функциональность для взаимодействия со страницей, выполнения JavaScript, управления куками и т.д.

**Атрибуты**:

- `previous_url`: Строка, содержащая URL предыдущей страницы.
- `referrer`: Строка, содержащая URL реферера.
- `page_lang`: Строка, содержащая язык страницы.
- `ready_state`: Временно неиспользуемый атрибут (возможно, для будущих расширений).


**Методы**:

#### `driver_payload()`

**Описание**: Инициализирует необходимые объекты для работы с JavaScript и выполнением локализации.


#### `scroll(scrolls: int, frame_size: int, direction: str = 'forward', delay: float = 0.5)`

**Описание**: Прокручивает страницу в указанном направлении.

**Параметры**:

- `scrolls` (int): Количество прокруток.
- `frame_size` (int): Размер фрагмента прокрутки.
- `direction` (str, optional): Направление прокрутки ('forward' или 'backward'). По умолчанию 'forward'.
- `delay` (float, optional): Задержка между прокрутками. По умолчанию 0.5.

**Возвращает**:

- `None`

#### `locale()`

**Описание**: Определяет язык страницы.

**Возвращает**:

- `str`: Язык страницы.

#### `get_url(url: str)`

**Описание**: Переходит по указанному URL и проверяет успешность перехода.

**Параметры**:

- `url` (str): URL для перехода.

**Возвращает**:

- `bool`: `True`, если переход успешен, `False` в противном случае.

#### `extract_domain(url: str)`

**Описание**: Извлекает доменное имя из URL.

**Параметры**:

- `url` (str): URL.

**Возвращает**:

- `str`: Доменное имя.

#### `_save_cookies_localy(to_file: Union[str, Path])`

**Описание**: Сохраняет куки в файл.

**Параметры**:

- `to_file` (Union[str, Path]): Путь к файлу для сохранения куков.


#### `page_refresh()`

**Описание**: Обновляет текущую страницу.


#### `window_focus()`

**Описание**: Восстанавливает фокус на окне браузера.


#### `wait(interval: float)`

**Описание**: Ожидает указанное время.

**Параметры**:

- `interval` (float): Время ожидания в секундах.


#### `delete_driver_logs()`

**Описание**: Удаляет временные файлы и логи WebDriver.


### `DriverMeta`

**Описание**: Метакласс, который создает новый класс `Driver`, унаследованный от `DriverBase` и указанного класса веб-драйвера.

**Методы**:

#### `__call__(cls, webdriver_cls: Type, *args, **kwargs)`

**Описание**: Создает новый класс `Driver`, унаследованный от `DriverBase` и указанного веб-драйвера `webdriver_cls`.

**Параметры**:

- `webdriver_cls` (Type): Класс веб-драйвера, от которого наследуется новый класс.

**Возвращает**:

- `Driver`: Новый класс `Driver`.

### `Driver`

**Описание**: Динамически созданный класс веб-драйвера, который наследует от `DriverBase` и заданного веб-драйвера.  Для использования необходимо указать класс веб-драйвера (например, `Chrome`, `Firefox`, `Edge`) при создании объекта.

**Пример использования**:

```python
from src.webdriver.driver import Driver, Chrome

# Создание объекта для браузера Chrome
d = Driver(Chrome)
d.get_url("https://example.com")
```


## Функции

(Список функций отсутствует в предоставленном коде)

## Исключения

(Список исключений, вероятно, содержит те, что импортированы из selenium.common.exceptions)

## Зависимости

- `selenium`
- Модули, импортированные в `src` (gs, executor, javascript, utils, logger, logger.exceptions)