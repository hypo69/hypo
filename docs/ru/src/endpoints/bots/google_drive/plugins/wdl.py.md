# Модуль для скачивания файлов с использованием wget

## Обзор

Модуль содержит функцию `wget_dl`, которая используется для скачивания файлов по URL-адресу с помощью команды `wget`.

## Подробней

Данный модуль предоставляет простой способ скачивания файлов из интернета, используя утилиту `wget`. Функция `wget_dl` принимает URL файла, скачивает его и возвращает имя скачанного файла. В случае ошибки при скачивании, возвращает кортеж с сообщением об ошибке и именем файла.

## Функции

### `wget_dl`

```python
def wget_dl(url):
    """
    Скачивает файл по URL-адресу с использованием команды `wget`.

    Args:
        url (str): URL-адрес файла для скачивания.

    Returns:
        str | tuple: Имя скачанного файла или кортеж ("error", filename) в случае ошибки.
    """
```

**Как работает функция**:

1.  **Начало**: Функция принимает URL-адрес файла для скачивания.
2.  **Извлечение имени файла**: Извлекает имя файла из URL-адреса.
3.  **Выполнение команды wget**: Выполняет команду `wget` для скачивания файла.
4.  **Обработка результата**: Если скачивание прошло успешно, возвращает имя файла.
5.  **Обработка ошибок**: Если во время скачивания произошла ошибка, перехватывает исключение и возвращает кортеж `("error", filename)`.

Внутри функции происходят следующие действия и преобразования:

*   **Извлечение имени файла** (filename extraction): Извлекает имя файла из URL-адреса с помощью `os.path.basename(url)`.
*   **Выполнение команды wget** (wget execution): Выполняет команду `wget` с использованием `subprocess.check_output`.
*   **Обработка результата** (result handling): Возвращает имя файла в случае успеха или сообщение об ошибке в случае неудачи.

**Параметры**:

*   `url` (str): URL-адрес файла для скачивания.

**Возвращает**:

*   `str`: Имя скачанного файла, если скачивание прошло успешно.
*   `tuple`: Кортеж `("error", filename)`, где `filename` - имя файла, который пытались скачать, в случае ошибки.

**Вызывает исключения**:

*   `subprocess.CalledProcessError`: Если команда `wget` завершается с ненулевым кодом возврата.
*   `Exception`: В случае любой другой ошибки во время скачивания.

**Примеры**:

```python
filename = wget_dl('https://example.com/file.txt')
if filename != "error":
    print(f"Файл скачан: {filename}")
else:
    print("Ошибка при скачивании файла")