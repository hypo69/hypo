Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Модуль `hypotez/src/utils/convertors/png.py` предоставляет классы и функции для генерации изображений PNG из текстовых строк. Он использует библиотеку Pillow для обработки изображений. Модуль позволяет настраивать размер изображения, шрифт, цвета и другие параметры.  Он также включает логику обработки пустых или комментированных строк, а также проверку существования файла при сохранении.

Шаги выполнения
-------------------------
1. **Импортировать необходимые библиотеки**: Импортируются модули `Path`, `List`, `Tuple` из `pathlib`, а также классы `Image`, `ImageDraw`, `ImageFont` из библиотеки Pillow, и `logger` из модуля `src.logger` для ведения логов.

2. **Определить класс `TextToImageGenerator`**: Класс предоставляет методы для генерации изображений.

3. **Инициализировать класс `TextToImageGenerator`**: Создается экземпляр класса, при необходимости настраиваются параметры по умолчанию (размер изображения, цвета, папки).

4. **Вызвать метод `generate_images`**:  Передаются аргументы:
    - `lines`: Список строк текста, которые будут использованы для создания изображений.
    - `output_dir`: Папка для сохранения выходных изображений (по умолчанию - `./output`).
    - `font`: Шрифт для текста (по умолчанию - "sans-serif").
    - `canvas_size`: Размер холста в пикселях (по умолчанию - (1024, 1024)).
    - `padding`: Процент от размера холста для создания отступа (по умолчанию - 0.10).
    - `background_color`: Цвет фона изображения (по умолчанию - "white").
    - `text_color`: Цвет текста (по умолчанию - "black").
    - `log_level`: Уровень ведения логов (по умолчанию - "WARNING").
    - `clobber`: Флаг, определяющий перезаписывает ли существующие файлы (по умолчанию - False).

5. **Обработка результата**:  Метод возвращает список путей к сгенерированным изображениям PNG.

6. **Внутри `generate_images`:**
    - Для каждой строки в списке `lines` создается изображение PNG с помощью метода `generate_png`.
    - Изображение сохраняется в заданной папке с именем, соответствующим строке.
    - Если файл с таким именем уже существует и параметр `clobber` не установлен, то генерируется предупреждение в лог, и строка пропускается.

7. **Метод `generate_png`**:
    - Создает изображение с заданным размером и цветом фона.
    - Вычисляет позицию для центрирования текста.
    - Рисует текст на изображении с заданными параметрами шрифта и цвета.
    - Возвращает созданное изображение.

8. **Метод `center_text_position`**:
    - Вычисляет координаты для центрирования текста на холсте.
    - Возвращает координаты (x, y).

9. **Функция `webp2png`**:
    - Преобразует изображение в формате WEBP в PNG.
    - Возвращает `True`, если конвертация прошла успешно, иначе `None` или выводит сообщение об ошибке.


Пример использования
-------------------------
.. code-block:: python

    from hypotez.src.utils.convertors.png import TextToImageGenerator

    generator = TextToImageGenerator()
    lines = ["Пример текста 1", "Пример текста 2"]
    output_dir = "./output_images"
    images = generator.generate_images(lines, output_dir=output_dir, font='arial.ttf')  # Используем конкретный шрифт
    print(images)