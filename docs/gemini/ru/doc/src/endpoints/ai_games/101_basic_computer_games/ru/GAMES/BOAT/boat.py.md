# Модуль BOAT

## Обзор

Модуль представляет собой текстовую реализацию игры "Морской бой", в которой игрок пытается потопить корабль компьютера, угадывая его координаты на поле 8x8.

## Содержание

- [Обзор](#обзор)
- [Функции](#функции)
    - [`place_ship`](#place_ship)
- [Игровой цикл](#игровой-цикл)
- [Объяснение кода](#объяснение-кода)

## Функции

### `place_ship`

**Описание**: Размещает корабль на игровом поле случайным образом, выбирая случайное направление (горизонтальное или вертикальное) и координаты начала. Корабль занимает три последовательные клетки.

**Параметры**:
- Нет параметров.

**Возвращает**:
- Нет возвращаемого значения.

## Игровой цикл

**Описание**: Основной цикл игры, который продолжается, пока корабль не будет потоплен. Включает в себя вывод текущего состояния игрового поля, запрос координат выстрела у игрока, проверку попадания, промаха или повторного попадания, и проверку, потоплен ли корабль.

**Параметры**:
- Нет параметров.

**Возвращает**:
- Нет возвращаемого значения.

## Объяснение кода

1.  **Импорт модуля `random`**:
    -   `import random`: Импортирует модуль `random`, который используется для генерации случайных чисел.

2.  **Инициализация игрового поля**:
    -   `board = [[0 for _ in range(8)] for _ in range(8)]`: Создает двумерный список (матрицу) размером 8x8, представляющий игровое поле, и заполняет его нулями.

3.  **Функция `place_ship()`**:
    -   `direction = random.randint(0, 1)`: Случайно выбирает направление корабля: 0 - горизонтальное, 1 - вертикальное.
    -   **Горизонтальное размещение**:
        -   `row = random.randint(0, 7)`: Выбирает случайный ряд для начала корабля.
        -   `col = random.randint(0, 4)`: Выбирает случайный столбец для начала корабля, учитывая длину корабля, чтобы он не выходил за границы.
        -   `for i in range(3): board[row][col + i] = 1`: Размещает корабль, присваивая значение 1 трем клеткам в выбранном ряду.
    -   **Вертикальное размещение**:
        -   `row = random.randint(0, 4)`: Выбирает случайный ряд для начала корабля, учитывая длину корабля, чтобы он не выходил за границы.
        -   `col = random.randint(0, 7)`: Выбирает случайный столбец для начала корабля.
        -   `for i in range(3): board[row + i][col] = 1`: Размещает корабль, присваивая значение 1 трем клеткам в выбранном столбце.

4.  **Вызов функции `place_ship()`**:
    -   `place_ship()`: Вызывает функцию для размещения корабля на поле.

5.  **Основной игровой цикл `while True:`**:
    -   Бесконечный цикл, который продолжается до тех пор, пока корабль не будет потоплен.
    -   **Вывод игрового поля**:
        -   `for row in board: print(" ".join(map(str, row)))`: Выводит текущее состояние игрового поля в консоль.
    -   **Ввод координат**:
        -   `try...except ValueError`: Блок try-except обрабатывает возможные ошибки ввода. Если пользователь введет неверный формат, будет выведено сообщение об ошибке.
        -   `coordinates = input("Введите координаты выстрела (ряд, столбец): ")`: Запрашивает ввод координат у игрока в формате "ряд,столбец".
        -   `row, col = map(int, coordinates.split(','))`: Разделяет введенную строку на ряд и столбец и преобразует их в целые числа.
        -   `if not (0 <= row <= 7 and 0 <= col <= 7):`: Проверяет, находятся ли введенные координаты в допустимых пределах игрового поля.
    -   **Проверка попадания**:
        -   `if board[row][col] == 1:`: Проверяет, есть ли корабль в клетке, в которую стрелял игрок.
        -   `print("Попал!")`: Выводит сообщение о попадании.
        -   `board[row][col] = 2`: Отмечает клетку как "попал", чтобы не учитывать повторные попадания.
        -   **Проверка, потоплен ли корабль:**
           - `ship_sunk = True`:  Устанавливает флаг `ship_sunk` в `True`, предполагая, что корабль потоплен.
           -  `for row_b in board:`:  Проходит по всем строкам игрового поля.
           - `if 1 in row_b:`: Если в какой-либо строке есть клетка со значением `1`, то корабль еще не потоплен.
           - `ship_sunk = False`: В этом случае флаг `ship_sunk` сбрасывается в `False`.
           - `if ship_sunk: print("Корабль потоплен! Вы выиграли!"); break`: Если флаг остается `True`, то корабль потоплен, и выводится сообщение о победе и игра завершается.
    -   **Проверка промаха**:
        -   `elif board[row][col] == 0:`: Проверяет, является ли выстрел промахом.
        -   `print("Мимо!")`: Выводит сообщение о промахе.
    -   **Обработка повторного попадания**:
        -  `elif board[row][col] == 2:`: Проверяет, стрелял ли игрок ранее в эту клетку.
        -  `print("Вы уже стреляли в эту клетку. Попробуйте другую.")`: Выводит сообщение о том, что игрок уже стрелял в эту клетку.