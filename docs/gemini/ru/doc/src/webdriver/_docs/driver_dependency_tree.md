# Модуль `src.webdriver.driver`

## Обзор

Данный модуль предоставляет базовый класс для управления веб-драйверами.  Он предоставляет общие методы для работы с веб-страницей, включая взаимодействие с элементами, навигацию, обработку исключений, и управление языком страницы.  Модуль использует Selenium для управления браузерами.

## Оглавление

- [Модуль `src.webdriver.driver`](#модуль-srcwebdriverdriver)
- [Базовый класс `DriverBase`](#базовый-класс-driverbase)
- [Методы `DriverBase`](#методы-driverbase)
- [Метакласс `DriverMeta`](#метакласс-drivermeta)
- [Класс `Driver`](#класс-driver)


## Базовый класс `DriverBase`

**Описание**: Базовый класс для управления веб-драйверами. Определяет общие методы для работы с веб-страницей.

**Атрибуты**:

- `previous_url: str`: Предыдущий URL страницы.
- `referrer: str`:  Ссылка, с которой произошел переход на текущую страницу.
- `page_lang: str`: Язык страницы.
- `ready_state`: Готовность страницы.
- `get_page_lang()`: Возвращает язык страницы.
- `unhide_DOM_element()`: Развертывает скрытые элементы в DOM.
- `get_referrer()`: Возвращает referrer текущей страницы.
- `window_focus()`:  Приводит окно браузера в фокус.
- `execute_locator()`: Выполняет локализованные запросы.
- `click()`: Выполняет клик на элементе.
- `get_webelement_as_screenshot()`: Возвращает скриншот элемента.
- `get_attribute_by_locator()`: Возвращает атрибут элемента по локатору.
- `send_message()`: Отправляет сообщение.
- `send_key_to_webelement()`: Отправляет нажатия клавиш на элемент.


**Методы**:

### `driver_payload(self)`

**Описание**:  Метод для получения данных о сессии драйвера.

### `scroll(self, scrolls: int, frame_size: int, direction: str, delay: float) -> None | bool`

**Описание**: Метод для прокрутки страницы.

**Параметры**:
- `scrolls` (int): Количество прокруток.
- `frame_size` (int): Размер кадра.
- `direction` (str): Направление прокрутки (например, "up", "down").
- `delay` (float): Задержка между прокрутками.

**Возвращает**:
- `None | bool`:  Возвращает `None` при успешной прокрутке, иначе возвращает `bool` значения true/false.

### `locale(self) -> None | str`

**Описание**:  Метод для получения текущего языка страницы.

**Возвращает**:
- `None | str`: Возвращает язык страницы или `None`, если не удалось определить.

### `get_url(self, url: str) -> bool`

**Описание**:  Метод для перехода на заданную страницу.

**Параметры**:
- `url` (str): URL страницы для перехода.


**Возвращает**:
- `bool`: Возвращает `True` если переход успешен, иначе `False`.

### `extract_domain(self, url: str) -> str`

**Описание**: Метод для извлечения домена из URL.

**Параметры**:
- `url` (str): URL.

**Возвращает**:
- `str`: Домен.

### `_save_cookies_localy(self, to_file: str | Path) -> bool`

**Описание**: Метод для сохранения кукис в локальный файл.

**Параметры**:
- `to_file` (str | Path): Путь к файлу для сохранения кукис.

**Возвращает**:
- `bool`: `True` при успешном сохранении, `False` иначе.


### `page_refresh(self) -> bool`

**Описание**: Метод для перезагрузки страницы.

**Возвращает**:
- `bool`: `True` если перезагрузка успешна, иначе `False`.

### `wait(self, interval: float)`

**Описание**: Метод для ожидания определенного интервала времени.

**Параметры**:
- `interval` (float): Интервал ожидания.


### `delete_driver_logs(self) -> bool`

**Описание**: Метод для удаления логов драйвера.

**Возвращает**:
- `bool`: `True` если лог удален, иначе `False`.



## Метакласс `DriverMeta`

**Описание**: Метакласс для создания классов веб-драйверов.  Он позволяет вызывать конструктор родительского класса, сохраняя гибкость при создании дочерних классов.

**Методы**:

### `__call__(cls, webdriver_cls, *args, **kwargs)`

**Описание**:  Метод вызывается при создании экземпляра класса веб-драйвера.

**Параметры**:
- `webdriver_cls`:  Класс веб-драйвера (например, `Chrome`, `Firefox`).
- `*args`, `**kwargs`:  Аргументы и ключевые аргументы для создания экземпляра.

**Возвращает**: Экземпляр `Driver`


## Класс `Driver`

**Описание**: Класс для работы с веб-драйверами.  Используется для инициализации, управления и взаимодействия с браузером.


**Использование**:
```python
from src.webdriver import Driver, Chrome
d = Driver(Chrome)
```


```
```