# Модуль hypotez/src/utils/image.py

## Обзор

Модуль `image.py` предоставляет асинхронные функции для загрузки, сохранения и извлечения данных изображений.  Он предназначен для работы с изображениями в формате PNG, включая загрузку изображений по URL и сохранение изображений из байтовых данных.

## Функции

### `save_png_from_url`

**Описание**: Асинхронно загружает изображение по указанному URL и сохраняет его в локальный файл.

**Параметры**:

- `image_url` (str): URL изображения для загрузки.
- `filename` (str | Path): Имя файла, в который будет сохранено изображение.

**Возвращает**:

- `str | None`: Путь к сохраненному файлу или `None`, если операция завершилась неудачно.

**Обрабатывает исключения**:

- `Exception`: Возникает при ошибках во время загрузки изображения (например, проблемы с подключением к сети, неверный URL).  Подробная информация об ошибке записывается в лог.


### `save_png`

**Описание**: Асинхронно сохраняет изображение из предоставленных байтовых данных в формате PNG.

**Параметры**:

- `image_data` (bytes): Байтовые данные изображения.
- `file_name` (str | Path): Имя файла, в который будет сохранено изображение.


**Возвращает**:

- `str | None`: Путь к сохраненному файлу или `None`, если операция завершилась неудачно.

**Обрабатывает исключения**:

- `Exception`: Возникает при ошибках во время сохранения файла (например, проблемы с доступом к диску, недостаточно памяти). Подробная информация об ошибке записывается в лог.  Обращается особое внимание к проверке существования файла и его размера после сохранения для исключения потенциальных проблем.



### `get_image_data`

**Описание**: Возвращает байтовые данные файла, если он существует.

**Параметры**:

- `file_name` (str | Path): Имя файла для чтения.

**Возвращает**:

- `bytes | None`: Байтовые данные файла, если он существует, или `None`, если файл не найден или произошла ошибка.

**Обрабатывает исключения**:

- `Exception`: Возникает при ошибках во время чтения файла (например, файл не найден, проблемы с доступом к файлу, неподдерживаемый формат).  Подробная информация об ошибке записывается в лог.


## Постоянные значения

### MODE

**Описание**: Константа, определяющая режим работы (в данном случае, 'dev').


```