# Модуль `utils.py`

## Обзор

Модуль `utils.py` содержит класс `Utils`, предназначенный для извлечения cookies из различных браузеров. Он предоставляет функциональность для автоматического поиска и получения cookies определенного домена, а также позволяет фильтровать cookies по имени и указывать конкретный браузер для поиска.

## Подробней

Этот модуль используется для получения cookies, необходимых для авторизации и выполнения запросов к веб-сайтам. Он может быть полезен для автоматизации задач, требующих авторизации, таких как парсинг данных, тестирование и т.д.  В проекте `hypotez` этот модуль может использоваться для автоматического сбора необходимых cookies для доступа к различным веб-сервисам, используемым в тестах или для других целей. Модуль пытается получить куки из различных браузеров, установленных в системе, и возвращает их в формате словаря.

## Классы

### `Utils`

**Описание**: Класс `Utils` предоставляет методы для получения cookies из различных браузеров.

**Принцип работы**:

1.  Класс определяет список поддерживаемых браузеров (`browsers`), используя модуль `browser_cookie3`.
2.  Метод `get_cookies` позволяет получить cookies для указанного домена из всех или конкретного браузера.
3.  В случае указания имени cookie (`setName`), метод возвращает только этот cookie.

**Методы**:

*   `get_cookies(domain: str, setName: str = None, setBrowser: str = False) -> dict`

    Получает cookies для указанного домена из различных браузеров.

    **Параметры**:

    *   `domain` (str): Домен, для которого необходимо получить cookies.
    *   `setName` (str, optional): Имя cookie, который необходимо получить. По умолчанию `None`.
    *   `setBrowser` (str, optional): Название браузера, из которого необходимо получить cookies. По умолчанию `False`.

    **Возвращает**:

    *   `dict`: Словарь, содержащий cookies, где ключ - имя cookie, а значение - его значение.

    **Как работает функция**:

    1.  Инициализирует пустой словарь `cookies` для хранения полученных cookies.
    2.  Проверяет, указан ли конкретный браузер для поиска (`setBrowser`).

        *   Если `setBrowser` указан, перебирает список поддерживаемых браузеров и ищет браузер с именем, совпадающим с `setBrowser`.
        *   Если `setBrowser` не указан, перебирает все браузеры в списке `Utils.browsers`.
    3.  Для каждого браузера пытается получить cookies для указанного домена, используя `browser_cookie3`.
    4.  Перебирает полученные cookies и добавляет их в словарь `cookies`, если cookie с таким именем еще не существует.
    5.  Если указано имя cookie (`setName`), пытается вернуть только этот cookie из словаря `cookies`.

        *   Если cookie с указанным именем не найден, выводит сообщение об ошибке и завершает программу.
    6.  Если имя cookie не указано, возвращает весь словарь `cookies`.

    **Примеры**:

    ```python
    from src.endpoints.freegpt_webui_ru.g4f.utils import Utils
    
    # Получение всех cookies для домена "example.com"
    cookies = Utils.get_cookies("example.com")
    print(cookies)
    
    # Получение cookie с именем "session_id" для домена "example.com"
    session_id = Utils.get_cookies("example.com", setName="session_id")
    print(session_id)
    
    # Получение cookies из браузера Chrome для домена "example.com"
    chrome_cookies = Utils.get_cookies("example.com", setBrowser="chrome")
    print(chrome_cookies)
    ```