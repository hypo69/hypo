# Анализ кода модуля 3d_plot

**Качество кода**
8
- Плюсы
    - Код выполняет поставленную задачу: строит трехмерный график функции Z = X² - Y², перебирая значения X и Y в заданных диапазонах с заданными приращениями.
    - Присутствует обработка исключений `ValueError` при некорректном вводе данных.
    - Код достаточно прост и читаем, с понятной структурой циклов и вычислений.
- Минусы
    - Отсутствует документация в формате reStructuredText (RST), что затрудняет понимание кода без детального анализа.
    - Не используется логирование ошибок с помощью `logger.error`.
    - Код не соответствует требованиям к оформлению, например, отсутствуют docstring у модуля.
    - Присутствует избыточное использование стандартного блока `try-except`.
    - Нет проверки на то что бы приращение было больше нуля.

**Рекомендации по улучшению**

1.  Добавить reStructuredText (RST) документацию для модуля и всех функций.
2.  Использовать `from src.logger.logger import logger` для логирования ошибок вместо стандартного `print`.
3.  Удалить избыточный блок `try-except` и заменить его на более элегантное решение с логированием.
4.  Добавить проверку что бы приращение было больше нуля.
5.  Перенести все строки ввода в отдельную функцию, для структурирования кода.

**Оптимизированный код**

```python
"""
Модуль для построения трехмерного графика функции Z = X^2 - Y^2.
=============================================================

Этот модуль позволяет пользователю задавать диапазоны и приращения для X и Y,
затем вычисляет и отображает значения Z в соответствии с функцией Z = X^2 - Y^2.

Пример использования
--------------------

Запустите скрипт, и он запросит минимальные и максимальные значения для X и Y,
а также приращения для каждого из них. После ввода данных программа выведет
координаты X, Y и вычисленные значения Z.

.. code-block:: python

   python 3d_plot.py
"""



from src.logger.logger import logger # импортируем logger

def get_user_input() -> tuple[float, float, float, float, float, float]:
    """
    Запрашивает у пользователя минимальные и максимальные значения для X и Y,
    а также приращения для X и Y.

    :return: Кортеж из шести чисел с плавающей точкой: Xmin, Xmax, Xincrement, Ymin, Ymax, Yincrement.
    :raises ValueError: Если пользователь введет некорректные данные.
    """
    try:
        #  Запрос и преобразование ввода для минимального значения X
        Xmin = float(input("Введите минимальное значение X: "))
        #  Запрос и преобразование ввода для максимального значения X
        Xmax = float(input("Введите максимальное значение X: "))
        # Запрос и преобразование ввода для приращения X
        Xincrement = float(input("Введите приращение для X: "))
        #  Запрос и преобразование ввода для минимального значения Y
        Ymin = float(input("Введите минимальное значение Y: "))
        # Запрос и преобразование ввода для максимального значения Y
        Ymax = float(input("Введите максимальное значение Y: "))
         # Запрос и преобразование ввода для приращения Y
        Yincrement = float(input("Введите приращение для Y: "))

        if Xincrement <= 0 or Yincrement <= 0:
            logger.error('Значение приращения должно быть больше нуля')
            raise ValueError('Значение приращения должно быть больше нуля')

        return Xmin, Xmax, Xincrement, Ymin, Ymax, Yincrement
    except ValueError as e:
        logger.error(f"Ошибка ввода: {e}")
        exit()
    
def calculate_and_print_3d_plot(xmin: float, xmax: float, xincrement: float, ymin: float, ymax: float, yincrement: float):
    """
    Выполняет расчет и вывод 3D графика функции Z = X^2 - Y^2 на основе введенных данных.

    :param xmin: Минимальное значение для X.
    :param xmax: Максимальное значение для X.
    :param xincrement: Приращение для X.
    :param ymin: Минимальное значение для Y.
    :param ymax: Максимальное значение для Y.
    :param yincrement: Приращение для Y.
    """
    # Инициализация X начальным значением Xmin
    X = xmin
    # Внешний цикл по X, который выполняется, пока X не превысит Xmax
    while X <= xmax:
        # Инициализация Y начальным значением Ymin для каждой итерации внешнего цикла
        Y = ymin
        # Внутренний цикл по Y, который выполняется, пока Y не превысит Ymax
        while Y <= ymax:
            # Вычисление значения Z по формуле Z = X*X - Y*Y
            Z = X * X - Y * Y
             # Вывод координат X, Y и значения Z
            print(f"X: {X}, Y: {Y}, Z: {Z}")
             # Увеличение Y на заданное приращение
            Y += yincrement
        # Увеличение X на заданное приращение
        X += xincrement


if __name__ == "__main__":
    # получение пользовательского ввода
    Xmin, Xmax, Xincrement, Ymin, Ymax, Yincrement = get_user_input()
    # расчет и вывод графика
    calculate_and_print_3d_plot(Xmin, Xmax, Xincrement, Ymin, Ymax, Yincrement)
```