# Игра "Хаммурапи"

## Обзор

Этот модуль реализует текстовую экономическую игру "Хаммурапи", в которой игрок управляет древним городом, принимая решения о покупке и продаже земли, посеве зерна, распределении ресурсов и кормлении населения. Цель игры - выжить и процветать в течение 10 лет, избегая голода и разорения.

## Содержание

1. [Инициализация переменных](#инициализация-переменных)
2. [Основной игровой цикл](#основной-игровой-цикл)
3. [Определение цены земли](#определение-цены-земли)
4. [Ввод количества земли для торговли](#ввод-количества-земли-для-торговли)
5. [Проверка достаточности ресурсов для торговли](#проверка-достаточности-ресурсов-для-торговли)
6. [Обновление количества земли и зерна](#обновление-количества-земли-и-зерна)
7. [Ввод количества зерна для посева](#ввод-количества-зерна-для-посева)
8. [Проверка достаточности зерна для посева](#проверка-достаточности-зерна-для-посева)
9. [Вычисление урожая](#вычисление-урожая)
10. [Расчет ущерба от крыс](#расчет-ущерба-от-крыс)
11. [Ввод количества зерна для пропитания](#ввод-количества-зерна-для-пропитания)
12. [Проверка достаточности зерна для пропитания](#проверка-достаточности-зерна-для-пропитания)
13. [Увеличение года](#увеличение-года)
14. [Завершение игры](#завершение-игры)

## Инициализация переменных

Начало игры, инициализация основных переменных: год, население, запасы зерна и площадь земли.

```python
year = 0          # текущий год
population = 100  # начальное население
grain = 2800      # начальное количество зерна
land = 1000       # начальная площадь земли

print("Добро пожаловать в игру Хаммурапи!")
```

## Основной игровой цикл

Основной игровой цикл, который выполняется пока не пройдет 10 лет или пока все население не вымрет. Внутри цикла выводятся текущие параметры игры.

```python
while year < 10 and population > 0:
    print(f"\nГод {year + 1}")
    print(f"Население: {population}")
    print(f"Зерно: {grain} бушелей")
    print(f"Земля: {land} акров")
```

## Определение цены земли

Вычисляется случайная цена земли в диапазоне от 15 до 25 бушелей за акр.

```python
land_price = random.randint(15, 25)
print(f"Цена земли: {land_price} бушелей за акр")
```

## Ввод количества земли для торговли

Запрашивает у игрока количество земли для покупки или продажи.

```python
while True:
    try:
        land_trade = int(input("Сколько земли купить (+) или продать (-)? "))
        break
    except ValueError:
        print("Пожалуйста, введите целое число.")
```

## Проверка достаточности ресурсов для торговли

Проверяет, достаточно ли у игрока зерна для покупки земли или земли для продажи. Если нет, запрашивает ввод повторно.

```python
while True:
    if land_trade > 0 and grain < land_trade * land_price:
        print("Недостаточно зерна для покупки земли.")
        try:
            land_trade = int(input("Сколько земли купить (+) или продать (-)? "))
        except ValueError:
            print("Пожалуйста, введите целое число.")
            continue
    elif land_trade < 0 and land < abs(land_trade):
        print("Недостаточно земли для продажи.")
        try:
            land_trade = int(input("Сколько земли купить (+) или продать (-)? "))
        except ValueError:
             print("Пожалуйста, введите целое число.")
             continue
    else:
        break
```

## Обновление количества земли и зерна

Обновляет количество земли и зерна в соответствии с решением игрока о покупке или продаже.

```python
land += land_trade
grain -= land_trade * land_price
```

## Ввод количества зерна для посева

Запрашивает у игрока количество зерна, которое нужно использовать для посева.

```python
while True:
    try:
        grain_to_plant = int(input("Сколько зерна использовать для посева? "))
        break
    except ValueError:
        print("Пожалуйста, введите целое число.")
```

## Проверка достаточности зерна для посева

Проверяет, достаточно ли зерна для посева. Если нет, запрашивает ввод повторно.

```python
while True:
    if grain < grain_to_plant:
        print("Недостаточно зерна для посева.")
        try:
            grain_to_plant = int(input("Сколько зерна использовать для посева? "))
        except ValueError:
            print("Пожалуйста, введите целое число.")
            continue
    else:
        break
```

## Вычисление урожая

Вычисляет случайный урожай от 1 до 8 бушелей на акр и добавляет его к запасам зерна.

```python
yield_per_acre = random.randint(1, 8)
harvest = grain_to_plant * yield_per_acre
grain += harvest
```

## Расчет ущерба от крыс

Вычисляет количество зерна, съеденного крысами (от 0 до 10% от общего количества зерна) и уменьшает запасы зерна.

```python
rats_damage = int(random.random() * 0.1 * grain)
grain -= rats_damage
print(f"Крысы съели {rats_damage} бушелей зерна.")
```

## Ввод количества зерна для пропитания

Запрашивает у игрока количество зерна, которое нужно отдать на пропитание населения.

```python
while True:
    try:
        grain_to_feed = int(input("Сколько зерна отдать на пропитание? "))
        break
    except ValueError:
        print("Пожалуйста, введите целое число.")
```

## Проверка достаточности зерна для пропитания

Проверяет, достаточно ли зерна для пропитания всего населения. Если достаточно, увеличивает население на 10%, но не более 1000. Если нет, рассчитывает количество умерших от голода и уменьшает население.

```python
if grain_to_feed >= population:
    population = min(1000, int(population * 1.1))
    grain -= grain_to_feed
    print("Все сыты, население растёт!")
else:
    starved = int(population * (1 - grain_to_feed / population ))
    population -= starved
    grain -= grain_to_feed
    print(f"{starved} человек умерло от голода.")
    if population <= 0:
        print("Вы проиграли, все население вымерло от голода!")
```

## Увеличение года

Увеличивает текущий год на 1.

```python
year += 1
```

## Завершение игры

Проверяет, истек ли срок игры (10 лет) и выводит сообщение о завершении игры.

```python
if year == 10:
    print("Игра окончена. Прошло 10 лет.")
```