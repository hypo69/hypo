# Модуль `hypotez/src/utils/autodoc.py`

## Обзор

Модуль `autodoc` содержит декоратор `autodoc`, который динамически обновляет строку документации (`docstring`) функции, добавляя информацию о времени последнего вызова.  Это полезно для отслеживания активности функции в ходе выполнения программы.

## Декоратор `autodoc`

### `autodoc(func)`

**Описание**: Декоратор, который автоматически обновляет docstring функции перед ее вызовом, добавляя в него время последнего вызова.

**Использование**:

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции."""
    print(f"Processing {param1} and {param2}")
```

**Функциональность**: Декоратор `autodoc` оборачивает функцию, вызывая внутреннюю функцию `wrapper`.  `wrapper` обновляет docstring функции перед вызовом исходной функции `func` с помощью функции `update_docstring`.


## Функция `update_docstring(func)`

**Описание**: Внутренняя функция, обновляющая docstring функции.

**Аргументы**:

- `func` (функция): Функция, docstring которой нужно обновить.

**Функциональность**:
Функция получает текущую дату и время с помощью `time.strftime` и добавляет их в docstring функции. Если docstring отсутствует, то создаётся новый docstring.


## Функция `example_function`

### `example_function(param1: int, param2: str) -> None`

**Описание**: Примерная функция, которая демонстрирует использование декоратора `autodoc`.


**Параметры**:

- `param1` (int): Первое значение.
- `param2` (str): Второе значение.


**Возвращает**:

- `None`: Функция не возвращает значение.

**Обрабатываемые исключения**:
- Нет.


## Примеры использования

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции."""
    print(f"Processing {param1} and {param2}")

example_function(1, "test")
print(example_function.__doc__)  # Вывод обновленного docstring
example_function(2, "another test")
print(example_function.__doc__)  # Вывод обновленного docstring
```

В примере показано использование декоратора для функции `example_function`. Каждый раз при вызове функции ее docstring обновляется с текущим временем.

```
#Пример вывода в консоль
Пример функции.

Last called at: 2024-08-29 10:35:00

Пример функции.

Last called at: 2024-08-29 10:35:00
```

Результат показывает, что docstring обновляется с добавлением информации о времени последнего вызова.
```