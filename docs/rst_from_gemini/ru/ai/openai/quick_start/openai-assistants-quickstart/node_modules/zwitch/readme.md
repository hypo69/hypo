```markdown
# zwitch

[![Build Status](https://github.com/wooorm/zwitch/actions/workflows/main.yml/badge.svg)](https://github.com/wooorm/zwitch/actions/workflows/main.yml)
[![Coverage Status](https://codecov.io/gh/wooorm/zwitch/branch/main/graph/badge.svg)](https://codecov.io/gh/wooorm/zwitch)
[![Downloads](https://img.shields.io/npm/dm/zwitch.svg)](https://www.npmjs.com/package/zwitch)
[![Size](https://img.shields.io/bundlephobia/minzip/zwitch.svg)](https://bundlephobia.com/result?p=zwitch)

Handle values based on a field.  This tiny package provides a concise and extensible way to handle values based on a specific key, mimicking a `switch` statement but with greater flexibility.

## Contents

* [What is this?](#what-is-this)
* [When should I use this?](#when-should-i-use-this)
* [Installation](#installation)
* [Usage](#usage)
* [API](#api)
    * [`zwitch(key[, options])`](#zwitchkey-options)
    * [`one(value[, rest...])`](#onevalue-rest)
    * [`handler(value[, rest...])`](#function-handler)
* [Types](#types)
* [Compatibility](#compatibility)
* [Related](#related)
* [Contributing](#contributing)
* [Security](#security)
* [License](#license)

## What is this?

This package provides a convenient way to dispatch to different handlers based on a specific key within an object.  It's especially useful for transforming data structures or performing conditional logic on objects.

## When should I use this?

`zwitch` is beneficial when you need to perform different actions based on a key within a potentially complex object.  The approach leverages a `switch`-like structure while offering more flexibility and a cleaner alternative to verbose `if-else if-else` chains, especially during data transformations.

## Installation

This package is ESM-only.

**Node.js (version 14.14+, 16.0+)**

```bash
npm install zwitch
```

**Deno**

```typescript
import { zwitch } from 'https://esm.sh/zwitch@2';
```

**Browsers (using ESM.sh)**

```html
<script type="module">
  import { zwitch } from 'https://esm.sh/zwitch@2?bundle';
</script>
```

## Usage

```javascript
import { zwitch } from 'zwitch';

const handle = zwitch('type', {
  invalid: () => console.log('Invalid value'),
  unknown: () => console.log('Unknown type'),
  handlers: {
    alpha: () => console.log('Type is alpha'),
    beta: () => console.log('Type is beta')
  }
});

handle({ type: 'alpha' }); // Output: Type is alpha
handle({ type: 'beta' }); // Output: Type is beta
handle({ type: 'gamma' }); // Output: Unknown type
handle(42); // Output: Invalid value
```

## API

### `zwitch(key[, options])`

Creates a switch function based on a given `key`.

#### Options

*   `options.handlers`: A map of handlers keyed by the expected value of the `key` (e.g., `{alpha: handleAlpha, beta: handleBeta}`).
*   `options.unknown`: A handler function to be called if the value of `key` is not found in `handlers`.
*   `options.invalid`: A handler function to be called if the input value is not an object or doesn't have a key property.

#### Returns

A function (`one`) that handles the input value according to the `key`.

### `one(value[, rest...])`

Handles a single value based on the bound key.

#### Arguments

*   `value`: The value to handle.
*   `rest...`: Additional arguments to pass to the selected handler.

#### Returns

The result returned by the handler function.

### `handler(value[, rest...])`

A handler function that will receive the input value and optional additional arguments.

## Types

This package is fully typed with TypeScript. See the source code for type definitions.

## Compatibility

Compatible with Node.js 14.14+ and 16.0+, Deno, and modern browsers.

## Related

*   [`mapz`](https://github.com/wooorm/mapz): Functional mapping library.

## Contributing

Contributions welcome! See the [contributing guide](CONTRIBUTING.md).

## Security

This package is designed to be secure.

## License

[MIT License](LICENSE) Â© [Titus Wormer](https://wooorm.com)
```