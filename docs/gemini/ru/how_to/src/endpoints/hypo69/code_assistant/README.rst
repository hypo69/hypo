Как использовать этот блок кода
========================================================================================

Описание
-------------------------
Этот код представляет собой скрипт `assistant.py`, который взаимодействует с моделями Gemini и OpenAI для обработки кода Python и README файлов. Он может создавать документацию, проверять код и генерировать тесты. Скрипт принимает различные параметры командной строки для настройки поведения, например, выбор роли (doc_writer, code_checker), языка, моделей и директорий для обработки.

Шаги выполнения
-------------------------
1. **Установка зависимостей**: Убедитесь, что у вас установлены необходимые библиотеки, такие как API Gemini и OpenAI.

2. **Подготовка данных**: Создайте директории с кодом Python и README файлами, которые вы хотите обработать.

3. **Настройка параметров**: Создайте файл `settings.json` (или используйте параметры командной строки) с настройками:
    - `roles`: список ролей, которые будут использоваться.
    - `models`: список моделей (Gemini, OpenAI).
    - `lang`: язык обработки.
    - `start_dirs`: список директорий, которые нужно обработать.
    - `exclude_file_patterns`, `exclude_dirs`, `exclude_files`: для исключения файлов и директорий.

4. **Запуск скрипта с параметрами**: Используйте `python assistant.py` с соответствующими параметрами командной строки:
    - `--settings <путь к файлу settings.json>`: для использования настроек из файла.
    - `--role <роль>`: например, `doc_writer` или `code_checker`.
    - `--lang <язык>`: например, `ru` или `en`.
    - `--models <модели>`: например, `gemini`, `openai` или `gemini openai`.
    - `--start_dirs <директории>`: список директорий для обработки.


5. **Обработка кода**: Скрипт прочитает указанные файлы, сформирует запросы для моделей, получит ответы и сохранит результаты в соответствующие директории.

6. **Проверка результатов**: Проверьте созданные файлы в директориях, указанных в настройках.


Пример использования
-------------------------
.. code-block:: bash

    # Запуск с настройками из settings.json
    python assistant.py --settings settings.json

.. code-block:: bash

    # Запуск с явным указанием параметров
    python assistant.py --role doc_writer --lang ru --models gemini openai --start_dirs /path/to/dir1 /path/to/dir2

.. code-block:: bash

    # Пример для роли code_checker
    python assistant.py --role code_checker --lang en --models gemini --start_dirs /path/to/dir