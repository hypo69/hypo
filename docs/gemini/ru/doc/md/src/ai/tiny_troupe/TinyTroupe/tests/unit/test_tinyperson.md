# Модуль `test_tinyperson.py`

## Обзор

Этот модуль содержит тесты для класса `TinyPerson` из пакета `tinytroupe`.  Тесты проверяют корректность работы основных методов агентов, таких как `listen`, `act`, `define`, `define_several`, `socialize`, `see`, `think`, `internalize_goal`, `move_to`, `change_context` и `save_spec`.  В тестах используется создание экземпляров агентов `Oscar` и `Lisa` для проверки.


## Функции

### `test_act`

**Описание**: Тестирует метод `listen_and_act` агентов. Проверяет, что агенты возвращают список действий, содержащий хотя бы одно действие `TALK` и действие `DONE`.

**Параметры**:

- `setup`:  Набор параметров для настройки.


**Вызывает исключения**:

- `AssertionError`: Возникает, если агенты не возвращают требуемые типы действий или количество действий не соответствует ожидаемому.


### `test_listen`

**Описание**: Тестирует метод `listen` агентов. Проверяет, что агенты принимают и сохраняют входные данные в списке текущих сообщений (`current_messages`).

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`: Возникает, если агенты не сохраняют полученные сообщения в списке текущих сообщений, или если тип или содержание сохранённых сообщений не соответствуют ожиданиям.


### `test_define`

**Описание**: Тестирует метод `define` для изменения конфигурации агента. Проверяет корректность изменения значения в конфигурации и корректность изменения prompt.

**Параметры**:

- `setup`: Набор параметров для настройки.


**Вызывает исключения**:

- `AssertionError`: Возникает, если значение не изменяется в конфигурации агента или если prompt не изменяется как ожидалось.


### `test_define_several`

**Описание**:  Тестирует метод `define_several` для одновременного изменения нескольких значений в конфигурации агента.

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`:  Возникает, если значения не добавляются в конфигурацию `_configuration` или если в prompt не отражается обновление.


### `test_socialize`

**Описание**: Проверяет работу метода `make_agent_accessible` и `act` для взаимодействия агентов. Проверяет, что после вызова `socialize`, агенты взаимодействуют друг с другом.

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`:  Возникает, если агенты не взаимодействуют или не упоминают друг друга в своих действиях.


### `test_see`

**Описание**: Проверяет реакцию агентов на визуальные стимулы (метод `see`).

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`:  Возникает, если агенты не обрабатывают визуальные стимулы или не генерируют действия типа "THINK" или не упоминают указанный стимул в действиях.


### `test_think`

**Описание**: Проверяет реакцию агентов на мыслительные стимулы (метод `think`).

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`: Возникает, если агенты не реагируют на мысли, или не генерируют действия типа "TALK", или не упоминают указанный в стимуле объект.


### `test_internalize_goal`

**Описание**: Тестирует метод `internalize_goal`. Проверяет, что установка цели приводит к выполнению соответствующих действий (SEARCH).

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`:  Возникает, если агенты не выполняют действия поиска, или не упоминают указанный в цели объект.


### `test_move_to`

**Описание**: Проверяет работу метода `move_to`.

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`: Возникает, если метод не обновляет текущее местоположение агента или контекст.


### `test_change_context`

**Описание**: Проверяет работу метода `change_context`.

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`: Возникает, если метод не обновляет текущий контекст агента.


### `test_save_spec`

**Описание**:  Тестирует сохранение состояния агента в файл (`save_spec`).

**Параметры**:

- `setup`: Набор параметров для настройки.

**Вызывает исключения**:

- `AssertionError`: Возникает, если файл не сохраняется, или если загруженный агент не имеет ожидаемого состояния.