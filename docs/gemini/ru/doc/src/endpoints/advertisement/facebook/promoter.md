# Модуль hypotez/src/endpoints/advertisement/facebook/promoter.py

## Обзор

Модуль `promoter.py` отвечает за продвижение сообщений и событий в группах Facebook. Он обрабатывает рекламные кампании и события, публикуя их в группах Facebook, избегая дублирования публикаций. Модуль использует WebDriver для автоматизации процесса.

## Функции

### `get_event_url`

**Описание**: Возвращает измененный URL для создания события на Facebook, заменяя `group_id` значением из входного URL.

**Параметры**:
- `group_url` (str): URL группы Facebook, содержащий `group_id`.

**Возвращает**:
- str: Измененный URL для создания события.

### `FacebookPromoter`

**Описание**: Класс для продвижения продуктов AliExpress и событий в группах Facebook. Автоматизирует публикацию промоакций в группах Facebook, используя экземпляр WebDriver, гарантируя, что категории и события продвигаются без дублирования.

**Атрибуты**:
- `d` (Driver): Экземпляр WebDriver для автоматизации браузера.
- `group_file_paths`: Путь к файлу или список путей к файлам, содержащим данные групп.
- `no_video` (bool): Флаг для отключения видео в постах. По умолчанию False.
- `promoter` (str): Имя промоутера.

**Методы**:

#### `__init__`

**Описание**: Инициализирует промоутера для групп Facebook.

**Параметры**:
- `d` (Driver): Экземпляр WebDriver.
- `promoter` (str): Имя промоутера.
- `group_file_paths` (list[str | Path] | str | Path, optional): Список путей к файлам, содержащим данные групп. По умолчанию None.
- `no_video` (bool, optional): Флаг для отключения видео в постах. По умолчанию False.

#### `promote`

**Описание**: Продвигает категорию или событие в группе Facebook.

**Параметры**:
- `group` (SimpleNamespace): Объект, содержащий данные группы.
- `item` (SimpleNamespace): Объект, содержащий данные категории или события.
- `is_event` (bool, optional): Флаг, указывающий, является ли `item` событием. По умолчанию False.
- `language` (str, optional): Язык.
- `currency` (str, optional): Валюта.


**Возвращает**:
- bool: True, если продвижение выполнено успешно; иначе - False.

#### `log_promotion_error`

**Описание**: Записывает ошибку продвижения категории или события.

**Параметры**:
- `is_event` (bool): Флаг, указывающий, является ли `item` событием.
- `item_name` (str): Название категории или события.


#### `update_group_promotion_data`

**Описание**: Обновляет данные продвижения группы с новой промоакцией.

**Параметры**:
- `group` (SimpleNamespace): Объект, содержащий данные группы.
- `item_name` (str): Название категории или события.
- `is_event` (bool, optional): Флаг, указывающий, является ли `item` событием. По умолчанию False.


#### `process_groups`

**Описание**: Обрабатывает все группы для текущей рекламной кампании или промоакции события.

**Параметры**:
- `campaign_name` (str, optional): Название рекламной кампании.
- `events` (list[SimpleNamespace], optional): Список событий.
- `is_event` (bool, optional): Флаг, указывающий, является ли продвижение события. По умолчанию False.
- `group_file_paths` (list[str], optional): Список путей к файлам с данными групп.
- `group_categories_to_adv` (list[str], optional): Список категорий, которые нужно продвигать. По умолчанию `['sales']`.
- `language` (str, optional): Язык.
- `currency` (str, optional): Валюта.


#### `get_category_item`

**Описание**: Получает объект категории для продвижения, основываясь на кампании и промоутере.

**Параметры**:
- `campaign_name` (str): Название кампании.
- `group` (SimpleNamespace): Объект с данными группы.
- `language` (str): Язык.
- `currency` (str): Валюта.

**Возвращает**:
- SimpleNamespace: Объект с данными категории.

#### `check_interval`

**Описание**: Проверяет, достаточно ли прошло времени для продвижения данной группы.

**Параметры**:
- `group` (SimpleNamespace): Объект с данными группы.

**Возвращает**:
- bool: True, если интервал времени пройден, иначе - False.


#### `validate_group`

**Описание**: Проверяет корректность данных группы.

**Параметры**:
- `group` (SimpleNamespace): Объект с данными группы.

**Возвращает**:
- bool: True, если данные корректны, иначе - False.

## Конфигурация

- `MODE`: режим работы ('dev').
- `gs.path.google_drive`: путь к папке с данными Google Диска.