# Модуль `hypotez/src/suppliers/aliexpress/campaign/ali_promo_campaign.py`

## Обзор

Модуль `ali_promo_campaign.py` предоставляет класс `AliPromoCampaign` для управления рекламными кампаниями на AliExpress. Он включает в себя функции загрузки, обработки и генерации данных о кампаниях, категориях и товарах, а также использование ИИ для улучшения информации о кампании.

## Классы

### `AliPromoCampaign`

**Описание**: Класс `AliPromoCampaign` предназначен для управления рекламными кампаниями. Он позволяет загружать данные из файлов, обрабатывать категории и товары, а также использовать ИИ для генерации дополнительных данных.

**Атрибуты**:

- `language`: Язык кампании.
- `currency`: Валюта кампании.
- `base_path`: Базовая директория для файлов кампании.
- `campaign_name`: Название кампании.
- `campaign`: Объект `SimpleNamespace` с данными о кампании.
- `campaign_ai`: Объект `SimpleNamespace` с данными о кампании для ИИ.
- `gemini`: Модель ИИ Gemini.
- `openai`: Модель ИИ OpenAI.


**Методы**:

#### `__init__`

**Описание**: Инициализирует объект `AliPromoCampaign`. Загружает данные о кампании из файла или создаёт новую кампанию.

**Параметры**:

- `campaign_name` (str): Название кампании.
- `language` (Optional[str], optional): Язык кампании. По умолчанию `None`.
- `currency` (Optional[str], optional): Валюта кампании. По умолчанию `None`.
- `model` (str, optional): Выбранная модель ИИ. По умолчанию `'openai'`.

**Возвращает**:

- `SimpleNamespace`: Объект, представляющий загруженную или созданную кампанию.


#### `_models_payload`

**Описание**: Инициализирует модели ИИ (Gemini и OpenAI).

**Параметры**:
Нет.

**Возвращает**:
Нет.


#### `process_campaign`

**Описание**: Обрабатывает все категории в кампании, включая загрузку данных о товарах и использование ИИ для генерации данных о категориях.


**Параметры**:
Нет.

**Возвращает**:
Нет.

#### `process_campaign_category`

**Описание**: Обрабатывает конкретную категорию для всех языков и валют.

**Параметры**:
- `category_name` (str): Название категории.
- `language` (str): Язык.
- `currency` (str): Валюта.

**Возвращает**:
- list[SimpleNamespace] | None: Список объектов `SimpleNamespace` с информацией о продуктах, или `None`, если продукты не найдены.


#### `process_new_campaign`

**Описание**: Создаёт новую рекламную кампанию, включая создание директорий и файлов для категорий и товаров.

**Параметры**:

- `campaign_name` (str): Название кампании.
- `language` (Optional[str], optional): Язык кампании.
- `currency` (Optional[str], optional): Валюта кампании.

**Возвращает**:

- List[Tuple[str, Any]]: Список кортежей с именами категорий и их обработанными результатами.

#### `process_ai_category`

**Описание**: Обрабатывает категории с использованием ИИ для генерации описаний и другой информации.

**Параметры**:
- `category_name` (Optional[str], optional): Название категории. Если не указано, обрабатываются все категории.

**Возвращает**:
- None: Метод не возвращает данных.

#### `process_category_products`

**Описание**: Обрабатывает товары в указанной категории с использованием генератора партнерских ссылок.

**Параметры**:
- `category_name` (str): Название категории.


**Возвращает**:
- Optional[List[SimpleNamespace]]: Список объектов `SimpleNamespace` с информацией о товарах, или `None`, если нет продуктов в указанной категории.


#### `dump_category_products_files`

**Описание**: Сохраняет данные о товарах в JSON-файлы.

**Параметры**:
- `category_name` (str): Название категории.
- `products` (List[SimpleNamespace]): Список объектов `SimpleNamespace`, представляющих товары.

**Возвращает**:
- None

#### `set_categories_from_directories`

**Описание**: Устанавливает категории кампании из названий директорий в папке "category".

**Параметры**:
Нет.

**Возвращает**:
- None

#### `generate_output`

**Описание**: Сохраняет данные о продуктах в различные форматы (JSON, HTML).

**Параметры**:
- `campaign_name` (str): Имя кампании.
- `category_path` (str | Path): Путь к директории категории.
- `products_list` (list[SimpleNamespace] | SimpleNamespace): Список продуктов или отдельный продукт.

**Возвращает**:
- None

#### `generate_html`

**Описание**: Создаёт HTML-файлы для категории и корневого индекса.


**Параметры**:
- `campaign_name` (str): Название кампании.
- `category_path` (str | Path): Путь к директории категории.
- `products_list` (list[SimpleNamespace] | SimpleNamespace): Список продуктов.


**Возвращает**:
- None

#### `generate_html_for_campaign`

**Описание**: Генерирует HTML-страницы для всей рекламной кампании.


**Параметры**:
- `campaign_name` (str): Название кампании.

**Возвращает**:
- None


## Функции

(Документация для функций, не представленных в этом фрагменте, будет доработана в случае наличия дополнительных функций)


## Заметки

Модуль использует библиотеки `asyncio`, `copy`, `html`, `pathlib`, `typing`, и другие для обработки данных и генерации файлов.  Необходимо установить необходимые зависимости для работы модуля.