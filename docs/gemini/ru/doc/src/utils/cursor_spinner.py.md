# Модуль `cursor_spinner`

## Обзор

Модуль `cursor_spinner` предоставляет утилиту для отображения вращающегося курсора в консоли, чтобы имитировать процесс загрузки или ожидания.

## Подробней

Этот модуль содержит функции для создания и отображения анимированного курсора, который циклически переключается между символами `|`, `/`, `-`, `\\`. Он может быть использован для визуальной индикации выполнения длительных операций в консольных приложениях.

## Функции

### `spinning_cursor`

```python
def spinning_cursor():
    """ Генератор для вращающегося курсора, который циклически переключается между символами |, /, -, \\.

    Yields:
        str: Следующий символ в последовательности курсора.

    Example:
        >>> cursor = spinning_cursor()
        >>> next(cursor)  # '|'
        >>> next(cursor)  # '/'
        >>> next(cursor)  # '-'
        >>> next(cursor)  # '\\'
    """
    while True:
        for cursor in '|/-\\':
            yield cursor
```

**Назначение**: Создает бесконечный генератор, который поочередно выдает символы для отображения вращающегося курсора.

**Как работает функция**: Функция использует бесконечный цикл `while True`, который содержит цикл `for` для перебора символов `'|/-\\'`. Каждый символ возвращается с помощью `yield`, что позволяет использовать функцию в качестве генератора.

**Параметры**:
- Отсутствуют

**Возвращает**:
- `str`: Следующий символ в последовательности курсора.

**Вызывает исключения**:
- Отсутствуют

**Примеры**:
```python
>>> cursor = spinning_cursor()
>>> next(cursor)
'|'
>>> next(cursor)
'/'
```

### `show_spinner`

```python
def show_spinner(duration: float = 5.0, delay: float = 0.1):
    """ Отображает вращающийся курсор в консоли в течение указанного времени.

    Args:
        duration (float): Как долго должен работать спиннер (в секундах). По умолчанию 5.0.
        delay (float): Задержка между каждым спином (в секундах). По умолчанию 0.1.

    Example:
        >>> show_spinner(duration=3.0, delay=0.2)  # Отображает спиннер в течение 3 секунд
    """
    spinner = spinning_cursor()
    end_time = time.time() + duration

    while time.time() < end_time:
        sys.stdout.write(next(spinner))   # Print the next spinner character
        sys.stdout.flush()                # Force print to console immediately
        time.sleep(delay)                 # Pause for the delay duration
        sys.stdout.write('\b')            # Backspace to overwrite the character
```

**Назначение**: Отображает вращающийся курсор в консоли в течение заданного времени.

**Как работает функция**:
1. Инициализирует генератор `spinning_cursor()`.
2. Вычисляет время окончания работы спиннера на основе заданной продолжительности `duration`.
3. В цикле `while` до истечения времени окончания:
    - Выводит следующий символ из генератора `spinner` с помощью `sys.stdout.write()`.
    - Принудительно выводит символ в консоль с помощью `sys.stdout.flush()`.
    - Делает паузу на время, указанное в `delay` с помощью `time.sleep()`.
    - Использует символ возврата (`\b`) для перезаписи предыдущего символа, создавая эффект вращения.

**Параметры**:
- `duration` (float): Продолжительность отображения спиннера в секундах. По умолчанию `5.0`.
- `delay` (float): Задержка между каждым символом спиннера в секундах. По умолчанию `0.1`.

**Возвращает**:
- Ничего (None).

**Вызывает исключения**:
- Отсутствуют

**Примеры**:
```python
>>> show_spinner(duration=3.0, delay=0.2)  # Отображает спиннер в течение 3 секунд
```
```python
if __name__ == "__main__":
    # Example usage of the spinner in a script
    print("Spinner for 5 seconds:")
    show_spinner(duration=5.0, delay=0.1)
    print("\\nDone!")