# Модуль `graber` для сбора данных с `bangood.com`

## Обзор

Модуль `graber.py` предназначен для сбора информации о товарах с сайта `bangood.com`. Он расширяет базовый класс `Graber` и переопределяет его методы для обработки специфичных для `bangood.com` полей товаров. Модуль использует веб-драйвер для взаимодействия с сайтом и сбора необходимых данных.

## Подробней

Этот модуль является частью системы для автоматического сбора данных о товарах из различных онлайн-магазинов. Он специализируется на сборе данных с `bangood.com`. Основная задача модуля - извлечение информации о товарах, такой как названия, описания, цены и характеристики, и приведение этой информации к унифицированному формату для дальнейшей обработки и анализа. Для логирования событий и ошибок используется модуль `logger` из `src.logger.logger`.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для операций захвата данных с сайта `bangood.com`.

**Как работает класс**:
Класс наследуется от класса `Graber` (`Grbr`) из модуля `src.suppliers.graber`. Он инициализируется веб-драйвером и индексом языка, используемым для локализации содержимого. В конструкторе устанавливается префикс поставщика (`bangood`) и вызывается конструктор родительского класса. Также устанавливаются глобальные настройки через `Context`, включая локатор для декоратора.

**Методы**:

- `__init__`: Инициализация класса `Graber`.

**Параметры**:

- `driver` (Driver): Экземпляр веб-драйвера для управления браузером.
- `lang_index` (int): Индекс языка для локализации контента.

**Примеры**:
```python
from src.webdriver.driver import Driver
from src.suppliers.bangood.graber import Graber

# Пример создания экземпляра класса Graber
driver = Driver()
graber = Graber(driver, lang_index=0)
```

## Функции

### `close_pop_up`

```python
# def close_pop_up(value: Any = None) -> Callable:
#     """Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

#     Args:
#         value (Any): Дополнительное значение для декоратора.

#     Returns:
#         Callable: Декоратор, оборачивающий функцию.
#     """
#     def decorator(func: Callable) -> Callable:
#         @wraps(func)
#         async def wrapper(*args, **kwargs):\
#             try:\
#                 # await Context.driver.execute_locator(Context.locator.close_pop_up)  # Await async pop-up close  \
#                 ...
#             except ExecuteLocatorException as e:\
#                 logger.debug(f'Ошибка выполнения локатора: {e}')
#             return await func(*args, **kwargs)  # Await the main function
#         return wrapper
#     return decorator
```

**Описание**:
Эта функция создает декоратор для закрытия всплывающих окон на веб-странице перед выполнением основной логики декорируемой функции.

**Как работает функция**:
Функция `close_pop_up` принимает необязательный параметр `value` и возвращает декоратор. Декоратор оборачивает функцию, и перед ее выполнением пытается выполнить локатор для закрытия всплывающего окна. Если выполнение локатора завершается неудачей, в лог записывается отладочное сообщение.

**Параметры**:

- `value` (Any, optional): Дополнительное значение для декоратора. По умолчанию `None`.

**Возвращает**:

- `Callable`: Декоратор, оборачивающий функцию.

**Вызывает исключения**:

- `ExecuteLocatorException`: Возникает, если не удается выполнить локатор для закрытия всплывающего окна.

**Примеры**:

```python
from src.suppliers.bangood.graber import close_pop_up

@close_pop_up()
async def my_function():
    # Основная логика функции
    pass