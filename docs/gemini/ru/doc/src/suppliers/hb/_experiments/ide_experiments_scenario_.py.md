# Модуль `ide_experiments_scenario_.py`

## Обзор

Модуль предназначен для экспериментов и проверки наполнения полей продукта (`product_fields`) данными, полученными от поставщика HB. Он включает в себя функциональность для навигации по сайту поставщика, извлечения информации о продуктах и приведения этой информации к формату, необходимому для дальнейшей обработки или загрузки в систему PrestaShop.

## Подробнее

Этот модуль является частью процесса интеграции данных от поставщика HB в систему `hypotez`. Он использует библиотеки `selenium` для взаимодействия с веб-страницами, а также собственные модули проекта для стандартизации и обработки данных. Модуль настраивает веб-драйвер, определяет локаторы для извлечения данных и запускает сценарии для получения информации о продуктах.

## Классы

В данном коде классы явно не определены. Однако, используются экземпляры классов: `Supplier`, `Product`, `ProductFields`, `Driver` из других модулей проекта.

## Функции

### `run_scenarios`

```python
from src.scenario import run_scenarios

run_scenarios(s: Supplier, s.current_scenario: dict) -> list[dict]:
    """
    Запускает сценарии для получения информации о продуктах с веб-сайта поставщика.
    
    Args:
        s (Supplier): Объект поставщика, содержащий информацию о поставщике и его настройках.
        s.current_scenario (dict): Словарь с параметрами текущего сценария, такими как URL, название и категории PrestaShop.

    Returns:
        list[dict]: Список словарей с информацией о продуктах, полученной в результате выполнения сценариев.

    Raises:
        Отсутствуют явные исключения.
    
    Как работает функция:
    1. Функция принимает объект поставщика `s` и словарь `s.current_scenario`, содержащий параметры текущего сценария.
    2. Выполняет сценарии, определенные для данного поставщика, используя параметры из `s.current_scenario`.
    3. Возвращает список словарей, содержащих информацию о продуктах, извлеченную в ходе выполнения сценариев.

    Внутри функции происходят следующие действия и преобразования:
    Начало
    |
    -- Запуск сценариев
    |
    Обработка данных
    |
    Возврат списка продуктов

    Примеры:
    >>> from src.suppliers import Supplier
    >>> s = Supplier(supplier_prefix = 'hb')
    >>> s.current_scenario: dict = {
    ...     "url": "https://hbdeadsea.co.il/product-category/bodyspa/feet-hand-treatment/",
    ...     "name": "טיפוח כפות ידיים ורגליים",
    ...     "condition": "new",
    ...     "presta_categories": {
    ...         "default_category": 11259,
    ...         "additional_categories": []
    ...     }
    ... }
    >>> ret = run_scenarios(s, s.current_scenario)
    >>> # Здесь будет результат выполнения сценариев (список продуктов)
    """
    ...
```

## Переменные

- `dir_root (Path)`: Корневая директория проекта, используется для определения путей к другим модулям и файлам проекта.
- `sys.path`: Список путей, в которых Python ищет модули для импорта.
- `dir_src (Path)`: Путь к директории `src`, где находятся исходные коды проекта.
- `s (Supplier)`: Экземпляр класса `Supplier`, представляющий поставщика данных (в данном случае, `hb`).
- `p (Product)`: Экземпляр класса `Product`, представляющий продукт.
- `l (dict)`: Словарь с локаторами элементов на веб-странице продукта.
- `d (Driver)`: Экземпляр класса `Driver`, представляющий веб-драйвер для управления браузером.
- `f (ProductFields)`: Экземпляр класса `ProductFields`, предназначенный для работы с полями продукта.
- `s.current_scenario (dict)`: Словарь, содержащий информацию о текущем сценарии, включая URL, название и категории PrestaShop.
- `ret`: Переменная, в которую сохраняется результат выполнения функции `run_scenarios`.