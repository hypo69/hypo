# Модуль md2dict

## Обзор

Модуль `md2dict` предназначен для конвертации строк Markdown в структурированные словари Python.  Он умеет извлекать JSON-контент, если он присутствует в строке Markdown, и преобразовывать остальную часть Markdown в иерархический словарь, содержащий заголовки и соответствующий текст.


## Функции

### `md2dict`

**Описание**: Конвертирует строку Markdown в структурированный словарь. Извлекает JSON, если он есть, в противном случае обрабатывает Markdown-строку, чтобы извлечь заголовки и текст.

**Параметры**:

- `md_string` (str): Строка Markdown для конвертации.

**Возвращает**:

- `Dict[str, dict | list]`: Структурированный словарь.  Если в входной строке Markdown обнаружен JSON, возвращается словарь с ключом `json` и содержанием JSON. В противном случае возвращается словарь, ключами которого являются заголовки Markdown, а значениями — списки строк текста под этими заголовками.

**Вызывает исключения**:

- `Exception`: Возникает в случае ошибок при обработке Markdown или JSON.  Подробная информация об ошибке записывается в лог.


### `extract_json_from_string`

**Описание**: Извлекает JSON контент из строки, если он присутствует.

**Параметры**:

- `text` (str): Строка для поиска JSON.

**Возвращает**:

- `dict | None`: Извлеченный JSON контент или `None`, если JSON не найден.

**Вызывает исключения**:

- `Exception`: Возникает в случае ошибок при парсинге JSON.  Подробная информация об ошибке записывается в лог.


## Конфигурация

### `MODE`

**Описание**: Переменная, хранящая режим работы. По умолчанию `'dev'`.


## Замечания

* Модуль использует библиотеку `markdown2` для обработки Markdown.
* Использование `eval()` для обработки JSON может быть небезопасно в реальных приложениях.  Рекомендуется использовать `json.loads()` для более безопасной обработки JSON.
*  Логирование ошибок осуществляется с помощью модуля `src.logger`.