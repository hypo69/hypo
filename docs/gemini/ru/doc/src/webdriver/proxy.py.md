# Модуль `proxy`

## Обзор

Модуль предназначен для работы с прокси-серверами. Он включает в себя функции для загрузки списка прокси-серверов из интернета, их парсинга и проверки работоспособности. Это позволяет использовать прокси для обхода ограничений доступа или обеспечения анонимности при выполнении запросов.

## Подробнее

Модуль загружает текстовый файл со списком прокси-адресов, который затем анализируется для распределения прокси по категориям (HTTP, SOCKS4, SOCKS5). Для экономии трафика и ресурсов рекомендуется использовать генераторы при обработке больших объемов данных.

## Классы

В данном модуле классы отсутствуют.

## Функции

### `download_proxies_list`

```python
def download_proxies_list(url: str = url, save_path: Path = proxies_list_path) -> bool:
    """
    Args:
        url (str): URL файла для загрузки. По умолчанию используется значение глобальной переменной `url`.
        save_path (Path): Путь для сохранения загруженного файла. По умолчанию используется значение глобальной переменной `proxies_list_path`.

    Returns:
        bool: `True` в случае успешной загрузки и сохранения файла, `False` в случае ошибки.

    Raises:
        Exception: В случае возникновения ошибки при загрузке файла.

    Example:
        >>> download_proxies_list()
        True
    """
    ...
```

**Описание**: Загружает файл по указанному URL и сохраняет его в заданный путь.

**Параметры**:
- `url` (str): URL файла для загрузки.
- `save_path` (Path): Путь для сохранения загруженного файла.

**Возвращает**:
- `bool`: `True` в случае успешной загрузки и сохранения файла, `False` в случае ошибки.

**Вызывает исключения**:
- `Exception`: В случае возникновения ошибки при загрузке файла.

**Примеры**:

```python
download_proxies_list()
```

### `get_proxies_dict`

```python
def get_proxies_dict(file_path: Path = proxies_list_path) -> Dict[str, List[Dict[str, Any]]]:
    """
    Args:
        file_path (Path): Путь к файлу с прокси. По умолчанию используется значение глобальной переменной `proxies_list_path`.

    Returns:
        Dict[str, List[Dict[str, Any]]]: Словарь, где ключи - типы прокси ('http', 'socks4', 'socks5'), а значения - списки словарей с информацией о каждом прокси (protocol, host, port).

    Raises:
        FileNotFoundError: Если файл с прокси не найден.
        Exception: В случае возникновения ошибки при парсинге прокси.

    Example:
        >>> proxies = get_proxies_dict()
        >>> print(proxies['http'][:2])
        [{'protocol': 'http', 'host': '127.0.0.1', 'port': '8080'}, {'protocol': 'http', 'host': '192.168.1.1', 'port': '3128'}]
    """
    ...
```

**Описание**: Парсит файл с прокси-адресами и распределяет их по категориям.

**Параметры**:
- `file_path` (Path): Путь к файлу с прокси.

**Возвращает**:
- `Dict[str, List[Dict[str, Any]]]`: Словарь с распределёнными по типам прокси.

**Вызывает исключения**:
- `FileNotFoundError`: Если файл с прокси не найден.
- `Exception`: В случае возникновения ошибки при парсинге прокси.

**Примеры**:

```python
proxies = get_proxies_dict()
print(proxies['http'][:2])
```

### `check_proxy`

```python
def check_proxy(proxy: dict) -> bool:
    """
    Args:
        proxy (dict): Словарь с данными прокси (host, port, protocol).

    Returns:
        bool: `True`, если прокси работает, иначе `False`.

    Raises:
        ProxyError: В случае ошибки, связанной с прокси-сервером.
        RequestException: В случае ошибки при выполнении запроса.

    Example:
        >>> proxy = {'protocol': 'http', 'host': '127.0.0.1', 'port': '8080'}
        >>> check_proxy(proxy)
        True
    """
    ...
```

**Описание**: Проверяет работоспособность прокси-сервера.

**Параметры**:
- `proxy` (dict): Словарь с данными прокси (host, port, protocol).

**Возвращает**:
- `bool`: `True`, если прокси работает, иначе `False`.

**Вызывает исключения**:
- `ProxyError`: В случае ошибки, связанной с прокси-сервером.
- `RequestException`: В случае ошибки при выполнении запроса.

**Примеры**:

```python
proxy = {'protocol': 'http', 'host': '127.0.0.1', 'port': '8080'}
check_proxy(proxy)