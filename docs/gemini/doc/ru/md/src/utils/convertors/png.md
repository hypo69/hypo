# Модуль hypotez/src/utils/convertors/png.py

## Обзор

Модуль `src.utils.convertors.png` предоставляет инструменты для конвертации текста в изображения PNG с использованием библиотеки Pillow.  Модуль обрабатывает ввод текста построчно, генерирует изображения PNG для каждой строки, и сохраняет их в указанной директории с настраиваемыми параметрами внешнего вида изображения.

## Классы

### `TextToImageGenerator`

**Описание**: Класс `TextToImageGenerator` отвечает за генерацию изображений PNG из текстовых строк.  Предоставляет методы для обработки ввода, позиционирования текста, генерации изображений и управления выходными данными.

**Методы**:

- `__init__`: Инициализирует класс с настройками по умолчанию для директории вывода, размера холста, отступа и цветов.
- `generate_images`: Генерирует изображения PNG из списка строк и сохраняет их в указанную директорию. Поддерживает настраиваемые параметры шрифта, размера холста, отступов, фона и цвета текста. Также позволяет задать уровень верологирования и возможность перезаписи существующих файлов.
- `generate_png`: Создает изображение PNG с заданным текстом, шрифтом, цветами и другими параметрами.
- `center_text_position`:  Вычисляет координаты для центрирования текста на холсте.
- `overlay_images`: Накладывает одно изображение PNG поверх другого в заданной позиции с настройкой прозрачности.

## Функции

### `webp2png`

**Описание**: Преобразует изображение в формате WEBP в формат PNG.

**Параметры**:

- `webp_path` (str): Путь к файлу в формате WEBP.
- `png_path` (str): Путь для сохранения преобразованного файла в формате PNG.

**Возвращает**:

- bool: `True`, если преобразование прошло успешно; `None`, если произошла ошибка.

**Вызывает исключения**:

- Возможные исключения, возникающие при работе с файлами изображений.


## Утилиты

### Параметры по умолчанию

В классе `TextToImageGenerator` заданы следующие параметры по умолчанию:

- `default_output_dir`: "./output"
- `default_canvas_size`: (1024, 1024)
- `default_padding`: 0.10
- `default_background`: "white"
- `default_text_color`: "black"
- `default_log_level`: "WARNING"

##  Обработка исключений

В модуле используется блок `try...except` для обработки возможных исключений (например, при работе с файлами изображений).
Обработка исключений оформлена в соответствии со спецификацией, где вместо `e` используется `ex`.