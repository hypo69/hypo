# Модуль `openai.js`

## Обзор

Данный модуль предоставляет класс `OpenAI` для взаимодействия с API OpenAI.  Класс позволяет отправлять запросы на создание чат-ботов и транскрипцию аудио файлов.

## Классы

### `OpenAI`

**Описание**: Класс `OpenAI` используется для взаимодействия с API OpenAI. Он инициализируется ключом API и предоставляет методы для создания чат-ботов и транскрипции аудио.

**Атрибуты**:

- `roles`: Объект с ролями для сообщений в чате.

**Методы**:

#### `chat(messages)`

**Описание**: Отправляет запрос на создание чат-ботов с помощью API OpenAI.

**Параметры**:

- `messages` ([Array]): Массив объектов, представляющих сообщения в формате {role: 'role_name', content: 'message_content'}.


**Возвращает**:
- `Object | null`: Объект с ответом от API OpenAI, содержащим сообщение чат-бота, или `null`, если произошла ошибка.

**Вызывает исключения**:

- `Error`: В случае ошибки при взаимодействии с API OpenAI.


#### `transcription(filepath)`

**Описание**: Производит транскрипцию аудио файла с помощью API OpenAI.

**Параметры**:

- `filepath` (string): Путь к аудио файлу.


**Возвращает**:
- `string | null`: Текст транскрипции аудио файла, или `null`, если произошла ошибка.


**Вызывает исключения**:

- `Error`: В случае ошибки при взаимодействии с API OpenAI или при чтении файла.


## Переменные

### `openai`

**Описание**: Экземпляр класса `OpenAI`, инициализированный с помощью ключа API из файла `config.js`.

**Тип**: `OpenAI`


## Использование

```javascript
import { openai } from './openai'

// пример использования chat
const messages = [
    { role: 'user', content: 'Привет!' },
]

openai.chat(messages)
    .then(response => {
        console.log(response);
    })
    .catch(ex => {
        console.error("Ошибка при взаимодействии с чат-ботом:", ex);
    });


// пример использования transcription
openai.transcription('./audio.wav')
    .then(transcription => {
        console.log(transcription);
    })
    .catch(ex => {
        console.error("Ошибка при транскрипции:", ex);
    })
```


**Примечание**: Этот код предполагает, что у вас есть необходимые модули (`openai`, `config`, `fs`) и файл `audio.wav` в текущей директории.  Не забудьте заменить `'./audio.wav'` на фактический путь к вашему аудио файлу.  Также, убедитесь, что в файле `config.js` определен ключ `OPENAI_KEY`.