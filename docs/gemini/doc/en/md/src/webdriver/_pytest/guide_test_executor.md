# Тестирование класса ExecuteLocator

## Обзор

Данное руководство описывает процесс тестирования класса `ExecuteLocator` для работы с веб-элементами через Selenium WebDriver.  Руководство включает в себя настройку окружения, создание тестов и их запуск.

## Содержание

- [Подготовка окружения](#подготовка-окружения)
- [Написание тестов](#написание-тестов)
- [Запуск тестов](#запуск-тестов)
- [Проверка результатов](#проверка-результатов)
- [Обновление тестов](#обновление-тестов)
- [Документация](#документация)
- [Примеры документации](#примеры-документации)
- [Дополнительные ресурсы](#дополнительные-ресурсы)


## Подготовка окружения

### Установка зависимостей

Убедитесь, что установлены необходимые библиотеки.  Выполните команду:

```bash
pip install -r requirements.txt
```

Файл `requirements.txt` должен содержать следующие зависимости:

```
pytest==7.4.0
selenium==4.16.1
```

### Настройка WebDriver

Установите WebDriver для браузера, который вы будете использовать для тестирования (например, ChromeDriver для Chrome).


## Написание тестов

### Структура тестов

Создайте файл `test_executor.py` в директории `tests`.  Этот файл будет содержать тесты для класса `ExecuteLocator`.  Пример структуры:

```python
import pytest
from unittest.mock import MagicMock, patch
from selenium.webdriver.remote.webelement import WebElement
from selenium.webdriver.common.by import By

from src.webdriver.executor import ExecuteLocator
from src.logger.exceptions import ExecuteLocatorException
```

(остальной код из примера ввода)


### Реализация тестов

Реализуйте тесты для методов `get_webelement_by_locator`, `get_attribute_by_locator` и `send_message`, как показано в примере ввода. Обратите внимание на использование `MagicMock` для имитации поведения веб-драйвера и `assert_called_once_with`.


## Запуск тестов

Для запуска тестов выполните следующую команду в корневой директории проекта:

```bash
pytest tests/test_executor.py
```


## Проверка результатов

После запуска тестов `pytest` выведет результаты в терминале. Убедитесь, что все тесты прошли успешно. Если какой-то тест не прошел, `pytest` укажет на ошибку или неудачу.  Необходимо проанализировать причину и исправить ошибки в тестах или коде.


## Обновление тестов

По мере изменений в коде класса `ExecuteLocator`, обновите тесты, чтобы они проверяли все новые или измененные функции.


## Документация

Обновляйте документацию по мере добавления новых тестов или изменений существующих.  Это поможет другим разработчикам и тестировщикам понимать, как тестируются функции `ExecuteLocator`.


## Примеры документации

В примере документации подробно описаны тесты для класса `ExecuteLocator`.  В частности, показаны примеры проверки различных случаев использования методов.

## Дополнительные ресурсы

- [Официальная документация pytest](https://docs.pytest.org/en/latest/)
- [Документация по Selenium WebDriver](https://www.selenium.dev/documentation/webdriver/)
- [Руководство по написанию тестов для Python](https://docs.python.org/3/library/unittest.html)


## Функции

### `get_webelement_by_locator`

**Описание**: Получает веб-элемент по заданному локатору.

**Параметры**:
- `locator` (dict): Словарь с параметрами локэтора (например, `{"by": "XPATH", "selector": "//div[@id='test']"}`).

**Возвращаемое значение**:
- `WebElement | False`: Возвращает найденный веб-элемент или `False`, если элемент не найден.

**Возможные исключения**:
- `ExecuteLocatorException`: В случае ошибок при поиске элемента.


### `get_attribute_by_locator`

**Описание**: Получает значение атрибута веб-элемента.

**Параметры**:
- `locator` (dict): Словарь с параметрами локэтора и атрибута (например, `{"by": "XPATH", "selector": "//div[@id='test']", "attribute": "data-test"}`).

**Возвращаемое значение**:
- `str`: Значение атрибута.

**Возможные исключения**:
- `ExecuteLocatorException`: В случае ошибок при поиске или получении атрибута.


### `send_message`

**Описание**: Отправляет сообщение (текст) на веб-элемент.

**Параметры**:
- `locator` (dict): Словарь с параметрами локэтора (например, `{"by": "XPATH", "selector": "//input[@id='test']"}`).
- `message` (str): Текст сообщения.
- `typing_speed` (float, optional): Скорость набора текста (в секундах). По умолчанию 0.
- `continue_on_error` (bool, optional): Продолжать выполнение при ошибках. По умолчанию `True`.

**Возвращаемое значение**:
- `bool`: `True` если сообщение отправлено, `False` в противном случае.

**Возможные исключения**:
- `ExecuteLocatorException`: В случае ошибок при поиске или отправке сообщения.