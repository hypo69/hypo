# Модуль hypotez/src/webdriver/chrome/chrome.py

## Обзор

Этот модуль предоставляет кастомную реализацию Selenium's Chrome WebDriver. Он интегрирует настройки, определенные в файле конфигурации `chrome.json`, такие как user-agent и настройки профиля браузера, для гибкого и автоматизированного взаимодействия с браузером.  Ключевые особенности: централизованная конфигурация через JSON файлы, поддержка нескольких профилей браузера, улучшенная обработка логов и исключений.

## Классы

### `Chrome`

**Описание**: Класс для работы с Chrome WebDriver.  Реализует паттерн Singleton, гарантируя, что существует только один экземпляр драйвера.

**Методы**:

#### `__new__`

**Описание**: Метод конструктора, гарантирует, что создается только один экземпляр класса. Если экземпляр уже существует, вызывает метод `window_open()`.

**Параметры**:
* Не имеет параметров.

**Возвращает**:
* `Chrome`: Экземпляр класса `Chrome`.

#### `__init__`

**Описание**: Инициализирует Chrome WebDriver с заданными опциями и профилем.

**Параметры**:
* `user_agent` (Optional[str], опционально): Строка user-agent, которая будет использоваться. По умолчанию используется случайный user-agent.

**Возвращает**:
* Не имеет возвращаемого значения.

**Обрабатывает исключения**:
* `Exception`: Логирует ошибку при инициализации WebDriver и возвращает None.

#### `_payload`

**Описание**: Загружает исполнители для локаторов и сценариев JavaScript.

**Параметры**:
* Не имеет параметров.

**Возвращает**:
* None

**Описание параметров и возвращаемых значений методов `get_page_lang`, `ready_state`, `get_referrer`, `unhide_DOM_element`, `window_focus`, `execute_locator`, `get_webelement_as_screenshot`, `get_webelement_by_locator`, `get_attribute_by_locator`, `send_message`, `send_key_to_webelement` реализованных в классе `Chrome` опущены по причине сложности их описания в рамках заданного формата.**  Обратите внимание, что эти методы являются неотъемлемой частью класса, и их функциональность должна быть описана более подробно в соответствующих классах-обертка, таких как `JavaScript` и `ExecuteLocator`.


## Функции

### `normalize_path`

**Описание**: Заменяет плейсхолдеры в пути на фактические пути среды.

**Параметры**:
* `path` (str): Строка пути с плейсхолдерами, такими как %APPDATA% или %LOCALAPPDATA%.

**Возвращает**:
* str: Нормализованный путь с подставленными переменными среды.