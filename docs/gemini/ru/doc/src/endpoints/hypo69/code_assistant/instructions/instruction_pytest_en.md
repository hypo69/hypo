# Документация для `pytest` тестов

## Обзор

Эта инструкция предназначена для создания `pytest` тестов для Python кода. Она описывает требования к структуре тестов, их содержанию и форматированию.

## Содержание

1. [Формат документации](#формат-документации)
2. [Содержание (TOC)](#содержание-toc)
3. [Форматирование документации](#форматирование-документации)
4. [Заголовки разделов](#заголовки-разделов)
5. [Пример файла](#пример-файла)
6. [Инструкции](#инструкции)
7. [Пример структуры тестов](#пример-структуры-тестов)

## Формат документации

- Используйте стандарт `Markdown (.md)`.
- Каждый файл должен начинаться с заголовка и краткого описания его содержимого.
- Для всех классов и функций используйте следующий формат комментариев:
```python
def function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:
    """
    Args:
        param (str): Описание параметра `param`.
        param1 (Optional[str | dict | str], optional): Описание параметра `param1`. По умолчанию `None`.

    Returns:
        dict | None: Описание возвращаемого значения. Возвращает словарь или `None`.

    Raises:
        SomeError: Описание ситуации, в которой возникает исключение `SomeError`.
    """
```
- Используйте `ex` вместо `e` в блоках обработки исключений.

## Содержание (TOC)

- В начале каждого файла документации добавьте раздел с оглавлением.
- Структура оглавления должна включать ссылки на все основные разделы документации модуля.

## Форматирование документации

- Используйте правильный синтаксис Markdown для всех заголовков, списков и ссылок.
- Для документирования классов, функций и методов включайте структурированные разделы с описаниями, деталями параметров, возвращаемых значений и вызываемых исключений. Пример:
```markdown
## Функции

### `function_name`

**Описание**: Краткое описание функции.

**Параметры**:
- `param` (str): Описание параметра `param`.
- `param1` (Optional[str | dict | str], optional): Описание параметра `param1`. По умолчанию `None`.

**Возвращает**:
- `dict | None`: Описание возвращаемого значения.

**Вызывает исключения**:
- `SomeError`: Описание ситуации, в которой возникает исключение `SomeError`.
```

## Заголовки разделов

- Используйте заголовки первого уровня (`#`), второго уровня (`##`), третьего уровня (`###`) и четвёртого уровня (`####`) последовательно на протяжении всего файла.

## Пример файла

```markdown
# Название модуля

## Обзор

Краткое описание назначения модуля.

## Классы

### `ClassName`

**Описание**: Краткое описание класса.

**Методы**:
- `method_name`: Краткое описание метода.
- `method_name`: Краткое описание метода.

**Параметры**:
- `param` (str): Описание параметра `param`.
- `param1` (Optional[str | dict | str], optional): Описание параметра `param1`. По умолчанию `None`.

## Функции

### `function_name`

**Описание**: Краткое описание функции.

**Методы**:
- `method_name`: Краткое описание метода.
- `method_name`: Краткое описание метода.

**Параметры**:
- `param` (str): Описание параметра `param`.
- `param1` (Optional[str | dict | str], optional): Описание параметра `param1`. По умолчанию `None`.

**Возвращает**:
- `dict | None`: Описание возвращаемого значения.

**Вызывает исключения**:
- `SomeError`: Описание ситуации, в которой возникает исключение `SomeError`.
```

## Инструкции

Данная инструкция описывает создание тестов с использованием библиотеки `pytest` для предоставленного Python кода. Тесты должны покрывать основные функции, методы и классы для проверки их корректности. При необходимости, должны быть включены граничные случаи и обработка исключений.

**Требования:**

1. Используйте ясные и описательные имена тестовых функций, которые указывают на их назначение.
2. Убедитесь, что все тесты изолированы и независимы друг от друга.
3. Рассмотрите различные сценарии, включая:
    - Корректные входные данные.
    - Некорректные или неожиданные входные данные, если это применимо.
    - Граничные случаи.
4. Используйте `pytest.raises` для тестирования исключений.
5. Если для функций требуются фикстуры, определите их отдельно.
6. Добавьте комментарии, объясняющие логику тестовых случаев.

## Пример структуры тестов

```python
import pytest

# Определение фикстур, если необходимо
@pytest.fixture
def example_data():
    """Предоставляет тестовые данные для функции."""
    return {...}

# Тесты для Функции 1
def test_function1_valid_input():
    """Проверяет правильное поведение с корректными входными данными."""
    ...

def test_function1_invalid_input():
    """Проверяет корректную обработку некорректных входных данных."""
    ...

# Тесты для Функции 2
def test_function2_edge_case():
    """Проверяет поведение с граничными случаями."""
    ...
```