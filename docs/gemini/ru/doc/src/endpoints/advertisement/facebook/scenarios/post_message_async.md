# Модуль hypotez/src/endpoints/advertisement/facebook/scenarios/post_message_async.py

## Обзор

Данный модуль содержит функции для асинхронной публикации сообщений в Facebook Ads с использованием Selenium WebDriver. Он предоставляет методы для ввода заголовка и описания кампании, загрузки медиафайлов (изображений и видео) и добавления подписей к ним.  Модуль использует `SimpleNamespace` для представления данных о товарах и категории, а также загружает локаторы из файла JSON.

## Оглавление

* [Функция `post_title`](#функция-post_title)
* [Функция `upload_media`](#функция-upload_media)
* [Функция `update_images_captions`](#функция-update_images_captions)
* [Функция `promote_post`](#функция-promote_post)


## Функции

### `post_title`

**Описание**: Отправляет заголовок и описание кампании в поле для публикации сообщения.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium, используемый для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Объект, содержащий заголовок и описание кампании.

**Возвращает**:
- `bool`: `True`, если заголовок и описание успешно отправлены; `None`, в случае ошибки.

**Обработка исключений**:
- `Exception`: В случае возникновения ошибок при выполнении действий.

### `upload_media`

**Описание**: Загружает медиафайлы (изображения или видео) в раздел изображений и обновляет подписи к ним.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium, используемый для взаимодействия с веб-страницей.
- `products` (List[SimpleNamespace]): Список объектов, содержащих пути к медиафайлам и другую информацию о товарах.
- `no_video` (bool, optional): Флаг, определяющий, загружать ли видео. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если медиафайлы успешно загружены; `None`, в случае ошибки.

**Обработка исключений**:
- `Exception`: В случае возникновения ошибок при загрузке или обновлении подписей к медиафайлам.

### `update_images_captions`

**Описание**: Асинхронно добавляет описания к загруженным медиафайлам.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium, используемый для взаимодействия с веб-страницей.
- `products` (List[SimpleNamespace]): Список объектов, содержащих детали для обновления.
- `textarea_list` (List[WebElement]): Список текстовых областей, в которые добавляются подписи.

**Обработка исключений**:
- `Exception`: В случае возникновения ошибок при обновлении подписей к медиафайлам.

### `promote_post`

**Описание**: Управляет процессом публикации сообщения с заголовком, описанием и медиафайлами.

**Параметры**:
- `d` (Driver): Экземпляр драйвера Selenium, используемый для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Объект, содержащий заголовок и описание для публикации.
- `products` (List[SimpleNamespace]): Список объектов, содержащих медиафайлы и детали для публикации.
- `no_video` (bool, optional): Флаг, определяющий, загружать ли видео. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если сообщение успешно опубликовано; `None`, в случае ошибки.