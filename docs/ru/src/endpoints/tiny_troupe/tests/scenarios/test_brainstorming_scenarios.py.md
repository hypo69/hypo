# Модуль тестирования сценария мозгового штурма

## Обзор

Модуль содержит тест `test_brainstorming_scenario`, который проверяет сценарий мозгового штурма с использованием `TinyPerson` в контексте `focus_group_world`. Основная цель теста - убедиться, что агенты могут генерировать идеи для нового продукта, обсуждать их и суммировать результаты обсуждения.

## Подробней

Этот модуль является частью системы тестирования `hypotez`. Он проверяет, как агенты взаимодействуют друг с другом для генерации идей. Модуль использует классы и функции из `tinytroupe`, а также вспомогательные функции из `testing_utils`.
В ходе тестирования происходит моделирование мозгового штурма, в котором участники (агенты) предлагают идеи для улучшения Microsoft Word с использованием AI. После обсуждения один из агентов (Lisa Carter) запрашивает итоговую сводку предложенных идей, которая затем анализируется для проверки соответствия заданным критериям.

## Функции

### `test_brainstorming_scenario`

```python
def test_brainstorming_scenario(setup, focus_group_world):
    """
    Запускает сценарий мозгового штурма и проверяет, что агент может суммировать предложенные идеи.

    Args:
        setup: Фикстура pytest для настройки тестовой среды.
        focus_group_world: Фикстура, представляющая мир агентов в контексте фокус-группы.

    Returns:
        None

    Raises:
        AssertionError: Если утверждение о наличии идей в результатах не выполняется.

    Example:
        Для запуска теста необходимо передать фикстуры `setup` и `focus_group_world`.

    """
```

**Назначение**:
Функция выполняет сценарий мозгового штурма, в котором агенты генерируют идеи для нового продукта, обсуждают их, а затем один из агентов суммирует результаты. Цель состоит в том, чтобы проверить способность агента суммировать информацию и генерировать идеи, соответствующие заданным критериям.

**Параметры**:
- `setup`: Фикстура pytest, используемая для настройки тестовой среды.
- `focus_group_world`: Фикстура, представляющая собой мир агентов в контексте фокус-группы.

**Возвращает**:
- `None`

**Вызывает исключения**:
- `AssertionError`: Вызывается, если утверждение о наличии идей для новых продуктов в результатах не выполняется.

**Как работает функция**:

1. **Настройка мира**: Функция принимает фикстуру `focus_group_world`, которая представляет собой мир агентов, участвующих в мозговом штурме.
2. **Рассылка задания**: Функция транслирует сообщение агентам с заданием сгенерировать идеи для новых AI-функций в Microsoft Word.
3. **Запуск мира**: Функция запускает мир на один шаг, чтобы агенты могли обсудить идеи.
4. **Запрос сводки**: Агент Lisa Carter запрашивает сводку предложенных идей.
5. **Извлечение результатов**: Функция использует `ResultsExtractor` для извлечения результатов из ответа агента.
6. **Проверка результатов**: Функция проверяет, содержит ли извлеченная сводка идеи для новых продуктов или функций.

```
Начало → Настройка мира
↓
Рассылка задания → Запуск мира
↓
Запрос сводки → Извлечение результатов
↓
Проверка результатов → Завершение
```

**Примеры**:

```python
# Пример запуска теста (предполагается, что фикстуры setup и focus_group_world уже определены)
def test_example(setup, focus_group_world):
    test_brainstorming_scenario(setup, focus_group_world)