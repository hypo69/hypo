# Модуль options.js

## Обзор

Этот файл JavaScript содержит код для страницы настроек расширения `try_path`. Он отвечает за загрузку и сохранение настроек расширения, таких как атрибуты и CSS стили.

## Функции

### `isValidAttrName`

**Описание**: Проверяет, является ли имя атрибута допустимым.

**Параметры**:

- `name` (str): Имя атрибута.

**Возвращает**:

- `bool`: `True`, если имя атрибута допустимо, `False` иначе.

**Вызывает исключения**:

- `e`: Если возникает ошибка во время установки атрибута.

### `isValidAttrNames`

**Описание**: Проверяет, являются ли имена всех атрибутов допустимыми.

**Параметры**:

- `names` (dict): Словарь имен атрибутов.

**Возвращает**:

- `bool`: `True`, если все имена атрибутов допустимы, `False` иначе.

### `isValidStyleLength`

**Описание**: Проверяет, является ли значение длины стиля допустимым.

**Параметры**:

- `len` (str): Значение длины стиля.

**Возвращает**:

- `bool`: `True`, если значение длины стиля допустимо, `False` иначе.

### `loadDefaultCss`

**Описание**: Загружает значения по умолчанию из файла CSS.

**Возвращает**:

- `Promise<string>`: Promise, содержащий результат запроса.

**Вызывает исключения**:

- `fu.onError`: Обработчик ошибок для `Promise`.


### `extractBodyStyles`

**Описание**: Извлекает значения ширины и высоты из CSS строки.

**Параметры**:

- `css` (str): Строка CSS.

**Возвращает**:

- `object`: Объект с полями `width` и `height`, содержащими значения ширины и высоты соответственно.

### `createPopupCss`

**Описание**: Создаёт CSS-строку для настройки стиля всплывающего окна.

**Параметры**:

- `bodyStyles` (object): Объект, содержащий значения `width` и `height` для тела всплывающего окна.

**Возвращает**:

- `string`: Строка CSS для настройки стиля всплывающего окна.


## Обработчики событий

### `addEventListener('load', ...)`

**Описание**: Обработчик события загрузки страницы. Инициализирует элементы страницы, загружает настройки из хранилища и устанавливает обработчики событий для кнопок сохранения и выбора значений по умолчанию.

**Вызывает исключения**:

- `fu.onError`: Обработчик ошибок для `Promise`.


## Описание глобальных переменных

- `elementAttr`, `contextAttr`, `focusedAttr`, `ancestorAttr`, `frameAttr`, `frameAncestorAttr`: Переменные, хранящие ссылки на HTML-элементы (input type="text") для ввода атрибутов.

- `style`: Переменная, хранящая ссылку на HTML-элемент (input type="text") для ввода CSS стилей.

- `popupBodyWidth`, `popupBodyHeight`: Переменные, хранящие ссылки на HTML-элементы (input type="text") для ввода ширины и высоты всплывающего окна.

- `message`: Переменная, хранящая ссылку на HTML-элемент (p) для вывода сообщений об успехе/ошибке.

- `defaultAttributes`: Словарь с настройками по умолчанию для атрибутов.

- `defaultPopupBodyStyles`: Словарь с настройками по умолчанию для стилей всплывающего окна.

- `testElement`: Переменная, используемая для проверки валидности имен атрибутов.

- `tx`, `fu`:  Псевдонимы для `tryxpath` и `tryxpath.functions`.

- `document`: Ссылка на глобальный объект `document`.

```
```
```javascript