# Задача No 106
## Специальные суммы наборов: проверка оптимальности
## Условия
Пусть S(A) обозначает сумму элементов в наборе A размера n. Назовём набор специальным, если для любых двух непересекающихся поднаборов B и C выполняются следующие условия:

1. S(B) ≠ S(C); т.е., суммы поднаборов не должны быть равны.
2. Если B содержит больше элементов, чем C, то S(B) > S(C).

Например, набор {81, 88, 75, 42, 87, 84, 86, 65} не является специальным, поскольку поднаборы {65, 87, 88} и {75, 81, 84} имеют одинаковую сумму.

Следующий набор из 8 элементов является специальным: {157, 150, 164, 119, 79, 161, 139, 158}.

Предположим, что уже было установлено, что для некоторого набора размера k, все поднаборы удовлетворяют условиям специальных наборов.
Рассмотрим возможность добавить еще один элемент к этому набору для получения специального набора размера k+1.

Если мы добавим этот новый элемент, то необходимо только проверить условие специальных наборов для всех пар поднаборов, где один из них содержит этот новый элемент, а другой нет.

Например, с использованием набора {3, 5, 6, 7}, который является специальным, мы можем заключить, что {3, 5, 6, 7, 12} также будет специальным (очевидно, при условии, что это множество останется отсортированным), потому что все суммы поднаборов {12} и {3, 5, 6, 7} должны удовлетворять правилам выше. Однако {3, 5, 6, 7, 15} не является специальным, поскольку поднабор {3, 5, 7} и {15} дают одинаковые суммы.

Учитывая, что каждый набор {a<sub>1</sub>, a<sub>2</sub>, ..., a<sub>n</sub>} является возрастающим, условие 2, очевидно, будет выполняться для всех наборов. Однако, условие 1 все еще нужно проверять (суммы поднаборов не должны быть равны).

Для набора размера n, сколько пар непересекающихся поднаборов необходимо проверить для того, чтобы убедиться, что набор является специальным?

Для того, чтобы понять это, рассмотрим наборы {a<sub>1</sub>, a<sub>2</sub>, ..., a<sub>n</sub>} с n = 4:
Нужно будет проверить следующие 10 пар непересекающихся подмножеств:
{a<sub>1</sub>} и {a<sub>2</sub>}, {a<sub>1</sub>} и {a<sub>3</sub>}, {a<sub>1</sub>} и {a<sub>4</sub>}, {a<sub>1</sub>} и {a<sub>2</sub>, a<sub>3</sub>}
{a<sub>1</sub>} и {a<sub>2</sub>, a<sub>4</sub>}, {a<sub>1</sub>} и {a<sub>3</sub>, a<sub>4</sub>}, {a<sub>2</sub>} и {a<sub>3</sub>}, {a<sub>2</sub>} и {a<sub>4</sub>}, {a<sub>3</sub>} и {a<sub>4</sub>},
{a<sub>1</sub>, a<sub>2</sub>} и {a<sub>3}, a<sub>4</sub>}.

Какое количество пар поднаборов нужно проверить для того, чтобы убедиться, что набор размера n = 12 является специальным?

**Примечание:** Эта проблема тесно связана с задачей 105; по существу, только дополнительная проверка суммы является необходимой.

