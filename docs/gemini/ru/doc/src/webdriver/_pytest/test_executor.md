# Модуль hypotez/src/webdriver/_pytest/test_executor.py

## Обзор

Этот модуль содержит тесты для класса `ExecuteLocator`, отвечающего за взаимодействие с веб-элементами.  Тесты проверяют различные сценарии, включая нахождение элементов, получение атрибутов и отправку сообщений.  Используется `unittest.mock` для создания фиктивных объектов веб-драйвера и элементов.

## Фикстуры

### `driver_mock`

**Описание**: Создаёт фиктивный объект веб-драйвера, который используется в тестах.

**Возвращает**:
- `MagicMock`: Объект `MagicMock`, имитирующий веб-драйвер.

### `execute_locator`

**Описание**: Создает экземпляр класса `ExecuteLocator` с фиктивным веб-драйвером, предоставляя его для тестов.

**Параметры**:
- `driver_mock`: Объект, имитирующий веб-драйвер.

**Возвращает**:
- `ExecuteLocator`: Экземпляр класса `ExecuteLocator` с заданным фиктивным веб-драйвером.


## Тесты

### `test_get_webelement_by_locator_single_element`

**Описание**: Проверяет получение одного элемента по локатору.

**Параметры**:
- `execute_locator`: Экземпляр класса `ExecuteLocator`.
- `driver_mock`: Фиктивный объект веб-драйвера.

**Возвращает**:
- `WebElement`: Находит и возвращает единственный элемент, соответствующий локатору.

**Проверяемые условия**:
- Вызывается метод `driver_mock.find_elements` с правильным локатором (в данном случае XPATH).
- Возвращаемое значение соответствует ожидаемому элементу.


### `test_get_webelement_by_locator_multiple_elements`

**Описание**: Проверяет получение нескольких элементов по локатору.

**Параметры**:
- `execute_locator`: Экземпляр класса `ExecuteLocator`.
- `driver_mock`: Фиктивный объект веб-драйвера.

**Возвращает**:
- `list[WebElement]`: Возвращает список элементов, соответствующих локатору.


**Проверяемые условия**:
- Вызывается метод `driver_mock.find_elements` с правильным локатором.
- Возвращаемое значение соответствует ожидаемому списку элементов.


### `test_get_webelement_by_locator_no_element`

**Описание**: Проверяет случай, когда по локатору элемент не найден.

**Параметры**:
- `execute_locator`: Экземпляр класса `ExecuteLocator`.
- `driver_mock`: Фиктивный объект веб-драйвера.

**Возвращает**:
- `False`: Возвращает `False`, если по локатору элемент не найден.

**Проверяемые условия**:
- Вызывается метод `driver_mock.find_elements` с правильным локатором.
- Возвращаемое значение равно `False`, так как список элементов пустой.


### `test_get_attribute_by_locator`

**Описание**: Проверяет получение атрибута элемента по локатору.

**Параметры**:
- `execute_locator`: Экземпляр класса `ExecuteLocator`.
- `driver_mock`: Фиктивный объект веб-драйвера.

**Возвращает**:
- `str`: Возвращает значение атрибута элемента.

**Проверяемые условия**:
- Вызывается метод `driver_mock.find_elements` для поиска элементов по локатору.
- Вызывается метод `element.get_attribute` для получения значения атрибута.
- Проверяется корректность возвращаемого значения атрибута.


### `test_send_message`

**Описание**: Проверяет отправку сообщения элементу.

**Параметры**:
- `execute_locator`: Экземпляр класса `ExecuteLocator`.
- `driver_mock`: Фиктивный объект веб-драйвера.

**Возвращает**:
- `True`: Возвращает `True` в случае успешной отправки сообщения.

**Проверяемые условия**:
- Вызывается метод `driver_mock.find_elements` для поиска элементов по локатору.
- Вызывается метод `element.send_keys` для отправки сообщения элементу.
- Проверяется, что метод `element.send_keys` был вызван с правильным сообщением.


### `test_send_message_typing_speed`

**Описание**: Проверяет отправку сообщения элементу с задержкой между символами.

**Параметры**:
- `execute_locator`: Экземпляр класса `ExecuteLocator`.
- `driver_mock`: Фиктивный объект веб-драйвера.

**Возвращает**:
- `True`: Возвращает `True` в случае успешной отправки сообщения с задержкой.

**Проверяемые условия**:
- Вызывается метод `driver_mock.find_elements` для поиска элементов по локатору.
- Вызывается метод `element.send_keys` для отправки сообщения элементу с заданной задержкой.
- Проверяется, что `time.sleep` был вызван с заданной скоростью ввода.
- Проверяется, что метод `element.send_keys` был вызван нужное количество раз.