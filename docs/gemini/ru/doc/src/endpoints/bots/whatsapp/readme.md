# Автоматизированная отправка сообщений WhatsApp

## Обзор

Данный модуль предоставляет руководство и пример кода для автоматической отправки сообщений через WhatsApp с использованием Python. Он включает в себя информацию о необходимых библиотеках, процессе разработки и возможных проблемах.

## Подробней

Этот документ описывает, как создать скрипт Python для автоматической отправки сообщений WhatsApp. Пользователь может настроить количество отправляемых сообщений и временной диапазон. Для стабильной работы необходимо следить за обновлениями библиотек и веб-версии WhatsApp.

## Оглавление

- [Введение](#введение)
- [Необходимые компоненты](#необходимые-компоненты)
- [Процесс разработки](#процесс-разработки)
- [Возможные проблемы и решения](#возможные-проблемы-и-решения)
- [Код (пример)](#код-пример)
- [Выполнение скрипта](#выполнение-скрипта)

## Введение

### 1.1. Назначение

В данном документе описывается процесс разработки автоматизированного скрипта на языке Python, предназначенного для отправки случайных сообщений WhatsApp в течение определенного периода времени.

### 1.2. Целевая аудитория

Данное руководство предназначено для разработчиков, имеющих базовые знания языка Python и понимание работы с командной строкой.

### 1.3. Предпосылки

Перед использованием данного руководства, необходимо наличие установленного Python 3.6+ и менеджера пакетов pip.

## Необходимые компоненты

### 2.1. Библиотеки Python

*   `pywhatkit`: Для взаимодействия с веб-версией WhatsApp и отправки сообщений.
*   `pyautogui`: Для автоматизации действий мыши и клавиатуры.
*   `pynput`: Для контроля клавиатурного ввода.
*   `emoji`: Для добавления эмодзи в сообщения.
*   `random`: Для генерации случайных сообщений и времени.
*   `time`: Для управления задержками и временем выполнения.

### 2.2. Зависимости

Установка указанных библиотек выполняется посредством pip:

```bash
pip install pywhatkit pyautogui pynput emoji
```

### 2.3. Требования к системе

Операционная система с установленным веб-браузером (например, Chrome или Firefox) и возможностью подключения к WhatsApp Web.

## Процесс разработки

### 3.1. Функция отправки сообщений (`send_whatsapp_message`)

**Описание**: Функция для отправки сообщений через WhatsApp.

**Параметры**:

*   `phone_number` (str): Номер телефона получателя (с кодом страны).
*   `message` (str): Текст сообщения.
*   `hour` (int): Час отправки сообщения (0-23).
*   `minutes` (int): Минуты отправки сообщения (0-59).

**Реализация**:

1.  Использование `pywhatkit.sendwhatmsg` для инициализации отправки сообщения.
2.  Применение `time.sleep` для задержки загрузки веб-версии WhatsApp.
3.  Применение `pyautogui` и `pynput` для имитации нажатия клавиши "Enter" для отправки сообщения.
4.  Обработка исключений с помощью блока `try...except` для вывода ошибок.

### 3.2. Банк сообщений

**Описание**: Создание и использование списка сообщений для отправки.

**Реализация**:

*   Создание списка строк (`messages`) для хранения сообщений.
*   Использование `emoji.emojize` для добавления эмодзи.
*   Применение `random.choice` для случайного выбора сообщения.

### 3.3. Пользовательский ввод

**Описание**: Получение данных от пользователя для настройки отправки сообщений.

**Реализация**:

*   Получение количества сообщений (`num_messages`) с помощью функции `input`.
*   Получение начального часа (`start_hour`) и конечного часа (`end_hour`) диапазона отправки с помощью `input`.

### 3.4. Основной цикл отправки

**Описание**: Цикл, выполняющий отправку сообщений в заданном количестве и временном диапазоне.

**Реализация**:

*   Цикл `while` выполняется, пока счетчик сообщений (`message_count`) не достигнет заданного количества (`num_messages`).
*   Генерация случайного часа и минут с помощью `random.randint`.
*   Вызов функции `send_whatsapp_message` с полученными данными.
*   Увеличение счетчика сообщений.

## Возможные проблемы и решения

### 4.1. Проблемы с `pywhatkit`

В случае неудачной автоматической отправки сообщения, использовать `pyautogui` и `pynput` для эмуляции нажатия клавиш и отправки сообщения.

### 4.2. Подключение к WhatsApp Web

При первом использовании необходимо подключение к веб-версии WhatsApp через веб-браузер.

### 4.3. Динамическая задержка

Скорость загрузки веб-версии WhatsApp может меняться, поэтому для стабильности увеличьте время задержки.

### 4.4. Зависимость от браузера и версии WhatsApp

Изменения в браузере или веб-версии WhatsApp могут потребовать корректировки скрипта.

## Код (пример)

```python
# ... (Код ) ...
```

## Выполнение скрипта

*   Сохраните скрипт в файл с расширением `.py`.
*   Выполните скрипт в терминале с помощью команды: `python имя_файла.py`
*   Следуйте инструкциям на экране для ввода необходимых данных.