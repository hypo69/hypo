# Анализ кода модуля basebl.py
 
 **Качество кода**
 
 -  **Соответствие требованиям к формату кода (1-10):**
     - **Преимущества:**
         - Код хорошо структурирован и разделен на логические функции.
         - Используются осмысленные имена переменных и функций.
         - Присутствует подробное описание алгоритма и блок-схема в комментариях.
         - Код прост для понимания и модификации.
     - **Недостатки:**
         - Отсутствует использование `j_loads` или `j_loads_ns` из `src.utils.jjson`.
         - Отсутствует логирование ошибок с помощью `from src.logger.logger import logger`.
         - Отсутствует форматирование docstring в reStructuredText (RST).
         - Отсутствует обработка возможных ошибок ввода.
         - Не все комментарии соответствуют стандарту docstring.
 
 **Рекомендации по улучшению**
 
 1.  **Импорты:**
     - Добавить `from src.logger.logger import logger` для логирования ошибок.
 2.  **Обработка ввода:**
     - Добавить проверку на ошибки при вводе пользователя, например, когда введено не число или пустая строка.
 3.  **Форматирование docstring:**
     - Переписать все docstring в формате reStructuredText (RST).
 4.  **Логирование ошибок:**
     - Заменить `print` на `logger.error` для вывода ошибок.
 5.  **Использование `j_loads`:**
     - В данном коде нет необходимости использовать `j_loads`, так как он не работает с файлами.
 
 **Улучшенный код**
 ```python
 """
 Модуль для игры в "Бейсбол"
 =========================================================================================
 
 Модуль реализует игру "Бейсбол", в которой компьютер загадывает четырехзначное число,
 а игрок пытается его угадать, получая подсказки в виде количества "страйков" (совпадение цифры и позиции)
 и "боллов" (совпадение цифры на неправильной позиции).
 
 Примеры использования
 --------------------
 
 .. code-block:: python
 
     if __name__ == "__main__":
         play_baseball()
 """
 import random
 from src.logger.logger import logger  # Импортируем logger для логирования ошибок
 
 
 def generate_target_number() -> str:
     """
     Генерирует случайное 4-значное число с уникальными цифрами.
 
     :return: Случайное 4-значное число в виде строки.
     :rtype: str
     """
     digits = list(range(10))  # Создаем список цифр от 0 до 9
     random.shuffle(digits)  # Перемешиваем цифры
     # Берем первые 4 цифры и преобразуем их в строку
     return ''.join(map(str, digits[:4]))
 
 
 def get_user_guess() -> str:
     """
     Запрашивает ввод 4-значного числа у пользователя и проверяет его корректность.
 
     :return: Корректно введенное 4-значное число.
     :rtype: str
     
     :raises ValueError: Если пользователь вводит некорректные данные.
     """
     while True:
         try:
             guess = input("Введите 4-значное число: ")  # Запрашиваем ввод 4-значного числа
             if not guess:
                 logger.error('Ввод не может быть пустым') # Добавили проверку на пустой ввод
                 continue
             if len(guess) != 4 or not guess.isdigit():  # Проверяем, что ввод состоит из 4 цифр
                 print("Некорректный ввод. Пожалуйста, введите 4-значное число.")
                 continue
             return guess
         except Exception as ex:  # Обрабатываем возможные ошибки ввода
             logger.error(f'Ошибка ввода {ex}') # Логируем ошибки ввода
 
 
 def calculate_score(target: str, guess: str) -> tuple[int, int]:
     """
     Вычисляет количество страйков и боллов.
 
     :param target: Загаданное число.
     :type target: str
     :param guess: Число, введенное пользователем.
     :type guess: str
     :return: Кортеж с количеством страйков и боллов.
     :rtype: tuple[int, int]
     """
     strikes = 0  # Инициализируем счетчик страйков
     balls = 0  # Инициализируем счетчик боллов
     for i in range(4):
         if guess[i] == target[i]:
             strikes += 1  # Увеличиваем страйк, если цифры и позиции совпадают
         elif guess[i] in target:
             balls += 1  # Увеличиваем болл, если цифра есть, но не на своей позиции
     return strikes, balls
 
 
 # Основная логика игры
 def play_baseball():
     """Запускает игру "Бейсбол"."""
     target_number = generate_target_number()  # Генерируем загаданное число
     print("Добро пожаловать в игру Бейсбол!")  # Выводим приветствие
     print("Я загадал 4-значное число. Попробуй угадать его.")  # Информируем о задаче
 
     while True:  # Начинаем бесконечный цикл
         user_guess = get_user_guess()  # Получаем ввод пользователя
         strikes, balls = calculate_score(target_number, user_guess)  # Вычисляем страйки и боллы
 
         print(f"{strikes} страйков, {balls} боллов")  # Выводим результат
         if strikes == 4:
             print("ПОЗДРАВЛЯЮ! Вы угадали число!")  # Поздравление и завершение игры
             break
 
 
 if __name__ == "__main__":
     play_baseball()  # Запускаем игру
 
 """
 Объяснение кода:
 
 1.  **Импорт модуля `random`:**
     -   `import random`: импортирует модуль для генерации случайных чисел.
     -   `from src.logger.logger import logger`: импортирует модуль logger для логирования ошибок
 
 2.  **Функция `generate_target_number()`:**
     -   `digits = list(range(10))`: создает список цифр от 0 до 9.
     -   `random.shuffle(digits)`: перемешивает цифры случайным образом.
     -   `return "".join(map(str, digits[:4]))`: берет первые 4 цифры из перемешанного списка, преобразует их в строки и объединяет в одну строку, которая возвращается как загаданное число.
 
 3.  **Функция `get_user_guess()`:**
     -   `while True:`: запускает бесконечный цикл, пока пользователь не введет корректное число.
     -   `guess = input("Введите 4-значное число: ")`: запрашивает ввод 4-значного числа у пользователя.
     -  `if not guess: logger.error('Ввод не может быть пустым')`: проверяет ввод на пустоту.
     -   `if len(guess) == 4 and guess.isdigit()`: проверяет, является ли длина ввода 4 символа и состоит ли он только из цифр.
     -   `return guess`: возвращает введенное число, если оно корректно.
     -   `else`: если ввод некорректен, выводит сообщение об ошибке.
     -    `except Exception as ex`:  обрабатываем возможные ошибки ввода.
 
 4.  **Функция `calculate_score(target, guess)`:**
     -   `strikes = 0` и `balls = 0`: инициализирует счетчики страйков и боллов.
     -   `for i in range(4)`: проходит по каждой цифре введенного числа.
     -   `if guess[i] == target[i]`: проверяет, совпадает ли цифра и её позиция. Если да, увеличивает счетчик страйков.
     -   `elif guess[i] in target`: проверяет, присутствует ли цифра во введенном числе в загаданном числе, но на другой позиции. Если да, увеличивает счетчик боллов.
     -   `return strikes, balls`: возвращает количество страйков и боллов.
 
 5.  **Функция `play_baseball()`:**
     -   `target_number = generate_target_number()`: генерирует загаданное число.
     -   `print("Добро пожаловать в игру Бейсбол!")` и `print("Я загадал 4-значное число. Попробуй угадать его.")`: выводят приветствие и правила игры.
     -   `while True:`: основной игровой цикл.
     -   `user_guess = get_user_guess()`: получает ввод от пользователя.
     -   `strikes, balls = calculate_score(target_number, user_guess)`: вычисляет страйки и боллы.
     -   `print(f"{strikes} страйков, {balls} боллов")`: выводит результат текущей попытки.
     -   `if strikes == 4:`: проверяет, не угадано ли число.
     -   `print("ПОЗДРАВЛЯЮ! Вы угадали число!")` и `break`: выводит сообщение о победе и завершает цикл.
 
 6.  **Условие `if __name__ == "__main__":`:**
     -   `if __name__ == "__main__":`: гарантирует, что функция `play_baseball()` будет запущена, только если файл исполняется напрямую, а не импортируется как модуль.
     -   `play_baseball()`: вызывает функцию для начала игры.
 """
 ```