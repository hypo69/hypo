# Модуль app.js

## Обзор

Данный файл содержит код React компонента для чат-бота, использующего API на основе FastAPI. Компонент отображает диалог между пользователем и ботом, отправляя запросы на сервер и обрабатывая полученные ответы.

## Компоненты

### `App`

**Описание**: Функциональный компонент, представляющий интерфейс чат-бота. Он отвечает за отображение истории диалога, ввод пользователя и отправку сообщений на сервер.

**Методы**

- `sendMessage`: Отправляет сообщение на сервер и обновляет состояние чата.

**Состояние**

- `input`: Текст сообщения, введённый пользователем.
- `messages`: Массив объектов, содержащий историю диалога. Каждый объект представляет собой сообщение с ролью (user или assistant) и содержанием.

**Обработка**

- При отправке сообщения проверяет, не пусто ли поле ввода.
- Создает объект сообщения с ролью "user" и отправляет его в историю.
- Отправляет POST запрос к API на сервере с введённым сообщением.
- Обрабатывает ответ сервера, добавляя сообщение AI в историю.
- Обрабатывает возможные ошибки при запросе к API.
- Очищает поле ввода после отправки сообщения.

**Вывод**

- Отображает историю сообщений с правильной форматированием (слева/справа).
- Отображает поле ввода и кнопку отправки сообщения.

## Функции

### `sendMessage`

**Описание**: Функция отправляет сообщение на сервер и обновляет состояние чата.

**Параметры**:

- Нет явных параметров.


**Возвращает**:
-  Не возвращает значение.

**Обработка исключений**:

- `ex` (Error): Обрабатывает возможные ошибки при запросе к API. Выводит сообщение об ошибке в консоль.


## Пример использования

```javascript
ReactDOM.render(<App />, document.getElementById('chat-app'));
```

Этот код рендерит компонент `App` в элемент с id 'chat-app'.


```javascript
// Пример объекта сообщения
const userMessage = {
  role: "user",
  content: "Привет, бот!"
};
```

```javascript
// Пример обработчика ошибок
try {
  // ... код
} catch (error) {
  console.error("Error:", error);
}
```
```


```javascript
// Пример обновления состояния
setMessages([...messages, userMessage]);
```


```javascript
// Пример отображения сообщения
<div key={index} className={msg.role === "user" ? "text-right" : "text-left"}>
  <strong>{msg.role === "user" ? "You" : "AI"}:</strong> {msg.content}
</div>
```