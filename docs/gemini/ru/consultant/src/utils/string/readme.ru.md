# Анализ кода модуля `readme.ru.md`

## Качество кода:
- **Соответствие стандартам**: 7
- **Плюсы**:
    - Хорошее структурирование документации с использованием заголовков и подзаголовков.
    - Наличие примеров использования для каждой функции.
    - Описание назначения каждой функции и типов аргументов.
    - Разделение на разделы, облегчающее навигацию.
- **Минусы**:
    - Документация представлена в формате `rst`, который не подходит для `readme.ru.md`.
    - Отсутствие ссылок на исходный код функций и модуля в целом.
    - Некоторая избыточность и дублирование информации в описаниях функций.
    - Не хватает указания на потенциальные исключения, которые могут возникнуть при использовании функций.
    - Ссылки в разделе [Содержание] не работают из-за отсутствия соответствующей разметки.
    - Раздел `Требования` не содержит детальной информации об используемых библиотеках.
    - Отсутствие информации о том, как обрабатываются некорректные входные данные.

## Рекомендации по улучшению:
1. **Изменить формат документации**:
    - Использовать формат `markdown` для файла `readme.ru.md`, а не `rst`. Это обеспечит правильное отображение документации на платформах, таких как GitHub.
    - Использовать заголовки Markdown (`#`, `##`, `###`) вместо `rst` заголовков.

2. **Сделать разделы интерактивными**:
    - Добавить анкоры (`<a name="section-name"></a>`) для корректной работы ссылок в разделе [Содержание].
    - Сделать ссылки на функции рабочими, указав на соответствующие места в коде.

3. **Улучшить описание функций**:
    - Уточнить, какие типы данных ожидаются на вход, и как обрабатываются некорректные данные.
    - Добавить информацию о возможных исключениях, которые могут быть вызваны функциями.
    - Избегать излишнего повторения в описаниях функций (например, "Преобразует входное значение..."). Можно просто указать, что делает функция, и какие данные она обрабатывает.
    - Перефразировать описания функций для большей ясности. Например, вместо "Преобразует входное значение в булево" можно написать "Преобразует данные в булево значение".

4. **Расширить раздел "Требования"**:
    - Добавить список конкретных библиотек, которые используются модулем (если таковые имеются).
    - Указать, что `src.logger` используется для логирования, и добавить пример его использования.

5. **Добавить информацию об обработке ошибок**:
    - Описать, как модуль обрабатывает ошибки и как они логируются.
    - Уточнить, какие виды ошибок могут возникнуть и как их можно избежать.

6. **Пересмотреть примеры использования**:
    - Примеры использования должны быть простыми и понятными.
    - Пример `clean_str` стоит разбить на несколько операций, чтобы показать работу каждой функции по отдельности.
    - Обосновать необходимость использования модуля, продемонстрировав его преимущества на практическом примере.

## Оптимизированный код:

```markdown
# Документация модуля нормализации данных

Модуль `normalizer` предоставляет функциональность для нормализации различных типов данных, включая строки, булевы значения, целые числа и числа с плавающей запятой. Он также включает вспомогательные функции для обработки текста.

---

## Содержание

1.  [Обзор](#обзор)
2.  [Функции модуля](#функции-модуля)
    -   [normalize_boolean](#normalize_boolean)
    -   [normalize_string](#normalize_string)
    -   [normalize_int](#normalize_int)
    -   [normalize_float](#normalize_float)
    -   [remove_line_breaks](#remove_line_breaks)
    -   [remove_html_tags](#remove_html_tags)
    -   [remove_special_characters](#remove_special_characters)
    -   [normalize_sql_date](#normalize_sql_date)
3.  [Пример использования](#пример-использования)
4.  [Требования](#требования)

---
<a name="обзор"></a>
## Обзор

Модуль предоставляет удобные утилиты для нормализации и обработки данных. Его можно использовать для:
-   Удаления HTML тегов из строк.
-   Преобразования строк в числовые или булевы значения.
-   Очистки строк от специальных символов.
-   Преобразования списков строк в одну нормализованную строку.
<a name="функции-модуля"></a>
---

## Функции модуля
<a name="normalize_boolean"></a>
### `normalize_boolean`

**Описание:**
Преобразует данные в булево значение.

**Аргументы:**
- `input_data (Any)`: Данные, которые могут представлять булево значение (строка, число, булев тип).

**Возвращает:**
- `bool`: Преобразованное булево значение.

**Пример:**
```python
normalize_boolean('yes')  # Результат: True
normalize_boolean(0)      # Результат: False
```

---
<a name="normalize_string"></a>
### `normalize_string`

**Описание:**
Преобразует строку или список строк в нормализованную строку, удаляя лишние пробелы, HTML теги и специальные символы.

**Аргументы:**
- `input_data (str | list)`: Строка или список строк.

**Возвращает:**
- `str`: Очищенная строка в кодировке UTF-8.

**Пример:**
```python
normalize_string(['  Example string  ', '<b>with HTML</b>'])  # Результат: 'Example string with HTML'
```

---
<a name="normalize_int"></a>
### `normalize_int`

**Описание:**
Преобразует входные данные в целое число.

**Аргументы:**
- `input_data (str | int | float | Decimal)`: Число или его строковое представление.

**Возвращает:**
- `int`: Преобразованное целое число.

**Пример:**
```python
normalize_int('42')  # Результат: 42
normalize_int(3.14)  # Результат: 3
```

---
<a name="normalize_float"></a>
### `normalize_float`

**Описание:**
Преобразует входные данные в число с плавающей запятой.

**Аргументы:**
- `value (Any)`: Число, строка или список чисел.

**Возвращает:**
- `float | List[float] | None`: Число с плавающей запятой, список чисел с плавающей запятой или `None` в случае ошибки.

**Пример:**
```python
normalize_float('3.14')         # Результат: 3.14
normalize_float([1, '2.5', 3])  # Результат: [1.0, 2.5, 3.0]
```

---
<a name="remove_line_breaks"></a>
### `remove_line_breaks`

**Описание:**
Удаляет символы новой строки из строки.

**Аргументы:**
- `input_str (str)`: Входная строка.

**Возвращает:**
- `str`: Строка без символов новой строки.

**Пример:**
```python
remove_line_breaks('String\\nwith line breaks\\r')  # Результат: 'String with line breaks'
```

---
<a name="remove_html_tags"></a>
### `remove_html_tags`

**Описание:**
Удаляет HTML теги из строки.

**Аргументы:**
- `input_html (str)`: Входная строка с HTML тегами.

**Возвращает:**
- `str`: Строка без HTML тегов.

**Пример:**
```python
remove_html_tags('<p>Example text</p>')  # Результат: 'Example text'
```

---
<a name="remove_special_characters"></a>
### `remove_special_characters`

**Описание:**
Удаляет специальные символы из строки или списка строк.

**Аргументы:**
- `input_str (str | list)`: Строка или список строк.

**Возвращает:**
- `str | list`: Строка или список строк без специальных символов.

**Пример:**
```python
remove_special_characters('Hello@World!')  # Результат: 'HelloWorld'
```

---
<a name="normalize_sql_date"></a>
### `normalize_sql_date`

**Описание:**
Преобразует строку или объект `datetime` в стандартный формат SQL даты (`YYYY-MM-DD`).

**Аргументы:**
- `input_data (str | datetime)`: Строка или объект `datetime`, представляющий дату.

**Возвращает:**
- `str`: Нормализованная дата в формате строки `YYYY-MM-DD`.

**Пример:**
```python
normalize_sql_date('2024-12-06')  # Результат: '2024-12-06'
normalize_sql_date(datetime(2024, 12, 6))  # Результат: '2024-12-06'
```

---
<a name="пример-использования"></a>
## Пример использования

```python
from src.utils.string.normalizer import normalize_string, normalize_boolean, normalize_int, normalize_float, normalize_sql_date

# Нормализация строки
html_string = '<h1>Header</h1>'
spaced_string = '  text with spaces  '
clean_str1 = normalize_string(html_string) #  'Header'
clean_str2 = normalize_string(spaced_string) # 'text with spaces'
print(clean_str1, clean_str2) # Выведет: Header text with spaces
clean_str = normalize_string([html_string, spaced_string]) # Выведет: Header text with spaces
print(clean_str)

# Нормализация булевого значения
is_active = normalize_boolean('Yes')
print(is_active)  # True

# Нормализация целого числа
integer_value = normalize_int('42')
print(integer_value)  # 42

# Нормализация числа с плавающей запятой
float_value = normalize_float('3.14159')
print(float_value)  # 3.14159

# Нормализация SQL даты
sql_date = normalize_sql_date('2024-12-06')
print(sql_date)  # '2024-12-06'
```

---
<a name="требования"></a>
## Требования

-   Python 3.10 или выше.
-   Модуль `src.logger` для логирования ошибок и предупреждений.
    -   Ошибки записываются с использованием `logger.error`.
    -   Неожиданные значения записываются с использованием `logger.debug` или `logger.warning`.

---

## Логирование

Все ошибки и предупреждения записываются через `logger`.
Пример:
```python
from src.logger import logger

try:
    result = normalize_int("abc")
except Exception as e:
    logger.error(f"Ошибка при нормализации целого числа: {e}")
```
```