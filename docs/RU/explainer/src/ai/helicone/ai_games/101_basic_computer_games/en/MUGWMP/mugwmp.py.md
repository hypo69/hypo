## <алгоритм>

### Описание рабочего процесса:

1.  **Генерация секретного числа**:
    *   Вызывается функция `generate_secret_number()`, которая создает случайное 4-значное число с уникальными цифрами.
        *   Пример: `secretNumber` = "1234".
2.  **Инициализация количества попыток**:
    *   Переменная `numberOfGuesses` устанавливается в 0.
        *   Пример: `numberOfGuesses` = 0.
3.  **Начало основного цикла**:
    *   Запускается цикл `while True`, который продолжается до тех пор, пока игрок не угадает число.
4.  **Увеличение количества попыток**:
    *   Значение переменной `numberOfGuesses` увеличивается на 1.
        *   Пример: `numberOfGuesses` = 1.
5.  **Запрос ввода пользователя**:
    *   Запускается внутренний цикл `while True`, который запрашивает у пользователя 4-значное число с уникальными цифрами.
        *   Пример: `userGuess` = "1256".
6.  **Проверка корректности ввода**:
    *   Проверяется, что введенная строка:
        *   Имеет длину 4 символа.
        *   Состоит только из цифр.
        *   Содержит только уникальные цифры.
    *   Если проверка не пройдена, выводится сообщение об ошибке, и цикл запроса ввода повторяется.
        *   Пример: если введено "123", выводится сообщение об ошибке и запрашивается повторный ввод.
    *   Если проверка пройдена, цикл завершается.
7.  **Проверка победы**:
    *   Сравнивается `userGuess` с `secretNumber`.
        *   Если `userGuess` == `secretNumber`, выводится сообщение о победе, и основной цикл завершается.
        *   Пример: если `secretNumber` = "1234" и `userGuess` = "1234", игра заканчивается, выводится сообщение "YOU GOT IT IN ...".
        *   Если `userGuess` != `secretNumber`, игра продолжается.
8.  **Подсчет MUG и WMP**:
    *   Вызывается функция `count_mug_wmp()`, которая подсчитывает количество MUG и WMP.
        *   MUG - количество цифр, угаданных и стоящих на своих местах.
        *   WMP - количество цифр, угаданных, но стоящих не на своих местах.
        *   Пример: если `secretNumber` = "1234" и `userGuess` = "1325", то `mug` = 1 (цифра 1 на своем месте), `wmp` = 2 (цифры 2 и 3 есть в `secretNumber`, но не на своих местах).
9.  **Вывод подсказки**:
    *   Выводится сообщение в формате "MUG = X, WMP = Y".
        *   Пример: "MUG = 1, WMP = 2".
10. **Возврат к началу цикла**:
    *   Основной цикл продолжается с шага 4, пока игрок не угадает число.

## <mermaid>

```mermaid
flowchart TD
    Start(Начало игры) --> GenerateSecretNumber[Генерация секретного 4-значного числа: <code>secretNumber = generate_secret_number()</code>];
    GenerateSecretNumber --> InitializeAttempts[Инициализация счетчика попыток: <code>numberOfGuesses = 0</code>];
    InitializeAttempts --> MainLoopStart{Начало основного цикла: <code>while True</code>};
    MainLoopStart -- Итерация --> IncreaseGuesses[Увеличение счетчика попыток: <code>numberOfGuesses += 1</code>];
    IncreaseGuesses --> InputUserGuessStart{Начало цикла ввода: <code>while True</code>};
    InputUserGuessStart --> InputUserGuess[Запрос ввода 4-значного числа: <code>userGuess = input(...)</code>];
    InputUserGuess --> ValidateUserGuess[Проверка корректности ввода: <code>len(userGuess) == 4 and userGuess.isdigit() and len(set(userGuess)) == 4</code>];
    ValidateUserGuess -- Нет --> InputErrorMessage[Вывод сообщения об ошибке ввода];
    InputErrorMessage --> InputUserGuessStart;
    ValidateUserGuess -- Да --> InputUserGuessEnd;
    InputUserGuessEnd --> CheckWinCondition[Проверка условия победы: <code>userGuess == secretNumber</code>];
    CheckWinCondition -- Да --> OutputWinMessage[Вывод сообщения о победе: <code>print(f"YOU GOT IT IN {numberOfGuesses} GUESSES!")</code>];
    OutputWinMessage --> End(Конец игры);
    CheckWinCondition -- Нет --> CalculateMugWmp[Расчет MUG и WMP: <code>mug, wmp = count_mug_wmp(secretNumber, userGuess)</code>];
    CalculateMugWmp --> OutputMugWmpMessage[Вывод подсказки MUG и WMP: <code>print(f"MUG = {mug}, WMP = {wmp}")</code>];
    OutputMugWmpMessage --> MainLoopStart;
    MainLoopStart -- Условие выхода --> End;

    style Start fill:#f9f,stroke:#333,stroke-width:2px
    style End fill:#f9f,stroke:#333,stroke-width:2px
```

### Объяснение `mermaid` диаграммы:

1. **`Start(Начало игры)`**: Обозначает начало выполнения программы.
2. **`GenerateSecretNumber[Генерация секретного 4-значного числа: secretNumber = generate_secret_number()]`**: Вызов функции `generate_secret_number()` для получения случайного четырехзначного числа с уникальными цифрами.
3. **`InitializeAttempts[Инициализация счетчика попыток: numberOfGuesses = 0]`**: Установка начального значения счетчика количества попыток, которое будет использовано для подсчета ходов пользователя.
4. **`MainLoopStart{Начало основного цикла: while True}`**: Начало основного цикла игры, который продолжается до тех пор, пока пользователь не угадает число.
5. **`IncreaseGuesses[Увеличение счетчика попыток: numberOfGuesses += 1]`**: Увеличение счетчика попыток на 1 при каждой итерации основного цикла.
6. **`InputUserGuessStart{Начало цикла ввода: while True}`**: Начало цикла ввода, который проверяет корректность пользовательского ввода и повторяется до тех пор, пока ввод не станет корректным.
7. **`InputUserGuess[Запрос ввода 4-значного числа: userGuess = input(...)]`**: Получение пользовательского ввода четырехзначного числа.
8. **`ValidateUserGuess[Проверка корректности ввода: len(userGuess) == 4 and userGuess.isdigit() and len(set(userGuess)) == 4]`**: Проверка корректности ввода пользователя (длина, состоит ли из цифр, уникальность).
9. **`InputErrorMessage[Вывод сообщения об ошибке ввода]`**: Вывод сообщения об ошибке, если ввод некорректен.
10. **`InputUserGuessEnd`**: Маркер выхода из цикла ввода.
11. **`CheckWinCondition[Проверка условия победы: userGuess == secretNumber]`**: Проверка, угадано ли число.
12. **`OutputWinMessage[Вывод сообщения о победе: print(f"YOU GOT IT IN {numberOfGuesses} GUESSES!") ]`**: Вывод сообщения о победе и количества попыток, если число угадано.
13. **`End(Конец игры)`**: Обозначает конец выполнения программы.
14. **`CalculateMugWmp[Расчет MUG и WMP: mug, wmp = count_mug_wmp(secretNumber, userGuess)]`**: Вызов функции `count_mug_wmp` для подсчета MUG и WMP.
15. **`OutputMugWmpMessage[Вывод подсказки MUG и WMP: print(f"MUG = {mug}, WMP = {wmp}") ]`**: Вывод количества MUG и WMP для пользователя.

## <объяснение>

### Импорты:

*   `import random`: Модуль `random` используется для генерации случайного четырехзначного числа с уникальными цифрами. Это ключевой компонент для обеспечения непредсказуемости в игре.

### Функции:

1.  **`generate_secret_number()`**:
    *   **Аргументы**: Нет аргументов.
    *   **Возвращаемое значение**: `str`. Возвращает строку, представляющую случайное 4-значное число с уникальными цифрами.
    *   **Назначение**: Генерирует секретное число, которое игрок должен угадать.
    *   **Пример**: Вызов `generate_secret_number()` может вернуть строку "5678".

2.  **`count_mug_wmp(secret, guess)`**:
    *   **Аргументы**:
        *   `secret` (str): Секретное число, сгенерированное компьютером.
        *   `guess` (str): Предположение игрока.
    *   **Возвращаемое значение**: `tuple`. Возвращает кортеж, содержащий два целых числа: количество `MUG` (цифры на своих местах) и `WMP` (цифры не на своих местах).
    *   **Назначение**: Сравнивает предположение игрока с секретным числом и подсчитывает количество правильно угаданных цифр на своих местах (`MUG`) и правильно угаданных цифр не на своих местах (`WMP`).
    *   **Пример**: Если `secret = "1234"` и `guess = "1325"`, то `count_mug_wmp(secret, guess)` вернет `(1, 2)`.

### Переменные:

*   `secret_number` (`str`): Содержит секретное четырехзначное число, сгенерированное функцией `generate_secret_number()`.
*   `number_of_guesses` (`int`): Счётчик количества попыток игрока, инициализируется нулем и увеличивается на 1 при каждой попытке.
*   `user_guess` (`str`): Содержит ввод пользователя - четырехзначное число.
*   `mug` (`int`): Содержит количество цифр, угаданных и стоящих на своих местах, вычисленное функцией `count_mug_wmp()`.
*   `wmp` (`int`): Содержит количество цифр, угаданных, но стоящих не на своих местах, вычисленное функцией `count_mug_wmp()`.

### Основная логика программы:

1.  Генерируется секретное число с помощью `generate_secret_number()`.
2.  Инициализируется счетчик попыток `number_of_guesses`.
3.  Начинается основной игровой цикл `while True`.
4.  В каждой итерации цикла увеличивается `number_of_guesses`.
5.  Запрашивается ввод пользователя с проверкой на корректность: длина, состоит ли из цифр и уникальны ли они. Если ввод некорректный, запрашивается повторно.
6.  Проверяется, угадано ли число. Если да, выводится сообщение о победе и цикл завершается.
7.  Если число не угадано, вызывается `count_mug_wmp()` для подсчета MUG и WMP, результаты выводятся пользователю, и цикл продолжается.

### Потенциальные ошибки и области для улучшения:

1.  **Обработка исключений**: Код не обрабатывает потенциальные исключения, которые могут возникнуть, например, при неожиданном вводе от пользователя.
2.  **Улучшенный пользовательский интерфейс**: Вывод сообщений мог бы быть улучшен, например, использованием более информативных сообщений об ошибках или добавлением графического интерфейса.
3.  **Сложность алгоритма**: Алгоритм расчета `MUG` и `WMP` можно оптимизировать, хотя текущая реализация достаточно проста и понятна.
4.  **Уровень сложности**: Можно добавить возможность выбора уровня сложности, например, позволяя игроку выбирать длину числа или число попыток.

### Цепочка взаимосвязей с другими частями проекта:

Этот код является самодостаточным и не зависит напрямую от других частей проекта, что делает его легко переносимым и интегрируемым. Однако, в более крупной структуре, его можно было бы использовать, например:

*   Как часть модуля "игры" в более широкой системе.
*   Интегрировать его с модулем для обработки пользовательского ввода.
*   Использовать его как пример для создания более сложных игр.

В целом, код представляет собой четко структурированную реализацию игры "MUGWMP" с простым, понятным и легко сопровождаемым кодом.