# Модуль `supplier.py`

## Обзор

Модуль `supplier.py` содержит базовый класс `Supplier`, предназначенный для управления и выполнения сценариев для различных поставщиков. Он обеспечивает загрузку конфигураций поставщиков, инициализацию веб-драйвера и запуск сценариев.

## Содержание

- [Классы](#классы)
  - [`Supplier`](#supplier)
- [Функции](#функции)
  - [`check_supplier_prefix`](#check_supplier_prefix)
  - [`__init__`](#__init__)
  - [`_payload`](#_payload)
  - [`login`](#login)
  - [`run_scenario_files`](#run_scenario_files)
  - [`run_scenarios`](#run_scenarios)

## Классы

### `Supplier`

**Описание**: Базовый класс для представления поставщика и управления его сценариями.

**Атрибуты**:
- `supplier_id` (Optional[int]): Идентификатор поставщика.
- `supplier_prefix` (str): Префикс поставщика.
- `locale` (str): Код локали в формате ISO 639-1 (по умолчанию 'en').
- `price_rule` (Optional[str]): Правило расчета цен.
- `related_modules` (Optional[ModuleType]): Модуль, содержащий специфичные для поставщика функции.
- `scenario_files` (List[str]): Список файлов сценариев для выполнения.
- `current_scenario` (Dict[str, Any]): Текущий исполняемый сценарий.
- `locators` (Dict[str, Any]): Локаторы для элементов страницы.
- `driver` (Optional[Driver]): Веб-драйвер.

**Методы**:
- `check_supplier_prefix`: Проверяет префикс поставщика на пустое значение.
- `__init__`: Инициализирует поставщика, загружает его конфигурацию.
- `_payload`: Загружает параметры поставщика с использованием `j_loads_ns`.
- `login`: Выполняет вход на сайт поставщика.
- `run_scenario_files`: Выполняет один или несколько файлов сценариев.
- `run_scenarios`: Выполняет список или один сценарий.

## Функции

### `check_supplier_prefix`

**Описание**: Проверяет префикс поставщика на пустое значение.

**Параметры**:
- `value` (str): Префикс поставщика для проверки.

**Возвращает**:
- `str`: Префикс поставщика, если он не пустой.

**Вызывает исключения**:
- `ValueError`: Если `value` является пустой строкой.

### `__init__`

**Описание**: Инициализирует поставщика, загружает его конфигурацию.

**Параметры**:
- `**data`: Произвольные именованные аргументы для инициализации объекта.

**Вызывает исключения**:
- `DefaultSettingsException`: Если не удается загрузить настройки поставщика.

### `_payload`

**Описание**: Загружает параметры поставщика из JSON файла с использованием `j_loads_ns`.

**Возвращает**:
- `bool`: `True`, если загрузка параметров успешна, иначе `False`.

**Вызывает исключения**:
- `ModuleNotFoundError`: Если не найден модуль, связанный с поставщиком.
- `Exception`: При возникновении ошибки во время загрузки настроек.

### `login`

**Описание**: Выполняет вход на сайт поставщика.

**Возвращает**:
- `bool`: `True`, если вход выполнен успешно, иначе `False`.

### `run_scenario_files`

**Описание**: Выполняет один или несколько файлов сценариев.

**Параметры**:
- `scenario_files` (Optional[str | List[str]], optional): Список файлов сценариев для выполнения. Если не указан, используются файлы из `self.scenario_files`. По умолчанию `None`.

**Возвращает**:
- `bool`: `True`, если все сценарии успешно выполнены, иначе `False`.

### `run_scenarios`

**Описание**: Выполняет список или один сценарий.

**Параметры**:
- `scenarios` (dict | List[dict]): Сценарий или список сценариев для выполнения.

**Возвращает**:
- `bool`: `True`, если сценарий успешно выполнен, иначе `False`.