```markdown
# unist-util-is

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][size-badge]][size]
[![Sponsors][sponsors-badge]][collective]
[![Backers][backers-badge]][collective]
[![Chat][chat-badge]][chat]

A utility to check if nodes pass a test.

## Contents

* [What is this?](#what-is-this)
* [When should I use this?](#when-should-i-use-this)
* [Install](#install)
* [Use](#use)
* [API](#api)
    * [`is(node[, test[, index, parent[, context]]])`](#isnode-test-index-parent-context)
    * [`convert(test)`](#converttest)
    * [`Check`](#check)
    * [`Test`](#test)
    * [`TestFunction`](#testfunction)
* [Examples](#examples)
    * [Example with `convert`](#example-with-convert)
* [Types](#types)
* [Compatibility](#compatibility)
* [Related](#related)
* [Contribute](#contribute)
* [License](#license)

## What is this?

This package provides a function to check if a given node matches a specific criteria.  It's particularly useful for filtering and manipulating nodes in a tree-like structure, like those handled by the [unist](https://github.com/syntax-tree/unist) library.

## When should I use this?

Use this package when you need to perform conditional checks on nodes based on their type, properties, or other attributes.  It avoids repeating the same logic for checking node properties.

## Install

This package is ESM only.

```bash
npm install unist-util-is
```

Or, using ESM import:

```javascript
import { is } from 'unist-util-is';
```

## Use

```javascript
import { is } from 'unist-util-is';

const node = { type: 'strong' };
const parent = { type: 'paragraph', children: [node] };

console.log(is(node));       // true
console.log(is(node, 'strong'));   // true
console.log(is(node, 'emphasis'));  // false
console.log(is(node, node));     // true

console.log(is(parent, {type: 'paragraph'})); // true
console.log(is(parent, { type: 'strong' })); // false
```

Demonstrates basic usage, including checking node types, and passing a specific node as test criteria.

## API

### `is(node[, test[, index, parent[, context]]])`

Checks if `node` satisfies the given test.

*   **node:** The node to check. Can be any value.
*   **test:** A function, string, or object defining the test criteria.  See [`Test`](#test) for details. Optional.
*   **index:** The node's index in its parent. Optional.
*   **parent:** The node's parent. Optional.
*   **context:** An optional context object to pass to the `test` function if needed.

Returns `true` if the node satisfies the test, `false` otherwise.  If no test is supplied, returns `true` if `node` is a valid node, otherwise `false`.

### `convert(test)`

Creates a function for a quicker check on valid inputs. This function is faster as it only accepts `node`, `index`, and `parent`.

*   **test:** The test criteria to convert. See [`Test`](#test) for details.

Returns a `Check` function.


### `Check`

A function that checks a node against a test.

*   **node:** The node to check.
*   **index:** The node's index in its parent.
*   **parent:** The node's parent.
*   **context:** Optional context for the test.


Returns `true` if the node passes the test, `false` otherwise.

### `Test`

Represents the various ways to specify the test.  It can be:

*   A string (tag name)
*   An object (checking for specific properties)
*   A function (`TestFunction`).
*   An array of `Test` values (checks if any match)


### `TestFunction`

A function that takes the `node`, `index`, `parent`, and `context` as parameters and returns a boolean.


## Examples

### Example with `convert`

```javascript
import { u } from 'unist-builder';
import { convert } from 'unist-util-is';

const test = convert('leaf');

const tree = u('tree', [
    u('node', [u('leaf', '1')]),
    u('leaf', '2'),
    u('node', [u('leaf', '3'), u('leaf', '4')]),
    u('leaf', '5')
]);

const leafs = tree.children.filter((child, index) => test(child, index, tree));

console.log(leafs); // Output: Array of leaf nodes that match the test.
```


## Types

This package is fully type-safe.

## Compatibility

This package targets a modern Node.js environment (typically Node.js 16 and above) due to its use of ESM.

## Related

* [unist](https://github.com/syntax-tree/unist)
* [hast-util-is-element](https://github.com/syntax-tree/hast-util-is-element)
* [unist-util-select](https://github.com/syntax-tree/unist-util-select)

## Contribute

See [contributing.md](https://github.com/[REPO]/blob/main/contributing.md) for details.

## License

[MIT](LICENSE) Â© [Author Name]
```

**Key improvements and explanations:**

* **Clearer Structure:** The structure of the README is more organized and reader-friendly, with better explanations for each section.
* **Concise Examples:** The examples are shorter and focus on demonstrating the key functionality of the package.
* **Type Safety Emphasis:**  Explicitly mentioned the package's type safety.
* **Modern JavaScript:** The example code now uses `import` syntax, consistent with modern JavaScript practices.
* **Compatibility:** Added a compatibility note regarding ESM and modern Node.js.
* **`convert` Example Enhancement:** The `convert` example is improved to better demonstrate its usage and output an understandable result.
* **`Test` Type Clarity:** The `Test` type is described in more detail, clarifying the different types that can be used for the `test` argument.

Remember to replace `[REPO]` and `[Author Name]` with the actual repository name and author's name.  Also update the badges with correct links.