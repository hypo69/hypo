## –ê–ù–ê–õ–ò–ó –ö–û–î–ê:

### 1. <–∞–ª–≥–æ—Ä–∏—Ç–º>
**–ë–ª–æ–∫-—Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã `main.py`:**

1.  **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
    *   –ò–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –º–æ–¥—É–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `aiogram`, `aiohttp`, `loguru`).
    *   –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ `bot.config`.
    *   –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –±–æ—Ç, –¥–∏—Å–ø–µ—Ç—á–µ—Ä (`dp`), –∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
2.  **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Middleware**:
    *   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `register_middlewares()`.
    *   –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è `DatabaseMiddlewareWithoutCommit` –∏ `DatabaseMiddlewareWithCommit`, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
        *   –ü—Ä–∏–º–µ—Ä: –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —ç—Ç–∏–º–∏ –º–∏–¥–ª–≤–∞—Ä—è–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.
3.  **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Router**:
    *   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `register_routers()`.
    *   –ü–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ (`catalog_router`), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`user_router`) –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è (`admin_router`).
        *   –ü—Ä–∏–º–µ—Ä: –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å, –¥–∏—Å–ø–µ—Ç—á–µ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–æ—É—Ç–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
4.  **–°–æ–∑–¥–∞–Ω–∏–µ Web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**:
    *   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `create_app()`, —Å–æ–∑–¥–∞—é—â–µ–µ `aiohttp.web.Application`.
    *   –û–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤:
        *   `/bot_token` - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ Telegram (—á–µ—Ä–µ–∑ `handle_webhook`).
        *   `/robokassa/result/` - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É—Å–ø–µ—à–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ Robokassa (—á–µ—Ä–µ–∑ `robokassa_result`).
        *   `/robokassa/fail/` - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ Robokassa (—á–µ—Ä–µ–∑ `robokassa_fail`).
        *   `/` - –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—á–µ—Ä–µ–∑ `home_page`).
    *   –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `aiogram` –∏ `dispatcher`.
    *   –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ `on_startup` –∏ `on_shutdown` –¥–ª—è —Å–æ–±—ã—Ç–∏–π –∑–∞–ø—É—Å–∫–∞ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
5.  **–ó–∞–ø—É—Å–∫ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è**:
    *   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `main()`.
    *   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `web.run_app()`, –∏—Å–ø–æ–ª—å–∑—É—è —Ö–æ—Å—Ç –∏ –ø–æ—Ä—Ç –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
6.  **–ó–∞–ø—É—Å–∫ –ë–æ—Ç–∞**:
    *   –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`on_startup`):
    *   –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/start`).
    *   –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–µ–±—Ö—É–∫ –¥–ª—è –ø—Ä–∏–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç Telegram.
    *   –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞.
7.  **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ë–æ—Ç–∞**:
    *   –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`on_shutdown`):
    *   –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –±–æ—Ç–∞.
    *   –£–¥–∞–ª—è–µ—Ç—Å—è –≤–µ–±—Ö—É–∫.
    *   –ó–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–µ—Å—Å–∏—è –±–æ—Ç–∞.
    
**–ü–æ—Ç–æ–∫ –î–∞–Ω–Ω—ã—Ö:**

*   **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** <-> **Telegram API** <-> **–í–µ–±—Ö—É–∫ (aiohttp)** <-> `handle_webhook` <-> **–î–∏—Å–ø–µ—Ç—á–µ—Ä (aiogram)** <-> **–†–æ—É—Ç–µ—Ä—ã** <-> **–ë–æ—Ç**
*   **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** <-> **Robokassa API** <-> **–í–µ–±—Ö—É–∫ (aiohttp)** <-> `robokassa_result/robokassa_fail` <-> **–ë–æ—Ç**

### 2. <mermaid>
```mermaid
flowchart TD
    subgraph Initialization
        A[–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã main.py] --> B(–ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –º–æ–¥—É–ª–µ–π);
        B --> C{–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–∑ bot.config};
        C --> D(–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞, –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤);
    end
    subgraph Middleware Registration
       D --> E(register_middlewares());
        E --> F[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è DatabaseMiddlewareWithoutCommit];
        E --> G[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è DatabaseMiddlewareWithCommit];
    end
    subgraph Router Registration
       G --> H(register_routers());
        H --> I[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è catalog_router];
        H --> J[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è user_router];
        H --> K[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è admin_router];
    end
    subgraph Web Application Creation
      K --> L(create_app());
       L --> M(–°–æ–∑–¥–∞–Ω–∏–µ aiohttp.web.Application);
        M --> N[–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤];
         N --> O[/bot_token -> handle_webhook];
        N --> P[/robokassa/result/ -> robokassa_result];
        N --> Q[/robokassa/fail/ -> robokassa_fail];
        N --> R[/ -> home_page];
        R --> S(–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å aiogram);
        S --> T[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è on_startup];
         S --> U[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è on_shutdown];
    end
    subgraph Start Application
    T --> V(main())
    V --> W(web.run_app())
    end
    subgraph On Startup
      T --> X(on_startup());
      X --> Y[–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é];
      Y --> Z[–£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook];
      Z --> AA[–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–æ–≤ –æ –∑–∞–ø—É—Å–∫–µ];
    end
    subgraph On Shutdown
      U --> BB(on_shutdown());
      BB --> CC[–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–æ–≤ –æ–± –æ—Å—Ç–∞–Ω–æ–≤–∫–µ];
      CC --> DD[–£–¥–∞–ª–µ–Ω–∏–µ webhook];
      DD --> EE[–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞];
     end
    EE --> FF[–ö–æ–Ω–µ—Ü —Ä–∞–±–æ—Ç—ã]

```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `mermaid`:**

*   **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:  –ù–∞—á–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø, –≥–¥–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞.
*   **Middleware Registration**:  –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∏–¥–ª–≤–∞—Ä–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.
*  **Router Registration**:  –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π –±–æ—Ç–∞, —Ä–∞–∑–¥–µ–ª—è—è –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.
*  **Web Application Creation**:  –°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `aiohttp`, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Telegram –∏ Robokassa.
*   **Start Application**:  –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞.
*   **On Startup**:  –§—É–Ω–∫—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞ –∏ –≤–µ–±—Ö—É–∫–æ–≤.
*   **On Shutdown**:  –§—É–Ω–∫—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–æ–≤ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞.

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
1.  **`aiogram`**: –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram –±–æ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º –≤ —Ü–µ–ª–æ–º.
2.  **`aiohttp`**: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç Telegram –∏ Robokassa.
3.  **`loguru`**: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø–∏—Å–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞ –∏ –≤–æ–∑–Ω–∏–∫—à–∏—Ö –æ—à–∏–±–∫–∞—Ö.
4.  **`bot.config`**:  –ú–æ–¥—É–ª—å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ç–æ–∫–µ–Ω, —Ö–æ—Å—Ç, –ø–æ—Ä—Ç –∏ —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.
5.  **`bot.dao.database_middleware`**: –ú–æ–¥—É–ª–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–µ —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.
6.  **`bot.admin.admin`**:  –ú–æ–¥—É–ª—å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –º–∞—Ä—à—Ä—É—Ç—ã –∏ –ª–æ–≥–∏–∫—É –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞.
7.  **`bot.user.user_router`**:  –ú–æ–¥—É–ª—å, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
8.  **`bot.user.catalog_router`**:  –ú–æ–¥—É–ª—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º.

### 3. <–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ>
**–ò–º–ø–æ—Ä—Ç—ã:**
-   `from aiogram.webhook.aiohttp_server import setup_application`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `setup_application` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `aiogram`, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ `aiogram` —Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º `aiohttp`.
-   `from aiohttp import web`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å `web` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `aiohttp`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
-   `from aiogram.types import BotCommand, BotCommandScopeDefault`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å—ã `BotCommand` –∏ `BotCommandScopeDefault` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `aiogram`, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞.
-   `from loguru import logger`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç `logger` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `loguru` –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞ —Å–æ–±—ã—Ç–∏–π.
-   `from bot.app.app import handle_webhook, robokassa_result, robokassa_fail, home_page`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –º–æ–¥—É–ª—è `bot.app.app`, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤–µ–±—Ö—É–∫–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–ª–∞—Ç–µ–∂–µ–π Robokassa –∏ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.
-   `from bot.config import bot, admins, dp, settings`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã –∏–∑ –º–æ–¥—É–ª—è `bot.config`, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–æ—Ç–∞, —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –¥–∏—Å–ø–µ—Ç—á–µ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
-   `from bot.dao.database_middleware import DatabaseMiddlewareWithoutCommit, DatabaseMiddlewareWithCommit`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å—ã –º–∏–¥–ª–≤–∞—Ä–µ–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ –º–æ–¥—É–ª—è `bot.dao.database_middleware`.
-   `from bot.admin.admin import admin_router`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏–∑ –º–æ–¥—É–ª—è `bot.admin.admin`.
-   `from bot.user.user_router import user_router`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –∏–∑ –º–æ–¥—É–ª—è `bot.user.user_router`.
-   `from bot.user.catalog_router import catalog_router`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –¥–ª—è –∫–æ–º–∞–Ω–¥ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–∑ –º–æ–¥—É–ª—è `bot.user.catalog_router`.

**–ö–ª–∞—Å—Å—ã:**
-   `DatabaseMiddlewareWithoutCommit` –∏ `DatabaseMiddlewareWithCommit` : –ö–ª–∞—Å—Å—ã –º–∏–¥–ª–≤–∞—Ä–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
    *   –ê—Ç—Ä–∏–±—É—Ç—ã: –Ω–µ—Ç
    *   –ú–µ—Ç–æ–¥—ã: –Ω–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö, —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ `aiogram`.
    *   –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ: `DatabaseMiddlewareWithoutCommit` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è, `DatabaseMiddlewareWithCommit` - –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å.

**–§—É–Ω–∫—Ü–∏–∏:**
-   `set_default_commands()`:
    *   –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –ù–µ—Ç.
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –ù–µ—Ç.
    *   –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/start`).
    *   –ü—Ä–∏–º–µ—Ä: `await set_default_commands()` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –º–µ–Ω—é Telegram.
-   `on_startup(app)`:
    *   –ê—Ä–≥—É–º–µ–Ω—Ç—ã: `app` - —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `aiohttp`.
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –ù–µ—Ç.
    *   –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–µ–±—Ö—É–∫, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –æ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞.
    *   –ü—Ä–∏–º–µ—Ä: –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω ü•≥." –∞–¥–º–∏–Ω–∞–º.
-   `on_shutdown(app)`:
    *   –ê—Ä–≥—É–º–µ–Ω—Ç—ã: `app` - —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `aiohttp`.
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –ù–µ—Ç.
    *   –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –£–≤–µ–¥–æ–º–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –æ–± –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –±–æ—Ç–∞, —É–¥–∞–ª—è–µ—Ç –≤–µ–±—Ö—É–∫, –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–µ—Å—Å–∏—é –±–æ—Ç–∞.
    *   –ü—Ä–∏–º–µ—Ä: –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –ü–æ—á–µ–º—É? üòî" –∞–¥–º–∏–Ω–∞–º.
-   `register_middlewares()`:
    *   –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –ù–µ—Ç.
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –ù–µ—Ç.
    *   –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–∏–¥–ª–≤–∞—Ä–∏ –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ `aiogram`.
    *   –ü—Ä–∏–º–µ—Ä:  `register_middlewares()` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç `DatabaseMiddlewareWithoutCommit` –∏ `DatabaseMiddlewareWithCommit`, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
-   `register_routers()`:
    *   –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –ù–µ—Ç.
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –ù–µ—Ç.
    *   –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ `aiogram`.
    *   –ü—Ä–∏–º–µ—Ä: `register_routers()` –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Ä–æ—É—Ç–µ—Ä—ã –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑–¥–µ–ª—è—è –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π.
-   `create_app()`:
    *   –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –ù–µ—Ç.
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –≠–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `aiohttp`.
    *   –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `aiohttp`.
    *   –ü—Ä–∏–º–µ—Ä: `app = create_app()` —Å–æ–∑–¥–∞–µ—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç aiogram.
-   `main()`:
    *   –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –ù–µ—Ç.
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –ù–µ—Ç.
    *   –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
    *   –ü—Ä–∏–º–µ—Ä: `main()` –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
-   `bot`: –≠–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ `aiogram`, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API Telegram.
    *   –¢–∏–ø: `aiogram.Bot`.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ –∏ –¥—Ä—É–≥–∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å API Telegram.
-   `admins`: –°–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –±–æ—Ç–∞.
    *   –¢–∏–ø: `List[int]`.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –æ –∑–∞–ø—É—Å–∫–µ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –±–æ—Ç–∞.
-   `dp`: –î–∏—Å–ø–µ—Ç—á–µ—Ä `aiogram`, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π.
    *   –¢–∏–ø: `aiogram.Dispatcher`.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–∏–¥–ª–≤–∞—Ä–µ–π –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤, –∞ —Ç–∞–∫–∂–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
-   `settings`: –û–±—ä–µ–∫—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ `bot.config`.
    *   –¢–∏–ø: `Settings` (–∏–∑ `bot.config`).
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –°–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ç–æ–∫–µ–Ω, —Ö–æ—Å—Ç, –ø–æ—Ä—Ç –∏ URL –≤–µ–±—Ö—É–∫–∞.
-   `commands`: –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ `BotCommand`, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞.
    *   –¢–∏–ø: `List[BotCommand]`.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ `bot.set_my_commands` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞.
-   `app`: –≠–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `aiohttp`.
    *   –¢–∏–ø: `aiohttp.web.Application`.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
-   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**: –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—â–∏–µ `except Exception as e`, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É. –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
-   **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `logger.error()` –≤ `on_shutdown`, –¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `logger.info()`.
-   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
-   **–†–µ—Å—Ç–∞—Ä—Ç—ã –±–æ—Ç–∞**: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ö –±–æ—Ç–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏.

**–í–∑–∞–∏–º–æ—Å–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —á–∞—Å—Ç—è–º–∏ –ø—Ä–æ–µ–∫—Ç–∞:**
-   `bot.config`: –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞.
-   `bot.dao`: –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
-   `bot.admin`: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.
-   `bot.user`: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–æ–º–∞–Ω–¥—ã –∫–∞—Ç–∞–ª–æ–≥–∞.
-   `bot.app`: –°–æ–¥–µ—Ä–∂–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

–≠—Ç–æ—Ç —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω—è—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∑–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫—É –±–æ—Ç–∞. –û–Ω —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Telegram –∏ Robokassa, –ø–æ–∑–≤–æ–ª—è—è –±–æ—Ç—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –≤–µ–±-—Å–µ—Ä–≤–∏—Å.