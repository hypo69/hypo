# Модуль stubs

## Обзор

Модуль `stubs` содержит определения моделей данных, используемых для конфигурации и ответов API g4f (gpt4free). Он включает в себя классы для конфигурации чат-завершений, генерации изображений, а также модели ответов для провайдеров, моделей и ошибок.

## Подробнее

Этот модуль предоставляет структуру данных для стандартизации запросов и ответов API, что обеспечивает согласованность и упрощает интеграцию с различными провайдерами и моделями.

## Классы

### `ChatCompletionsConfig`

**Описание**: Класс для конфигурации запросов чат-завершений.

**Принцип работы**:
Класс `ChatCompletionsConfig` используется для хранения параметров, необходимых для запроса чат-завершений. Он включает в себя параметры, такие как сообщения, модель, провайдер, параметры потоковой передачи, изображения, температуру и другие параметры, необходимые для настройки запроса.

**Атрибуты**:
- `messages` (Messages): Список сообщений для чат-завершения. Состоит из списка словарей, где каждый словарь имеет ключи "role" и "content".
- `model` (str): Имя модели для использования.
- `provider` (Optional[str]): Имя провайдера.
- `stream` (bool): Включена ли потоковая передача.
- `image` (Optional[str]): URL изображения.
- `image_name` (Optional[str]): Имя изображения.
- `images` (Optional[list[tuple[str, str]]]): Список кортежей с данными и типом изображения.
- `media` (Optional[list[tuple[str, str]]]): Список кортежей с данными и типом медиа.
- `modalities` (Optional[list[str]]): Список модальностей ("text", "audio").
- `temperature` (Optional[float]): Температура для случайности ответов.
- `presence_penalty` (Optional[float]): Штраф за присутствие.
- `frequency_penalty` (Optional[float]): Штраф за частоту.
- `top_p` (Optional[float]): Top-p выборка.
- `max_tokens` (Optional[int]): Максимальное количество токенов в ответе.
- `stop` (Union[list[str], str, None]): Условия остановки генерации.
- `api_key` (Optional[str]): Ключ API.
- `api_base` (str): Базовый URL API.
- `web_search` (Optional[bool]): Использовать ли веб-поиск.
- `proxy` (Optional[str]): URL прокси-сервера.
- `conversation_id` (Optional[str]): ID разговора.
- `conversation` (Optional[dict]): Словарь с данными разговора.
- `return_conversation` (Optional[bool]): Возвращать ли разговор.
- `history_disabled` (Optional[bool]): Отключена ли история.
- `timeout` (Optional[int]): Время ожидания.
- `tool_calls` (list): Список вызовов инструментов.
- `tools` (list): Список инструментов.
- `parallel_tool_calls` (bool): Параллельные вызовы инструментов.
- `tool_choice` (Optional[str]): Выбор инструмента.
- `reasoning_effort` (Optional[str]): Уровень усилий для рассуждений.
- `logit_bias` (Optional[dict]): Смещения для логитов.
- `audio` (Optional[dict]): Конфигурация аудио.
- `response_format` (Optional[dict]): Формат ответа.
- `extra_data` (Optional[dict]): Дополнительные данные.

### `ImageGenerationConfig`

**Описание**: Класс для конфигурации запросов генерации изображений.

**Принцип работы**:
Класс `ImageGenerationConfig` используется для хранения параметров, необходимых для запроса генерации изображений. Он включает в себя параметры, такие как prompt, модель, провайдер, формат ответа, API ключ и другие параметры, необходимые для настройки запроса.

**Атрибуты**:
- `prompt` (str): Текст запроса для генерации изображения.
- `model` (Optional[str]): Имя модели для использования.
- `provider` (Optional[str]): Имя провайдера.
- `response_format` (Optional[str]): Формат ответа.
- `api_key` (Optional[str]): Ключ API.
- `proxy` (Optional[str]): URL прокси-сервера.
- `width` (Optional[int]): Ширина изображения.
- `height` (Optional[int]): Высота изображения.
- `num_inference_steps` (Optional[int]): Количество шагов для генерации.
- `seed` (Optional[int]): Зерно для воспроизводимости.
- `guidance_scale` (Optional[int]): Масштаб соответствия запросу.
- `aspect_ratio` (Optional[str]): Соотношение сторон изображения.
- `n` (Optional[int]): Количество сгенерированных изображений.
- `negative_prompt` (Optional[str]): Негативный запрос.
- `resolution` (Optional[str]): Разрешение изображения.

### `ProviderResponseModel`

**Описание**: Класс для представления ответа от провайдера.

**Принцип работы**:
Класс `ProviderResponseModel` используется для хранения информации об ответе от провайдера, включая ID, объект, время создания, URL и label.

**Атрибуты**:
- `id` (str): ID ответа.
- `object` (str): Тип объекта ("provider").
- `created` (int): Время создания.
- `url` (Optional[str]): URL ответа.
- `label` (Optional[str]): Метка ответа.

### `ProviderResponseDetailModel`

**Описание**: Класс для представления детальной информации об ответе от провайдера.

**Принцип работы**:
Класс `ProviderResponseDetailModel` наследуется от `ProviderResponseModel` и добавляет информацию о моделях, моделях изображений, моделях для работы с vision и параметрах.

**Наследует**:
`ProviderResponseModel`: Предоставляет базовые атрибуты ответа провайдера.

**Атрибуты**:
- `models` (list[str]): Список поддерживаемых моделей.
- `image_models` (list[str]): Список моделей для генерации изображений.
- `vision_models` (list[str]): Список моделей для работы с vision.
- `params` (list[str]): Список параметров.

### `ModelResponseModel`

**Описание**: Класс для представления ответа о модели.

**Принцип работы**:
Класс `ModelResponseModel` используется для хранения информации о модели, включая ID, объект и владельца.

**Атрибуты**:
- `id` (str): ID модели.
- `object` (str): Тип объекта ("model").
- `created` (int): Время создания.
- `owned_by` (Optional[str]): Владелец модели.

### `UploadResponseModel`

**Описание**: Класс для представления ответа об загрузке файла.

**Принцип работы**:
Класс `UploadResponseModel` используется для хранения информации об загрузке файла, включая ID бакета и URL.

**Атрибуты**:
- `bucket_id` (str): ID бакета.
- `url` (str): URL загруженного файла.

### `ErrorResponseModel`

**Описание**: Класс для представления ответа об ошибке.

**Принцип работы**:
Класс `ErrorResponseModel` используется для хранения информации об ошибке, включая сообщение об ошибке, модель и провайдера.

**Атрибуты**:
- `error` (ErrorResponseMessageModel): Сообщение об ошибке.
- `model` (Optional[str]): Имя модели.
- `provider` (Optional[str]): Имя провайдера.

### `ErrorResponseMessageModel`

**Описание**: Класс для представления сообщения об ошибке.

**Принцип работы**:
Класс `ErrorResponseMessageModel` используется для хранения сообщения об ошибке.

**Атрибуты**:
- `message` (str): Сообщение об ошибке.

### `FileResponseModel`

**Описание**: Класс для представления ответа о файле.

**Принцип работы**:
Класс `FileResponseModel` используется для хранения имени файла.

**Атрибуты**:
- `filename` (str): Имя файла.