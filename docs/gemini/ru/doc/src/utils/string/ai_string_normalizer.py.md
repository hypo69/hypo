# Модуль для нормализации ответа модели

## Обзор

Модуль `ai_response_normalizer.py` содержит функцию `normalize_answer`, которая используется для очистки текстовых ответов, полученных от AI-моделей. Он удаляет префиксы и суффиксы, такие как ```md, ```html, ```, чтобы получить "чистый" текст ответа.

## Подробней

Этот модуль важен, поскольку ответы от AI-моделей часто содержат лишние элементы форматирования, которые необходимо удалить для дальнейшей обработки или отображения пользователю. Функция `normalize_answer` проверяет наличие известных префиксов в начале текста и удаляет их, а также удаляет суффикс ``` в конце текста.

## Функции

### `normalize_answer`

```python
def normalize_answer(text: str) -> str:
    """
    Нормализует текстовый ответ, удаляя префиксы и суффиксы, такие как ```md, ```html, ```.

    Args:
        text (str): Текст, который требуется нормализовать.

    Returns:
        str: Нормализованный текст без префиксов и суффиксов.

    Example:
        >>> normalize_answer("```html Пример строки <b>с HTML</b> ```")
        'Пример строки <b>с HTML</b>'
    """
```

**Как работает функция**:

1. Функция принимает строку `text` в качестве входных данных.
2. Определен список `prefixes`, содержащий различные префиксы, которые могут быть в начале текста (например, '```md\n', '```html', '```').
3. Функция перебирает каждый префикс в списке `prefixes`.
4. Для каждого префикса проверяется, начинается ли текст с этого префикса.
5. Если текст начинается с префикса, этот префикс удаляется с помощью метода `removeprefix()`.
6. После удаления префикса удаляется суффикс '```' с помощью метода `removesuffix()`.
7. Если ни один из префиксов не совпадает, функция возвращает исходный текст без изменений.

**Параметры**:

- `text` (str): Строка, которую необходимо нормализовать.

**Возвращает**:

- `str`: Нормализованная строка без префиксов и суффиксов.

**Примеры**:

```python
normalize_answer("```html Пример строки <b>с HTML</b> ```")
# Результат: 'Пример строки <b>с HTML</b>'

normalize_answer("```md\nПример строки в Markdown```")
# Результат: 'Пример строки в Markdown'

normalize_answer("Простой текст без префиксов")
# Результат: 'Простой текст без префиксов'