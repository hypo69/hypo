# Модуль AuxiliaryClasses

## Обзор

Модуль `AuxiliaryClasses.py` содержит вспомогательные классы `keyboards` и `PromptsCompressor`, используемые в Telegram боте `ToolBoxbot` для создания клавиатур и обработки промптов.

## Подробней

Этот модуль предоставляет классы для упрощения создания пользовательских интерфейсов и обработки текстовых запросов в Telegram-боте. Класс `keyboards` отвечает за создание различных типов клавиатур, а класс `PromptsCompressor` - за обработку и форматирование текстовых промптов.

## Классы

### `keyboards`

**Описание**: Класс для создания различных типов клавиатур для Telegram-бота.

**Как работает класс**: Класс содержит методы для создания двух типов клавиатур: встроенной клавиатуры с двумя кнопками в ряд (`_keyboard_two_blank`) и обычной клавиатуры (`_reply_keyboard`).

**Методы**:
- `_keyboard_two_blank`: Создает встроенную клавиатуру с двумя кнопками в ряд.
- `_reply_keyboard`: Создает обычную клавиатуру.

#### `_keyboard_two_blank`

```python
def _keyboard_two_blank(self, data: list[str], name: list[str]) -> types.InlineKeyboardMarkup:
    """
    Создает встроенную клавиатуру с двумя кнопками в ряд.

    Args:
        data (list[str]): Список данных для кнопок.
        name (list[str]): Список отображаемых имен для кнопок.

    Returns:
        types.InlineKeyboardMarkup: Объект встроенной клавиатуры.

    Raises:
        None

    Example:
        >>> keyboards()._keyboard_two_blank(['data1', 'data2'], ['name1', 'name2'])
        <InlineKeyboardMarkup>
    """
```

**Как работает функция**: Метод создает встроенную клавиатуру, располагая кнопки по две в ряд. Если количество кнопок нечетное, последняя кнопка располагается в отдельном ряду.

**Параметры**:
- `data` (list[str]): Список данных, которые будут передаваться при нажатии на кнопку.
- `name` (list[str]): Список отображаемых имен для кнопок.

**Возвращает**:
- `types.InlineKeyboardMarkup`: Объект встроенной клавиатуры.

#### `_reply_keyboard`

```python
def _reply_keyboard(self, name: list[str]):
    """
    Создает обычную клавиатуру.

    Args:
        name (list[str]): Список отображаемых имен для кнопок.

    Returns:
        types.ReplyKeyboardMarkup: Объект обычной клавиатуры.

    Raises:
        None

    Example:
        >>> keyboards()._reply_keyboard(['name1', 'name2'])
        <ReplyKeyboardMarkup>
    """
```

**Как работает функция**: Метод создает обычную клавиатуру с кнопками, указанными в списке `name`.

**Параметры**:
- `name` (list[str]): Список отображаемых имен для кнопок.

**Возвращает**:
- `types.ReplyKeyboardMarkup`: Объект обычной клавиатуры.

### `PromptsCompressor`

**Описание**: Класс для обработки и форматирования текстовых промптов.

**Как работает класс**: Класс содержит метод для получения промпта из JSON-файла и вставки в него информации из списка. Также имеется статический метод для вставки HTML-тегов в текст.

**Методы**:
- `__init__`: Инициализирует класс, определяя размеры команд.
- `get_prompt`: Получает промпт из JSON-файла и вставляет в него информацию.
- `html_tags_insert`: Вставляет HTML-теги в текст.

#### `__init__`

```python
def __init__(self):
    """
    Инициализирует класс, определяя размеры команд.

    Args:
        None

    Returns:
        None

    Raises:
        None

    Example:
        >>> PromptsCompressor()
        <PromptsCompressor object at ...>
    """
```

**Как работает функция**: Метод инициализирует класс, определяя размеры команд в списке `commands_size`. Этот список используется для определения количества параметров, ожидаемых для каждого типа промпта.

**Параметры**:
- Нет

**Возвращает**:
- Нет

#### `get_prompt`

```python
def get_prompt(self, info: list[str], ind: int) -> str:
    """
    Получает промпт из JSON-файла и вставляет в него информацию.

    Args:
        info (list[str]): Список информации для вставки в промпт.
        ind (int): Индекс промпта в JSON-файле.

    Returns:
        str: Сформированный промпт.

    Raises:
        FileNotFoundError: Если файл prompts.json не найден.
        KeyError: Если в JSON-файле отсутствует ключ 'commands'.

    Example:
        >>> PromptsCompressor().get_prompt(['topic', 'keywords', 'info', 'length'], 5)
        'Текст промпта с вставленной информацией'
    """
```

**Как работает функция**: Метод открывает JSON-файл `prompts.json`, извлекает промпт по указанному индексу и заменяет placeholders в промпте на значения из списка `info`.

**Параметры**:
- `info` (list[str]): Список информации для вставки в промпт.
- `ind` (int): Индекс промпта в JSON-файле.

**Возвращает**:
- `str`: Сформированный промпт.

#### `html_tags_insert`

```python
@staticmethod
def html_tags_insert(response: str) -> str:
    """
    Вставляет HTML-теги в текст.

    Args:
        response (str): Текст для вставки HTML-тегов.

    Returns:
        str: Текст с HTML-тегами.

    Raises:
        None

    Example:
        >>> PromptsCompressor.html_tags_insert('#### Заголовок')
        '<b><u>Заголовок</u></b>'
    """
```

**Как работает функция**: Статический метод, который использует регулярные выражения для поиска и замены определенных шаблонов в тексте на соответствующие HTML-теги.

**Параметры**:
- `response` (str): Текст для вставки HTML-тегов.

**Возвращает**:
- `str`: Текст с HTML-тегами.