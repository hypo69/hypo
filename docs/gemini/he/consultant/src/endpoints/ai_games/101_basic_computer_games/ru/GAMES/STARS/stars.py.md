# Анализ кода модуля `stars.py`

**Качество кода**

-   **Соблюдение требований к формату кода (1-10):**
    -   **Плюсы:**
        -   Код относительно чистый и понятный.
        -   Логика игры реализована верно.
        -   Используются комментарии, хотя и не в требуемом формате RST.
        -   Структура кода соответствует требованиям игры.
    -   **Минусы:**
        -   Комментарии не соответствуют формату RST.
        -   Отсутствует использование `j_loads` или `j_loads_ns`.
        -   Нет обработки ошибок и логирования.
        -   Нет явного импорта необходимых модулей.
        -   Стиль кода требует улучшения, особенно в части комментариев и документации.

**Рекомендации по улучшению**

1.  **Форматирование документации:**
    -   Необходимо переписать все комментарии и docstring в формате RST.
    -   Добавить подробное описание модуля в начале файла.
    -   Оформить docstring для всех функций в формате RST, включая описание параметров и возвращаемых значений.
2.  **Обработка данных:**
    -   В данном коде нет работы с файлами или внешними данными, поэтому использование `j_loads` или `j_loads_ns` не требуется.
3.  **Улучшение структуры:**
    -   Добавить явный импорт необходимых модулей, хотя в данном коде их нет.
4.  **Улучшение и доработка:**
    -   Использовать `from src.logger.logger import logger` для логирования ошибок и отладки.
    -   Избегать общих блоков `try-except` и использовать `logger.error` для обработки исключений.
    -   Переписать все комментарии в стиле, описанном в требованиях (не "делает", а "выполняет", "проверяет" и т.д.).
    -   Добавить проверку на корректность ввода пользователя в цикле игры.

**Улучшенный код**

```python
"""
Модуль для простой текстовой игры "Звезды".
=========================================================================================

Игра "Звезды" представляет собой простую текстовую игру, в которой игрок управляет положением "звезды" на экране, вводя команды для ее перемещения.
Цель игры - переместить звезду в правый нижний угол экрана.

Правила игры:
1.  Изначально звезда находится в левом верхнем углу экрана (позиция 1,1).
2.  Игрок вводит команды перемещения:
    -   'R' - переместить звезду вправо
    -   'L' - переместить звезду влево
    -   'U' - переместить звезду вверх
    -   'D' - переместить звезду вниз
3.  Экран представляет собой сетку 12x12.
4.  Игра заканчивается, когда звезда достигает правого нижнего угла экрана (позиция 12,12).

Пример использования
--------------------

.. code-block:: python

    import stars
    stars.play_game()
"""
__author__ = 'hypo69 (hypo69@davidka.net)'

from src.logger.logger import logger # Импортируем logger для логирования ошибок

# Инициализация начальной позиции звезды
starRow = 1 # строка, в которой находится звезда
starCol = 1 # столбец, в котором находится звезда
# Размер игровой доски
boardSize = 12 # размер игровой доски


def printBoard(starRow: int, starCol: int) -> None:
    """
    Выводит на экран игровое поле с текущей позицией звезды.

    :param starRow: строка, в которой находится звезда.
    :type starRow: int
    :param starCol: столбец, в котором находится звезда.
    :type starCol: int
    :return: None
    """
    for row in range(1, boardSize + 1):
        line = ''
        for col in range(1, boardSize + 1):
            if row == starRow and col == starCol:
                line += '*'  # Отображаем звезду
            else:
                line += '.'  # Отображаем пустую клетку
        print(line)


def updatePosition(command: str, starRow: int, starCol: int) -> tuple[int, int]:
    """
    Обновляет позицию звезды на основе введенной команды.

    :param command: команда перемещения ('R', 'L', 'U', 'D').
    :type command: str
    :param starRow: текущая строка звезды.
    :type starRow: int
    :param starCol: текущий столбец звезды.
    :type starCol: int
    :return: новая строка и столбец звезды.
    :rtype: tuple[int, int]
    """
    if command == 'R':  # Двигаемся вправо
        if starCol < boardSize:
            starCol += 1
    elif command == 'L':  # Двигаемся влево
        if starCol > 1:
            starCol -= 1
    elif command == 'U':  # Двигаемся вверх
        if starRow > 1:
            starRow -= 1
    elif command == 'D':  # Двигаемся вниз
        if starRow < boardSize:
            starRow += 1
    return starRow, starCol


def play_game():
    """
    Запускает игровой процесс.
    """
    # Вывод начального положения звезды
    printBoard(starRow, starCol)

    # Основной игровой цикл
    while True:
        # Запрос команды перемещения у пользователя
        command = input('Введите команду (R/L/U/D): ').upper()

        # Проверяем корректность ввода команды
        if command not in ('R', 'L', 'U', 'D'):
            logger.error(f'Неверная команда: {command}. Используйте R, L, U или D.')
            print("Неверная команда. Пожалуйста, введите R, L, U или D.") # Выводим сообщение об ошибке
            continue  # Переходим к следующей итерации цикла

        # Обновление позиции звезды на основе введенной команды
        starRow, starCol = updatePosition(command, starRow, starCol)

        # Вывод нового положения звезды на экран
        printBoard(starRow, starCol)

        # Проверка, достигла ли звезда конечной позиции
        if starRow == boardSize and starCol == boardSize:
            print('ПОЗДРАВЛЯЮ! Вы переместили звезду в правый нижний угол!')
            break  # Завершаем игру


if __name__ == '__main__':
    play_game()
```