# Модуль `smtp`

## Обзор

Модуль `smtp.py` предоставляет функциональность для отправки и получения электронных писем с использованием SMTP и IMAP серверов. Включает функции для отправки писем через SMTP и получения через IMAP.

## Содержание

- [Обзор](#обзор)
- [Функции](#функции)
    - [`send`](#send)
    - [`receive`](#receive)
- [Конфигурация](#конфигурация)

## Функции

### `send`

**Описание**: Отправляет электронное письмо. Возвращает `True` в случае успеха, `False` в противном случае. Логирует ошибки.

**Параметры**:
- `subject` (str, optional): Тема письма. По умолчанию `''`.
- `body` (str, optional): Тело письма. По умолчанию `''`.
- `to` (str, optional): Адрес получателя. По умолчанию `'one.last.bit@gmail.com'`.

**Возвращает**:
- `bool`: `True` если письмо отправлено успешно, `False` в противном случае.

**Вызывает исключения**:
- `Exception`: В случае любой ошибки при отправке письма. Подробная информация об ошибке логируется.

### `receive`

**Описание**: Получает электронные письма. Возвращает список словарей с данными писем в случае успеха, `None` в противном случае. Логирует ошибки.

**Параметры**:
- `imap_server` (str): Адрес IMAP-сервера.
- `user` (str): Имя пользователя для IMAP-сервера.
- `password` (str): Пароль для IMAP-сервера.
- `folder` (str, optional): Папка для поиска писем. По умолчанию `'inbox'`.

**Возвращает**:
- `Optional[List[Dict[str, str]]]`: Список словарей, каждый из которых содержит данные письма (тема, отправитель, тело). Возвращает `None` в случае ошибки.

**Вызывает исключения**:
- `Exception`: В случае любой ошибки при получении писем. Подробная информация об ошибке логируется.

## Конфигурация

**_connection Dictionary**:
    - `server` (str): Адрес SMTP-сервера. Получается из переменной окружения `SMTP_SERVER`. Значение по умолчанию `'smtp.example.com'`.
    - `port` (int): Порт SMTP-сервера. Получается из переменной окружения `SMTP_PORT`. Значение по умолчанию `587`.
    - `user` (str): Имя пользователя для SMTP-сервера. Получается из переменной окружения `SMTP_USER`.
    - `password` (str): Пароль для SMTP-сервера. Получается из переменной окружения `SMTP_PASSWORD`.
    - `receiver` (str): Адрес получателя по умолчанию. Получается из переменной окружения `SMTP_RECEIVER`. Значение по умолчанию `'one.last.bit@gmail.com'`.

**Важно**:
- **Безопасность**: Конфиденциальные данные, такие как логины и пароли, должны храниться в переменных окружения, а не в коде.