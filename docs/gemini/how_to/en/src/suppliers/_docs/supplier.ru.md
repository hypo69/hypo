```markdown
# Руководство по использованию класса `Supplier`

Класс `Supplier` в данном коде является базовым классом для работы с поставщиками данных. Он предоставляет общие методы и атрибуты, которые могут быть использованы и переопределены для различных поставщиков (например, Amazon, AliExpress, Walmart).

## Назначение

Класс `Supplier` служит основой для реализации различных поставщиков данных, обеспечивая единый интерфейс для взаимодействия с ними. Он абстрагирует общие задачи, такие как авторизация, загрузка настроек и выполнение сценариев, позволяя сосредоточиться на специфике каждого поставщика.

## Основные компоненты

### 1. Атрибуты

* `supplier_id`: Уникальный идентификатор поставщика.
* `supplier_prefix`: Префикс для поставщика (например, `aliexpress`, `amazon`).
* `supplier_settings`: Настройки поставщика, загруженные из файла конфигурации.
* `locale`: Код локализации (например, `en`, `ru`).
* `price_rule`: Правило расчета цены (например, добавление НДС, скидка).
* `related_modules`: Модуль со специфическими для поставщика функциями.
* `scenario_files`: Список файлов сценариев, которые нужно выполнить.
* `current_scenario`: Текущий сценарий выполнения.
* `login_data`: Данные для входа на сайт поставщика (если требуется).
* `locators`: Локаторы веб-элементов на страницах сайта поставщика.
* `driver`: Веб-драйвер для взаимодействия с сайтом поставщика.
* `parsing_method`: Способ парсинга данных (например, `webdriver`, `api`, `xls`, `csv`).

### 2. Методы

* `__init__(self, supplier_prefix: str, locale: str = 'en', webdriver: str | Driver | bool = 'default', *attrs, **kwargs)`: Конструктор класса, инициализирующий атрибуты на основе префикса поставщика и других параметров.  Обратите внимание на аргумент `webdriver`, который может быть строкой (имя драйвера) или объектом класса `webdriver`.
* `_payload(self, webdriver: str | Driver | bool, *attrs, **kwargs) -> bool`: Загружает настройки поставщика, конфигурационные файлы и инициализирует веб-драйвер.  Возвращает `True` при успешной инициализации, `False` - при ошибке.
* `login(self) -> bool`: Метод для выполнения входа на сайт поставщика (если требуется). Возвращает `True` при успешном входе, `False` - при ошибке.
* `run_scenario_files(self, scenario_files: str | List[str] = None) -> bool`: Запускает выполнение сценариев, определённых в переданных файлах.
* `run_scenarios(self, scenarios: dict | list[dict]) -> bool`: Запускает один или несколько сценариев, указанных в словаре/списке словарей.

## Как использовать

1. **Инициализация:** Создайте объект класса `Supplier`, передав префикс поставщика, локаль и, желательно, имя веб-драйвера:

   ```python
   supplier = Supplier(supplier_prefix='aliexpress', locale='en', webdriver='chrome')
   ```

2. **Загрузка настроек:** Вызовите метод `_payload` для загрузки конфигураций и инициализации веб-драйвера.

   ```python
   supplier._payload(webdriver='chrome') # или supplier._payload(webdriver=webdriver_object)
   ```

3. **Вход (если требуется):** Вызовите метод `login`, если поставщик требует авторизации.

   ```python
   supplier.login()
   ```

4. **Выполнение сценариев:** Используйте методы `run_scenario_files` или `run_scenarios` для запуска сценариев:

   ```python
   supplier.run_scenario_files(['example_scenario.json'])
   supplier.run_scenarios([{'action': 'scrape', 'target': 'product_list'}])
   ```

## Важные замечания

*  **Обработка ошибок:**  В методах `_payload`, `login`, `run_scenario_files` и `run_scenarios` необходимо добавить обработку потенциальных исключений (например, `FileNotFoundError`, `exceptions.WebDriverException`).  Обработка ошибок позволит вашей программе корректно реагировать на проблемы и не завершаться с ошибкой.
* **Конфигурация:**  Убедитесь, что файлы конфигурации и сценариев (например, `example_scenario.json`) находятся в правильных местах, чтобы `_payload` и другие методы их могли найти.
* **Логирование:**  Для отслеживания процесса работы класса `Supplier` рекомендуется использовать `logging`, чтобы записывать сообщения об успехе и ошибках.

## Пример использования (полный):

```python
import logging
# ... (импорт необходимых библиотек, например, webdriver)
from your_module import Supplier

# Настройка логирования
logging.basicConfig(level=logging.INFO)

# Создание экземпляра класса Supplier
supplier = Supplier(supplier_prefix='aliexpress', locale='en', webdriver='chrome')

try:
    supplier._payload(webdriver='chrome')
    if supplier.login():
        supplier.run_scenario_files(['example_scenario.json'])
        logging.info("Сценарии успешно выполнены.")
    else:
        logging.error("Ошибка авторизации.")
except Exception as e:
    logging.error(f"Произошла ошибка: {e}")

```


Это улучшенное руководство с дополнительными пояснениями и рекомендациями.  Пожалуйста, укажите, если у вас есть другие вопросы.