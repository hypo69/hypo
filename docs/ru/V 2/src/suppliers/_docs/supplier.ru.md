# Модуль `Supplier`

## Обзор

Класс `Supplier` является базовым классом для работы с поставщиками данных в вашем приложении. Он предоставляет общие методы и атрибуты, которые могут быть использованы или переопределены конкретными реализациями поставщиков.

## Содержание

- [Обзор](#обзор)
- [Классы](#классы)
    - [`Supplier`](#supplier)
        - [Атрибуты класса](#атрибуты-класса)
        - [Методы класса](#методы-класса)
- [Пример Использования](#пример-использования)
- [Заключение](#заключение)

## Классы

### `Supplier`

**Описание**: Базовый класс для работы с поставщиками данных.

#### Атрибуты класса

- `supplier_id`: Уникальный идентификатор поставщика.
- `supplier_prefix`: Префикс для поставщика, например, `aliexpress` или `amazon`.
- `supplier_settings`: Настройки для поставщика, загруженные из файла конфигурации.
- `locale`: Код локализации (например, `en` для английского, `ru` для русского).
- `price_rule`: Правило для расчета цены (например, добавление НДС или скидки).
- `related_modules`: Модуль, содержащий специфические для поставщика функции.
- `scenario_files`: Список файлов сценариев, которые должны быть выполнены.
- `current_scenario`: Текущий сценарий выполнения.
- `login_data`: Данные для входа на сайт поставщика (если требуется).
- `locators`: Локаторы для веб-элементов на страницах сайта поставщика.
- `driver`: Веб-драйвер для взаимодействия с сайтом поставщика.
- `parsing_method`: Метод парсинга данных (например, `webdriver`, `api`, `xls`, `csv`).

#### Методы класса

- `__init__`:
    **Описание**: Конструктор класса, инициализирующий атрибуты на основе префикса поставщика и других параметров.
    ```python
    def __init__(self, supplier_prefix: str, locale: str = 'en', webdriver: str | Driver | bool = 'default', *attrs, **kwargs) -> None:
    ```
    **Параметры**:
        - `supplier_prefix` (str): Префикс поставщика (например, "aliexpress").
        - `locale` (str, optional): Локализация (например, 'en' или 'ru'). По умолчанию 'en'.
        - `webdriver` (str | Driver | bool, optional): Веб-драйвер или его настройка. По умолчанию 'default'.
        - `*attrs`: Прочие атрибуты.
        - `**kwargs`: Прочие именованные атрибуты.
    **Возвращает**:
        - None
- `_payload`:
    **Описание**: Загружает настройки поставщика, конфигурационные файлы и инициализирует веб-драйвер.
    ```python
    def _payload(self, webdriver: str | Driver | bool, *attrs, **kwargs) -> bool:
    ```
     **Параметры**:
        - `webdriver` (str | Driver | bool): Веб-драйвер или его настройка.
        - `*attrs`: Прочие атрибуты.
        - `**kwargs`: Прочие именованные атрибуты.
    **Возвращает**:
        - `bool`: Возвращает `True` в случае успешной загрузки и инициализации, `False` в случае ошибки.
- `login`:
    **Описание**: Метод для выполнения входа на сайт поставщика (если требуется).
     ```python
    def login(self) -> bool:
     ```
    **Возвращает**:
       - `bool`: Возвращает `True` в случае успешного входа, `False` в случае ошибки.
- `run_scenario_files`:
    **Описание**: Запускает выполнение файлов сценариев.
     ```python
    def run_scenario_files(self, scenario_files: str | List[str] = None) -> bool:
    ```
    **Параметры**:
        - `scenario_files` (str | List[str], optional): Имя файла сценария или список файлов. По умолчанию `None`.
    **Возвращает**:
        - `bool`: Возвращает `True` в случае успешного выполнения, `False` в случае ошибки.
- `run_scenarios`:
    **Описание**: Запускает один или несколько сценариев.
     ```python
    def run_scenarios(self, scenarios: dict | list[dict]) -> bool:
    ```
    **Параметры**:
        - `scenarios` (dict | list[dict]): Словарь или список словарей с описаниями сценариев.
    **Возвращает**:
        - `bool`: Возвращает `True` в случае успешного выполнения, `False` в случае ошибки.

## Пример Использования

```python
# Создаем объект для поставщика 'aliexpress'
supplier = Supplier(supplier_prefix='aliexpress', locale='en', webdriver='chrome')

# Выполняем вход на сайт поставщика
supplier.login()

# Запускаем сценарии из файлов
supplier.run_scenario_files(['example_scenario.json'])

# Или запускаем сценарии по определенным условиям
supplier.run_scenarios([{'action': 'scrape', 'target': 'product_list'}])
```

## Заключение

Класс `Supplier` представляет собой обобщенную модель для работы с данными от различных поставщиков. Он инкапсулирует общую логику взаимодействия с сайтом, настройку драйвера, управление сценарием и парсинг данных. Конкретные реализации поставщиков будут наследовать этот класс и добавлять свою специфическую логику.