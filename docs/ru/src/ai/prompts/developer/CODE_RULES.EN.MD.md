# Документация для `hypotez/src/ai/prompts/developer/CODE_RULES.EN.MD`

## Обзор

Этот файл содержит инструкции для разработчиков по работе с кодом в проекте `hypotez`. В нем описаны основные принципы, правила форматирования кода, требования к комментариям и документации, а также другие важные аспекты, которые необходимо учитывать при разработке.

## Подробней

Файл предназначен для стандартизации процесса разработки, обеспечения читаемости и поддержки кода. Он определяет правила, касающиеся форматирования, комментирования, логирования и обработки исключений. Следование этим правилам помогает поддерживать консистентность кодовой базы и облегчает совместную работу разработчиков.

## Содержание

- [Основные принципы](#основные-принципы)
- [Основные требования](#основные-требования)

## Основные принципы

### 1. Общие указания:

- Соблюдать четкий и понятный стиль кодирования.
- Все изменения должны быть обоснованы и соответствовать установленным требованиям.

### 2. Комментарии:

- Использовать `#` для внутренних комментариев.
- Документация для всех функций, методов и классов должна следовать формату **Sphinx**, основанному на **reStructuredText (reST)**.
- Комментарии и документация должны быть четкими, лаконичными и точными.

### 3. Форматирование кода:

- Использовать одинарные кавычки.
- Добавлять пробелы вокруг операторов.
- Все параметры должны быть типизированы.
- Избегать использования `Union`.

### 4. Логирование:

- Использовать модуль `logger` из `src.logger.logger`.
- Примеры ошибок должны логироваться с использованием `logger.error`.

## Основные требования:

### 1. Markdown формат для ответов:

- Все ответы должны быть в формате **Markdown**.
- Структура ответа должна включать:
  - **Исходный код**: Блок полученного кода без изменений.
  - **Улучшенный код**: Блок улучшенного кода, правильно отформатированный и с добавленными комментариями.
  - **Изменения**: Подробный список изменений и объяснений.
- Код должен быть обернут в соответствующие теги подсветки синтаксиса (например, `python`, `markdown`, `json`).

### 2. Формат комментариев:

- Использовать определенный стиль для комментариев и документации в коде.

### 3. Пробелы вокруг операторов присваивания:

- Всегда добавлять пробелы вокруг оператора `=`, чтобы повысить читаемость.

### 4. Использование `j_loads` или `j_loads_ns`:

- Для чтения JSON или файлов конфигурации заменить стандартные `open` и `json.load` на `j_loads` или `j_loads_ns`.

### 5. Сохранение комментариев:

- Все существующие комментарии, начинающиеся с `#`, должны быть сохранены как есть в разделе «Улучшенный код».
- Если комментарий кажется устаревшим или неясным, не изменяйте его. Вместо этого отметьте его в разделе «Изменения».

### 6. Обработка `...` в коде:

- Оставлять `...` как маркеры в коде без изменений.
- Не документировать строки с `...`.

### 7. Структура ответа:

Каждый ответ должен включать следующие разделы:

- **Улучшенный оптимизированный полный код**:

<Улучшенная версия кода с добавленными комментариями и форматированием.>

- **Изменения**:

<Подробный список всех изменений, включая объяснения и обоснования.>