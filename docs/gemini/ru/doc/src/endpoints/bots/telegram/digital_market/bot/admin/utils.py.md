# Модуль utils

## Обзор

Модуль `utils` содержит функции для обработки сообщений в Telegram боте, включая удаление предыдущих сообщений пользователя.

## Подробней

Этот модуль предоставляет функцию `process_dell_text_msg`, которая удаляет последнее сообщение пользователя и текущее сообщение. Это полезно для очистки интерфейса бота от устаревших или ненужных сообщений.

## Функции

### `process_dell_text_msg`

```python
async def process_dell_text_msg(message: Message, state: FSMContext):
    """ Функция удаляет последнее сообщение пользователя и текущее сообщение.
    Args:
        message (Message): Объект сообщения Telegram.
        state (FSMContext): Объект состояния FSM (машина состояний).

    Returns:
        None

    Raises:
        Exception: Если возникает ошибка при удалении сообщения.

    Example:
        Пример вызова функции:
        await process_dell_text_msg(message, state)
    """
```

**Как работает функция**:

1.  **Извлечение данных из FSMContext**: Извлекает данные из контекста FSM, чтобы получить идентификатор последнего сообщения (`last_msg_id`).
2.  **Проверка наличия `last_msg_id`**: Проверяет, существует ли `last_msg_id` в данных контекста.
3.  **Удаление последнего сообщения**: Если `last_msg_id` существует, пытается удалить сообщение с этим идентификатором из чата пользователя.
4.  **Обработка отсутствия `last_msg_id`**: Если `last_msg_id` не найден, записывает предупреждение в лог.
5.  **Удаление текущего сообщения**: Пытается удалить текущее сообщение пользователя.
6.  **Обработка ошибок**: Если при удалении сообщения возникает исключение, записывает сообщение об ошибке в лог.

**Параметры**:

*   `message` (Message): Объект сообщения Telegram, содержащий информацию о сообщении, отправителе и чате.
*   `state` (FSMContext): Объект состояния FSM (машина состояний), используемый для хранения данных о состоянии пользователя в боте.

**Возвращает**:

*   `None`: Функция ничего не возвращает.

**Вызывает исключения**:

*   `Exception`: Если происходит ошибка при удалении сообщения, в лог записывается сообщение об ошибке.