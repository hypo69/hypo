# Модуль для подготовки JSON-файлов кампании AliExpress

## Обзор

Модуль `prepare_campaign_json_file.py` предназначен для обработки и подготовки JSON-файлов, содержащих информацию о рекламных кампаниях на AliExpress. Он включает функции для обработки отдельных кампаний, категорий и всех кампаний в целом.

## Подробней

Модуль используется для автоматизации процесса создания и редактирования рекламных кампаний на AliExpress. Он предоставляет инструменты для чтения, обработки и записи данных о кампаниях в формате JSON. Это позволяет упростить управление кампаниями и снизить вероятность ошибок при ручном вводе данных.

## Функции

### `process_campaign_category`

```python
def process_campaign_category(category_name: str) -> None:
    """Обрабатывает рекламные кампании для заданной категории.

    Args:
        category_name (str): Название категории кампании.

    Returns:
        None

    Raises:
        Exception: В случае возникновения ошибок при обработке кампании.

    Как работает функция:
    1. Логирует начало обработки категории кампании.
    2. Формирует путь к файлу категории кампании.
    3. Загружает JSON-данные из файла категории кампании.
    4. Логирует успешную загрузку JSON-данных.
    5. Итерируется по кампаниям в JSON-данных.
    6. Для каждой кампании извлекает имя кампании и файл кампании.
    7. Создает экземпляр класса `AliCampaignEditor` для редактирования кампании.
    8. Логирует сообщение об успешном редактировании кампании.
    9. В случае возникновения ошибки логирует сообщение об ошибке.
    10. Логирует завершение обработки категории кампании.

    Внутри функции происходят следующие действия и преобразования:
    A - Формирование пути к файлу кампании.
    |
    -- B - Загрузка JSON-данных.
    |
    C - Итерация по кампаниям.
    |
    D - Редактирование кампании с использованием AliCampaignEditor.

    Примеры:
        >>> process_campaign_category('lighting')
        # Выполнится обработка кампании для категории 'lighting'
    """
```

### `process_campaign`

```python
def process_campaign(campaign_name: str) -> None:
    """Обрабатывает рекламную кампанию по заданному имени.

    Args:
        campaign_name (str): Название кампании.

    Returns:
        None

    Raises:
        Exception: В случае возникновения ошибок при обработке кампании.

    Как работает функция:

    1.  Логирует начало обработки кампании.
    2.  Формирует путь к файлу кампании на основе её имени.
    3.  Извлекает имя файла кампании из имени кампании.
    4.  Создаёт экземпляр класса `AliCampaignEditor` для редактирования кампании.
    5.  Логирует сообщение об успешном редактировании кампании.
    6.  В случае возникновения ошибки логирует сообщение об ошибке.
    7.  Логирует завершение обработки кампании.

    Внутри функции происходят следующие действия и преобразования:
    A - Формирование пути к файлу кампании.
    |
    -- B - Извлечение имени файла кампании.
    |
    C - Редактирование кампании с использованием `AliCampaignEditor`.

    Примеры:
        >>> process_campaign('test_campaign')
        # Выполнится обработка кампании с именем 'test_campaign'
    """
```

### `process_all_campaigns`

```python
def process_all_campaigns() -> None:
    """Обрабатывает все рекламные кампании.

    Args:
        None

    Returns:
        None

    Raises:
        Exception: В случае возникновения ошибок при обработке кампаний.

    Как работает функция:
    1. Логирует начало обработки всех кампаний.
    2. Получает список названий директорий (категорий) из директории кампаний.
    3. Итерируется по каждой категории.
    4. Для каждой категории вызывает функцию `process_campaign_category`.
    5. Логирует сообщение об успешной обработке категории.
    6. В случае возникновения ошибки логирует сообщение об ошибке.
    7. Логирует завершение обработки всех кампаний.

    Внутри функции происходят следующие действия и преобразования:
    A - Получение списка директорий (категорий).
    |
    -- B - Итерация по категориям.
    |
    C - Обработка каждой категории с использованием `process_campaign_category`.

    Примеры:
        >>> process_all_campaigns()
        # Выполнится обработка всех кампаний во всех категориях
    """