# Модуль `gemini_simplechat.main`

## Обзор

Модуль `gemini_simplechat.main` представляет собой простой API для чата с использованием модели Gemini. Он включает в себя настройку CORS, эндпоинты для отправки сообщений и получения ответов от модели, а также локальный сервер для запуска приложения.

## Оглавление

- [Обзор](#обзор)
- [Классы](#классы)
    - [ChatRequest](#chatrequest)
- [Функции](#функции)
    - [`root`](#root)
    - [`chat`](#chat)
- [Запуск сервера](#запуск-сервера)

## Классы

### `ChatRequest`

**Описание**: Модель запроса для чата.

**Поля**:
- `message` (str): Сообщение пользователя.

## Функции

### `root`

**Описание**: Обрабатывает GET-запрос к корневому пути ("/"). Возвращает HTML-страницу.

**Возвращает**:
- `HTMLResponse`: HTML-содержимое страницы.

**Вызывает исключения**:
- `HTTPException`: Возникает при ошибке чтения HTML-файла.

### `chat`

**Описание**: Обрабатывает POST-запрос к пути "/api/chat". Отправляет сообщение пользователя в модель Gemini и возвращает ответ.

**Параметры**:
- `request` (ChatRequest): Запрос с сообщением пользователя.

**Возвращает**:
- `dict`: Ответ от модели Gemini в формате словаря {"response": ответ}.

**Вызывает исключения**:
- `HTTPException`: Возникает при ошибке во время обработки чата.

## Запуск сервера

**Описание**: Запускает FastAPI-приложение с помощью Uvicorn.

- Использует конфигурацию хоста и порта из `gs.fast_api`.
- Сервер запускается только при непосредственном выполнении скрипта (`if __name__ == "__main__":`).