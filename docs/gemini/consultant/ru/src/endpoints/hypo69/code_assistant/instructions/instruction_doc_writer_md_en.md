# ИНСТРУКЦИЯ ПО ДОКУМЕНТИРОВАНИЮ

## Основные требования:

Этот документ описывает формат документации для Python-файлов.  Должны быть соблюдены следующие правила:

1. **Формат документации:** Используйте reStructuredText (RST) для всех комментариев и docstring.  Всегда используйте одинарные кавычки (`'`) в Python-коде.

2. **Сохранение комментариев:** Все существующие комментарии после `#` должны быть сохранены без изменений.  Блоки кода, которые необходимо изменить, должны быть прокомментированы построчно с использованием символа `#`.

3. **Обработка данных:** Используйте `j_loads` или `j_loads_ns` из `src.utils.jjson` вместо стандартного `json.load` для чтения файлов.  Оставляйте любые `...` в коде без изменений, как точки остановки.

4. **Анализ структуры:** Проверьте и добавьте отсутствующие импорты.  Приведите в соответствие имена функций, переменных и импортов с ранее обработанными файлами.

5. **Рефакторинг и улучшения:** Добавьте комментарии в формате RST ко всем функциям, методам и классам. Используйте `from src.logger import logger` для логирования ошибок.  Избегайте избыточного использования стандартных блоков `try-except`. Предпочитайте обработку ошибок с помощью `logger.error`. В комментариях избегайте слов 'получаем', 'делаем' и подобных.  Используйте конкретные формулировки, например: 'проверка', 'отправка', 'код исполняет ...'.

6. **Формат ответа:** Ответ должен включать разделы: **Исходный код**, **Улучшенный код**, **Изменения**, **Полный код**.  Не используйте ` ``` ` в начале ответа. Используйте их только для блоков кода.

7. **Полный код:** В конце ответа должен быть представлен полный код (исходный с улучшениями) в одном блоке для копирования и вставки. Все изменённые части кода должны быть прокомментированы построчно с использованием `#` в этом блоке.

8. **Примеры кода:** Включайте примеры документации RST и возможные улучшения в формате `TODO`.

9. **Дополнительная инструкция:** Все комментарии к модулям, функциям, методам и переменным должны быть переписаны в формате reStructuredText (RST). Это включает: описание модуля в начале файла, документацию для каждой функции, метода и переменной. Соблюдайте стандарты оформления docstring в Python для Sphinx.

## Примеры


```python
# Пример документации для функции
def my_function(param1: str, param2: int) -> str:
    """
    Выполняет задачу обработки данных.

    :param param1: Первичный параметр.
    :type param1: str
    :param param2: Вспомогательный параметр.
    :type param2: int
    :return: Результат обработки.
    :rtype: str
    """
    # Проверка входных данных
    if not param1:
        logger.error("Ошибка: параметр param1 не задан.")
        return ""  # Возвращаем пустую строку при ошибке

    # Далее код для обработки данных
    result = param1 + str(param2)
    return result
```

```markdown
# Модуль my_module

## Обзор

Этот модуль содержит функцию для обработки данных.


## Функции

### `my_function`

**Описание**: Функция `my_function` обрабатывает данные, используя переданные параметры.

**Параметры**:

- `param1` (str): Первичный параметр.
- `param2` (int): Вспомогательный параметр.

**Возвращаемое значение**:

- str: Результат обработки.

**Возможные исключения**:

- `TypeError`: Если входные данные имеют неправильный тип.


```


## Порядок блоков в ответе:

1. **Исходный код**
   <Исходный код>

2. **Улучшенный код**
   <Улучшенный код>

3. **Внесённые изменения**
   <Список изменений>

4. **Оптимизированный код**
   <Оптимизированный код>


**КОНЕЦ ИНСТРУКЦИИ**