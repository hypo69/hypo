# Модуль `graber`

## Обзор

Модуль `graber` предназначен для сбора значений полей на странице товара `morlevi.co.il`. Он содержит класс `Graber`, который наследует функциональность от родительского класса `Graber` (`Grbr`). Модуль предоставляет механизм для переопределения стандартных методов обработки полей товара и выполнения предварительных действий перед отправкой запроса к веб-драйверу с использованием декораторов.

## Подробней

Модуль предназначен для парсинга данных с сайта `morlevi.co.il`. Он расширяет базовый класс `Graber` (`Grbr`) и предоставляет возможность переопределять методы для обработки специфичных полей товаров на этом сайте. Использование декораторов позволяет выполнять предварительные действия перед взаимодействием с веб-драйвером, что может быть полезно для закрытия всплывающих окон или выполнения других подготовительных шагов.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `morlevi.co.il`. Он наследует функциональность от класса `Graber` (`Grbr`) и предоставляет возможность переопределять методы для обработки специфичных полей товаров.

**Принцип работы**:
1.  Инициализируется с префиксом поставщика `'morlevi'`, драйвером веб-браузера и индексом языка.
2.  Наследует методы для обработки полей товаров от родительского класса `Graber` (`Grbr`).
3.  Позволяет переопределять методы для обработки специфичных полей товаров на сайте `morlevi.co.il`.
4.  Использует декораторы для выполнения предварительных действий перед взаимодействием с веб-драйвером.

**Наследует**:
-   `Graber` (`Grbr`): Родительский класс, предоставляющий базовую функциональность для сбора данных о товарах.

**Аттрибуты**:
-   `supplier_prefix` (str): Префикс поставщика, установлен в `'morlevi'`.

**Методы**:
-   `__init__`: Инициализация класса `Graber`.

### `__init__`

```python
def __init__(self, driver: Driver, lang_index: int):
    """Инициализация класса сбора полей товара."""
    super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)
    Context.locator_for_decorator = self.locator.close_pop_up
```

**Назначение**: Инициализирует экземпляр класса `Graber`, вызывая конструктор родительского класса `Graber` (`Grbr`) и устанавливая локатор для декоратора из контекста.

**Параметры**:
-   `driver` (Driver): Экземпляр веб-драйвера для управления браузером.
-   `lang_index` (int): Индекс языка для локализации.

**Как работает функция**:
1.  Вызывает конструктор родительского класса `Graber` (`Grbr`) с передачей префикса поставщика, драйвера и индекса языка.
2.  Устанавливает локатор для декоратора из контекста, используя `self.locator.close_pop_up`.

```ascii
Инициализация
│
├───> Вызов конструктора Graber (Grbr)
│     │
│     └───> Установка атрибутов класса
│
│
└───> Установка Context.locator_for_decorator
      │
      └───> Присвоение self.locator.close_pop_up
```

**Примеры**:

```python
from src.webdriver.driver import Driver, Firefox
from src.suppliers.morlevi.graber import Graber

# Пример создания экземпляра класса Graber
driver = Driver(Firefox)
lang_index = 0
graber = Graber(driver, lang_index)