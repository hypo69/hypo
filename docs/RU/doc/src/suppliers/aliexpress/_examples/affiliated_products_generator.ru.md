# Модуль `affiliated_products_generator.py`

## Обзор

Этот модуль предоставляет инструменты для генерации аффилированных ссылок на продукты с AliExpress.  Он содержит класс `AliAffiliatedProducts`, который позволяет собрать данные о продуктах, обработать аффилированные ссылки и сохранить изображения/видео.

## Классы

### `AliAffiliatedProducts`

**Описание**: Класс `AliAffiliatedProducts` отвечает за обработку продуктов с AliExpress, создание аффилированных ссылок и сохранение медиа-контента.

**Методы**:

- `process_affiliate_products(prod_urls: list[str]) -> list[Product]`:
    **Описание**: Обрабатывает список URL или ID продуктов, генерирует аффилированные ссылки, сохраняет изображения и видео.

    **Параметры**:
    - `prod_urls` (list[str]): Список URL или ID продуктов с AliExpress.

    **Возвращает**:
    - list[Product]: Список объектов `Product` с аффилированными ссылками и сохранённым медиа-контентом. Возвращает пустой список, если обработка не удалась.

    **Вызывает исключения**:
    - `ConnectionError`: Возникает при проблемах с подключением к AliExpress.
    - `HTTPError`: Возникает при проблемах с HTTP-запросом.
    - `ValueError`: Возникает при некорректном формате входных данных.
    - `Exception`: Возникает при других непредвиденных ошибках.


## Примеры использования (из `example_usage.py`)

### Пример 1

Этот пример демонстрирует базовое использование класса `AliAffiliatedProducts` для получения аффилированных ссылок для нескольких продуктов.

```python
from src.suppliers.aliexpress.affiliated_products_generator import AliAffiliatedProducts

# ... (код для задания параметров кампании)

# Пример URL продуктов или их ID
prod_urls = [
    '123',
    'https://www.aliexpress.com/item/123.html',
    '456',
    'https://www.aliexpress.com/item/456.html',
]

parser = AliAffiliatedProducts(
    campaign_name, campaign_category, language, currency
)

products = parser.process_affiliate_products(prod_urls)

# ... (код для обработки и вывода результатов)
```

**Описание**:  Пример показывает, как создать экземпляр класса `AliAffiliatedProducts`, передать список URL продуктов, вызвать метод `process_affiliate_products` и получить список обработанных продуктов.  Обработка результатов показана в примере `if products:` ниже.


**Примечание:**  Для полного функционирования этого модуля необходимы соответствующие классы и функции для обработки данных, а также подключение к API AliExpress (если таковое необходимо).  В примере показано, как использовать класс, но не как реализовать его внутреннюю логику.  Рекомендуется добавить документацию к этим скрытым частям кода в `affiliated_products_generator.py` для большего понимания.