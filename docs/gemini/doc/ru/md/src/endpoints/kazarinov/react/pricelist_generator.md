# Модуль `hypotez/src/endpoints/kazarinov/react/pricelist_generator.py`

## Обзор

Модуль `pricelist_generator.py` отвечает за генерацию HTML и PDF отчетов для мехиронов Казаринова. Он использует Jinja2 для рендеринга шаблонов HTML на основе данных из JSON-файла, а также `pdfkit` для преобразования HTML в PDF.  Модуль использует данные, загруженные из json, для заполнения HTML шаблона и сохранения результата в файл.

## Классы

### `ReportGenerator`

**Описание**: Класс `ReportGenerator` предназначен для генерации HTML и PDF отчётов. Он содержит методы для загрузки данных, рендеринга HTML, сохранения HTML в файл, преобразования HTML в PDF и запуска полного цикла генерации отчёта.

**Атрибуты**:

- `template_path` (str): Путь к файлу шаблона HTML. По умолчанию, путь к шаблону `template.html` в директории `src/suppliers/kazarinov/react/templates/`.
- `env` (jinja2.Environment): Объект Jinja2 для работы с шаблонами.


**Методы**:

#### `generate_html(self, data: dict) -> str`

**Описание**: Генерирует HTML-контент на основе шаблона и переданных данных.

**Параметры**:

- `data` (dict): Словарь с данными для заполнения шаблона.

**Возвращает**:

- `str`: Сгенерированный HTML-код.


#### `create_report(self, data: dict, html_file: str | Path, pdf_file: str | Path) -> None`

**Описание**: Запускает полный цикл генерации отчёта, включая генерацию HTML, его сохранение и преобразование в PDF.

**Параметры**:

- `data` (dict): Данные для генерации отчета.
- `html_file` (str | Path): Путь к файлу для сохранения HTML.
- `pdf_file` (str | Path): Путь к файлу для сохранения PDF.

**Возвращает**:

- `None`


## Функции

(В модуле нет функций, кроме методов класса `ReportGenerator`)


## Использование

Для использования модуля необходимо создать экземпляр класса `ReportGenerator`, указать путь к шаблону, загрузить данные из JSON-файла и вызвать метод `create_report`.

```python
# Пример использования
base_path = gs.path.data / 'kazarinov' / 'mexironim' / '202410262326'
data: dict = j_loads(base_path / '202410262326_ru.json')
html_file: Path = base_path / '202410262326_ru.html'
pdf_file: Path = base_path / '202410262326_ru.pdf'
r = ReportGenerator()
r.create_report(data, html_file, pdf_file)
```

В примере `gs.path` предполагает доступ к пути к каталогу.


## Замечания

- Модуль использует библиотеки `jinja2`, `pdfkit` и другие, которые необходимо установить.
-  `config = pdfkit.configuration(...)` - настройка конфигурации для `pdfkit`.
-  Обратите внимание на использование `Path` для работы с путями, что делает код более устойчивым к различным операционным системам.
-  Код предполагает наличие файла `template.html` и соответствующих импортов в указанном выше пути.
- В примере `j_loads` предполагает функцию для загрузки данных из json, которая не определена в этом фрагменте кода.
-  Обработка ошибок (например, проблемы с файлами) не представлена в данном примере.