Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код содержит функции для работы с категориями на сайте AliExpress.  Он позволяет собирать URL-адреса товаров из категорий, а также сравнивать список категорий на сайте с данными в сценарии. Код также предоставляет примеры работы с базой данных (CRUD операции) для управления категориями.

Шаги выполнения
-------------------------
1. **Импорт необходимых библиотек:** Код импортирует нужные модули, включая `gs`, `j_dumps`, `j_loads`, `logger` и классы `CategoryManager` и `AliexpressCategory` для работы с базой данных.

2. **Создание экземпляра `CategoryManager`:** Создается экземпляр класса `CategoryManager`, необходимый для взаимодействия с базой данных.

3. **`get_list_products_in_category(s)`:** Эта функция собирает ссылки на товары в заданной категории.
   - Она использует функцию `get_prod_urls_from_pagination(s)`.
   - Проверяет, есть ли товары в категории, и возвращает пустой список, если нет.
   - Если есть товары, циклически перелистывает страницы товаров, собирая ссылки.

4. **`get_prod_urls_from_pagination(s)`:**  Эта функция собирает ссылки на товары со страницы категории, переходя по страницам.
   - Использует `s.driver` и `s.locators` для взаимодействия с веб-драйвером и нахождения ссылок на товары.
   - Проверяет наличие страниц с товарами и останавливается при отсутствии.
   - Добавляет собранные ссылки в список `list_products_in_category`.

5. **`update_categories_in_scenario_file(s, scenario_filename)`:** Эта функция сравнивает категории из файла сценария со списком категорий на сайте.
   - Загружает данные из файла сценария.
   - Получает список категорий с сайта.
   - Проверяет соответствие идентификаторов категорий.
   - Добавляет новые категории в сценарий и отключает удаленные.
   - Сохраняет изменения в файл сценария.
   -  Отправляет уведомления о добавлении или удалении категорий.
   - Важно: Функция `get_list_categories_from_site` не указана полностью, предполагается ее функциональность связана с получением списка категорий с сайта.


6. **Класс `DBAdaptor`:**  Предоставляет примеры операций с базой данных (CRUD):
   - `select`: Выбор записей из таблицы `AliexpressCategory`.
   - `insert`: Добавление новой записи.
   - `update`: Обновление записи.
   - `delete`: Удаление записи.


Пример использования
-------------------------
.. code-block:: python

    # Пример использования функции get_list_products_in_category
    from src.suppliers.aliexpress import category
    import src.suppliers.aliexpress.supplier as sup

    # Предполагается, что s - экземпляр класса Supplier, инициализированный как-то
    supplier = sup.Supplier()

    product_urls = category.get_list_products_in_category(supplier)

    if product_urls:
        for url in product_urls:
            print(url)
    else:
        print("В категории нет товаров.")

    # Пример использования DBAdaptor
    from src.suppliers.aliexpress import category


    category.DBAdaptor.select(parent_id=123)  # Пример запроса к базе данных