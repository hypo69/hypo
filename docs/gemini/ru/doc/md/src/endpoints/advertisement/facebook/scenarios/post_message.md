# Модуль `hypotez/src/endpoints/advertisement/facebook/scenarios/post_message.py`

## Обзор

Данный модуль содержит функции для публикации сообщений на Facebook. Он предоставляет инструменты для добавления заголовков, описаний, медиа-файлов и публикации готового поста.  Модуль использует Selenium WebDriver для взаимодействия с веб-страницей Facebook и `SimpleNamespace` для структурирования данных.

## Оглавление

- [Функция `post_title`](#функция-post_title)
- [Функция `upload_media`](#функция-upload_media)
- [Функция `update_images_captions`](#функция-update_images_captions)
- [Функция `publish`](#функция-publish)
- [Функция `promote_post`](#функция-promote_post)
- [Функция `post_message`](#функция-post_message)


## Функции

### `post_title`

**Описание**: Отправляет заголовок и описание кампании в поле сообщения поста.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `message` (SimpleNamespace | str):  Данные о сообщении, содержащие заголовок и описание. Может быть строкой или объектом SimpleNamespace.

**Возвращает**:
- `bool`: `True`, если заголовок и описание успешно отправлены, иначе `None`.

**Примеры использования**:

```python
driver = Driver(...)
category = SimpleNamespace(title="Campaign Title", description="Campaign Description")
post_title(driver, category)
```

### `upload_media`

**Описание**: Загружает медиа-файлы в раздел изображений и обновляет подписи.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `media` (SimpleNamespace | List[SimpleNamespace] | str | list[str]): Медиа-данные, которые необходимо загрузить. Может быть списком объектов SimpleNamespace, строкой или списком строк.
- `no_video` (bool, optional): Флаг, указывающий, что не нужно загружать видео. По умолчанию `False`.
- `without_captions` (bool, optional): Флаг, указывающий, что не нужно обновлять подписи к загруженным медиа. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если медиа-файлы успешно загружены, иначе `None`.

**Возможные исключения**:
- `Exception`: В случае возникновения ошибки при загрузке медиа или обновлении подписей.

**Примеры использования**:
```python
driver = Driver(...)
products = [SimpleNamespace(local_saved_image='path/to/image.jpg')]
upload_media(driver, products)
```

### `update_images_captions`

**Описание**: Добавляет описания к загруженным медиа-файлам.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `media` (List[SimpleNamespace]): Список объектов SimpleNamespace с информацией о продуктах.
- `textarea_list` (List[WebElement]): Список элементов textarea, в которые будут добавлены подписи.

**Возможные исключения**:
- `Exception`: В случае возникновения ошибки при обновлении подписей к медиа.

**Примеры использования**: (Пример использования внутри функции `upload_media`)


### `publish`

**Описание**: Опубликовать пост.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `attempts` (int, optional): Количество попыток публикации. По умолчанию `5`.

**Возвращает**:
- `bool`: `True` если пост опубликован успешно, иначе `None`.


### `promote_post`

**Описание**: Управляет процессом продвижения поста с заголовком, описанием и медиа-файлами.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `category` (SimpleNamespace): Объект `SimpleNamespace` с данными о заголовке и описании поста.
- `products` (List[SimpleNamespace]): Список объектов `SimpleNamespace` с данными о загружаемых медиа.
- `no_video` (bool, optional): Флаг, указывающий, что не нужно загружать видео. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если пост успешно отправлен.


### `post_message`

**Описание**:  Управляет процессом публикации поста с заголовком, описанием, медиа-файлами и дополнительными параметрами.


**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `message` (SimpleNamespace):  Объект `SimpleNamespace` содержащий данные о сообщении (заголовок, описание, продукты).
- `no_video` (bool, optional): Флаг, указывающий, что не нужно загружать видео. По умолчанию `False`.
- `images` (Optional[str | list[str]], optional): Пути к изображениям (опционально).
- `without_captions` (bool, optional): Флаг, указывающий, что не нужно обновлять подписи к загруженным медиа. По умолчанию `False`.

**Возвращает**:
- `bool`: `True`, если пост успешно опубликован.