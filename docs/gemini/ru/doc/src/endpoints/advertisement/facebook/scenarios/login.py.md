# Модуль для выполнения сценария входа в Facebook

## Обзор

Модуль `login.py` предназначен для автоматизации процесса входа в учетную запись Facebook с использованием Selenium WebDriver. Он содержит функцию `login`, которая принимает объект драйвера и использует его для ввода учетных данных пользователя (логина и пароля) и нажатия кнопки входа.

## Подробней

Этот модуль является частью системы автоматизации, предназначенной для работы с рекламными кампаниями в Facebook. Он использует локаторы, определенные в JSON-файле, чтобы находить элементы веб-страницы, необходимые для ввода данных и выполнения входа. Данные для входа (логин и пароль) загружаются из глобального хранилища настроек `gs.facebook_credentials`.

## Содержание

- [Классы](#классы)
- [Функции](#функции)

## Классы

В данном модуле классы отсутствуют.

## Функции

### `login`

```python
def login(d: Driver) -> bool:
    """ Выполняет вход на Facebook.

    Функция использует переданный `Driver` для выполнения авторизации на Facebook, заполняя
    логин и пароль, а затем нажимает кнопку входа.

    Args:
        d (Driver): Экземпляр драйвера для взаимодействия с веб-элементами.

    Returns:
        bool: `True`, если авторизация прошла успешно, иначе `False`.

    Raises:
        Exception: Если возникает ошибка при вводе логина, пароля или нажатии кнопки.
    """
    ...
```

**Как работает функция**:

Функция `login` выполняет следующие шаги:
1. Извлекает учетные данные пользователя (имя пользователя и пароль) из `gs.facebook_credentials`.
2. Использует методы объекта `Driver` для:
   - Ввода имени пользователя в поле, определенное локатором `locators.email`.
   - Ввода пароля в поле, определенное локатором `locators['password']`.
   - Нажатия кнопки входа, определенной локатором `locators['button']`.
3. Обрабатывает возможные исключения, возникающие при вводе логина, пароля или нажатии кнопки, и логирует ошибки с использованием `logger.error`.
4. Возвращает `True`, если все шаги выполнены успешно, и `False` в случае возникновения ошибки.

Внутри функции происходят следующие действия и преобразования:

A. Извлечение учетных данных
|
B. Ввод логина
|
C. Ввод пароля
|
D. Нажатие кнопки входа
|
E. Обработка исключений

**Параметры**:

- `d` (Driver): Экземпляр драйвера, используемый для управления браузером и взаимодействия с веб-элементами.

**Возвращает**:

- `bool`: `True`, если авторизация прошла успешно, `False` в противном случае.

**Вызывает исключения**:

- `Exception`: Возникает, если происходит ошибка при вводе логина, пароля или нажатии кнопки входа.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.endpoints.advertisement.facebook.scenarios.login import login

# Предположим, что у вас уже есть инициализированный объект Driver
driver = Driver()  
success = login(driver)
if success:
    print("Вход выполнен успешно")
else:
    print("Вход не удался")