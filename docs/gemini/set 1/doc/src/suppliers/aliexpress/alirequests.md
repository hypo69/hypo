# Модуль alirequests

## Обзор

Модуль `alirequests` предоставляет класс `AliRequests` для работы с API AliExpress. Он позволяет отправлять запросы GET, используя сохраненные куки, и обрабатывать полученные данные.  Модуль использует библиотеку `requests` для взаимодействия с сервером.

## Классы

### `AliRequests`

**Описание**: Класс `AliRequests` отвечает за обработку запросов к AliExpress. Он загружает куки из файла, сохраняет сессию и позволяет отправлять запросы GET с куками.

**Методы**:

- `__init__`
- `_load_webdriver_cookies_file`
- `_refresh_session_cookies`
- `_handle_session_id`
- `make_get_request`
- `short_affiliate_link`

#### `__init__`

**Описание**: Инициализирует объект `AliRequests`.

**Параметры**:

- `webdriver_for_cookies` (str, опционально, по умолчанию 'chrome'): Имя вебдрайвера для загрузки кукис.

**Возвращает**:
-  None

#### `_load_webdriver_cookies_file`

**Описание**: Загружает куки из файла.

**Параметры**:

- `webdriver_for_cookies` (str, опционально, по умолчанию 'chrome'): Имя вебдрайвера.

**Возвращает**:
- bool: `True`, если куки успешно загружены, `False` в противном случае.

**Возможные исключения**:
- `FileNotFoundError`: Файл с куками не найден.
- `ValueError`: Ошибка при разборе данных из файла.
- `Exception`: Другие ошибки при загрузке кукис.


#### `_refresh_session_cookies`

**Описание**: Обновляет куки сессии.

**Возвращает**:
- None

**Возможные исключения**:
- `requests.RequestException`: Ошибка при запросе.
- `Exception`: Другие ошибки при обновлении кукис.

#### `_handle_session_id`

**Описание**: Обрабатывает JSESSIONID в куках ответа.

**Параметры**:

- `response_cookies`: Объект с куками ответа.

**Возвращает**:
- None

**Возможные исключения**:
- `Exception`: Другие ошибки.


#### `make_get_request`

**Описание**: Отправляет запрос GET с использованием загруженных кукис.

**Параметры**:

- `url` (str): URL для запроса.
- `cookies` (List[dict], опционально): Список кукис для запроса.
- `headers` (dict, опционально): Заголовки для запроса.


**Возвращает**:
- `requests.Response`: Объект ответа, если запрос успешен.
- `False`: В противном случае.

**Возможные исключения**:
- `requests.RequestException`: Ошибка при запросе.
- `Exception`: Другие ошибки при отправке запроса.


#### `short_affiliate_link`

**Описание**:  Получает сокращенную партнерскую ссылку.

**Параметры**:

- `link_url` (str): URL для сокращения.

**Возвращает**:
- `requests.Response`: Объект ответа, если запрос успешен.
- `False`: В противном случае.

**Возможные исключения**:
- `requests.RequestException`: Ошибка при запросе.
- `Exception`: Другие ошибки при получении ссылки.


## Функции

(В данном модуле функций нет)

## Ошибки
(В данном модуле описаны обработчики ошибок)


## Подключение


```
```
```python
from hypotez.src.suppliers.aliexpress import alirequests
```