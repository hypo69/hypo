```markdown
# comma-separated-tokens

Parse and stringify comma-separated tokens.  This package follows the WHATWG specification for comma-separated tokens.

## Installation

```bash
npm install comma-separated-tokens
```

or for ESM usage (recommended):

```bash
npm install comma-separated-tokens
```

## Usage

```javascript
const { parse, stringify } = require('comma-separated-tokens');

// Parsing
const tokens = parse(' a ,b,,d d ');
console.log(tokens); // Output: ['a', 'b', '', 'd d']

// Stringifying
const stringified = stringify(['a', 'b', '', 'd d']);
console.log(stringified); // Output: 'a, b, , d d'

// Stringifying with options
const stringifiedWithOptions = stringify(['a', 'b', '', 'd d'], { padLeft: false, padRight: true });
console.log(stringifiedWithOptions); // Output: 'a, b, , d d' (padLeft=false, padRight=true)
```

## API

### `parse(value)`

Parses a comma-separated string into an array of strings.  Handles whitespace around and between tokens.  Empty tokens are represented as empty strings.

*   **`value`**: The comma-separated string to parse.
*   **Returns**: An array of strings.

### `stringify(values[, options])`

Serializes an array of strings or numbers into a comma-separated string.

*   **`values`**: The array of strings or numbers to serialize.
*   **`options` (optional)**: An object with the following properties:
    *   **`padLeft`**: Boolean, whether to include a space before each token (default: `true`).
    *   **`padRight`**: Boolean, whether to include a space after each token (default: `false`).
*   **Returns**: A comma-separated string.


## Important Considerations

*   **Whitespace:** Whitespace is significant in the parsing process and is preserved.  Whitespace *between* tokens is preserved but initial and final whitespace around tokens is trimmed.
*   **Empty Tokens:** Empty tokens (e.g., `,,`) are correctly parsed and represented as empty strings in the output array.
*   **Options:** The `options` parameter in `stringify` allows customizing the whitespace behavior, but note that you cannot add space *only* before or after an item without affecting the rest of the array.


## Compatibility

This package supports Node.js 14.14+ and 16.0+ and modern browsers via ESM.  It is fully type-safe with TypeScript.

## Related Packages

*   [`space-separated-tokens`](https://github.com/wooorm/space-separated-tokens): For handling space-separated tokens.
*   [`collapse-white-space`](https://github.com/wooorm/collapse-white-space): For collapsing multiple whitespace characters.


## Contributing

Contributions are welcome!  Please see the [CONTRIBUTING](CONTRIBUTING.md) file for details.


## License

[MIT](LICENSE) Â© Titus Wormer
```