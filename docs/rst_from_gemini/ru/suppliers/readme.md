```markdown
# Класс `Supplier` - Базовый класс для всех поставщиков

Предоставляет методы и атрибуты для работы с конкретным поставщиком данных (например, amazon.com, walmart.com, mouser.com, digikey.com или пользовательскими).

Несколько поставщиков уже созданы в программе, другие будут определены клиентом.

## Обзор класса `Supplier`

### Атрибуты:

* `supplier_id`: Идентификатор поставщика.
* `supplier_prefix`: Префикс или идентификатор поставщика, например, 'amazon', 'aliexpress'.
* `supplier_settings`: Настройки, специфичные для поставщика, загружаемые из JSON-файла.
* `locale`: Код локали для языка, по умолчанию 'en'.
* `price_rule`: Правило для расчета цены, например, добавление НДС.
* `related_modules`: Дополнительные функции или модули, связанные с конкретным поставщиком.
* `scenario_files`: Список сценариев для выполнения.
* `current_scenario`: Текущий выполняемый сценарий.
* `login_data`: Словарь учетных данных для входа и URL.
* `locators`: Словарь локаторов веб-элементов на различных страницах.
* `driver`: Экземпляр `Driver` для взаимодействия с веб-браузерами.
* `parsing_method`: Метод парсинга данных (например, `webdriver`, `api`, `xls`, `csv`).


### Методы:

1. `__init__`:
   - Инициализирует класс `Supplier`.
   - Принимает параметры для настройки поставщика, локали и WebDriver.
   - Загружает настройки и локаторы, специфичные для поставщика.

2. `_payload`:
   - Загружает настройки и локаторы поставщика.
   - Настраивает WebDriver, если это необходимо.

3. `login`:
   - Обрабатывает вход на веб-сайт поставщика, если требуется авторизация.
   - Вызывает метод `login` из связанного модуля.

4. `run_scenario_files`:
   - Выполняет один или несколько файлов сценариев.
   - Использует функцию `run_scenario_files` из `src.scenario`.

5. `run_scenarios`:
   - Выполняет список или одиночный сценарий.
   - Использует функцию `run_scenarios` из `src.scenario`.


### Зависимости:

* `importlib`: Для динамического импорта модулей.
* `pathlib.Path`: Для работы с путями.
* `typing.List`: Для подсказок типов.
* `types.SimpleNamespace`: Для динамических атрибутов.
* `src.settings.gs`: Для доступа к настройкам.
* `src.utils.j_loads`: Для загрузки данных из JSON.
* `src.webdriver.Driver`, `Firefox`, `Chrome`, `Edge`: Для автоматизации браузера.
* `src.scenario.run_scenarios`, `run_scenario_files`: Для выполнения сценариев.
* `src.logger.logger`: Для ведения журнала.
* `src.exceptions.DefaultSettingsException`: Для пользовательских исключений.
* `src.utils.j_loads_ns`: для загрузки настроек и локаторов из json в удобный формат.


### Пример использования:

```python
# Создаем объект Supplier для 'aliexpress'
supplier = Supplier(supplier_prefix='aliexpress', locale='en', webdriver='chrome')

# Выполняем вход на сайт поставщика
supplier.login()

# Выполняем сценарии из файлов
supplier.run_scenario_files(['example_scenario.json'])

# Или выполняем конкретные сценарии
supplier.run_scenarios([{'action': 'scrape', 'target': 'product_list'}])
```

### Дизайн:

Класс `Supplier` является основой для управления данными от разных поставщиков. Он определяет общие методы и атрибуты, которые можно использовать и расширять для специфических поставщиков. Класс централизует управление поставщиками, включая конфигурацию, вход и выполнение сценариев.

### Дополнительные пояснения:

* Класс `Supplier` предназначен для повторного использования и расширения.
* Локаторы, настройки и сценарии хранятся в файлах JSON.
* Веб-драйвер (WebDriver) используется для автоматизации браузера.
* Модуль `src.scenario` содержит логику выполнения сценариев.
* Методы `login`, `run_scenario_files`, `run_scenarios` предоставляют абстракцию от конкретной реализации.
* Атрибут `parsing_method` позволяет гибко управлять разными способами получения и обработки данных.


Этот документ предоставляет более полное описание класса `Supplier`, включая его атрибуты, методы и зависимости.
```