# Модуль `graber.py`

## Обзор

Модуль `graber.py` предназначен для сбора информации о товарах с сайта `grandadvanse.co.il`. Он наследует функциональность от базового класса `Graber` и переопределяет методы обработки полей, если требуется нестандартная обработка.

## Подробней

Этот модуль является частью системы, отвечающей за получение данных о товарах от поставщиков. Он специализируется на конкретном поставщике — `grandadvance`.
Модуль использует JSON файлы конфигурации для определения специфических локаторов элементов на страницах товаров, что позволяет гибко адаптироваться к изменениям в структуре сайта поставщика.

## Классы

### `Graber`

**Описание**: Класс `Graber` наследуется от класса `Graber` (который обозначен как `Grbr` из `src.suppliers.graber`). Он предназначен для извлечения информации о товарах с сайта `grandadvance.co.il`.

**Принцип работы**:
Класс инициализируется драйвером веб-браузера, индексом языка и загружает конфигурационные файлы, специфичные для `grandadvance`. Локаторы элементов для взаимодействия с веб-страницей товара загружаются из `product.json`.

**Наследует**:
- `Graber` (обозначен как `Grbr`) из модуля `src.suppliers.graber`.

**Методы**:

- `__init__(self, driver: Driver, lang_index: int)`:
    - Инициализирует класс `Graber`, загружает конфигурацию и локаторы, а также устанавливает локатор для декоратора (если необходимо).

#### `__init__`

```python
def __init__(self, driver: Driver, lang_index: int):
    """Инициализирует класс Graber для парсинга сайта grandadvance.co.il.

    Args:
        driver (Driver): Экземпляр веб-драйвера для управления браузером.
        lang_index (int): Индекс языка, используемый для локализации контента.

    """
```

**Параметры**:
- `driver` (Driver): Экземпляр веб-драйвера, используемый для управления браузером.
- `lang_index` (int): Индекс языка, используемый для локализации контента.

**Как работает функция**:
1. **Загрузка конфигурации**: Загружает основные настройки из файла `grandadvance.json`.
2. **Загрузка локаторов**: Загружает локаторы элементов продукта из файла `product.json`.
3. **Инициализация родительского класса**: Вызывает конструктор родительского класса `Graber` (`Grbr`) с указанием префикса поставщика, драйвера и индекса языка.
4. **Установка локатора для декоратора**: Устанавливает локатор для выполнения предварительных действий перед отправкой запроса к веб-драйверу (если необходимо).

```
     Начало
       ↓
     Загрузка конфигурации из grandadvance.json (config)
       ↓
     Загрузка локаторов продукта из product.json (locator)
       ↓
     Инициализация родительского класса Graber (Grbr)
       ↓
     Установка локатора для декоратора Context.locator_for_decorator (если нужно)
       ↓
     Конец
```

**Примеры**:

```python
from src.webdriver.driver import Driver, Firefox

# Пример создания экземпляра класса Graber
driver = Driver(Firefox)
graber = Graber(driver=driver, lang_index=0)
```

## Функции

В данном коде не представлены отдельные функции, а только методы класса `Graber`.