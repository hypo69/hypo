Как использовать класс TelegramBot
========================================================================================

Описание
-------------------------
Класс `TelegramBot` предоставляет интерфейс для работы с ботом Telegram. Он инициализирует приложение Telegram, регистрирует обработчики команд и сообщений, а также определяет функции для обработки различных типов сообщений (текстовые, голосовые, документы).

Шаги выполнения
-------------------------
1. **Инициализация бота:**
   Создается экземпляр класса `TelegramBot`, передавая в конструктор токен бота.
   ```python
   token = gs.credentials.telegram.bot.kazarinov
   bot = TelegramBot(token)
   ```
2. **Регистрация обработчиков:**
   Класс `TelegramBot` регистрирует различные обработчики для разных типов сообщений.  Это делается в методе `register_handlers`.  Обработчики обрабатывают команды `/start`, `/help`, текстовые сообщения, голосовые сообщения и документы.
   ```python
   bot.register_handlers()
   ```
3. **Запуск бота:**
   Метод `main` запускает бота с помощью `bot.application.run_polling()`.
   ```python
   bot.application.run_polling()
   ```

4. **Обработка команд:**
   - `/start` -  Приветствует пользователя и выводит сообщение с помощью `await update.message.reply_text()`.
   - `/help` -  Выводит список доступных команд.

5. **Обработка текстовых сообщений:**
   Метод `handle_message` обрабатывает все текстовые сообщения, не являющиеся командами. Он просто возвращает полученный текст.

6. **Обработка голосовых сообщений:**
   Метод `handle_voice` обрабатывает голосовые сообщения. Загружает файл голосового сообщения на локальный диск, вызывая функцию `transcribe_voice`.  В `transcribe_voice` вызывается функция распознавания речи. В текущем примере `transcribe_voice` возвращает сообщение, что распознавание речи не реализовано.  Результат распознавания речи отправляется пользователю.

7. **Обработка документов:**
   Метод `handle_document` обрабатывает полученные документы.  Загружает документ на диск и использует функцию `read_text_file`, чтобы извлечь и вернуть текст из файла.

Пример использования
-------------------------
.. code-block:: python

    import gs
    from hypotez.src.bots.telegram.bot import main

    if __name__ == "__main__":
        main()