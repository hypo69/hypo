Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Файл `category.py` содержит функции для работы с категориями товаров на AliExpress.  Он предоставляет инструменты для получения списка URL товаров в заданной категории, а также для сравнения списка категорий в файле конфигурации с категориями на сайте и обновления файла конфигурации при необходимости.

Шаги выполнения
-------------------------
1. **Получение списка URL товаров в категории:**
    Функция `get_list_products_in_category(s)` получает список URL товаров в заданной категории. Она использует функцию `get_prod_urls_from_pagination(s)`.
    - Входной параметр `s` должен содержать экземпляр класса `Supplier`, который предоставляет доступ к веб-драйверу и локаторам элементов страницы.
    - Функция `get_prod_urls_from_pagination(s)` собирает ссылки на товары со страницы категории, переходя на все страницы с товарами, если таковые есть.
    - Возвращает список URL товаров.

2. **Сравнение категорий в файле конфигурации с категориями на сайте:**
    Функция `update_categories_in_scenario_file(s, scenario_filename)` сравнивает список категорий из файла `scenario_filename` с категориями, полученными с сайта AliExpress.
    - Считывает JSON из файла `scenario_filename` и извлекает список идентификаторов категорий (`all_ids_in_file`).
    - Получает список категорий с сайта AliExpress и извлекает список идентификаторов категорий (`all_ids_on_site`).
    - Сравнивает списки `all_ids_in_file` и `all_ids_on_site`, определяя добавленные и удаленные категории.
    - Обновляет файл `scenario_filename` с учетом найденных изменений, добавляя новые категории или помечая удаленные как неактивные.
    - Использует библиотеку `requests` для запроса JSON-данных с сайта.
    - Игнорирует некорректные данные в файле конфигурации, используя обработку исключений.
    - Отправляет уведомления (через функцию `send`) об изменениях в файл.

3. **Получение списка категорий с сайта:**
   Функция `get_list_categories_from_site(s, scenario_file, brand='')` получает список категорий с сайта AliExpress. 
    - Использует веб-драйвер для перехода на страницу категорий.
    - Возвращает данные в JSON формате.

4. **Базовая работа с БД (DBAdaptor):**
    Класс `DBAdaptor` предоставляет примеры операций для взаимодействия с базой данных:
        - `select()`: Выбирает данные из таблицы `AliexpressCategory` по заданным условиям.
        - `insert()`: Вставляет новую запись в таблицу `AliexpressCategory`.
        - `update()`: Обновляет запись в таблице `AliexpressCategory`.
        - `delete()`: Удаляет запись из таблицы `AliexpressCategory`.
    Эти функции используют `CategoryManager` для работы с базой данных.

Пример использования
-------------------------
.. code-block:: python

    from hypotez.src.suppliers.aliexpress import category
    from hypotez.src import gs  # Предполагая, что gs содержит пути

    # Создаем экземпляр поставщика (Supplier)
    supplier_instance = ...

    # Получение списка URL товаров в категории
    product_urls = category.get_list_products_in_category(supplier_instance)
    print(product_urls)

    # Обновление файла конфигурации
    category.update_categories_in_scenario_file(supplier_instance, "my_scenario.json")

    # Пример использования DBAdaptor
    category.DBAdaptor.select(parent_id=123)  # Пример выбора записей