# Функции в Python

Функции в языке Python — это именованные блоки кода, которые выполняют определенную задачу. Они позволяют организовать код, сделать его более структурированным и удобным для повторного использования.

# Содержание

1. [Объявление функции](#объявление-функции)
2. [Параметры функции](#параметры-функции)
   - [Виды параметров](#виды-параметров)
3. [Возврат значения](#возврат-значения)
4. [Локальные и глобальные переменные](#локальные-и-глобальные-переменные)
5. [Вложенные функции](#вложенные-функции)
6. [Рекурсия](#рекурсия)
7. [Обработка исключений с `try` и `except`](#обработка-исключений-с-try-и-except)
8. [Пример использования функций](#пример-использования-функций)

## Объявление функции

Функция объявляется с помощью ключевого слова `def`, за которым следует имя функции, список параметров в круглых скобках и двоеточие. Тело функции пишется с отступом.

```python
def название_функции(параметры):
    # действия
    return результат
```

### Пример:
```python
def сложение(a: int, b: int) -> int:
    """Возвращает сумму двух чисел."""
    return a + b
```

Здесь:
- `a: int` и `b: int` — параметры функции с аннотациями типов.
- `-> int` — аннотация типа возвращаемого значения.

## Параметры функции

Функции могут принимать параметры, которые представляют собой входные данные. Они указываются в скобках после имени функции.

Пример с одним параметром:
```python
def приветствие(имя: str) -> str:
    """Приветствует пользователя по имени."""
    return f"Привет, {имя}!"
```

### Виды параметров:
1. **Обязательные параметры** — должны быть переданы при вызове функции.
2. **Необязательные параметры** — могут иметь значения по умолчанию.
   ```python
   def приветствие(имя: str, возраст: int = 18) -> str:
       return f"Привет, {имя}! Тебе {возраст} лет."
   ```

## Возврат значения

Функция может возвращать значение с помощью ключевого слова `return`. Если `return` не используется, функция по умолчанию возвращает `None`.

Пример:
```python
def умножение(a: int, b: int) -> int:
    """Возвращает произведение двух чисел."""
    return a * b
```

## Локальные и глобальные переменные

- **Локальная переменная** — это переменная, которая существует только внутри функции. Она создается и уничтожается при каждом вызове функции.
- **Глобальная переменная** — это переменная, которая доступна во всем коде, включая функции.

Пример использования глобальной переменной:
```python
x = 10  # Глобальная переменная

def показать_x() -> int:
    return x  # Обращение к глобальной переменной
```

Если внутри функции нужно изменить глобальную переменную, необходимо использовать ключевое слово `global`:
```python
x = 10  # Глобальная переменная

def изменить_x() -> None:
    global x
    x = 20
```

## Вложенные функции

В Python функции могут быть вложенными, то есть одна функция может быть определена внутри другой. Вложенная функция может обращаться к переменным внешней функции.

Пример:
```python
def внешний(a: int, b: int) -> int:
    """Функция, которая использует вложенную функцию для вычисления разницы."""
    
    def вложенный(x: int, y: int) -> int:
        """Вложенная функция, возвращающая разницу."""
        return x - y
    
    return вложенный(a, b)
```

## Рекурсия

Рекурсия — это когда функция вызывает саму себя. Это полезно для задач, которые можно разбить на более мелкие аналогичные задачи (например, факториал).

Пример рекурсии:
```python
def факториал(n: int) -> int:
    """Вычисляет факториал числа с использованием рекурсии."""
    if n == 0:
        return 1  # Базовый случай
    return n * факториал(n - 1)  # Рекурсивный вызов
```

## Обработка исключений с `try` и `except`

Python предоставляет механизм обработки ошибок с помощью блоков `try` и `except`. Код, который может вызвать ошибку, помещается в блок `try`, а ошибки обрабатываются в блоке `except`.

Пример обработки ошибок:
```python
def деление(a: int, b: int) -> float:
    """Делит одно число на другое, обрабатывая возможные ошибки."""
    try:
        result = a / b
    except ZeroDivisionError:
        return "Ошибка: деление на ноль"
    except Exception as e:
        return f"Произошла ошибка: {e}"
    return result
```

Здесь:
- Блок `try` пытается выполнить операцию деления.
- Блок `except ZeroDivisionError` перехватывает ошибку деления на ноль.
- Блок `except Exception as e` ловит другие исключения и выводит сообщение об ошибке.

## Пример использования функций

```python
# Сложение двух чисел
print(сложение(5, 3))  # 8

# Вложенная функция
print(внешний(10, 4))  # 6

# Рекурсия для вычисления факториала
print(факториал(5))  # 120

# Обработка исключений при делении
print(деление(10, 2))  # 5.0
print(деление(10, 0))  # Ошибка: деление на ноль
```
---

  [К оглавлению](https://github.com/hypo69/101_python_computer_games_ru/blob/master/cheet_sheets#readme)