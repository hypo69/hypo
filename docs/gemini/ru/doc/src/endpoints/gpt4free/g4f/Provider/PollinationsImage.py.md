# Модуль PollinationsImage
## Обзор

Модуль `PollinationsImage` предоставляет класс `PollinationsImage`, который является подклассом `PollinationsAI`. Он предназначен для работы с моделями генерации изображений от Pollinations AI. Модуль позволяет создавать асинхронные генераторы для получения изображений на основе текстовых запросов.

## Подробней

Модуль `PollinationsImage` специализируется на генерации изображений с использованием моделей Pollinations AI. Он предоставляет удобный интерфейс для создания и управления асинхронными генераторами, которые возвращают изображения на основе текстовых запросов. Класс `PollinationsImage` управляет списком доступных моделей изображений, объединяя модели из родительского класса `PollinationsAI` и дополнительные модели, специфичные для данного класса.

## Классы

### `PollinationsImage`

**Описание**: Класс `PollinationsImage` является подклассом `PollinationsAI` и предназначен для генерации изображений с использованием моделей Pollinations AI.

**Принцип работы**:
1.  При инициализации класса устанавливаются значения по умолчанию для модели (`default_model = "flux"`), модели компьютерного зрения (`default_vision_model = None`) и модели генерации изображений (`default_image_model = default_model`).
2.  Список доступных моделей изображений (`image_models`) инициализируется значением `default_image_model`.
3.  Флаг `_models_loaded` используется для синхронизации загрузки моделей.
4.  Метод `get_models` загружает и объединяет модели из родительского класса `PollinationsAI` и дополнительные модели, специфичные для класса `PollinationsImage`.
5.  Метод `create_async_generator` создает асинхронный генератор для генерации изображений на основе текстовых запросов.

**Методы**:

*   `get_models`: Возвращает список доступных моделей изображений, объединяя модели из родительского класса и дополнительные модели.
*   `create_async_generator`: Создает асинхронный генератор для генерации изображений на основе текстовых запросов.

### `get_models`

```python
    @classmethod
    def get_models(cls, **kwargs):
        """
        Получает и объединяет список доступных моделей изображений.

        Args:
            **kwargs: Дополнительные аргументы (не используются).

        Returns:
            list[str]: Список доступных моделей изображений.

        Как работает функция:
        1.  Проверяет, загружены ли модели. Если модели еще не загружены (`cls._models_loaded is False`), то выполняет следующие шаги:
        2.  Вызывает метод `get_models` родительского класса `PollinationsAI`, чтобы загрузить модели, доступные в родительском классе.
        3.  Объединяет модели из `cls.image_models`, `PollinationsAI.image_models` и `cls.extra_image_models`, удаляя дубликаты.
        4.  Обновляет `cls.image_models` объединенным списком моделей.
        5.  Устанавливает флаг `cls._models_loaded` в `True`, чтобы указать, что модели были загружены.
        6.  Возвращает список доступных моделей изображений `cls.image_models`.
        """
```
### `create_async_generator`

```python
    @classmethod
    async def create_async_generator(
        cls,
        model: str,
        messages: Messages,
        proxy: str = None,
        prompt: str = None,
        aspect_ratio: str = "1:1",
        width: int = None,
        height: int = None,
        seed: Optional[int] = None,
        cache: bool = False,
        nologo: bool = True,
        private: bool = False,
        enhance: bool = False,
        safe: bool = False,
        n: int = 4,
        **kwargs
    ) -> AsyncResult:
        """
        Создает асинхронный генератор для получения изображений на основе текстовых запросов.

        Args:
            model (str): Название модели для генерации изображений.
            messages (Messages): Список сообщений для формирования запроса.
            proxy (str, optional): Прокси-сервер для выполнения запроса. По умолчанию `None`.
            prompt (str, optional): Текстовый запрос для генерации изображения. По умолчанию `None`.
            aspect_ratio (str, optional): Соотношение сторон изображения. По умолчанию "1:1".
            width (int, optional): Ширина изображения. По умолчанию `None`.
            height (int, optional): Высота изображения. По умолчанию `None`.
            seed (Optional[int], optional): Зерно для генерации случайных чисел. По умолчанию `None`.
            cache (bool, optional): Использовать кэш. По умолчанию `False`.
            nologo (bool, optional): Убрать логотип. По умолчанию `True`.
            private (bool, optional): Сделать изображение приватным. По умолчанию `False`.
            enhance (bool, optional): Улучшить изображение. По умолчанию `False`.
            safe (bool, optional): Включить безопасный режим. По умолчанию `False`.
            n (int, optional): Количество генерируемых изображений. По умолчанию 4.
            **kwargs: Дополнительные аргументы.

        Yields:
            AsyncResult: Часть сгенерированного изображения.

        Как работает функция:
        1.  Вызывает метод `get_models` для обновления списка доступных моделей.
        2.  Создает асинхронный генератор, который вызывает метод `_generate_image` с переданными параметрами.
        3.  Передает каждый чанк, полученный от `_generate_image`, как результат генератора.
        """
```
## Функции

В данном модуле отсутствуют отдельные функции, не являющиеся методами класса.