# Модуль `login`

## Обзор

Модуль `login` предназначен для автоматизации процесса входа в учетную запись Facebook. Он содержит функцию `login`, которая принимает экземпляр веб-драйвера и использует его для заполнения полей логина и пароля, а также для нажатия кнопки входа.

## Подробней

Модуль `login` является частью системы автоматизации задач, связанных с Facebook. Он использует библиотеку `webdriver` для взаимодействия с веб-страницей Facebook и выполняет сценарий входа в систему, основываясь на предоставленных учетных данных.

## Функции

### `login`

```python
def login(d: Driver) -> bool:
    """ Выполняет вход на Facebook.

    Функция использует переданный `Driver` для выполнения авторизации на Facebook, заполняя
    логин и пароль, а затем нажимает кнопку входа.

    Args:
        d (Driver): Экземпляр драйвера для взаимодействия с веб-элементами.

    Returns:
        bool: `True`, если авторизация прошла успешно, иначе `False`.

    Raises:
        Exception: Если возникает ошибка при вводе логина, пароля или нажатии кнопки.
    """
    ...
```

**Назначение**: Выполнение входа в Facebook с использованием предоставленного драйвера.

**Параметры**:

- `d` (Driver): Экземпляр драйвера, который будет использоваться для взаимодействия с веб-страницей Facebook.

**Возвращает**:

- `bool`: `True`, если вход выполнен успешно, и `False` в противном случае.

**Вызывает исключения**:

- `Exception`: Возникает, если происходит ошибка при вводе логина, пароля или нажатии кнопки входа.

**Как работает функция**:

Функция `login` выполняет следующие шаги:

1.  **Извлечение учетных данных**: Извлекает логин и пароль из `gs.facebook_credentials[0]`.
2.  **Ввод логина**: Использует `d.send_key_to_webelement(locators.email, credentials.username)` для ввода логина в соответствующее поле.
3.  **Ввод пароля**: Использует `d.send_key_to_webelement(locators['password'], credentials['password'])` для ввода пароля в соответствующее поле.
4.  **Нажатие кнопки входа**: Использует `d.execute_locator(locators['button'])` для нажатия кнопки входа.
5.  **Обработка ошибок**: Если на каком-либо этапе возникает исключение, функция логирует ошибку и возвращает `False`.

**ASCII flowchart**:

```
Начало
  ↓
Извлечение учетных данных (credentials)
  ↓
Ввод логина (email)
  ↓
Ввод пароля (password)
  ↓
Нажатие кнопки входа (button)
  ↓
Конец
```

**Примеры**:

```python
from src.webdriver.driver import Driver, Chrome
from src import gs

# Инициализация драйвера (пример с Chrome)
driver = Driver(Chrome)

# Выполнение входа
success = login(driver)

if success:
    print("Вход выполнен успешно!")
else:
    print("Ошибка при входе.")