# Анализ кода модуля `function.md`

**Качество кода**
*   **Соответствие требованиям к формату кода (1-10):**
    *   **Преимущества:**
        *   Код хорошо структурирован и разбит на логические разделы.
        *   Используются примеры кода для иллюстрации концепций.
        *   Приведены примеры использования функций.
        *   Включены разделы про рекурсию и обработку исключений.
        *   Присутствует содержание с ссылками на разделы.
    *   **Недостатки:**
        *   Используется Markdown вместо reStructuredText (RST) для документирования.
        *   Отсутствует импорт необходимых модулей, что в контексте документа не требуется, но в реальном коде было бы необходимо.
        *   Не все функции имеют docstring в формате RST.
        *   Не используется `logger.error` для обработки ошибок.

**Рекомендации по улучшению**

1.  **Формат документации:**
    *   Перевести всю документацию в формат reStructuredText (RST).
2.  **Документация функций:**
    *   Добавить docstring в формате RST для каждой функции, включая описание параметров, возвращаемых значений и исключений.
3.  **Обработка исключений:**
    *   Вместо возврата строк с сообщением об ошибке в функции `деление`, использовать `logger.error` для регистрации ошибок.
4.  **Локальные и глобальные переменные:**
    *   В примерах с глобальными переменными можно добавить комментарии, объясняющие их использование.
5.  **Аннотации типов:**
    *   Соблюдать единообразие в аннотациях типов.

**Улучшенный код**
```markdown
# Функции в Python
# =========================================================================================
#
# Функции в языке Python — это именованные блоки кода, которые выполняют определенную задачу.
# Они позволяют организовать код, сделать его более структурированным и удобным для повторного использования.
#
# Содержание
# --------------------
#
# .. contents::
#    :depth: 2
#
#    1. Объявление функции
#    2. Параметры функции
#       - Виды параметров
#    3. Возврат значения
#    4. Локальные и глобальные переменные
#    5. Вложенные функции
#    6. Рекурсия
#    7. Обработка исключений с `try` и `except`
#    8. Пример использования функций

## Объявление функции
# --------------------
#
# Функция объявляется с помощью ключевого слова ``def``, за которым следует имя функции, список параметров
# в круглых скобках и двоеточие. Тело функции пишется с отступом.
#
# .. code-block:: python
#
#    def название_функции(параметры):
#        # действия
#        return результат
#
#
### Пример:
#
# .. code-block:: python
#
#    def сложение(a: int, b: int) -> int:
#        """
#        Возвращает сумму двух чисел.
#
#        :param a: Первое число.
#        :param b: Второе число.
#        :return: Сумма чисел `a` и `b`.
#        """
#        return a + b
#
#
# Здесь:
#
# - ``a: int`` и ``b: int`` — параметры функции с аннотациями типов.
# - ``-> int`` — аннотация типа возвращаемого значения.

## Параметры функции
# --------------------
#
# Функции могут принимать параметры, которые представляют собой входные данные.
# Они указываются в скобках после имени функции.
#
# Пример с одним параметром:
#
# .. code-block:: python
#
#    def приветствие(имя: str) -> str:
#        """
#        Приветствует пользователя по имени.
#
#        :param имя: Имя пользователя.
#        :return: Строка приветствия.
#        """
#        return f"Привет, {имя}!"
#
### Виды параметров:
#
# 1. **Обязательные параметры** — должны быть переданы при вызове функции.
# 2. **Необязательные параметры** — могут иметь значения по умолчанию.
#
# .. code-block:: python
#
#    def приветствие(имя: str, возраст: int = 18) -> str:
#        """
#        Приветствует пользователя с указанием имени и возраста.
#
#        :param имя: Имя пользователя.
#        :param возраст: Возраст пользователя, по умолчанию 18.
#        :return: Строка приветствия с именем и возрастом.
#        """
#        return f"Привет, {имя}! Тебе {возраст} лет."

## Возврат значения
# --------------------
#
# Функция может возвращать значение с помощью ключевого слова ``return``. Если ``return`` не используется,
# функция по умолчанию возвращает ``None``.
#
# Пример:
#
# .. code-block:: python
#
#    def умножение(a: int, b: int) -> int:
#        """
#        Возвращает произведение двух чисел.
#
#        :param a: Первое число.
#        :param b: Второе число.
#        :return: Произведение чисел `a` и `b`.
#        """
#        return a * b

## Локальные и глобальные переменные
# --------------------
#
# - **Локальная переменная** — это переменная, которая существует только внутри функции.
#   Она создается и уничтожается при каждом вызове функции.
# - **Глобальная переменная** — это переменная, которая доступна во всем коде, включая функции.
#
# Пример использования глобальной переменной:
#
# .. code-block:: python
#
#    x = 10  # Глобальная переменная
#
#    def показать_x() -> int:
#        """
#        Возвращает значение глобальной переменной `x`.
#
#        :return: Значение глобальной переменной `x`.
#        """
#        return x  # Обращение к глобальной переменной
#
#
# Если внутри функции нужно изменить глобальную переменную, необходимо использовать ключевое слово ``global``:
#
# .. code-block:: python
#
#    x = 10  # Глобальная переменная
#
#    def изменить_x() -> None:
#        """
#        Изменяет значение глобальной переменной `x` на 20.
#        """
#        global x  # Объявляем, что используем глобальную переменную x
#        x = 20

## Вложенные функции
# --------------------
#
# В Python функции могут быть вложенными, то есть одна функция может быть определена внутри другой.
# Вложенная функция может обращаться к переменным внешней функции.
#
# Пример:
#
# .. code-block:: python
#
#    def внешний(a: int, b: int) -> int:
#        """
#        Функция, которая использует вложенную функцию для вычисления разницы.
#
#        :param a: Первое число.
#        :param b: Второе число.
#        :return: Результат работы вложенной функции.
#        """
#        def вложенный(x: int, y: int) -> int:
#            """
#            Вложенная функция, возвращающая разницу.
#
#            :param x: Первое число.
#            :param y: Второе число.
#            :return: Разница чисел `x` и `y`.
#            """
#            return x - y
#
#        return вложенный(a, b)

## Рекурсия
# --------------------
#
# Рекурсия — это когда функция вызывает саму себя. Это полезно для задач, которые можно разбить на более
# мелкие аналогичные задачи (например, факториал).
#
# Пример рекурсии:
#
# .. code-block:: python
#
#    def факториал(n: int) -> int:
#        """
#        Вычисляет факториал числа с использованием рекурсии.
#
#        :param n: Число, факториал которого нужно вычислить.
#        :return: Факториал числа `n`.
#        :raises TypeError: Если `n` не является целым числом.
#        :raises ValueError: Если `n` отрицательное.
#        """
#        if not isinstance(n, int):
#           raise TypeError("n должно быть целым числом")
#        if n < 0:
#            raise ValueError("n должно быть неотрицательным числом")
#        if n == 0:
#            return 1  # Базовый случай
#        return n * факториал(n - 1)  # Рекурсивный вызов

## Обработка исключений с `try` и `except`
# --------------------
#
# Python предоставляет механизм обработки ошибок с помощью блоков ``try`` и ``except``.
# Код, который может вызвать ошибку, помещается в блок ``try``, а ошибки обрабатываются в блоке ``except``.
#
# Пример обработки ошибок:
#
# .. code-block:: python
#    import logging
#    from src.logger.logger import logger
#
#    def деление(a: int, b: int) -> float | str:
#       """
#       Делит одно число на другое, обрабатывая возможные ошибки.
#
#       :param a: Делимое.
#       :param b: Делитель.
#       :return: Результат деления или сообщение об ошибке.
#       :raises TypeError: Если `a` или `b` не являются целыми числами.
#       """
#       try:
#          if not isinstance(a, int) or not isinstance(b, int):
#             raise TypeError("Оба аргумента должны быть целыми числами")
#          result = a / b
#       except ZeroDivisionError:
#          logger.error("Ошибка: деление на ноль")
#          return "Ошибка: деление на ноль"
#       except Exception as e:
#          logger.error(f"Произошла ошибка: {e}", exc_info=True) # Логгируем ошибку с подробностями
#          return f"Произошла ошибка: {e}"
#       return result

#
# Здесь:
#
# - Блок ``try`` пытается выполнить операцию деления.
# - Блок ``except ZeroDivisionError`` перехватывает ошибку деления на ноль.
# - Блок ``except Exception as e`` ловит другие исключения и выводит сообщение об ошибке.

## Пример использования функций
# --------------------
#
# .. code-block:: python
#    import logging
#    from src.logger.logger import logger
#
#    # Сложение двух чисел
#    print(сложение(5, 3))  # 8
#
#    # Вложенная функция
#    print(внешний(10, 4))  # 6
#
#    # Рекурсия для вычисления факториала
#    print(факториал(5))  # 120
#
#    # Обработка исключений при делении
#    print(деление(10, 2))  # 5.0
#    print(деление(10, 0))  # Ошибка: деление на ноль

---

[К оглавлению](https://github.com/hypo69/101_python_computer_games_ru/blob/master/cheat_sheets#readme)
```