Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот Python-код представляет собой командную строку интерфейса (CLI) для Code Assistant. Он принимает различные параметры, включая путь к файлу настроек, роль ассистента, язык, модели и стартовые директории, и инициализирует экземпляр класса `CodeAssistant` с указанными настройками. Затем он запускает обработку файлов в указанных директориях.  Код обеспечивает гибкость настройки с помощью командной строки и файла конфигурации.

Шаги выполнения
-------------------------
1. **Импорт необходимых модулей**: Код импортирует модули `argparse`, `json`, `pathlib` и `CodeAssistant` для обработки аргументов, работы с JSON, путями к файлам и работы с ассистентом соответственно.

2. **Парсинг аргументов**: Функция `parse_args()` использует `argparse` для разбора аргументов командной строки.  Она получает путь к файлу настроек, роль, язык, модели и стартовые директории.

3. **Загрузка настроек из файла (если указан)**: Если путь к файлу настроек (`settings`) передан, то код загружает настройки из этого JSON-файла и создает экземпляр `CodeAssistant` с этими настройками.

4. **Создание экземпляра `CodeAssistant` (если файл настроек не указан)**: Если файл настроек не указан, код создает экземпляр `CodeAssistant` с настройками, полученными из аргументов командной строки.  По умолчанию, если не указаны модели, используется `gemini`. Если не указан язык, используется `en`.

5. **Инициализация моделей**:  Метод `initialize_models()` экземпляра `CodeAssistant` выполняет необходимые операции для инициализации выбранных моделей.

6. **Обработка файлов**: Метод `process_files()` экземпляра `CodeAssistant` выполняет основную обработку файлов в заданных директориях.  Точный функционал зависит от заданной роли.

7. **Выполнение**: Если все шаги выполнены успешно, код успешно запускает `CodeAssistant` и выполняет его операции.


Пример использования
-------------------------
.. code-block:: bash

    python main.py --settings settings.json

Это запустит Code Assistant с настройками, указанными в файле `settings.json`.

.. code-block:: bash

    python main.py --role doc_writer --lang ru --models gemini openai --start_dirs /path/to/dir1 /path/to/dir2

Этот пример запускает Code Assistant в роли `doc_writer` на русском языке, используя модели `gemini` и `openai`, и обрабатывает файлы в директориях `/path/to/dir1` и `/path/to/dir2`.