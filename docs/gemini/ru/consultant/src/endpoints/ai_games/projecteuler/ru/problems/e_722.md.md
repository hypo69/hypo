# Анализ кода модуля e_722.md

**Качество кода**

7
-  Плюсы
    -   Представлена задача из Project Euler.
    -   Формулировка задачи чёткая и понятная.
    -   Имеется описание используемых терминов (суммируемое число, $S(n)$).
    -   Приведены примеры для лучшего понимания.
    
-  Минусы
    -   Отсутствует код на Python.
    -   Нет никаких импортов.
    -   Нет обработки данных, только текст условия задачи.
    -   Нет функций, классов или переменных, которые можно было бы прокомментировать или улучшить.
    -  Отсутствует анализ вычислительной сложности и возможных подходов к решению задачи.
     

**Рекомендации по улучшению**

1.  **Добавить код**: Необходимо добавить Python код для решения задачи. Это может быть функция, которая будет проверять, является ли число суммируемым, и функция, которая будет вычислять $S(n)$.
2.  **Использовать `j_loads` или `j_loads_ns`**: Если предполагается чтение каких-либо данных из файла, следует использовать `j_loads` или `j_loads_ns` из `src.utils.jjson`. В данном случае это не требуется, но это стоит помнить при добавлении кода.
3.  **Добавить логирование**: Использовать `from src.logger.logger import logger` для логирования ошибок и отладки.
4.  **Рефакторинг**: Разбить код на логические блоки и функции.
5.  **Комментарии в формате RST**: Добавить документацию к функциям и методам с использованием reStructuredText (RST).
6.  **Обработка исключений**: Использовать `logger.error` для обработки исключений.
7.  **Анализ сложности**: Добавить анализ сложности алгоритма, если код будет реализован.
8. **Примеры**: Включить примеры работы кода и тесты.
9. **Формат docstring**: Придерживаться стандартов оформления docstring.

**Оптимизированный код**

```python
"""
Модуль для решения задачи 722 Project Euler.
=========================================================================================

Этот модуль содержит функции для определения суммируемых чисел и вычисления их суммы до заданного предела.

Функции
-------
    is_summable(n: int, primes: list[int]) -> bool:
        Проверяет, является ли число суммируемым.

    sum_of_summable(limit: int, primes: list[int]) -> int:
         Вычисляет сумму всех суммируемых чисел до заданного предела.

Пример использования
--------------------

.. code-block:: python

    primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47] # Первые простые числа
    limit = 10
    result = sum_of_summable(limit, primes)
    print(f"Сумма суммируемых чисел до {limit}: {result}")

    limit = 100
    result = sum_of_summable(limit, primes)
    print(f"Сумма суммируемых чисел до {limit}: {result}")
"""
from src.logger.logger import logger
from typing import List
from itertools import combinations

def is_summable(n: int, primes: List[int]) -> bool:
    """
    Проверяет, является ли число суммируемым.

    :param n: Число для проверки.
    :param primes: Список простых чисел.
    :return: True, если число суммируемо, иначе False.
    """
    # Перебираем все возможные комбинации простых чисел
    for i in range(1, len(primes) + 1):
        for comb in combinations(primes, i):
            # Если сумма комбинации равна n, число суммируемо
            if sum(comb) == n:
                return True
    return False

def sum_of_summable(limit: int, primes: List[int]) -> int:
    """
    Вычисляет сумму всех суммируемых чисел до заданного предела.

    :param limit: Верхний предел для поиска суммируемых чисел.
    :param primes: Список простых чисел.
    :return: Сумма всех суммируемых чисел до limit.
    """
    total_sum = 0
    # Итерируем по всем числам от 1 до limit
    for i in range(1, limit + 1):
        # Проверяем, является ли число суммируемым
        if is_summable(i, primes):
            # Если да, добавляем его к общей сумме
            total_sum += i
    return total_sum

if __name__ == '__main__':
    # Пример использования
    try:
        # Первые простые числа
        primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47]
        limit = 10
        result = sum_of_summable(limit, primes)
        print(f"Сумма суммируемых чисел до {limit}: {result}")

        limit = 100
        result = sum_of_summable(limit, primes)
        print(f"Сумма суммируемых чисел до {limit}: {result}")
        
        # TODO: Добавить вычисление для limit = 10**16 (закомментировано, так как выполняется очень долго)
        # limit = 10**16
        # result = sum_of_summable(limit, primes) % 1234567891
        # print(f"Сумма суммируемых чисел до {limit}: {result}")
    
    except Exception as e:
        logger.error(f"Произошла ошибка при вычислении: {e}")
```