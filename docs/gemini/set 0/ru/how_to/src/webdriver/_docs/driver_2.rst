Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код представляет собой базовый класс `DriverBase` для работы с веб-драйверами Selenium.  Он инкапсулирует общие методы и атрибуты, необходимые для взаимодействия с различными веб-драйверами (например, Chrome, Firefox, Edge).  Класс `DriverBase` содержит методы для управления браузером, работы с JavaScript, управлением страницами и куками. `DriverMeta` - метакласс, который генерирует новые классы драйверов, наследуя функциональность `DriverBase` и конкретного веб-драйвера (Chrome, Firefox и т.д.). `Driver` - класс, созданный с помощью `DriverMeta`, позволяющий работать с различными драйверами через единый интерфейс. Код импортирует необходимые библиотеки, включая Selenium, для работы с браузерами, и собственные модули для управления настройками, логированием и обработкой исключений.

Шаги выполнения
-------------------------
1. **Импорт библиотек:** Код импортирует необходимые библиотеки, включая `selenium`, `time`, `copy`, `pathlib`, и другие, обеспечивая все необходимые инструменты для работы с веб-драйвером.

2. **Определение базового класса `DriverBase`:** Определяет базовый класс `DriverBase`, содержащий общие атрибуты (например, `previous_url`, `referrer`, `page_lang`) и методы, доступные всем реализациям драйверов.

3. **Определение метакласса `DriverMeta`:**  Определяет метакласс `DriverMeta`, который динамически создает новые классы драйверов, наследующие функциональность `DriverBase` и конкретного драйвера (например, `ChromeDriver`, `FirefoxDriver`).  Этот метакласс позволяет создать один общий интерфейс для работы с разными веб-драйверами.

4. **Определение класса `Driver`:** Определяет класс `Driver`, который используется для получения экземпляра веб-драйвера. Он создается с помощью метакласса `DriverMeta` и позволяет использовать методы `DriverBase`.

5. **Инициализация драйвера:**  Используйте созданный класс `Driver` (например, `Driver(Chrome)`), чтобы получить экземпляр соответствующего веб-драйвера.

6. **Использование методов `DriverBase`:** Используйте созданный экземпляр `Driver` для доступа к методам, предоставляемым классом `DriverBase`, для взаимодействия с веб-страницей (например, `d.get_url`, `d.scroll`, `d.locale`, `d.page_refresh`).

Пример использования
-------------------------
.. code-block:: python

    from src.webdriver import Driver, Chrome

    # Создаем драйвер Chrome
    d = Driver(Chrome)

    # Открываем страницу
    d.get_url("https://www.example.com")

    # Прокрутка страницы
    d.scroll(scrolls=3, frame_size=500, direction='forward', delay=0.5)

    # Получаем язык страницы
    language = d.locale()

    # Сохраняем куки
    d._save_cookies_localy('cookies.pkl')

    # Обновление страницы
    d.page_refresh()