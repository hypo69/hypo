## ИНСТРУКЦИЯ:

Анализируя предоставленный промпт, можно выделить следующие основные моменты и сформировать структуру для его объяснения:

1.  **<алгоритм>**:
    *   **Вход**: Промпт (текстовый запрос) для языковой модели.
    *   **Этап 1. Анализ**: Языковая модель анализирует входной промпт, вычленяет инструкции и требования к процессу генерации документации.
    *   **Этап 2. Формирование инструкции**: Языковая модель преобразует требования в формализованную инструкцию для генерации документации в формате reStructuredText (RST).
    *   **Этап 3. Итерация по блокам кода**:
        *   **Этап 3.1. Анализ блока кода**: Модель анализирует текущий блок кода и все ранее загруженные блоки.
        *   **Этап 3.2. Генерация описания**: Создается текстовое описание назначения и функциональности блока кода.
        *   **Этап 3.3. Генерация шагов выполнения**: Формируется пошаговая инструкция, описывающая процесс выполнения кода.
        *   **Этап 3.4. Генерация примера использования**:  Создаётся пример кода, демонстрирующий использование данного блока.
        *   **Этап 3.5. Форматирование RST**: Документация для блока кода форматируется в RST.
        *   **Этап 3.6. Сохранение документации**: Результат сохраняется в виде RST-документа.
        *   **Повторение**: Этапы 3.1 - 3.6 повторяются для каждого блока кода.
    *   **Выход**: Серия RST-документов, описывающих каждый блок кода.

2.  **<mermaid>**:

    ```mermaid
    flowchart TD
        A[Start: Input Prompt] --> B{Analyze Prompt};
        B --> C[Generate Instructions in RST format];
        C --> D{For Each Code Block};
        D --> E[Analyze Current Code Block and Loaded Code Blocks];
        E --> F[Generate Description of Code Block];
        F --> G[Generate Execution Steps];
        G --> H[Generate Usage Example];
        H --> I[Format Documentation in RST];
        I --> J[Save RST Documentation];
        J --> D;
        D -- No More Code Blocks --> K[End];

        style A fill:#f9f,stroke:#333,stroke-width:2px
        style K fill:#ccf,stroke:#333,stroke-width:2px
    ```

    **Описание зависимостей `mermaid`:**

    *   Диаграмма показывает последовательность действий по обработке промпта и генерации документации.
    *   `A` (Start: Input Prompt) - начало процесса с входным промптом.
    *   `B` (Analyze Prompt) - анализ входного промпта для понимания инструкций.
    *   `C` (Generate Instructions in RST format) - формирование общей инструкции в формате RST.
    *   `D` (For Each Code Block) - цикл обработки каждого блока кода.
    *   `E` (Analyze Current Code Block and Loaded Code Blocks) - анализ текущего блока кода и всех предыдущих.
    *   `F` (Generate Description of Code Block) - создание текстового описания блока кода.
    *   `G` (Generate Execution Steps) - генерация пошаговых инструкций для выполнения кода.
    *   `H` (Generate Usage Example) - создание примера использования кода.
    *   `I` (Format Documentation in RST) - форматирование сгенерированной документации в RST.
    *   `J` (Save RST Documentation) - сохранение RST-документации.
    *   `K` (End) - конец процесса после обработки всех блоков кода.

3.  **<объяснение>**:
    *   **Промпт:**
        *   Это инструкция для языковой модели, которая определяет ее поведение при анализе кода и генерации документации.
        *   Она задаёт конкретные шаги, которые модель должна выполнить для каждого блока кода.
        *   Промпт структурирован таким образом, чтобы модель могла генерировать документацию в заданном формате (reStructuredText) и с конкретным содержанием (описание, шаги выполнения, пример использования).
    *   **Основные компоненты промпта:**
        *   **Инструкция по анализу:** Модель должна анализировать текущий и ранее загруженный код.
        *   **Формат документации:** Задаётся формат reStructuredText (RST) с описанием, шагами выполнения и примером использования.
        *   **Шаги генерации:** Модель должна создавать описание, последовательные шаги выполнения и пример использования для каждого блока кода.
        *   **Требования к содержанию:** Инструкция подчеркивает важность точности, детализации и использования конкретных формулировок.
        *   **Пример:** Включает пример с проверкой переменной, чтобы модель понимала, как документировать проверки.
        *   **Пример использования** - показывает, как будет использоваться сгенерированная документация в проекте
    *   **Логика работы:**
        *   Модель должна сперва анализировать код, чтобы понять, что он делает.
        *   Затем она должна выделить основные действия и проверки, которые происходят в коде.
        *   На основе анализа модель формирует подробное описание, пошаговую инструкцию и пример использования, форматируя все это в RST.
    *   **Цепочка взаимосвязей:**
        *   Промпт является входными данными для языковой модели.
        *   Выходные данные (RST-документы) используются для создания документации проекта, которая помогает разработчикам понимать код.
        *   Применение промпта обеспечивает более стандартизированный и понятный процесс документирования кода.
    *   **Потенциальные улучшения:**
        *   Можно добавить более сложные примеры для демонстрации работы с циклами и другими конструкциями кода.
        *   Можно расширить промпт, чтобы модель генерировала тесты на основе кода.
        *   Можно включить инструкцию о том, как обрабатывать различные типы ошибок.

В заключение, данный промпт представляет собой подробную инструкцию для языковой модели по генерации документации к блокам кода, которая должна быть полезной для разработчиков.