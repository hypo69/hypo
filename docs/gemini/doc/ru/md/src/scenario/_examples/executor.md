# Модуль executor

## Обзор

Этот модуль предоставляет функции для выполнения сценариев, работы с файлами сценариев, обработки данных о продуктах и взаимодействия с API PrestaShop.  Примеры демонстрируют использование функций для запуска сценариев, обработки файлов сценариев, работы с продуктами и взаимодействия с API PrestaShop.


## Оглавление

* [Модуль executor](#модуль-executor)
* [Функции](#функции)
    * [`run_scenario_files`](#run_scenario_files)
    * [`run_scenario_file`](#run_scenario_file)
    * [`run_scenarios`](#run_scenarios)
    * [`run_scenario`](#run_scenario)
    * [`insert_grabbed_data`](#insert_grabbed_data)
    * [`execute_PrestaShop_insert`](#execute_prestashop_insert)
    * [`execute_PrestaShop_insert_async`](#execute_prestashop_insert_async)
    * [`add_coupon`](#add_coupon)


## Функции

### `run_scenario_files`

**Описание**: Запускает список файлов сценариев.

**Параметры**:
- `supplier` (объект): Объект, содержащий информацию о поставщике и настройки.
- `scenario_files` (список `Path`): Список путей к файлам сценариев.


**Возвращает**:
- `bool`: `True`, если все сценарии успешно выполнены, иначе `False`.


**Вызывает исключения**:
- `TypeError`: Если типы параметров не соответствуют ожидаемым.
- `FileNotFoundError`: Если один или несколько файлов сценариев не найдены.
- Другие ошибки, которые могут возникнуть при выполнении сценариев.


### `run_scenario_file`

**Описание**: Запускает один файл сценария.

**Параметры**:
- `supplier` (объект): Объект, содержащий информацию о поставщике и настройки.
- `scenario_file` (`Path`): Путь к файлу сценария.

**Возвращает**:
- `bool`: `True`, если сценарий успешно выполнен, иначе `False`.


**Вызывает исключения**:
- `TypeError`: Если типы параметров не соответствуют ожидаемым.
- `FileNotFoundError`: Если файл сценария не найден.
- Другие ошибки, которые могут возникнуть при выполнении сценария.



### `run_scenarios`

**Описание**: Запускает список сценариев.

**Параметры**:
- `supplier` (объект): Объект, содержащий информацию о поставщике и настройки.
- `scenarios` (список): Список сценариев.

**Возвращает**:
- `bool`: `True`, если все сценарии успешно выполнены, иначе `False`.


**Вызывает исключения**:
- `TypeError`: Если типы параметров не соответствуют ожидаемым.
- Ошибки, которые могут возникнуть при выполнении отдельных сценариев.


### `run_scenario`

**Описание**: Запускает один сценарий.

**Параметры**:
- `supplier` (объект): Объект, содержащий информацию о поставщике и настройки.
- `scenario` (словарь): Сценарий.

**Возвращает**:
- `bool`: `True`, если сценарий успешно выполнен, иначе `False`.


**Вызывает исключения**:
- `TypeError`: Если типы параметров не соответствуют ожидаемым.
- Ошибки, которые могут возникнуть при выполнении сценария.


### `insert_grabbed_data`

**Описание**: Вставляет данные о продукте в PrestaShop.

**Параметры**:
- `product_fields` (`ProductFields`): Данные о продукте.


**Возвращает**:
- `None`.

**Вызывает исключения**:
- `TypeError`: Если тип параметра не соответствует ожидаемому.
- `PrestaShopError`: Если произошла ошибка при взаимодействии с API PrestaShop.


### `execute_PrestaShop_insert`

**Описание**: Синхронно выполняет вставку данных о продукте в PrestaShop.

**Параметры**:
- `product_fields` (`ProductFields`): Данные о продукте.

**Возвращает**:
- `bool`: `True` при успешной вставке, `False` в противном случае.

**Вызывает исключения**:
- `TypeError`: Если тип параметра не соответствует ожидаемому.
- `PrestaShopError`: Если произошла ошибка при взаимодействии с API PrestaShop.


### `execute_PrestaShop_insert_async`

**Описание**: Асинхронно выполняет вставку данных о продукте в PrestaShop.

**Параметры**:
- `product_fields` (`ProductFields`): Данные о продукте.

**Возвращает**:
- `None` (асинхронная операция).

**Вызывает исключения**:
- `TypeError`: Если тип параметра не соответствует ожидаемому.
- `PrestaShopError`: Если произошла ошибка при взаимодействии с API PrestaShop.


### `add_coupon`

**Описание**: Добавляет купон в базу данных PrestaShop.

**Параметры**:
- `credentials` (словарь): Кредиты для API PrestaShop.
- `reference` (строка): Идентификатор продукта.
- `coupon_code` (строка): Код купона.
- `start_date` (строка): Дата начала действия купона (в формате YYYY-MM-DD).
- `end_date` (строка): Дата окончания действия купона (в формате YYYY-MM-DD).

**Возвращает**:
- `None` (асинхронная операция).

**Вызывает исключения**:
- `TypeError`: Если тип параметра не соответствует ожидаемому.
- `PrestaShopError`: Если произошла ошибка при взаимодействии с API PrestaShop.