```markdown
# prepare_campaigns.py - Подготовка кампаний AliExpress

Файл: `C:\Users\user\Documents\repos\hypotez\src\suppliers\aliexpress\campaign\prepare_campaigns.py`

Этот модуль отвечает за подготовку кампаний AliExpress, включая обработку категорий, управление данными кампании и генерацию рекламных материалов.

## Функциональность

Модуль предоставляет функции для:

* **Обработки отдельных кампаний:** `process_campaign` - обрабатывает кампанию с заданным именем, языком и валютой.  Может обрабатывать указанный список категорий или всю кампанию.
* **Обработки всех кампаний:** `process_all_campaigns` - обрабатывает все кампании в заданном каталоге.
* **Обработки категории в кампании:** `process_campaign_category` - обрабатывает определённую категорию в заданной кампании.
* **Обработки кампаний с параметрами:** `main_process` -  обеспечивает основную логику обработки кампаний, принимая на вход имя кампании, список категорий, язык и валюту.
* **Парсинга аргументов командной строки:** `main` -  парсит аргументы командной строки и запускает соответствующие функции обработки кампаний (включая `process_all_campaigns` для обработки всех кампаний).

## Использование

### Обработка конкретной кампании:

```bash
python src/suppliers/aliexpress/campaigns/prepare_campaigns.py summer_sale -c electronics -l EN -cu USD
```

Этот пример обрабатывает кампанию `summer_sale`, категорию `electronics`, на английском языке (EN) и в долларах США (USD).

### Обработка всех кампаний:

```bash
python src/suppliers/aliexpress/campaigns/prepare_campaigns.py --all -l EN -cu USD
```

Этот пример обрабатывает все кампании в каталоге, используя английский язык (EN) и доллары США (USD).

### Обработка без указания категорий:

```bash
python src/suppliers/aliexpress/campaigns/prepare_campaigns.py summer_sale -l EN -cu USD
```

Эта команда обработает всю кампанию `summer_sale` с указанными языком и валютой.


## Структура и комментарии

* **`campaigns_directory`:** Путь к каталогу с файлами кампаний.
* **`process_campaign_category`:** Обрабатывает выбранную категорию, используя класс `AliCampaignEditor`.  Возвращает список названий продуктов.
* **`process_campaign`:** Обрабатывает всю кампанию, перебирая все языки и валюты из `locales`.
* **`process_all_campaigns`:** Обрабатывает все кампании в каталоге, перебирая все языки и валюты.
* **`main_process`:** Центральная функция для обработки кампании с категориями или без.
* **`main`:**  Главная функция, парсит аргументы командной строки и запускает нужную обработку.

##  Описание параметров

Аргументы командной строки:

* `campaign_name`: Название кампании.
* `-c`/`--categories`: Список категорий (по умолчанию - все категории).
* `-l`/`--language`: Язык.
* `-cu`/`--currency`: Валюта.
* `--all`: Обработать все кампании в каталоге.

##  Влияние на другие части приложения

Этот модуль использует:

* `header`, `argparse`, `copy`, `pathlib`, `typing` (из стандартной библиотеки Python)
* `gs`, `AliCampaignEditor`, `locales`, `pprint`, `get_directory_names`, `j_loads` (из других модулей).
* `logger` (для ведения журналов)


##  Возможные улучшения

* Добавить валидацию вводимых данных (например, проверку на существование каталога кампаний).
* Улучшить обработку ошибок (например, выводить подробные сообщения об ошибках).
* Документировать класс `AliCampaignEditor`.
* Дополнить примеры использования.


```