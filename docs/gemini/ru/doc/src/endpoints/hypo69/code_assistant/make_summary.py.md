# Модуль `make_summary`

## Обзор

Модуль `make_summary` предназначен для автоматического создания файла `SUMMARY.md`, который используется для формирования структуры книги в формате `mdbook`. Этот файл содержит перечень всех `.md` файлов в указанной директории, позволяя организовать их в виде глав книги. Модуль включает функции для рекурсивного обхода директорий, фильтрации файлов по языку и формирования путей к файлам.

## Подробней

Основная задача модуля – упростить процесс создания и обновления структуры документации. Путем автоматического создания `SUMMARY.md`, модуль позволяет избежать ручного добавления и обновления ссылок на каждый файл документации. Это особенно полезно в больших проектах, где количество файлов документации может быть значительным. Модуль также предоставляет возможность фильтрации файлов по языку, что позволяет создавать отдельные версии документации для разных языковых аудиторий.
В проекте `hypotez` этот модуль используется для автоматической генерации структуры документации на основе файлов в формате Markdown, расположенных в директории `src`. Созданный файл `SUMMARY.md` затем используется инструментом `mdbook` для формирования финальной версии документации.

## Функции

### `make_summary`

```python
def make_summary(docs_dir: Path, lang: str = 'en') -> None:
    """
    Args:
        docs_dir (Path): Путь к исходной директории \'src\'.
        lang (str): Язык фильтрации файлов. Возможные значения: \'ru\' или \'en\'.
    """
```

**Описание**: Создает файл `SUMMARY.md`, рекурсивно обходя указанную директорию.

**Параметры**:
- `docs_dir` (Path): Путь к исходной директории `src`.
- `lang` (str): Язык фильтрации файлов. Возможные значения: `ru` или `en`. По умолчанию `en`.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Вызывает исключения**:
- Отсутствуют явные исключения.

**Примеры**:
```python
from pathlib import Path
import header
PROJECT_ROOT = header.__root__
docs_dir = PROJECT_ROOT / 'src'
make_summary(docs_dir, lang='ru')
```

### `_make_summary`

```python
def _make_summary(src_dir: Path, summary_file: Path, lang: str = 'en') -> bool:
    """
    Args:
        src_dir (Path): Путь к папке с исходниками .md.
        summary_file (Path): Путь для сохранения файла SUMMARY.md.
        lang (str): Язык фильтрации файлов. Возможные значения: \'ru\' или \'en\'.
    """
```

**Описание**: Рекурсивно обходит папку и создает файл `SUMMARY.md` с главами на основе `.md` файлов.

**Параметры**:
- `src_dir` (Path): Путь к папке с исходными `.md` файлами.
- `summary_file` (Path): Путь для сохранения файла `SUMMARY.md`.
- `lang` (str): Язык фильтрации файлов. Возможные значения: `ru` или `en`. По умолчанию `en`.

**Возвращает**:
- `bool`: Возвращает `True` в случае успешного создания файла, `False` в случае ошибки.

**Вызывает исключения**:
- Отсутствуют явные исключения.

**Примеры**:
```python
from pathlib import Path
import header
PROJECT_ROOT = header.__root__
src_dir = PROJECT_ROOT / 'src'
summary_file = PROJECT_ROOT / 'docs' / 'SUMMARY.md'
_make_summary(src_dir, summary_file, lang='en')
```

### `prepare_summary_path`

```python
def prepare_summary_path(src_dir: Path, file_name: str = 'SUMMARY.md') -> Path:
    """
    Args:
        src_dir (Path): Исходный путь с \'src\'.
        file_name (str): Имя файла, который нужно создать. По умолчанию \'SUMMARY.md\'.

    Returns:
        Path: Новый путь к файлу.
    """
```

**Описание**: Формирует путь к файлу `SUMMARY.md`, заменяя часть пути `src` на `docs`.

**Параметры**:
- `src_dir` (Path): Исходный путь с `src`.
- `file_name` (str): Имя файла, который нужно создать. По умолчанию `SUMMARY.md`.

**Возвращает**:
- `Path`: Новый путь к файлу.

**Вызывает исключения**:
- Отсутствуют явные исключения.

**Примеры**:
```python
from pathlib import Path
import header
PROJECT_ROOT = header.__root__
src_dir = PROJECT_ROOT / 'src'
summary_path = prepare_summary_path(src_dir, file_name='SUMMARY.md')
print(summary_path)
```