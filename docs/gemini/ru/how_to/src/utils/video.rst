Как использовать функцию save_video_from_url
========================================================================================

Описание
-------------------------
Функция `save_video_from_url` загружает видео из указанного URL-адреса и сохраняет его в локальный файл.  Функция использует асинхронный подход для обработки загрузки, а также включает в себя обработку ошибок, связанных с сетью и сохранением файла.  Она проверяет, что файл успешно сохранен и не пуст, возвращая путь к файлу, если все прошло успешно, и `None` в случае ошибки.


Шаги выполнения
-------------------------
1. **Инициализация:** Функция принимает две строки, `url` (URL-адрес видео) и `save_path` (путь к целевому файлу).
2. **Загрузка видео:** Используя `aiohttp`, функция асинхронно загружает видео с указанного URL-адреса.
3. **Обработка HTTP ошибок:** `response.raise_for_status()` проверяет HTTP-статус ответа, и генерирует исключение при возникновении ошибок.
4. **Создание директорий:**  Функция создает все необходимые родительские директории для целевого файла, если они не существуют, с помощью `save_path.parent.mkdir(parents=True, exist_ok=True)`.
5. **Сохранение файла по частям:** Видео загружается по частям размером 8192 байт с помощью цикла `while True`. Каждая часть записывается в файл с помощью `aiofiles.open`.
6. **Проверка успешного сохранения:** После завершения загрузки функция проверяет, что файл действительно был сохранен и имеет ненулевой размер. Если нет, то возвращается `None`.  В противном случае функция возвращает `Path` к сохранённому файлу.
7. **Обработка ошибок:** Внутри `try...except` блоков функция обрабатывает различные возможные ошибки: ошибки сети (`aiohttp.ClientError`), исключения при чтении/записи файла, ошибки при создании каталогов, и неверный ввод. Логирование ошибок происходит с помощью библиотеки `logger`.

Пример использования
-------------------------
.. code-block:: python

    import asyncio
    from pathlib import Path
    from hypotez.src.utils.video import save_video_from_url

    async def example_usage():
        url = "https://www.sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4" # Пример валидного URL
        save_path = "downloaded_video.mp4"
        saved_path = await save_video_from_url(url, save_path)

        if saved_path:
            print(f"Видео успешно сохранено по пути: {saved_path}")
            #Далее вы можете работать с загруженным файлом
        else:
            print("Ошибка при сохранении видео.")


    if __name__ == "__main__":
        asyncio.run(example_usage())