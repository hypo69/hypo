# Модуль для экспериментов по извлечению данных с сайта HB
## Обзор

Модуль предназначен для проведения экспериментов по автоматизированному сбору информации о продуктах с сайта поставщика HB (hbdeadsea.co.il). Он включает в себя настройку веб-драйвера, выполнение сценариев и извлечение данных о продуктах. Модуль предназначен для тестирования и отладки процессов сбора данных перед их интеграцией в основную систему.

## Подробней

Этот модуль содержит код для экспериментов по сбору данных с сайта hbdeadsea.co.il. В частности, он выполняет следующие шаги:

1.  Инициализация необходимых объектов и зависимостей, таких как поставщик (`Supplier`), продукт (`Product`), локаторы (`locators`), драйвер (`Driver`) и поля продукта (`ProductFields`).
2.  Определение сценария для сбора данных, включая URL, наименование и категории PrestaShop.
3.  Запуск веб-драйвера и переход по заданному URL.
4.  Выполнение предопределенных сценариев для взаимодействия с веб-страницей.
5.  Извлечение информации о продукте с использованием модуля `grab_product_page`.

## Классы

### `Supplier`

**Описание**: Класс, представляющий поставщика товаров.

**Принцип работы**: Класс инициализируется с префиксом поставщика `hb`. Этот префикс используется для идентификации поставщика в системе. Также, внутри класса содержатся все необходимые параметры для работы с поставщиком, включая локаторы, драйвер и т.д.

### `Product`

**Описание**: Класс, представляющий продукт.

**Принцип работы**: Класс инициализируется с объектом поставщика (`Supplier`). Он содержит методы и атрибуты, необходимые для работы с информацией о продукте, такие как извлечение данных, обработка и сохранение.

### `ProductFields`

**Описание**: Класс, представляющий поля продукта.

**Принцип работы**: Класс инициализируется с объектом поставщика (`Supplier`). Он содержит методы и атрибуты, необходимые для работы с полями продукта, такие как название, описание, цена и т.д.

### `Driver`

**Описание**: Класс для управления веб-драйвером.

**Принцип работы**: Предоставляет методы для навигации по сайту, взаимодействия с элементами и выполнения JavaScript-кода. Драйвер используется для автоматизации действий в браузере, таких как переход по URL, клики по элементам и заполнение форм.

## Функции

### `run_scenarios`

```python
from src.scenario import run_scenarios
```

**Назначение**: Выполняет сценарии взаимодействия с веб-страницей.

**Параметры**:

*   `s` (`Supplier`): Объект поставщика.
*   `s.current_scenario` (`Dict`): Текущий сценарий, содержащий информацию об URL, названии и категориях.

**Возвращает**:

*   `ret`: Результат выполнения сценария.

**Как работает функция**:

1.  Функция `run_scenarios` принимает объект поставщика `s` и текущий сценарий `s.current_scenario` в качестве аргументов.
2.  Выполняет сценарии, определенные для данного поставщика и сценария.
3.  Возвращает результат выполнения сценария.

**Примеры**:

```python
from src.suppliers import Supplier
from src.scenario import run_scenarios

s = Supplier(supplier_prefix='hb')
s.current_scenario = {
    "url": "https://hbdeadsea.co.il/product-category/bodyspa/feet-hand-treatment/",
    "name": "טיפוח כפות ידיים ורגליים",
    "condition": "new",
    "presta_categories": {
        "default_category": 11259,
        "additional_categories": []
    }
}

ret = run_scenarios(s, s.current_scenario)
print(ret) # Вывод результата выполнения сценария
```

### `s.related_modules.grab_product_page(s)`

```python
s.related_modules.grab_product_page(s)
```

**Назначение**: Извлекает информацию о продукте с веб-страницы.

**Параметры**:

*   `s` (`Supplier`): Объект поставщика.

**Возвращает**:

*   Нет явного возвращаемого значения. Функция выполняет действия по извлечению данных и, возможно, сохраняет их в объекте продукта или базе данных.

**Как работает функция**:

1.  Функция `grab_product_page` вызывается из объекта `s.related_modules`.
2.  Извлекает информацию о продукте с текущей веб-страницы, используя локаторы и другие параметры, определенные для поставщика.

**Примеры**:

```python
from src.suppliers import Supplier

s = Supplier(supplier_prefix='hb')
# Предполагается, что s.current_scenario и веб-драйвер уже настроены и инициализированы

s.related_modules.grab_product_page(s)
# После выполнения этой функции, информация о продукте должна быть извлечена и доступна в объекте продукта или базе данных.
```