# מערכות ספירה

## סקירה כללית

מסמך זה מספק מבוא למערכות ספירה, כולל מערכות מופשטות וקונקרטיות, וכן קוד Python להדגמה והמרות בין בסיסים.

## תוכן עניינים

- [מערכות ספירה מופשטות](#מערכות-ספירה-מופשטות)
- [פירות: דוגמה למערכת ספירה מותאמת אישית](#פירות-דוגמה-למערכת-ספירה-מותאמת-אישית)
  - [פונקציות](#פונקציות)
- [מערכות ספירה קונקרטיות](#מערכות-ספירה-קונקרטיות)
  - [מערכת בינארית](#מערכת-בינארית)
  - [מערכת טרינארית](#מערכת-טרינארית)
  - [מערכת ספטנארית](#מערכת-ספטנארית)
  - [מערכת דצימאלית](#מערכת-דצימאלית)
  - [מערכת הקסדצימאלית](#מערכת-הקסדצימאלית)
  - [מערכת סקסגסימאלית](#מערכת-סקסגסימאלית)
- [תרגילים](#תרגילים)
- [חומר נוסף: ימי השבוע ומערכת ספטנארית](#חומר-נוסף-ימי-השבוע-ומערכת-ספטנארית)
- [ייעוץ](#ייעוץ)

## מערכות ספירה מופשטות

לא חשוב איך מציינים מספרים, אפשר להשתמש בכל מערך סמלים, העיקר שהם יעמדו בכללים:

*   **בסיס:** זה מספר הסמלים הייחודיים (ספרות) שאנחנו משתמשים בהם. נסמן את הבסיס ב-`b`.
*   **ספרות:** אלה הסמלים שאנחנו משתמשים בהם לייצוג מספרים. בדרך כלל זה ספרות ערביות (0, 1, 2, 3, ...), לטיניות (I, II, III, ...), אבל יכולים להיות גם סמלים אחרים. לדוגמה:
*   **מיקום:** לכל ספרה בייצוג מספר יש את המיקום שלה, שמשפיע על הערך שלה.
*   **סדרות:** כל מיקום נקרא סדרה (לדוגמה, אחדות, עשרות, מאות וכו').

**איך בונים מערכת ספירה?**

1.  **בחירת הבסיס:** בוחרים מספר שלם `b`, שיהיה הבסיס של המערכת שלנו.
2.  **בחירת הספרות:** אנחנו צריכים `b` ספרות ייחודיות. בדרך כלל זה 0, 1, 2, ..., `b-1`.
3.  **ייצוג מספר:** מספר נרשם כרצף של ספרות. הערך של כל ספרה מוכפל בבסיס, שהועלה לחזקה השווה למיקום שלה (מתחילים מ-0 מימין).

**נוסחה לחישוב הערך של מספר:**

אם יש לנו מספר שכתוב כרצף של ספרות `dₙ dₙ₋₁ ... d₁ d₀`, אז אפשר לחשב את הערך שלו במערכת העשרונית לפי הנוסחה:

`ערך = dₙ * bⁿ + dₙ₋₁ * bⁿ⁻¹ + ... + d₁ * b¹ + d₀ * b⁰`

כאשר:

*   `dᵢ` - ספרה בסדרה ה-i.
*   `b` - בסיס של מערכת הספירה.
*   `i` - מספר הסדרה (מימין לשמאל, מתחילים מ-0).

**דוגמה:**

נניח שיש לנו מספר 123 במערכת העשרונית (בסיס 10). לפי הנוסחה:

`1 * 10² + 2 * 10¹ + 3 * 10⁰ = 100 + 20 + 3 = 123`

**סדרות (פרוקות):**

סדרות, כמו שאמרנו, זה המיקומים של הספרות במספר, לכל מיקום יש משקל משלו, שנקבע על ידי הבסיס בחזקת מספר הסידורי שלו.

*   `d₀`: אחדות (`b⁰`)
*   `d₁`: `b` (`b¹`)
*   `d₂`: `b²`
*   `d₃`: `b³`
*   וכן הלאה

**חוקים:**

1.  **טווח ספרות:** משתמשים בספרות מ-0 עד `b-1`.
2.  **עיקרון המיקום:** הערך של הספרה תלוי במיקום שלה.
3.  **מעבר לסדרה הבאה:** כאשר בסדרה מגיעים לערך `b`, מתבצע מעבר לסדרה הבאה (אנלוגי לזה שאחרי 9 במערכת העשרונית מוסיפים 1 לסדרה הבאה ומקבלים 10).

## פירות: דוגמה למערכת ספירה מותאמת אישית

*   🍎 (תפוח)
*   🍐 (אגס)
*   🍉 (אבטיח)
*   🧺 (סל)

**חוקים:**

1.  3 🍎 = 1 🍐
2.  5 🍐 = 3 🍉
3.  2 🍉 = 1 🧺

**ייצוג מספרים:**

אנחנו נציג את כמות הפירות במחרוזת, כאשר כל סמל יוניקוד תואם לפרי אחד. לדוגמה, "🍎🍎🍎" זה 3 תפוחים, ו"🍉🍉" זה 2 אבטיחים.

**פעולות חשבון:**

אפשר לבצע פעולות חיבור וחיסור. נתחיל עם חיבור.

### פונקציות

#### `normalize_fruits(fruits: str) -> str`

```python
def normalize_fruits(fruits: str) -> str:
    """
    מנרמל את המחרוזת עם הפירות, מביא אותה לייצוג המינימלי,
    תוך שימוש בחוקי החלפת הפירות.

    Args:
        fruits: מחרוזת עם פירות (🍎, 🍐, 🍉, 🧺).

    Returns:
        מחרוזת עם הכמות המנורמלת של הפירות.
    """
```

#### `add_fruits(fruits1: str, fruits2: str) -> str`

```python
def add_fruits(fruits1: str, fruits2: str) -> str:
    """
    מחבר שתי מחרוזות של פירות.

    Args:
        fruits1: מחרוזת עם פירות.
        fruits2: מחרוזת עם פירות.

    Returns:
        מחרוזת עם סכום הפירות.
    """
```

#### `sub_fruits(fruits1: str, fruits2: str) -> str`

```python
def sub_fruits(fruits1: str, fruits2: str) -> str:
    """
    מחסר את המחרוזת השנייה של הפירות מהראשונה, אם זה אפשרי.

    Args:
        fruits1: מחרוזת עם פירות, שממנה מחסרים.
        fruits2: מחרוזת עם פירות, שאותה מחסרים.

    Returns:
        מחרוזת עם ההפרש של הפירות או "אי אפשר לחסר" אם התוצאה שלילית.
    """
```

**דוגמאות:**

```
🍎🍎🍎🍎🍎 + 🍎🍎🍎 = 🍐🍎🍎
🍐🍐 + 🍎🍎🍎🍎 = 🍉🍎
🍉🍉 + 🍎🍎🍎🍎🍎🍎🍎🍎🍎🍎🍎🍎🍎🍎🍎 = 🧺🍎
🧺🧺 + 🍉🍉🍉 = 🧺🍉🍐
🧺🍉🍐🍎 - 🍉🍐🍎 = 🧺
🧺🍉 - 🧺🍉🍎🍎🍎 = אי אפשר לחסר
🍉🍉🍉 - 🍎🍎🍎🍎 = 🍉
🍐🍐🍐🍐🍐 - 🍉 = 🍐🍐
```

**הסבר לקוד:**

1.  **`normalize_fruits(fruits)`:** הפונקציה הזו ממירה את המחרוזת עם הפירות לצורה המינימלית. היא קודם כל סופרת את הכמות של כל פרי, ואז, תוך שימוש בכללי ההחלפה, ממירה אותם ליחידות גדולות יותר (תפוחים לאגסים, אגסים לאבטיחים, אבטיחים לסלים), אחרי ההמרה היא מדביקה אותם בחזרה למחרוזת עם מינימום פירות.
2.  **`add_fruits(fruits1, fruits2)`:** הפונקציה הזו מבצעת חיבור של שתי מחרוזות עם פירות. היא פשוט משלבת את שתי המחרוזות ואז מנרמלת את התוצאה.
3.  **`sub_fruits(fruits1, fruits2)`:** זו פונקציה לחיסור של מחרוזת פירות אחת מהשנייה. היא ממירה הכל ל"כמות תפוחים" ואז מבצעת חיסור, ואז ממירה את התפוחים חזרה לצורה מנורמלת, תוך בדיקה אם החיסור אפשרי.
4.  **דוגמאות:** בסוף הקוד יש דוגמאות לחיבור וחיסור עם שילובים שונים של פירות והצגת התוצאות.

**משימות:**

1.  נסה להוסיף לקוד פונקציה להכפלת פירות במספר שלם (לדוגמה, `multiply_fruits(fruits, n)`).
2.  בנה פונקציה `compare_fruits(fruits1, fruits2)`, שמשווה בין שתי מחרוזות עם פירות ומחזירה "גדול יותר", "קטן יותר" או "שווה".
3.  המצא כללים משלך להחלפת פירות ושנה את הקוד בהתאם.
4.  הוסף בדיקה של תקינות קלט (שהמחרוזת תכיל רק סמלי יוניקוד מורשים).
5.  יישם חיסור מתקדם יותר, לדוגמה, לא להוציא שגיאה "אי אפשר לחסר", אלא להציג תוצאה עם סימן מינוס (משימה מורכבת).

## מערכות ספירה קונקרטיות

עכשיו בואו נסתכל על דוגמאות קונקרטיות של מערכות ספירה ונעבוד איתן.

### מערכת בינארית

*   **ספרות:** 0, 1
*   **משמשת במחשבים:** כל הנתונים במחשבים מוצגים בקוד בינארי (ביטים).

**דוגמה:**

*   המספר `1011₂` (נקרא "אחד אפס אחד אחד בבסיס 2"). המרה למערכת העשרונית:
    `1 * 2³ + 0 * 2² + 1 * 2¹ + 1 * 2⁰ = 8 + 0 + 2 + 1 = 11₁₀`

**Python:**

```python
def bin_to_dec(binary: str) -> int:
    """
    ממיר מספר בינארי (מחרוזת) לעשרוני.

    Args:
        binary: מספר בינארי כמחרוזת.

    Returns:
        ייצוג עשרוני של המספר (מספר שלם).
    """

def dec_to_bin(decimal: int) -> str:
    """
    ממיר מספר עשרוני (שלם) לייצוג בינארי (מחרוזת).

    Args:
        decimal: מספר עשרוני.

    Returns:
        ייצוג בינארי של המספר (מחרוזת).
    """
```

### מערכת טרינארית

*   **ספרות:** 0, 1, 2
*   **מעניינת בתאוריה:** משמשת בכמה תחומים של מתמטיקה ומדעי המחשב.

**דוגמה:**

*   המספר `210₃` (נקרא "שתיים אחד אפס בבסיס 3"). המרה למערכת העשרונית:
    `2 * 3² + 1 * 3¹ + 0 * 3⁰ = 18 + 3 + 0 = 21₁₀`

**Python:**

```python
def ternary_to_dec(ternary: str) -> int:
    """
    ממיר מספר טרינארי (מחרוזת) לעשרוני.

    Args:
        ternary: מספר טרינארי כמחרוזת.

    Returns:
        ייצוג עשרוני של המספר (מספר שלם).
    """

def dec_to_ternary(decimal: int) -> str:
    """
    ממיר מספר עשרוני (שלם) לייצוג טרינארי (מחרוזת).

    Args:
        decimal: מספר עשרוני.

    Returns:
        ייצוג טרינארי של המספר (מחרוזת).
    """
```

### מערכת ספטנארית

*   **ספרות:** 0, 1, 2, 3, 4, 5, 6
*   **פחות נפוצה:** משמשת בכמה תחומים מצומצמים, לדוגמה, בכמה מערכות קידוד. יש לה גם שימוש מעשי בימי השבוע.

**דוגמה:**

*   המספר `345₇` (נקרא "שלוש ארבע חמש בבסיס 7"). המרה למערכת העשרונית:
    `3 * 7² + 4 * 7¹ + 5 * 7⁰ = 147 + 28 + 5 = 180₁₀`

**Python:**

```python
def septenary_to_dec(septenary: str) -> int:
    """
    ממיר מספר ספטנארי (מחרוזת) לעשרוני.

    Args:
        septenary: מספר ספטנארי כמחרוזת.

    Returns:
        ייצוג עשרוני של המספר (מספר שלם).
    """

def dec_to_septenary(decimal: int) -> str:
    """
    ממיר מספר עשרוני (שלם) לייצוג ספטנארי (מחרוזת).

    Args:
        decimal: מספר עשרוני.

    Returns:
        ייצוג ספטנארי של המספר (מחרוזת).
    """
```

### מערכת דצימאלית

*   **ספרות:** 0, 1, 2, 3, 4, 5, 6, 7, 8, 9
*   **יום-יומית:** המערכת הכי נפוצה שאנחנו משתמשים בה כל יום.

**דוגמה:**

*   המספר `789₁₀`. המרה למערכת העשרונית: (אין משמעות, זה עשרוני)
    `7 * 10² + 8 * 10¹ + 9 * 10⁰ = 700 + 80 + 9 = 789₁₀`

### מערכת הקסדצימאלית

*   **ספרות:** 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F
    *   A = 10, B = 11, C = 12, D = 13, E = 14, F = 15
*   **נמצאת בשימוש רחב בתכנות:** לייצוג צבעים, כתובות זיכרון, קוד מכונה וכו'. משתמשים בה לעתים קרובות כדי לקצר את הייצוג של מספרים בינאריים.

**דוגמה:**

*   המספר `2AF₁₆` (נקרא "שתיים איי אף בבסיס 16"). המרה למערכת העשרונית:
    `2 * 16² + 10 * 16¹ + 15 * 16⁰ = 512 + 160 + 15 = 687₁₀`

**Python:**

```python
def hex_to_dec(hexadecimal: str) -> int:
    """
    ממיר מספר הקסדצימלי (מחרוזת) לעשרוני.

    Args:
        hexadecimal: מספר הקסדצימלי כמחרוזת.

    Returns:
        ייצוג עשרוני של המספר (מספר שלם).
    """

def dec_to_hex(decimal: int) -> str:
    """
    ממיר מספר עשרוני (שלם) לייצוג הקסדצימלי (מחרוזת).

    Args:
        decimal: מספר עשרוני.

    Returns:
        ייצוג הקסדצימלי של המספר (מחרוזת).
    """
```

### מערכת סקסגסימאלית

*   **ספרות:** 0-59 (בשימוש מעשי משתמשים בשילובים של סמלים).
*   **היסטורית:** השתמשו בה בבבל העתיקה, וכרגע היא משמשת למדידת זמן (שעות, דקות, שניות) וזוויות.

**דוגמה:**

*   נייצג את המספר `25:30:15₆₀` (25 מעלות, 30 דקות, 15 שניות) או
    `25 * 60² + 30 * 60¹ + 15 * 60⁰ = 25 * 3600 + 30 * 60 + 15 * 1 = 90000 + 1800 + 15 = 91815₁₀` (מספר שניות כולל).

## תרגילים

**תרגיל 1:**

המר את המספרים הבאים ממערכת אחת לשנייה:

*   `11011₂` לעשרוני.
*   `201₃` לעשרוני.
*   `563₇` לעשרוני.
*   `2AF₁₆` לעשרוני.
*   `45₁₀` לבינארי.
*   `34₁₀` לטרינארי.
*   `150₁₀` לספטנארי.
*   `687₁₀` להקסדצימלי.

**תרגיל 2:**

המצא מערכת ספירה משלך עם בסיס, לדוגמה, 5 (חמשארית). רשום כמה מספרים במערכת הזו והמר אותם לעשרונית.

**תרגיל 3:**

בנה פונקציות להמרה ממערכת עשרונית לבינארית, טרינארית, ספטנארית, הקסדצימאלית ובחזרה (כמו בדוגמאות למעלה).

**תרגיל 4:**

כתוב פונקציה לחיבור של שני מספרים בינאריים שמוצגים כמחרוזות. (מורכב)

**תרגיל 5:**

נסה להמיר זמן מסוים לשניות, שמוצג בצורה "ש:ד:ש" למערכת עשרונית ובחזרה.

**תרגיל 6:**

כתוב פונקציה שתקבל שני ימי שבוע וטווח של ימים (כמו בדוגמה למעלה), אם הטווח קטן משבוע אז הפונקציה תחזיר כמה ימים בין שניהם, אם יותר, אז תחזיר כמה שבועות מלאים וכמה ימים נשארו.

**תרגיל 7:**

שפר את הפונקציה `calculate_day_of_week` כך שהיא תטפל נכון במספר שלילי של ימים שעברו (כלומר, כאשר אנחנו סופרים ימים אחורה).

## חומר נוסף: ימי השבוע ומערכת ספטנארית

אפשר להסתכל על ימי השבוע כדוגמה לשימוש במערכת ספטנארית, כאשר כל יום הוא ספרה מ-0 עד 6. אבל, מכיוון שבדרך כלל אנחנו לא מתחילים את ספירת ימי השבוע מאפס, אלא יותר מיום שני, אז אפשר לומר שזו מערכת ספטנארית מוזזת.

**דוגמה פשוטה לקוד שסופר ימי שבוע:**

```python
def calculate_day_of_week(start_day: int, days_passed: float) -> int:
    """
    מחשב את יום השבוע אחרי מספר ימים נתון.

    Args:
        start_day: יום השבוע ההתחלתי (0 - שני, 6 - ראשון).
        days_passed: מספר הימים שעברו.

    Returns:
        יום השבוע אחרי מספר הימים הנתון (0 - שני, 6 - ראשון).
    """

def day_number_to_name(day_number: int) -> str:
    """
    ממיר מספר יום בשבוע (0-6) לשם שלו.

    Args:
        day_number: מספר יום בשבוע (0 - שני, 6 - ראשון).

    Returns:
        שם יום השבוע (מחרוזת).
    """
```

**הסברים:**

1.  הפונקציה `calculate_day_of_week` מקבלת יום שבוע התחלתי (0-יום שני, 6-יום ראשון) ואת מספר הימים שעברו (יכול להיות שבר עשרוני).
2.  `new_day = (start_day + days_passed) % 7`: מחברים את הימים ולוקחים את השארית מחילוק ב-7, כי בשבוע יש 7 ימים. פעולת `% 7` גורמת ל"מחזור", כאשר הימים עוברים את יום ראשון.
3.  `day_number_to_name` פונקציה עזר לנוחות קריאת התוצאות.

## ייעוץ

*   תרגל המרות בין מערכות ספירה. ככל שתתרגל יותר, כך תבין טוב יותר את העקרונות של מערכות הספירה.
*   נסה ליצור מערכות ספירה משלך.
*   השתמש בפייתון כדי לבדוק את הפתרונות שלך ולבצע המרות באופן אוטומטי.