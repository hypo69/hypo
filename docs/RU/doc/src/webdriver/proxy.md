# Модуль proxy

## Обзор

Модуль `proxy` предназначен для работы с прокси-серверами. Он предоставляет функции для загрузки списка прокси из внешнего источника, парсинга этого списка и проверки работоспособности прокси.

## Функции

### `download_proxies_list`

**Описание**: Загружает файл с прокси-адресами из указанного URL и сохраняет его в заданный файл.

**Параметры**:
- `url` (str, optional): URL файла для загрузки. По умолчанию `https://raw.githubusercontent.com/proxifly/free-proxy-list/main/proxies/all/data.txt`.
- `save_path` (Path, optional): Путь для сохранения загруженного файла. По умолчанию `src/webdriver/proxies.txt`.

**Возвращает**:
- bool: `True`, если загрузка успешна, `False` в противном случае.

**Возможные исключения**:
- `requests.exceptions.RequestException`:  Возникает при проблемах с запросом к URL (например, отсутствие соединения, ошибка HTTP).
- `Exception`:  Возникает при других непредвиденных ошибках во время загрузки.


### `get_proxies_dict`

**Описание**: Парсит файл с прокси-адресами, распределяя их по типам (http, socks4, socks5).

**Параметры**:
- `file_path` (Path, optional): Путь к файлу с прокси. По умолчанию `src/webdriver/proxies.txt`.

**Возвращает**:
- Dict[str, List[Dict[str, Any]]]: Словарь, где ключи - типы прокси (`http`, `socks4`, `socks5`), а значения - списки словарей с данными прокси (protocol, host, port).

**Возможные исключения**:
- `FileNotFoundError`:  Возникает, если файл с прокси не найден по заданному пути.
- `Exception`:  Возникает при других непредвиденных ошибках во время парсинга.


### `check_proxy`

**Описание**: Проверяет работоспособность заданного прокси-сервера.

**Параметры**:
- `proxy` (dict): Словарь с данными прокси (host, port, protocol).

**Возвращает**:
- bool: `True`, если прокси работает, `False` в противном случае.

**Возможные исключения**:
- `requests.exceptions.ProxyError`: Возникает при проблемах с подключением к прокси.
- `requests.exceptions.RequestException`: Возникает при проблемах с запросом к тестовому серверу.


## Пример использования

```python
# Загрузка списка прокси
if download_proxies_list():
    # Парсинг прокси и распределение по категориям
    proxies = get_proxies_dict()

    # Проверка каждого прокси
    for protocol in proxies:
        for proxy in proxies[protocol]:
            if check_proxy(proxy):
                print(f"Прокси {proxy['protocol']}://{proxy['host']}:{proxy['port']} работает!")
```


```
```
```