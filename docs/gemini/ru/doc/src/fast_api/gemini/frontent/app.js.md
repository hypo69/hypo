# Документация для `app.js`

## Обзор

Данный файл `app.js` содержит React-компонент `App`, который реализует простой чат-интерфейс с использованием API на `http://localhost:8000/api/chat`. Компонент позволяет пользователю отправлять сообщения и получать ответы от AI.

## Оглавление

1. [Функции](#функции)
   - [`App`](#app)

## Функции

### `App`

**Описание**:
Основной функциональный компонент, реализующий чат-интерфейс. Содержит состояние для хранения введенного сообщения, списка сообщений и отправляет запросы к API для получения ответов от AI.

**Параметры**:
- Нет параметров.

**Возвращает**:
- JSX: Возвращает HTML-структуру чат-интерфейса, включая поле ввода сообщений и область отображения сообщений.

**Описание работы**:
1. **`useState` Hooks**:
    - `input`: Состояние для текущего введенного пользователем сообщения. Инициализируется пустой строкой.
    - `messages`: Состояние для списка всех сообщений (включая сообщения пользователя и ответы AI). Инициализируется пустым массивом.
2. **`sendMessage` Function**:
    - Асинхронная функция, вызываемая для отправки сообщения пользователя.
    - Проверяет, что сообщение пользователя не пустое.
    - Создает объект сообщения пользователя с ключами `role` (значение "user") и `content` (введенное сообщение)
    - Обновляет состояние `messages`, добавляя новое сообщение пользователя
    - Отправляет POST-запрос на `http://localhost:8000/api/chat` с сообщением пользователя в теле запроса.
    - Получает ответ от API.
    - Создает объект сообщения от AI с ключами `role` (значение "assistant") и `content` (ответ от API).
    - Обновляет состояние `messages`, добавляя ответ AI.
    - Обрабатывает ошибки при запросе к API, выводя их в консоль.
    - Очищает поле ввода после отправки сообщения.
3. **JSX Structure**:
    - Отрисовывает поле для ввода сообщений (`input` type="text").
    - Добавляет обработчик `onChange` для обновления состояния `input`.
    - Добавляет обработчик `onKeyDown` для отправки сообщения при нажатии клавиши "Enter".
    - Отрисовывает кнопку для отправки сообщений.
    - Отрисовывает область сообщений (`chat-box`), в которой отображаются все сообщения. Используется метод `map` для отображения каждого сообщения из массива `messages`.

**Вызывает исключения**:
- `Error`: Возникает при ошибке выполнения запроса к API.