# Модуль `app.js`

## Обзор

Данный файл содержит код приложения чат-бота, реализованного с использованием React.js и Fetch API. Приложение позволяет пользователю вводить запросы, отправлять их на сервер, получать ответ от чат-бота и отображать диалог в окне чата.

## Компоненты

### Компонент `App`

**Описание**: Главный компонент приложения, управляющий состоянием чата и взаимодействием с пользователем.

**Состояния**:
- `input`: Состояние введённого пользователем текста.
- `messages`: Массив сообщений в чате, содержащий объекты с полями `role` (кто отправил: "user" или "assistant") и `content` (текст сообщения).


**Методы**:

#### `sendMessage`

**Описание**: Обрабатывает отправку сообщения чат-боту.

**Параметры**:
Нет входных параметров.

**Возвращает**:
- `void`: Не возвращает никаких значений.

**Обрабатывает исключения**:
- `Error`: Выводит сообщение об ошибке в консоль.


**Обрабатывает ошибки (try-catch)**:
- Обрабатывает потенциальные ошибки при отправке запроса на сервер.

**Пояснения**:
- Проверяет, пусто ли поле ввода.
- Добавляет сообщение пользователя в массив `messages`.
- Отправляет POST-запрос к серверу (http://localhost:8000/api/chat) с телом запроса, содержащим prompt (введённое пользователем сообщение).
- Принимает ответ от сервера (в формате JSON).
- Обновляет состояние `messages`, добавляя сообщение от чат-бота.
- Очищает поле ввода.


#### `render`

**Описание**: Отображает UI-элементы приложения.

**Возвращает**:
- JSX-элемент: Отображаемый интерфейс.

**Пояснения**:
- Отображает окно чата с прошлыми сообщениями.
- Отображает форму для ввода нового сообщения.
- Обрабатывает клики по кнопке "Отправить" и нажатие Enter.


## Функции

### `ReactDOM.render`

**Описание**: Функция для рендеринга компонента в DOM.

**Параметры**:
- `<App />`: Компонент `App`.
- `document.getElementById('chat-app')`: Элемент DOM, куда нужно рендерить компонент.

**Возвращает**:
- `void`: Не возвращает никаких значений.


## Использование


Приложение работает по следующему циклу:

1. Пользователь вводит сообщение в поле.
2. При нажатии на кнопку "Отправить" или клавишу Enter сообщение отправляется на сервер.
3. Сервер обрабатывает запрос и возвращает ответ.
4. Ответ отображается в окне чата.


```