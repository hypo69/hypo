# Анализ кода модуля `header.py`

**Качество кода**
8
- Плюсы
    - Код выполняет свою задачу по определению корневой директории проекта.
    - Используется `pathlib.Path` для работы с путями, что является хорошей практикой.
    - Есть документация к функциям.
- Минусы
    -  Нет описания модуля в формате RST.
    -  Отсутствует документация для переменной `__root__` после её определения.
    -  Не используется `logger` для отладки.
    -  Используются двойные кавычки вместо одинарных.
    -  Нет проверки типов.

**Рекомендации по улучшению**

1.  Добавить описание модуля в формате RST.
2.  Добавить документацию для переменной `__root__` после её определения в формате RST.
3.  Использовать `logger` для отладочной информации.
4.  Использовать одинарные кавычки в коде Python.
5.  Добавить аннотации типов для переменных и параметров.

**Оптимизированный код**

```python
# -*- coding: utf-8 -*-
# flake8: noqa
"""
Модуль для определения корневого каталога проекта.
=========================================================================================

Этот модуль предоставляет функцию :func:`set_project_root`, которая находит корневой каталог проекта,
исходя из расположения текущего файла. Найденный каталог добавляется в `sys.path`.

Пример использования
--------------------

.. code-block:: python

    from src.utils.header import __root__

    print(__root__)  # Выведет путь к корневой директории проекта.
"""
import sys
from pathlib import Path
from typing import Tuple
from src.logger.logger import logger


def set_project_root(marker_files: Tuple[str, ...] = ('__root__', '.git')) -> Path:
    """
    Определение корневого каталога проекта.

    Функция выполняет поиск корневого каталога проекта, начиная с директории, где расположен текущий файл,
    и поднимаясь вверх по дереву каталогов. Поиск останавливается при обнаружении каталога, содержащего
    один из файлов-маркеров.

    Args:
        marker_files (tuple): Кортеж имен файлов или каталогов, которые используются для идентификации корня проекта.
                             По умолчанию: ('__root__', '.git').

    Returns:
        Path: Объект Path, представляющий корневой каталог проекта. Если корневой каталог не найден,
              возвращается каталог, в котором находится скрипт.

    Example:
        >>> from pathlib import Path
        >>> root = set_project_root()
        >>> print(root)
        ...
    """
    __root__: Path
    current_path: Path = Path(__file__).resolve().parent
    __root__ = current_path
    for parent in [current_path] + list(current_path.parents):
        if any((parent / marker).exists() for marker in marker_files):
            __root__ = parent
            break
    if __root__ not in sys.path:
        sys.path.insert(0, str(__root__))
    logger.debug(f'Корневой каталог проекта: {__root__}')
    return __root__


# Код исполняет определение корневой директории проекта.
__root__: Path = set_project_root()
"""
Path: Путь к корневой директории проекта.

:meta hide-value:
"""
```