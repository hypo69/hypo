```markdown
# node-domexception

## Description

This package provides a wrapper for the `DOMException` class available in Node.js (version 10.5 and later).  It allows you to use the `DOMException` class and check for instances of it within your Node.js code, which isn't directly accessible as a global.  This is particularly useful when working with APIs that might throw `DOMException` instances, such as `postMessage` or parts of the Fetch API.

## Usage

```javascript
import DOMException from 'node-domexception';
import { MessageChannel } from 'worker_threads';

async function hello() {
  const port = new MessageChannel().port1;
  const ab = new ArrayBuffer();
  try {
    port.postMessage(ab, [ab, ab]); // Example of where DOMException might be thrown
  } catch (err) {
    if (err instanceof DOMException) {
      console.error("Caught DOMException:", err.message, err.name, err.code);
      // Handle the specific DOMException type here
      if (err.name === 'DataCloneError') {
        console.log("Specific error handling for DataCloneError");
      }
    } else {
      console.error("Caught a different error:", err);
    }
  }
}

hello().catch(err => {
  // More robust error handling
  if (err instanceof DOMException) {
      console.error("Caught DOMException:", err.message, err.name, err.code);
  } else {
      console.error("Caught another error:", err);
  }
});

const e1 = new DOMException('Something went wrong', 'BadThingsError');
console.assert(e1.name === 'BadThingsError');
console.assert(e1.code === 0);

const e2 = new DOMException('Another exciting error message', 'NoModificationAllowedError');
console.assert(e2.name === 'NoModificationAllowedError');
console.assert(e2.code === 7);

console.assert(DOMException.INUSE_ATTRIBUTE_ERR === 10);
```

## Important Considerations

* **Node.js Compatibility:** This package is intended for Node.js 10.5 and later.  Do not use it in other environments.
* **Error Handling:** The example code demonstrates proper error handling.  Critically check if the caught error is an instance of `DOMException` before attempting to access its properties. This prevents runtime errors if the exception isn't a `DOMException`.
* **Specific Error Types:** If you need to handle specific types of `DOMException` (e.g., `DataCloneError`), use the `err.name` property for conditional logic within the catch block.


## Background

Node.js's built-in `DOMException` isn't globally available, and you can't reliably import it from other modules. This package makes the `DOMException` class available for use in your Node.js projects, ensuring that you can handle these exceptions consistently and robustly. This approach avoids the potential issues or overhead of using alternative, potentially larger custom implementations.

## Contributing


This library is actively maintained. Feel free to submit issues or pull requests.


```
