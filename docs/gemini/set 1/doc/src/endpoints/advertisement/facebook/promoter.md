# Модуль hypotez/src/endpoints/advertisement/facebook/promoter.py

## Обзор

Модуль `promoter.py` отвечает за продвижение сообщений и событий в группах Facebook. Он обрабатывает рекламные кампании и события, публикуя их в группах Facebook, избегая при этом дублирования. Модуль использует WebDriver для автоматизации процесса и содержит логику проверки интервалов публикации и валидации данных группы.

## Функции

### `get_event_url`

**Описание**: Возвращает измененный URL для создания события в Facebook, заменяя `group_id` значением из входного URL.

**Параметры**:
- `group_url` (str): URL группы Facebook, содержащий `group_id`.

**Возвращает**:
- `str`: Измененный URL для создания события.


### `FacebookPromoter`

**Описание**: Класс для продвижения товаров AliExpress и событий в группах Facebook. Автоматизирует публикацию промоакций в группы Facebook с помощью WebDriver.

**Методы**:

- `__init__`: Инициализирует объект `FacebookPromoter`.
- `promote`: Продвигает категорию или событие в группе Facebook.
- `log_promotion_error`: Записывает ошибку продвижения категории или события в лог.
- `update_group_promotion_data`: Обновляет данные группы по продвижению с новой промоакцией.
- `process_groups`: Обрабатывает все группы для текущей кампании или продвижения событий.
- `get_category_item`: Получает элемент категории для продвижения, основанный на кампании и промоутере.
- `check_interval`: Проверяет, прошло ли достаточно времени для продвижения этой группы.
- `validate_group`: Проверяет, что данные группы корректны.


**Атрибуты**:
- `d` (Driver): Экземпляр WebDriver.
- `group_file_paths`: Пути к файлам с данными групп.
- `no_video`: Флаг, запрещающий публикацию видео.
- `promoter`: Название промоутера.

**Параметры конструктора (`__init__`)**:
- `d` (Driver): Экземпляр WebDriver.
- `promoter` (str): Название промоутера.
- `group_file_paths` (list[str | Path], optional): Список путей к файлам с данными групп. По умолчанию `None`, в этом случае используется путь по умолчанию.
- `no_video` (bool, optional): Флаг, запрещающий публикацию видео. По умолчанию `False`.

**Возвращает**:
- `bool`: Успешно ли выполнено продвижение.


## Подробнее о методах

### `promote`

**Описание**: Продвигает категорию или событие в группе Facebook.

**Параметры**:
- `group` (SimpleNamespace): Данные группы.
- `item` (SimpleNamespace): Данные категории или события.
- `is_event` (bool, optional): Признак, является ли item событием. По умолчанию `False`.
- `language` (str, optional): Язык. По умолчанию `None`.
- `currency` (str, optional): Валюта. По умолчанию `None`.


**Возвращает**:
- `bool`: `True`, если продвижение выполнено успешно, `False` иначе.


### `process_groups`

**Описание**: Обрабатывает все группы для текущей кампании или продвижения событий.

**Параметры**:
- `campaign_name` (str, optional): Название кампании.
- `events` (list[SimpleNamespace], optional): Список событий для продвижения.
- `is_event` (bool, optional): Признак, обрабатываем ли события.
- `group_file_paths` (list[str], optional): Список путей к файлам с данными групп.
- `group_categories_to_adv` (list[str], optional): Список категорий, подлежащих продвижению. По умолчанию `['sales']`.
- `language` (str, optional): Язык. По умолчанию `None`.
- `currency` (str, optional): Валюта. По умолчанию `None`.

**Возвращает**:
- Нет возвращаемого значения.


### `get_category_item`

**Описание**: Получает элемент категории для продвижения, основанный на кампании и промоутере.

**Параметры**:
- `campaign_name` (str): Название кампании.
- `group` (SimpleNamespace): Данные группы.
- `language` (str): Язык.
- `currency` (str): Валюта.


**Возвращает**:
- `SimpleNamespace`: Элемент категории.


### `check_interval`


**Описание**: Проверяет, прошло ли достаточно времени для продвижения этой группы.


**Параметры**:
- `group` (SimpleNamespace): Данные группы.

**Возвращает**:
- `bool`: `True`, если достаточно времени прошло, `False` иначе.


### `validate_group`


**Описание**: Проверяет, что данные группы корректны.


**Параметры**:
- `group` (SimpleNamespace): Данные группы.

**Возвращает**:
- `bool`: `True`, если данные корректны, `False` иначе.