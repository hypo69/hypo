# Документация для модуля автоматизированной отправки сообщений WhatsApp

## Обзор

Данный модуль представляет собой документацию для разработчика по созданию скрипта Python для автоматической отправки сообщений WhatsApp. Предоставляет подробные инструкции по настройке, использованию необходимых библиотек и решению возможных проблем.

## Подробней

В этой документации подробно описывается процесс разработки автоматизированного скрипта на языке Python, предназначенного для отправки сообщений WhatsApp в течение определенного периода времени. Описываются необходимые компоненты, процесс разработки, возможные проблемы и решения.

## Содержание

1.  [Введение](#введение)
2.  [Необходимые компоненты](#необходимые-компоненты)
3.  [Процесс разработки](#процесс-разработки)
4.  [Возможные проблемы и решения](#возможные-проблемы-и-решения)
5.  [Код (пример)](#код-пример)
6.  [Выполнение скрипта](#выполнение-скрипта)

## Введение

### 1.1. Назначение:

Документ описывает процесс разработки автоматизированного скрипта на Python для отправки сообщений WhatsApp в течение заданного времени.

### 1.2. Целевая аудитория:

Руководство предназначено для разработчиков с базовыми знаниями Python и пониманием работы с командной строкой.

### 1.3. Предпосылки:

Необходимо установить Python 3.6+ и менеджер пакетов pip.

## Необходимые компоненты

### 2.1. Библиотеки Python:

*   `pywhatkit`: Для взаимодействия с веб-версией WhatsApp и отправки сообщений.
*   `pyautogui`: Для автоматизации действий мыши и клавиатуры.
*   `pynput`: Для контроля клавиатурного ввода.
*   `emoji`: Для добавления эмодзи в сообщения.
*   `random`: Для генерации случайных сообщений и времени.
*   `time`: Для управления задержками и временем выполнения.

### 2.2. Зависимости:

Установка библиотек выполняется через pip:

```bash
pip install pywhatkit pyautogui pynput emoji
```

### 2.3. Требования к системе:

Операционная система с установленным веб-браузером (например, Chrome или Firefox) и возможностью подключения к WhatsApp Web.

## Процесс разработки

### 3.1. Функция отправки сообщений (`send_whatsapp_message`):

**Назначение**: Функция `send_whatsapp_message` отправляет сообщение WhatsApp заданному номеру телефона в указанное время.

**Параметры**:

*   `phone_number` (str): Номер телефона получателя (с кодом страны).
*   `message` (str): Текст сообщения.
*   `hour` (int): Час отправки сообщения (0-23).
*   `minutes` (int): Минуты отправки сообщения (0-59).

**Как работает функция**:

1.  Использует `pywhatkit.sendwhatmsg` для инициализации отправки сообщения.
2.  Применяет `time.sleep` для задержки загрузки веб-версии WhatsApp.
3.  Использует `pyautogui` и `pynput` для имитации нажатия клавиши "Enter" для отправки сообщения.
4.  Обрабатывает исключения с помощью блока `try...except` для вывода ошибок.

**ASCII flowchart**:

```
Начало
  ↓
Инициализация отправки сообщения (pywhatkit.sendwhatmsg)
  ↓
Задержка для загрузки веб-версии WhatsApp (time.sleep)
  ↓
Имитация нажатия "Enter" (pyautogui, pynput)
  ↓
Конец (или обработка исключений)
```

**Примеры**:

(Примеры вызова не приводятся, так как в предоставленном коде они отсутствуют)

### 3.2. Банк сообщений:

**Назначение**: Создание и использование списка сообщений для отправки.

**Как работает**:

1.  Создается список строк (`messages`) для хранения сообщений.
2.  Используется `emoji.emojize` для добавления эмодзи в сообщения.
3.  Применяется `random.choice` для случайного выбора сообщения из списка.

### 3.3. Пользовательский ввод:

**Назначение**: Получение пользовательского ввода для настройки отправки сообщений.

**Как работает**:

1.  Получение количества сообщений (`num_messages`) с помощью функции `input`.
2.  Получение начального часа (`start_hour`) и конечного часа (`end_hour`) диапазона отправки с помощью `input`.

### 3.4. Основной цикл отправки:

**Назначение**: Организация цикла для отправки заданного количества сообщений в указанном временном диапазоне.

**Как работает**:

1.  Цикл `while` выполняется, пока счетчик сообщений (`message_count`) не достигнет заданного количества (`num_messages`).
2.  Генерация случайного часа и минут с помощью `random.randint`.
3.  Вызов функции `send_whatsapp_message` с полученными данными.
4.  Увеличение счетчика сообщений.

**ASCII flowchart**:

```
Начало цикла (message_count < num_messages)
  ↓
Генерация случайного часа и минут (random.randint)
  ↓
Вызов функции send_whatsapp_message
  ↓
Увеличение счетчика сообщений (message_count)
  ↓
Конец цикла
```

## Возможные проблемы и решения:

### 4.1. Проблемы с `pywhatkit`:

В случае неудачной автоматической отправки сообщения, использовать `pyautogui` и `pynput` для эмуляции нажатия клавиш и отправки сообщения.

### 4.2. Подключение к WhatsApp Web:

При первом использовании необходимо подключение к веб-версии WhatsApp через веб-браузер.

### 4.3. Динамическая задержка:

Скорость загрузки веб-версии WhatsApp может меняться, поэтому для стабильности увеличьте время задержки.

### 4.4. Зависимость от браузера и версии WhatsApp:

Изменения в браузере или веб-версии WhatsApp могут потребовать корректировки скрипта.

## Код (пример)

```python
# ... (Код ) ...
```

## Выполнение скрипта:

*   Сохраните скрипт в файл с расширением `.py`.
*   Выполните скрипт в терминале с помощью команды: `python имя_файла.py`
*   Следуйте инструкциям на экране для ввода необходимых данных.