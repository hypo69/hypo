# Модуль `openai.py`

## Обзор

Модуль `openai.py` предоставляет FastAPI приложение для взаимодействия с моделью OpenAI. Он включает API endpoints для запроса к модели и её обучения на основе предоставленных данных.

## Содержание

- [Обзор](#обзор)
- [Классы](#классы)
    - [`AskRequest`](#askrequest)
- [Функции](#функции)
    - [`root`](#root)
    - [`ask_model`](#ask_model)

## Классы

### `AskRequest`

**Описание**: Модель данных для запроса к эндпоинту `/ask`.

**Параметры**:

- `message` (str): Сообщение пользователя.
- `system_instruction` (Optional[str], optional): Системная инструкция для модели. По умолчанию `None`.

## Функции

### `root`

**Описание**: Обслуживает файл `index.html` по корневому URL.

**Возвращает**:

- `HTMLResponse`: HTML-ответ с содержимым файла `index.html`.

**Вызывает исключения**:

- `HTTPException`: Возникает при ошибке чтения файла `index.html`.

### `ask_model`

**Описание**: Обрабатывает запрос пользователя и возвращает ответ от модели.

**Параметры**:

- `request` (AskRequest): Объект запроса, содержащий сообщение пользователя и системные инструкции.

**Возвращает**:

- `dict`: Ответ от модели в формате `{"response": response}`.

**Вызывает исключения**:

- `HTTPException`: Возникает при ошибке обработки запроса.