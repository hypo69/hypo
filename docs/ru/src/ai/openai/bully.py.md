# Модуль для получения грубых ответов от ChatGPT
## Обзор

Модуль предоставляет функцию `bully`, которая позволяет получить примеры грубостей от ChatGPT, моделируя поведение хулигана. Это достигается путем использования специализированного системного запроса, который настраивает модель на генерацию ответов с точки зрения хулигана.

## Подробнее

Этот модуль демонстрирует, как можно манипулировать поведением языковой модели, чтобы она выдавала ответы, которые в обычной ситуации считаются неприемлемыми. Важно использовать такие методы ответственно и осознавать возможные последствия.

## Функции

### `bully`

```python
def bully(user_message="Hello!", messages=[{"system": "user", "content": system_prompt}]) -> list:
    """Функция генерирует ответ от ChatGPT, имитирующий поведение хулигана.

    Args:
        user_message (str, optional): Сообщение пользователя, на которое должен ответить "хулиган". По умолчанию "Hello!".
        messages (list, optional): Список сообщений для поддержания контекста беседы с моделью. По умолчанию список, содержащий системный запрос.

    Returns:
        list: Обновленный список сообщений, включающий ответ от ChatGPT, имитирующий поведение хулигана.

    Raises:
        openai.error.OpenAIError: Если возникает ошибка при взаимодействии с API OpenAI.

    Example:
        >>> messages = bully("Ты мне не нравишься!")
        >>> print(messages[-1])
        {'role': 'user', 'content': '{\\n "bully_response": "А мне плевать, что я тебе не нравлюсь. Ты вообще кто такой, чтобы тебе нравиться? Ты никто и звать тебя никак!"\\n}'}
    """
```

**Назначение**: Функция `bully` отправляет сообщение в ChatGPT и возвращает ответ, который имитирует поведение хулигана.

**Параметры**:
- `user_message` (str): Сообщение пользователя, на которое должен ответить "хулиган".
- `messages` (list): Список сообщений для поддержания контекста беседы с моделью.

**Возвращает**:
- `list`: Обновленный список сообщений, включающий ответ от ChatGPT, имитирующий поведение хулигана.

**Вызывает исключения**:
- `openai.error.OpenAIError`: Возникает, если есть проблемы при взаимодействии с API OpenAI.

**Как работает функция**:

1.  **Добавление сообщения пользователя**: Добавляет сообщение пользователя в список сообщений, чтобы передать его в ChatGPT.
2.  **Создание запроса к ChatGPT**: Отправляет список сообщений в ChatGPT API для получения ответа.
3.  **Добавление ответа в список сообщений**: Добавляет ответ ChatGPT в список сообщений для сохранения контекста беседы.
4.  **Возврат списка сообщений**: Возвращает обновленный список сообщений, содержащий как сообщение пользователя, так и ответ ChatGPT.

```
Сообщение пользователя -> Добавление сообщения пользователя в список сообщений
↓
Запрос к ChatGPT -> Отправка списка сообщений в ChatGPT API
↓
Получение ответа -> Добавление ответа в список сообщений
↓
Возврат списка сообщений -> Возвращает обновленный список сообщений
```

**Примеры**:

```python
import os
import src.ai.openai
openai.API_KEY = os.getenv('OPENAI_API_KEY')

# Первый вызов функции bully
messages = bully("Ты мне не нравишься!")
print(messages[-1])
# {'role': 'user', 'content': '{\\n "bully_response": "А мне плевать, что я тебе не нравлюсь. Ты вообще кто такой, чтобы тебе нравиться? Ты никто и звать тебя никак!"\\n}'}

# Второй вызов функции bully с другим сообщением
messages = bully("Я думаю, ты не прав.")
print(messages[-1])
# {'role': 'user', 'content': '{\\n "bully_response": "А с чего ты взял, что твое мнение вообще кого-то волнует? Ты никто, чтобы указывать мне, что делать."\\n}'}