# Модуль `make_summary.py`

## Обзор

Модуль предназначен для автоматического создания файла `SUMMARY.md`, который используется для компиляции документации с помощью инструментов, таких как `mdbook`. Модуль рекурсивно обходит указанную директорию с исходными файлами `.md` и генерирует оглавление, включая или исключая файлы в зависимости от указанного языка.

## Подробней

Этот модуль является важной частью процесса документирования проекта `hypotez`. Он позволяет автоматически генерировать файл `SUMMARY.md`, который используется `mdbook` для создания оглавления документации. Это особенно полезно при работе с многоязычной документацией, так как модуль умеет фильтровать файлы по языку (например, включать только русскоязычные файлы `.ru.md`).

## Функции

### `main`

```python
def main():
    """Генерирует файл `SUMMARY.md` для документации mdbook.

    Функция анализирует аргументы командной строки для определения языка и директории исходных файлов.
    На основе этих параметров генерируется оглавление в файле `SUMMARY.md`, расположенном в директории `docs`.

    Args:
        lang (str, optional): Язык документации ('ru' или 'en'). Определяет, какие файлы включать в оглавление.
                              Если указан 'ru', включаются только файлы с суффиксом `.ru.md`.
                              Если указан 'en', файлы с суффиксом `.ru.md` исключаются.
                              По умолчанию используется английская версия.
        src_dir (str, optional): Директория, в которой находятся исходные файлы `.md`.
                                 По умолчанию используется значение из переменной `SRC_DIR`.

    Raises:
        SystemExit: Если не указана директория исходных файлов.

    Example:
        Примеры использования:
        python make_summary.py -lang ru src
        python make_summary.py -lang en src/endpoints
    """
```

**Как работает функция**:

Функция `main` анализирует аргументы командной строки, переданные при запуске скрипта. Она определяет язык документации (`ru` или `en`) и директорию, в которой расположены исходные файлы `.md`. В зависимости от указанного языка, функция включает или исключает файлы с суффиксом `.ru.md` при генерации оглавления. Сгенерированный файл `SUMMARY.md` сохраняется в директории `docs`.

**Параметры**:
- `lang` (str, optional): Язык документации (`ru` или `en`). По умолчанию используется английская версия.
- `src_dir` (str, optional): Директория с исходными `.md` файлами. По умолчанию используется значение из переменной `SRC_DIR`.

**Вызывает исключения**:
- `SystemExit`: Если не указана директория исходных файлов.

**Примеры**:

Пример вызова скрипта для генерации русскоязычной документации:
```bash
python make_summary.py -lang ru src
```

Пример вызова скрипта для генерации англоязычной документации:
```bash
python make_summary.py -lang en src/endpoints
```
```
```