# Модуль hypotez/src/webdriver/driver.py

## Обзор

Модуль `hypotez/src/webdriver/driver.py` предоставляет класс `Driver` для работы с веб-драйверами Selenium.  Он обеспечивает унифицированный интерфейс для инициализации, навигации, работы с куки и обработки исключений при взаимодействии с веб-страницами.

## Классы

### `Driver`

**Описание**: Класс `Driver` предназначен для работы с веб-драйверами Selenium. Он позволяет инициализировать драйвер, управлять им, переходить по URL, прокручивать страницу и извлекать HTML-контент.

**Атрибуты**:

- `driver` (selenium.webdriver): Экземпляр Selenium WebDriver.


**Методы**:

#### `__init__(self, webdriver_cls, *args, **kwargs)`

**Описание**: Инициализирует экземпляр класса `Driver`.

**Параметры**:

- `webdriver_cls` (type): Класс WebDriver, например, `Chrome` или `Firefox`.
- `args`: Позиционные аргументы для драйвера.
- `kwargs`: Ключевые аргументы для драйвера.

**Возвращает**:
- None

**Исключения**:

- `TypeError`: Если `webdriver_cls` не является допустимым классом WebDriver.


#### `__init_subclass__(cls, *, browser_name=None, **kwargs)`

**Описание**: Автоматически вызывается при создании подкласса `Driver`.

**Параметры**:

- `browser_name` (str): Имя браузера.
- `kwargs`: Дополнительные аргументы.

**Возвращает**:
- None

**Исключения**:

- `ValueError`: Если `browser_name` не указан.


#### `__getattr__(self, item)`

**Описание**: Прокси для доступа к атрибутам драйвера.

**Параметры**:

- `item` (str): Имя атрибута.

**Возвращает**:
- Значение атрибута.


#### `scroll(self, scrolls=1, frame_size=600, direction='both', delay=.3)`

**Описание**: Прокручивает страницу в указанном направлении.

**Параметры**:

- `scrolls` (int, optional): Количество прокруток, по умолчанию 1.
- `frame_size` (int, optional): Размер прокрутки в пикселях, по умолчанию 600.
- `direction` (str, optional): Направление ('both', 'down', 'up'), по умолчанию 'both'.
- `delay` (float, optional): Задержка между прокрутками, по умолчанию 0.3.

**Возвращает**:
- bool: `True`, если успешно, иначе `False`.


#### `get_url(self, url: str) -> bool`

**Описание**: Переходит по указанному URL и сохраняет текущий URL, предыдущий URL и куки.

**Параметры**:

- `url` (str): URL для перехода.

**Возвращает**:
- bool: `True`, если переход успешен и текущий URL совпадает с ожидаемым, `False` в противном случае.

**Исключения**:

- `WebDriverException`: Если возникает ошибка с WebDriver.
- `InvalidArgumentException`: Если URL некорректен.
- `Exception`: Для любых других ошибок при переходе.


#### `window_open(self, url: Optional[str] = None) -> None`

**Описание**: Открывает новую вкладку в текущем окне браузера и переключается на нее.


#### `wait(self, delay: float = .3) -> None`

**Описание**: Ожидает указанное количество времени.


#### `_save_cookies_localy(self) -> None`

**Описание**: Сохраняет текущие куки веб-драйвера в локальный файл.

**Возвращает**:
- None

**Исключения**:

- `Exception`: Если возникает ошибка при сохранении куки.


#### `fetch_html(self, url: str) -> Optional[bool]`

**Описание**: Извлекает HTML-контент из файла или веб-страницы.

**Параметры**:

- `url` (str): Путь к файлу или URL для извлечения HTML-контента.

**Возвращает**:
- Optional[bool]: Возвращает `True`, если контент успешно получен, иначе `None`.

**Исключения**:

- `Exception`: Если возникает ошибка при извлечении контента.


#### `locale(self) -> Optional[str]`

**Описание**: Определяет язык страницы на основе мета-тегов или JavaScript.

**Возвращает**:
- Optional[str]: Код языка, если найден, иначе `None`.

## Функции

(Нет функций в этом модуле)