# Документация для модуля `app.py`

## Обзор

Модуль содержит функцию `create_app`, которая создает и конфигурирует Flask-приложение для веб-интерфейса.

## Подробней

Этот модуль определяет, где расположены шаблоны Flask-приложения, в зависимости от того, запущен ли код как замороженное приложение (например, с помощью PyInstaller) или как обычный скрипт. Затем он создает экземпляр Flask-приложения с правильными путями к шаблонам и статическим файлам. Автоматическая перезагрузка шаблонов включена для облегчения отладки.

## Функции

### `create_app`

```python
def create_app() -> Flask:
    """
    Создает и настраивает Flask-приложение.

    Args:
        None

    Returns:
        Flask: Сконфигурированное Flask-приложение.

    Raises:
        None

    Example:
        >>> app = create_app()
        >>> type(app)
        <class 'flask.app.Flask'>
    """
```

**Как работает функция**:

1. **Определение пути к шаблонам**:
   - Проверяет, запущено ли приложение как "замороженное" (например, через PyInstaller).
   - Если да, определяет путь к шаблонам относительно временной директории, созданной PyInstaller (`sys._MEIPASS`).
   - Если нет, предполагает, что приложение запущено как обычный скрипт, и устанавливает путь к шаблонам как `"../client"`.
2. **Создание Flask-приложения**:
   - Создает экземпляр `Flask` с указанием имени приложения (`__name__`), пути к шаблонам (`template_folder`) и пути к статическим файлам (`static_folder`).
3. **Включение автоматической перезагрузки шаблонов**:
   - Устанавливает конфигурационную переменную `TEMPLATES_AUTO_RELOAD` в `True`, что позволяет Flask автоматически перезагружать шаблоны при изменении (удобно при разработке).
4. **Возврат приложения**:
   - Возвращает сконфигурированное Flask-приложение.

**ASCII Flowchart**:

```
A[Проверка, запущено ли приложение как "замороженное"]
|
B[Определение пути к шаблонам (из sys._MEIPASS или "../client")]
|
C[Создание экземпляра Flask с указанием шаблонов и статических файлов]
|
D[Включение автоматической перезагрузки шаблонов]
|
E[Возврат Flask-приложения]
```

**Примеры**:

```python
from flask import Flask
app = create_app()
print(type(app))
# Вывод: <class 'flask.app.Flask'>
```
```python
from flask import Flask
app = create_app()
print(app.template_folder)
# Возможный вывод (в зависимости от окружения): ../client или /tmp/_MEIxxxxxx/client